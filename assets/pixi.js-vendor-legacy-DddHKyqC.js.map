{"version":3,"file":"pixi.js-vendor-legacy-DddHKyqC.js","sources":["../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/extensions/Extensions.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/environment-browser/browserExt.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/environment-webworker/webworkerExt.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/point/ObservablePoint.mjs","../../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/misc/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/point/Point.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/matrix/Matrix.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/matrix/groupD8.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/shapes/Rectangle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/data/uid.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/logging/deprecation.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/misc/NOOP.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/misc/pow2.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/definedProps.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/TextureStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/sources/TextureSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/sources/BufferImageSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/TextureMatrix.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/Texture.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/data/updateQuadBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/bounds/Bounds.mjs","../../node_modules/.pnpm/@pixi+colord@2.9.6/node_modules/@pixi/colord/index.mjs","../../node_modules/.pnpm/@pixi+colord@2.9.6/node_modules/@pixi/colord/plugins/names.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/color/Color.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/culling/cullingMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/logging/warn.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/pool/GlobalResourceRegistry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/pool/Pool.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/pool/PoolGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/cacheAsTextureMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/data/removeItems.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/childrenHelperMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/collectRenderablesMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/FilterEffect.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/MaskEffectManager.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/effectsMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/findMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/bounds/utils/matrixAndBoundsPool.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/getFastGlobalBoundsMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/bounds/getGlobalBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/multiplyHexColors.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/multiplyColors.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/getGlobalMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/bounds/getLocalBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/checkChildrenDidChange.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/measureMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/onRenderMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/sortMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/container-mixins/toLocalGlobalMixin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/instructions/InstructionSet.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/TexturePool.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/RenderGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/assignWithIgnore.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/Container.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/view/ViewContainer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite/Sprite.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/utils/addMaskBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/utils/addMaskLocalBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/alpha/AlphaMask.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/color/ColorMask.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/stencil/StencilMask.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/environment-browser/BrowserAdapter.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/environment/adapter.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/sources/CanvasSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/sources/ImageSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/ticker/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/ticker/TickerListener.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/ticker/Ticker.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/detectVideoAlphaMode.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/sources/VideoSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/convertToList.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/cache/Cache.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/utils/textureFrom.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/LoaderParser.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/path.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/createStringVariations.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/isSingleItem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/resolver/Resolver.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/copySearchParams.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/spritesheet/Spritesheet.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/spritesheet/spritesheetAsset.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/spritesheet/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/dom/CanvasObserver.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/FederatedEvent.mjs","../../node_modules/.pnpm/ismobilejs@1.1.1/node_modules/ismobilejs/esm/isMobile.js","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/isMobile.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/accessibility/AccessibilitySystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/accessibility/accessibilityTarget.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/utils/createIdFromString.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getTestContext.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getMaxFragmentPrecision.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/addProgramDefines.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/ensurePrecision.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/insertVersion.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/setProgramName.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/stripVersion.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/extractAttributesFromGpuProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/extractStructAndGroups.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/generateGpuLayoutGroups.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/generateLayoutHash.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/removeStructAndGroupDuplicates.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/GpuProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/types.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/utils/getDefaultUniformValue.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/UniformGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/BindGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/types.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/Shader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/state/State.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/Filter.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/environment/autoDetectEnvironment.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/unsafeEvalSupported.mjs","../../node_modules/.pnpm/earcut@3.0.2/node_modules/earcut/src/earcut.js","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/utils.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/system/SystemRunner.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/system/AbstractRenderer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/isWebGLSupported.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/isWebGPUSupported.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/autoDetectRenderer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/global/globalHooks.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/app/Application.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/app/ResizePlugin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/app/TickerPlugin.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/AbstractBitmapFont.mjs","../../node_modules/.pnpm/tiny-lru@11.4.5/node_modules/tiny-lru/dist/tiny-lru.js","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/utils/fontStringFromTextStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/CanvasTextMetrics.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/fill/FillGradient.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/fill/FillPattern.mjs","../../node_modules/.pnpm/parse-svg-path@0.1.2/node_modules/parse-svg-path/index.js","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/parseSVGPath.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/shapes/Circle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/shapes/Ellipse.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/misc/squaredDistanceToLineSegment.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/shapes/Polygon.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/maths/shapes/RoundedRectangle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/gpu/getTextureBatchBindGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/data/ViewableBuffer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/buffer/utils/fastCopy.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/state/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/gl/utils/checkMaxIfStatementsInShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/gl/utils/maxRecommendedTextures.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/BatchTextureArray.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/Batcher.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/buffer/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/buffer/Buffer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/ensureIsBuffer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/getGeometryBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/Geometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/BatchGeometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/addBits.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileHooks.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileInputs.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileOutputs.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/injectBits.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compiler/compileHighShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/defaultProgramTemplate.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/globalUniformsBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/compileHighShaderToProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/colorBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/generateTextureBatchBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/roundPixelsBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/DefaultShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/DefaultBatcher.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/buildUvs.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/transformVertices.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/BatchableGraphics.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildCircle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/utils/getOrientationOfPoints.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildLine.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildPixelLine.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/utils/triangulateWithHoles.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildPolygon.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildRectangle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildTriangle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/utils/generateTextureFillMatrix.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/utils/buildContextBatches.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/GraphicsContextSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildAdaptiveBezier.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildAdaptiveQuadratic.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildArc.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildArcTo.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/buildCommands/buildArcToSvg.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/path/roundShape.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/path/ShapePath.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/path/GraphicsPath.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/parseSVGFloatAttribute.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/parseSVGDefinitions.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/utils/extractSvgUrlId.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/parseSVGStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/utils/fillOperations.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/utils/pathOperations.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/svg/SVGParser.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/utils/convertFillInputToFillStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/GraphicsContext.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/TextStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/CanvasPool.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/utils/getCanvasFillStyle.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/DynamicBitmapFont.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/utils/getBitmapTextLayout.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/utils/resolveCharacters.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/BitmapFontManager.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/BitmapFont.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontTextParser.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLParser.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLStringParser.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/asset/loadBitmapFont.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/BackgroundLoader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/cache/parsers/cacheTextureArray.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/utils/testImageFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectAvif.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectDefaults.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/utils/testVideoFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectMp4.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectOgv.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectWebm.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/detections/parsers/detectWebp.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/Loader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/checkDataUrl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/utils/checkExtension.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/loadJson.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/loadTxt.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/loadWebFont.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/network/getResolutionOfUrl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/textures/utils/createTexture.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/textures/loadSVG.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/_virtual/checkImageBitmap.worker.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/_virtual/loadImageBitmap.worker.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/workers/WorkerManager.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/textures/loadTextures.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/loader/parsers/textures/loadVideoTextures.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/resolver/parsers/resolveTextureUrl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/resolver/parsers/resolveJsonUrl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/assets/Assets.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/dom/DOMPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/EventTicker.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/FederatedMouseEvent.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/FederatedPointerEvent.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/FederatedWheelEvent.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/EventBoundary.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/EventSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/FederatedEventTarget.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/FilterPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/bounds/getRenderableBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/FilterSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/mask/mask.frag.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/mask/mask.vert.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/mask/mask.wgsl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/mask/MaskFilter.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/Graphics.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/shared/MeshGeometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-animated/AnimatedSprite.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/AbstractText.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/canvas/getCanvasBoundingBox.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/CanvasTextGenerator.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/Text.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/HTMLTextRenderData.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/measureHtmlText.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/gl/GlBatchAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/gpu/GpuBatchAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/batcher/shared/BatcherPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/localUniformBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/high-shader/shader-bits/textureBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/alpha/AlphaMaskPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/color/ColorMaskPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/mask/stencil/StencilMaskPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/buffer/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/buffer/GlBuffer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/buffer/GlBufferSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/context/GlContextSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/ensureAttributes.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/const.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/geometry/utils/getGlTypeFromFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/geometry/GlGeometrySystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlBackBufferSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlColorMaskSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlEncoderSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlLimitsSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlRenderTarget.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/state/GpuStencilModesToPixi.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlStencilSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/UboSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/createUboElementsSTD40.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/utils/uniformParsers.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/utils/createUboSyncFunction.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/shader/utils/uboSyncFunctions.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateArraySyncSTD40.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/createUboSyncSTD40.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/GlUboSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/renderTarget/GlRenderTargetAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/renderTarget/calculateProjection.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/utils/getCanvasTexture.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/renderTarget/isRenderingToScreen.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/renderTarget/RenderTarget.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/renderTarget/RenderTargetSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/renderTarget/GlRenderTargetSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/buffer/BufferResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/GenerateShaderSyncCode.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlProgramData.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/compileShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/defaultValue.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/mapType.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/extractAttributesFromGlProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getUboData.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getUniformData.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/logProgramError.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/generateProgram.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlShaderSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateUniformsSyncTypes.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateUniformsSync.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlUniformGroupSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/state/mapWebGLBlendModesToPixi.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/state/GlStateSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/GlTexture.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadCompressedTextureResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadImageResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadVideoResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/pixiToGlMaps.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/applyStyleParams.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlInternalFormat.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlType.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/texture/GlTextureSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/gl/GlGraphicsAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/gl/GlMeshAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/CustomRenderPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite/BatchableSprite.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/executeInstructions.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/RenderGroupPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/clearList.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/updateRenderGroupTransforms.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/utils/validateRenderables.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/container/RenderGroupSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite/SpritePipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/background/BackgroundSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/blendModes/BlendModePipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/extract/ExtractSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/RenderTexture.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/extract/GenerateTextureSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/gpu/colorToUniform.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/renderTarget/GlobalUniformSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/SchedulerSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/sayHello.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/startup/HelloSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/data/clean.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/RenderableGCSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/texture/TextureGCSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/view/ViewSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/shared/system/SharedSystems.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gl/WebGLRenderer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/BindGroupSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/buffer/GpuBufferSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/buffer/UboBatch.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuColorMaskSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuDeviceSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuEncoderSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuLimitsSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuStencilSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/createUboElementsWGSL.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/generateArraySyncWGSL.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/createUboSyncFunctionWGSL.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuUboSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/GpuUniformBatchPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/pipeline/PipelineSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/renderTarget/GpuRenderTarget.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/renderTarget/GpuRenderTargetAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/shader/GpuShaderSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/state/GpuBlendModesToPixi.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/state/GpuStateSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/uploaders/gpuUploadBufferImageResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/uploaders/gpuUploadCompressedTextureResource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/uploaders/gpuUploadVideoSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/utils/GpuMipmapGenerator.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/texture/GpuTextureSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/gpu/GpuGraphicsAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/gpu/GpuMeshAdapter.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/rendering/renderers/gpu/WebGPURenderer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/shared/GraphicsPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh-plane/PlaneGeometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/shared/BatchableMesh.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/shared/MeshPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/gl/GlParticleContainerAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/gpu/GpuParticleContainerAdaptor.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/utils/createIndicesForQuads.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/utils/generateParticleUpdateFunction.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/ParticleBuffer.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/shader/particles.frag.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/shader/particles.vert.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/shader/particles.wgsl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/shader/ParticleShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/ParticleContainerPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/GlParticleContainerPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/shared/GpuParticleContainerPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-nine-slice/NineSliceGeometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-nine-slice/NineSliceSpritePipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/shader/tilingBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/shader/TilingSpriteShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/utils/QuadGeometry.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/utils/setPositions.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/utils/applyMatrix.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/utils/setUvs.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/TilingSpritePipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/sdfShader/shader-bits/localUniformMSDFBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/sdfShader/shader-bits/mSDFBit.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/sdfShader/SdfShader.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/BitmapTextPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/BatchableHTMLText.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/utils/updateTextBounds.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/HTMLTextPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/utils/browser/isSafari.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/utils/getPo2TextureFromSource.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/extractFontFamilies.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/loadFontAsBase64.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/loadFontCSS.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/getFontCss.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/getSVGUrl.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/getTemporaryCanvasFromImage.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/utils/loadSVGImage.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/HTMLTextSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/BatchableText.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/CanvasTextPipe.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/canvas/CanvasTextSystem.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/index.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/accessibility/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/app/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/events/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/dom/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/graphics/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/mesh/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/particle-container/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-bitmap/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/text-html/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-tiling/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/scene/sprite-nine-slice/init.mjs","../../node_modules/.pnpm/pixi.js@8.13.2/node_modules/pixi.js/lib/filters/init.mjs"],"sourcesContent":["\"use strict\";\nvar ExtensionType = /* @__PURE__ */ ((ExtensionType2) => {\n  ExtensionType2[\"Application\"] = \"application\";\n  ExtensionType2[\"WebGLPipes\"] = \"webgl-pipes\";\n  ExtensionType2[\"WebGLPipesAdaptor\"] = \"webgl-pipes-adaptor\";\n  ExtensionType2[\"WebGLSystem\"] = \"webgl-system\";\n  ExtensionType2[\"WebGPUPipes\"] = \"webgpu-pipes\";\n  ExtensionType2[\"WebGPUPipesAdaptor\"] = \"webgpu-pipes-adaptor\";\n  ExtensionType2[\"WebGPUSystem\"] = \"webgpu-system\";\n  ExtensionType2[\"CanvasSystem\"] = \"canvas-system\";\n  ExtensionType2[\"CanvasPipesAdaptor\"] = \"canvas-pipes-adaptor\";\n  ExtensionType2[\"CanvasPipes\"] = \"canvas-pipes\";\n  ExtensionType2[\"Asset\"] = \"asset\";\n  ExtensionType2[\"LoadParser\"] = \"load-parser\";\n  ExtensionType2[\"ResolveParser\"] = \"resolve-parser\";\n  ExtensionType2[\"CacheParser\"] = \"cache-parser\";\n  ExtensionType2[\"DetectionParser\"] = \"detection-parser\";\n  ExtensionType2[\"MaskEffect\"] = \"mask-effect\";\n  ExtensionType2[\"BlendMode\"] = \"blend-mode\";\n  ExtensionType2[\"TextureSource\"] = \"texture-source\";\n  ExtensionType2[\"Environment\"] = \"environment\";\n  ExtensionType2[\"ShapeBuilder\"] = \"shape-builder\";\n  ExtensionType2[\"Batcher\"] = \"batcher\";\n  return ExtensionType2;\n})(ExtensionType || {});\nconst normalizeExtension = (ext) => {\n  if (typeof ext === \"function\" || typeof ext === \"object\" && ext.extension) {\n    if (!ext.extension) {\n      throw new Error(\"Extension class must have an extension object\");\n    }\n    const metadata = typeof ext.extension !== \"object\" ? { type: ext.extension } : ext.extension;\n    ext = { ...metadata, ref: ext };\n  }\n  if (typeof ext === \"object\") {\n    ext = { ...ext };\n  } else {\n    throw new Error(\"Invalid extension type\");\n  }\n  if (typeof ext.type === \"string\") {\n    ext.type = [ext.type];\n  }\n  return ext;\n};\nconst normalizeExtensionPriority = (ext, defaultPriority) => normalizeExtension(ext).priority ?? defaultPriority;\nconst extensions = {\n  /** @ignore */\n  _addHandlers: {},\n  /** @ignore */\n  _removeHandlers: {},\n  /** @ignore */\n  _queue: {},\n  /**\n   * Remove extensions from PixiJS.\n   * @param extensions - Extensions to be removed. Can be:\n   * - Extension class with static `extension` property\n   * - Extension format object with `type` and `ref`\n   * - Multiple extensions as separate arguments\n   * @returns {extensions} this for chaining\n   * @example\n   * ```ts\n   * // Remove a single extension\n   * extensions.remove(MyRendererPlugin);\n   *\n   * // Remove multiple extensions\n   * extensions.remove(\n   *     MyRendererPlugin,\n   *     MySystemPlugin\n   * );\n   * ```\n   * @see {@link ExtensionType} For available extension types\n   * @see {@link ExtensionFormat} For extension format details\n   */\n  remove(...extensions2) {\n    extensions2.map(normalizeExtension).forEach((ext) => {\n      ext.type.forEach((type) => this._removeHandlers[type]?.(ext));\n    });\n    return this;\n  },\n  /**\n   * Register new extensions with PixiJS. Extensions can be registered in multiple formats:\n   * - As a class with a static `extension` property\n   * - As an extension format object\n   * - As multiple extensions passed as separate arguments\n   * @param extensions - Extensions to add to PixiJS. Each can be:\n   * - A class with static `extension` property\n   * - An extension format object with `type` and `ref`\n   * - Multiple extensions as separate arguments\n   * @returns This extensions instance for chaining\n   * @example\n   * ```ts\n   * // Register a simple extension\n   * extensions.add(MyRendererPlugin);\n   *\n   * // Register multiple extensions\n   * extensions.add(\n   *     MyRendererPlugin,\n   *     MySystemPlugin,\n   * });\n   * ```\n   * @see {@link ExtensionType} For available extension types\n   * @see {@link ExtensionFormat} For extension format details\n   * @see {@link extensions.remove} For removing registered extensions\n   */\n  add(...extensions2) {\n    extensions2.map(normalizeExtension).forEach((ext) => {\n      ext.type.forEach((type) => {\n        const handlers = this._addHandlers;\n        const queue = this._queue;\n        if (!handlers[type]) {\n          queue[type] = queue[type] || [];\n          queue[type]?.push(ext);\n        } else {\n          handlers[type]?.(ext);\n        }\n      });\n    });\n    return this;\n  },\n  /**\n   * Internal method to handle extensions by name.\n   * @param type - The extension type.\n   * @param onAdd  - Function handler when extensions are added/registered {@link StrictExtensionFormat}.\n   * @param onRemove  - Function handler when extensions are removed/unregistered {@link StrictExtensionFormat}.\n   * @returns this for chaining.\n   * @internal\n   * @ignore\n   */\n  handle(type, onAdd, onRemove) {\n    const addHandlers = this._addHandlers;\n    const removeHandlers = this._removeHandlers;\n    if (addHandlers[type] || removeHandlers[type]) {\n      throw new Error(`Extension type ${type} already has a handler`);\n    }\n    addHandlers[type] = onAdd;\n    removeHandlers[type] = onRemove;\n    const queue = this._queue;\n    if (queue[type]) {\n      queue[type]?.forEach((ext) => onAdd(ext));\n      delete queue[type];\n    }\n    return this;\n  },\n  /**\n   * Handle a type, but using a map by `name` property.\n   * @param type - Type of extension to handle.\n   * @param map - The object map of named extensions.\n   * @returns this for chaining.\n   * @ignore\n   */\n  handleByMap(type, map) {\n    return this.handle(\n      type,\n      (extension) => {\n        if (extension.name) {\n          map[extension.name] = extension.ref;\n        }\n      },\n      (extension) => {\n        if (extension.name) {\n          delete map[extension.name];\n        }\n      }\n    );\n  },\n  /**\n   * Handle a type, but using a list of extensions with a `name` property.\n   * @param type - Type of extension to handle.\n   * @param map - The array of named extensions.\n   * @param defaultPriority - Fallback priority if none is defined.\n   * @returns this for chaining.\n   * @ignore\n   */\n  handleByNamedList(type, map, defaultPriority = -1) {\n    return this.handle(\n      type,\n      (extension) => {\n        const index = map.findIndex((item) => item.name === extension.name);\n        if (index >= 0)\n          return;\n        map.push({ name: extension.name, value: extension.ref });\n        map.sort((a, b) => normalizeExtensionPriority(b.value, defaultPriority) - normalizeExtensionPriority(a.value, defaultPriority));\n      },\n      (extension) => {\n        const index = map.findIndex((item) => item.name === extension.name);\n        if (index !== -1) {\n          map.splice(index, 1);\n        }\n      }\n    );\n  },\n  /**\n   * Handle a type, but using a list of extensions.\n   * @param type - Type of extension to handle.\n   * @param list - The list of extensions.\n   * @param defaultPriority - The default priority to use if none is specified.\n   * @returns this for chaining.\n   * @ignore\n   */\n  handleByList(type, list, defaultPriority = -1) {\n    return this.handle(\n      type,\n      (extension) => {\n        if (list.includes(extension.ref)) {\n          return;\n        }\n        list.push(extension.ref);\n        list.sort((a, b) => normalizeExtensionPriority(b, defaultPriority) - normalizeExtensionPriority(a, defaultPriority));\n      },\n      (extension) => {\n        const index = list.indexOf(extension.ref);\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n      }\n    );\n  },\n  /**\n   * Mixin the source object(s) properties into the target class's prototype.\n   * Copies all property descriptors from source objects to the target's prototype.\n   * @param Target - The target class to mix properties into\n   * @param sources - One or more source objects containing properties to mix in\n   * @example\n   * ```ts\n   * // Create a mixin with shared properties\n   * const moveable = {\n   *     x: 0,\n   *     y: 0,\n   *     move(x: number, y: number) {\n   *         this.x += x;\n   *         this.y += y;\n   *     }\n   * };\n   *\n   * // Create a mixin with computed properties\n   * const scalable = {\n   *     scale: 1,\n   *     get scaled() {\n   *         return this.scale > 1;\n   *     }\n   * };\n   *\n   * // Apply mixins to a class\n   * extensions.mixin(Sprite, moveable, scalable);\n   *\n   * // Use mixed-in properties\n   * const sprite = new Sprite();\n   * sprite.move(10, 20);\n   * console.log(sprite.x, sprite.y); // 10, 20\n   * ```\n   * @remarks\n   * - Copies all properties including getters/setters\n   * - Does not modify source objects\n   * - Preserves property descriptors\n   * @see {@link Object.defineProperties} For details on property descriptors\n   * @see {@link Object.getOwnPropertyDescriptors} For details on property copying\n   */\n  mixin(Target, ...sources) {\n    for (const source of sources) {\n      Object.defineProperties(Target.prototype, Object.getOwnPropertyDescriptors(source));\n    }\n  }\n};\n\nexport { ExtensionType, extensions, normalizeExtensionPriority };\n//# sourceMappingURL=Extensions.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nconst browserExt = {\n  extension: {\n    type: ExtensionType.Environment,\n    name: \"browser\",\n    priority: -1\n  },\n  test: () => true,\n  load: async () => {\n    await import('./browserAll.mjs');\n  }\n};\n\nexport { browserExt };\n//# sourceMappingURL=browserExt.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nconst webworkerExt = {\n  extension: {\n    type: ExtensionType.Environment,\n    name: \"webworker\",\n    priority: 0\n  },\n  test: () => typeof self !== \"undefined\" && self.WorkerGlobalScope !== void 0,\n  load: async () => {\n    await import('./webworkerAll.mjs');\n  }\n};\n\nexport { webworkerExt };\n//# sourceMappingURL=webworkerExt.mjs.map\n","\"use strict\";\nclass ObservablePoint {\n  /**\n   * Creates a new `ObservablePoint`\n   * @param observer - Observer to pass to listen for change events.\n   * @param {number} [x=0] - position of the point on the x axis\n   * @param {number} [y=0] - position of the point on the y axis\n   */\n  constructor(observer, x, y) {\n    this._x = x || 0;\n    this._y = y || 0;\n    this._observer = observer;\n  }\n  /**\n   * Creates a clone of this point.\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const point = new ObservablePoint(observer, 100, 200);\n   * const copy = point.clone();\n   *\n   * // Clone with new observer\n   * const newObserver = {\n   *     _onUpdate: (p) => console.log(`Clone updated: (${p.x}, ${p.y})`)\n   * };\n   * const watched = point.clone(newObserver);\n   *\n   * // Verify independence\n   * watched.set(300, 400); // Only triggers new observer\n   * ```\n   * @param observer - Optional observer to pass to the new observable point\n   * @returns A copy of this observable point\n   * @see {@link ObservablePoint.copyFrom} For copying into existing point\n   * @see {@link Observer} For observer interface details\n   */\n  clone(observer) {\n    return new ObservablePoint(observer ?? this._observer, this._x, this._y);\n  }\n  /**\n   * Sets the point to a new x and y position.\n   *\n   * If y is omitted, both x and y will be set to x.\n   * @example\n   * ```ts\n   * // Basic position setting\n   * const point = new ObservablePoint(observer);\n   * point.set(100, 200);\n   *\n   * // Set both x and y to same value\n   * point.set(50); // x=50, y=50\n   * ```\n   * @param x - Position on the x axis\n   * @param y - Position on the y axis, defaults to x\n   * @returns The point instance itself\n   * @see {@link ObservablePoint.copyFrom} For copying from another point\n   * @see {@link ObservablePoint.equals} For comparing positions\n   */\n  set(x = 0, y = x) {\n    if (this._x !== x || this._y !== y) {\n      this._x = x;\n      this._y = y;\n      this._observer._onUpdate(this);\n    }\n    return this;\n  }\n  /**\n   * Copies x and y from the given point into this point.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new ObservablePoint(observer, 100, 200);\n   * const target = new ObservablePoint();\n   * target.copyFrom(source);\n   *\n   * // Copy and chain operations\n   * const point = new ObservablePoint()\n   *     .copyFrom(source)\n   *     .set(x + 50, y + 50);\n   *\n   * // Copy from any PointData\n   * const data = { x: 10, y: 20 };\n   * point.copyFrom(data);\n   * ```\n   * @param p - The point to copy from\n   * @returns The point instance itself\n   * @see {@link ObservablePoint.copyTo} For copying to another point\n   * @see {@link ObservablePoint.clone} For creating new point copy\n   */\n  copyFrom(p) {\n    if (this._x !== p.x || this._y !== p.y) {\n      this._x = p.x;\n      this._y = p.y;\n      this._observer._onUpdate(this);\n    }\n    return this;\n  }\n  /**\n   * Copies this point's x and y into the given point.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new ObservablePoint(100, 200);\n   * const target = new ObservablePoint();\n   * source.copyTo(target);\n   * ```\n   * @param p - The point to copy to. Can be any type that is or extends `PointLike`\n   * @returns The point (`p`) with values updated\n   * @see {@link ObservablePoint.copyFrom} For copying from another point\n   * @see {@link ObservablePoint.clone} For creating new point copy\n   */\n  copyTo(p) {\n    p.set(this._x, this._y);\n    return p;\n  }\n  /**\n   * Checks if another point is equal to this point.\n   *\n   * Compares x and y values using strict equality.\n   * @example\n   * ```ts\n   * // Basic equality check\n   * const p1 = new ObservablePoint(100, 200);\n   * const p2 = new ObservablePoint(100, 200);\n   * console.log(p1.equals(p2)); // true\n   *\n   * // Compare with PointData\n   * const data = { x: 100, y: 200 };\n   * console.log(p1.equals(data)); // true\n   *\n   * // Check different points\n   * const p3 = new ObservablePoint(200, 300);\n   * console.log(p1.equals(p3)); // false\n   * ```\n   * @param p - The point to check\n   * @returns `true` if both `x` and `y` are equal\n   * @see {@link ObservablePoint.copyFrom} For making points equal\n   * @see {@link PointData} For point data interface\n   */\n  equals(p) {\n    return p.x === this._x && p.y === this._y;\n  }\n  toString() {\n    return `[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`;\n  }\n  /**\n   * Position of the observable point on the x axis.\n   * Triggers observer callback when value changes.\n   * @example\n   * ```ts\n   * // Basic x position\n   * const point = new ObservablePoint(observer);\n   * point.x = 100; // Triggers observer\n   *\n   * // Use in calculations\n   * const width = rightPoint.x - leftPoint.x;\n   * ```\n   * @default 0\n   */\n  get x() {\n    return this._x;\n  }\n  set x(value) {\n    if (this._x !== value) {\n      this._x = value;\n      this._observer._onUpdate(this);\n    }\n  }\n  /**\n   * Position of the observable point on the y axis.\n   * Triggers observer callback when value changes.\n   * @example\n   * ```ts\n   * // Basic y position\n   * const point = new ObservablePoint(observer);\n   * point.y = 200; // Triggers observer\n   *\n   * // Use in calculations\n   * const height = bottomPoint.y - topPoint.y;\n   * ```\n   * @default 0\n   */\n  get y() {\n    return this._y;\n  }\n  set y(value) {\n    if (this._y !== value) {\n      this._y = value;\n      this._observer._onUpdate(this);\n    }\n  }\n}\n\nexport { ObservablePoint };\n//# sourceMappingURL=ObservablePoint.mjs.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","\"use strict\";\nconst PI_2 = Math.PI * 2;\nconst RAD_TO_DEG = 180 / Math.PI;\nconst DEG_TO_RAD = Math.PI / 180;\n\nexport { DEG_TO_RAD, PI_2, RAD_TO_DEG };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nclass Point {\n  /**\n   * Creates a new `Point`\n   * @param {number} [x=0] - position of the point on the x axis\n   * @param {number} [y=0] - position of the point on the y axis\n   */\n  constructor(x = 0, y = 0) {\n    /**\n     * Position of the point on the x axis\n     * @example\n     * ```ts\n     * // Set x position\n     * const point = new Point();\n     * point.x = 100;\n     *\n     * // Use in calculations\n     * const width = rightPoint.x - leftPoint.x;\n     * ```\n     */\n    this.x = 0;\n    /**\n     * Position of the point on the y axis\n     * @example\n     * ```ts\n     * // Set y position\n     * const point = new Point();\n     * point.y = 200;\n     *\n     * // Use in calculations\n     * const height = bottomPoint.y - topPoint.y;\n     * ```\n     */\n    this.y = 0;\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Creates a clone of this point, which is a new instance with the same `x` and `y` values.\n   * @example\n   * ```ts\n   * // Basic point cloning\n   * const original = new Point(100, 200);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.set(300, 400);\n   *\n   * // Verify independence\n   * console.log(original); // Point(100, 200)\n   * console.log(modified); // Point(300, 400)\n   * ```\n   * @remarks\n   * - Creates new Point instance\n   * - Deep copies x and y values\n   * - Independent from original\n   * - Useful for preserving values\n   * @returns A clone of this point\n   * @see {@link Point.copyFrom} For copying into existing point\n   * @see {@link Point.copyTo} For copying to existing point\n   */\n  clone() {\n    return new Point(this.x, this.y);\n  }\n  /**\n   * Copies x and y from the given point into this point.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Point(100, 200);\n   * const target = new Point();\n   * target.copyFrom(source);\n   *\n   * // Copy and chain operations\n   * const point = new Point()\n   *     .copyFrom(source)\n   *     .set(x + 50, y + 50);\n   *\n   * // Copy from any PointData\n   * const data = { x: 10, y: 20 };\n   * point.copyFrom(data);\n   * ```\n   * @param p - The point to copy from\n   * @returns The point instance itself\n   * @see {@link Point.copyTo} For copying to another point\n   * @see {@link Point.clone} For creating new point copy\n   */\n  copyFrom(p) {\n    this.set(p.x, p.y);\n    return this;\n  }\n  /**\n   * Copies this point's x and y into the given point.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Point(100, 200);\n   * const target = new Point();\n   * source.copyTo(target);\n   * ```\n   * @param p - The point to copy to. Can be any type that is or extends `PointLike`\n   * @returns The point (`p`) with values updated\n   * @see {@link Point.copyFrom} For copying from another point\n   * @see {@link Point.clone} For creating new point copy\n   */\n  copyTo(p) {\n    p.set(this.x, this.y);\n    return p;\n  }\n  /**\n   * Checks if another point is equal to this point.\n   *\n   * Compares x and y values using strict equality.\n   * @example\n   * ```ts\n   * // Basic equality check\n   * const p1 = new Point(100, 200);\n   * const p2 = new Point(100, 200);\n   * console.log(p1.equals(p2)); // true\n   *\n   * // Compare with PointData\n   * const data = { x: 100, y: 200 };\n   * console.log(p1.equals(data)); // true\n   *\n   * // Check different points\n   * const p3 = new Point(200, 300);\n   * console.log(p1.equals(p3)); // false\n   * ```\n   * @param p - The point to check\n   * @returns `true` if both `x` and `y` are equal\n   * @see {@link Point.copyFrom} For making points equal\n   * @see {@link PointData} For point data interface\n   */\n  equals(p) {\n    return p.x === this.x && p.y === this.y;\n  }\n  /**\n   * Sets the point to a new x and y position.\n   *\n   * If y is omitted, both x and y will be set to x.\n   * @example\n   * ```ts\n   * // Basic position setting\n   * const point = new Point();\n   * point.set(100, 200);\n   *\n   * // Set both x and y to same value\n   * point.set(50); // x=50, y=50\n   *\n   * // Chain with other operations\n   * point\n   *     .set(10, 20)\n   *     .copyTo(otherPoint);\n   * ```\n   * @param x - Position on the x axis\n   * @param y - Position on the y axis, defaults to x\n   * @returns The point instance itself\n   * @see {@link Point.copyFrom} For copying from another point\n   * @see {@link Point.equals} For comparing positions\n   */\n  set(x = 0, y = x) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n  toString() {\n    return `[pixi.js/math:Point x=${this.x} y=${this.y}]`;\n  }\n  /**\n   * A static Point object with `x` and `y` values of `0`.\n   *\n   * This shared instance is reset to zero values when accessed.\n   *\n   * > [!IMPORTANT] This point is shared and temporary. Do not store references to it.\n   * @example\n   * ```ts\n   * // Use for temporary calculations\n   * const tempPoint = Point.shared;\n   * tempPoint.set(100, 200);\n   * matrix.apply(tempPoint);\n   *\n   * // Will be reset to (0,0) on next access\n   * const fresh = Point.shared; // x=0, y=0\n   * ```\n   * @readonly\n   * @returns A fresh zeroed point for temporary use\n   * @see {@link Point.constructor} For creating new points\n   * @see {@link PointData} For basic point interface\n   */\n  static get shared() {\n    tempPoint.x = 0;\n    tempPoint.y = 0;\n    return tempPoint;\n  }\n}\nconst tempPoint = new Point();\n\nexport { Point };\n//# sourceMappingURL=Point.mjs.map\n","import { PI_2 } from '../misc/const.mjs';\nimport { Point } from '../point/Point.mjs';\n\n\"use strict\";\nclass Matrix {\n  /**\n   * @param a - x scale\n   * @param b - y skew\n   * @param c - x skew\n   * @param d - y scale\n   * @param tx - x translation\n   * @param ty - y translation\n   */\n  constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\n    /**\n     * Array representation of the matrix.\n     * Only populated when `toArray()` is called.\n     * @default null\n     * @see {@link Matrix.toArray} For filling this array\n     */\n    this.array = null;\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n  }\n  /**\n   * Creates a Matrix object based on the given array.\n   * Populates matrix components from a flat array in column-major order.\n   *\n   * > [!NOTE] Array mapping order:\n   * > ```\n   * > array[0] = a  (x scale)\n   * > array[1] = b  (y skew)\n   * > array[2] = tx (x translation)\n   * > array[3] = c  (x skew)\n   * > array[4] = d  (y scale)\n   * > array[5] = ty (y translation)\n   * > ```\n   * @example\n   * ```ts\n   * // Create matrix from array\n   * const matrix = new Matrix();\n   * matrix.fromArray([\n   *     2, 0,  100,  // a, b, tx\n   *     0, 2,  100   // c, d, ty\n   * ]);\n   *\n   * // Create matrix from typed array\n   * const float32Array = new Float32Array([\n   *     1, 0, 0,     // Scale x1, no skew\n   *     0, 1, 0      // No skew, scale x1\n   * ]);\n   * matrix.fromArray(float32Array);\n   * ```\n   * @param array - The array to populate the matrix from\n   * @see {@link Matrix.toArray} For converting matrix to array\n   * @see {@link Matrix.set} For setting values directly\n   */\n  fromArray(array) {\n    this.a = array[0];\n    this.b = array[1];\n    this.c = array[3];\n    this.d = array[4];\n    this.tx = array[2];\n    this.ty = array[5];\n  }\n  /**\n   * Sets the matrix properties directly.\n   * All matrix components can be set in one call.\n   * @example\n   * ```ts\n   * // Set to identity matrix\n   * matrix.set(1, 0, 0, 1, 0, 0);\n   *\n   * // Set to scale matrix\n   * matrix.set(2, 0, 0, 2, 0, 0); // Scale 2x\n   *\n   * // Set to translation matrix\n   * matrix.set(1, 0, 0, 1, 100, 50); // Move 100,50\n   * ```\n   * @param a - Scale on x axis\n   * @param b - Shear on y axis\n   * @param c - Shear on x axis\n   * @param d - Scale on y axis\n   * @param tx - Translation on x axis\n   * @param ty - Translation on y axis\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.identity} For resetting to identity\n   * @see {@link Matrix.fromArray} For setting from array\n   */\n  set(a, b, c, d, tx, ty) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n    return this;\n  }\n  /**\n   * Creates an array from the current Matrix object.\n   *\n   * > [!NOTE] The array format is:\n   * > ```\n   * > Non-transposed:\n   * > [a, c, tx,\n   * > b, d, ty,\n   * > 0, 0, 1]\n   * >\n   * > Transposed:\n   * > [a, b, 0,\n   * > c, d, 0,\n   * > tx,ty,1]\n   * > ```\n   * @example\n   * ```ts\n   * // Basic array conversion\n   * const matrix = new Matrix(2, 0, 0, 2, 100, 100);\n   * const array = matrix.toArray();\n   *\n   * // Using existing array\n   * const float32Array = new Float32Array(9);\n   * matrix.toArray(false, float32Array);\n   *\n   * // Get transposed array\n   * const transposed = matrix.toArray(true);\n   * ```\n   * @param transpose - Whether to transpose the matrix\n   * @param out - Optional Float32Array to store the result\n   * @returns The array containing the matrix values\n   * @see {@link Matrix.fromArray} For creating matrix from array\n   * @see {@link Matrix.array} For cached array storage\n   */\n  toArray(transpose, out) {\n    if (!this.array) {\n      this.array = new Float32Array(9);\n    }\n    const array = out || this.array;\n    if (transpose) {\n      array[0] = this.a;\n      array[1] = this.b;\n      array[2] = 0;\n      array[3] = this.c;\n      array[4] = this.d;\n      array[5] = 0;\n      array[6] = this.tx;\n      array[7] = this.ty;\n      array[8] = 1;\n    } else {\n      array[0] = this.a;\n      array[1] = this.c;\n      array[2] = this.tx;\n      array[3] = this.b;\n      array[4] = this.d;\n      array[5] = this.ty;\n      array[6] = 0;\n      array[7] = 0;\n      array[8] = 1;\n    }\n    return array;\n  }\n  /**\n   * Get a new position with the current transformation applied.\n   *\n   * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\n   * @example\n   * ```ts\n   * // Basic point transformation\n   * const matrix = new Matrix().translate(100, 50).rotate(Math.PI / 4);\n   * const point = new Point(10, 20);\n   * const transformed = matrix.apply(point);\n   *\n   * // Reuse existing point\n   * const output = new Point();\n   * matrix.apply(point, output);\n   * ```\n   * @param pos - The origin point to transform\n   * @param newPos - Optional point to store the result\n   * @returns The transformed point\n   * @see {@link Matrix.applyInverse} For inverse transformation\n   * @see {@link Point} For point operations\n   */\n  apply(pos, newPos) {\n    newPos = newPos || new Point();\n    const x = pos.x;\n    const y = pos.y;\n    newPos.x = this.a * x + this.c * y + this.tx;\n    newPos.y = this.b * x + this.d * y + this.ty;\n    return newPos;\n  }\n  /**\n   * Get a new position with the inverse of the current transformation applied.\n   *\n   * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\n   * @example\n   * ```ts\n   * // Basic inverse transformation\n   * const matrix = new Matrix().translate(100, 50).rotate(Math.PI / 4);\n   * const worldPoint = new Point(150, 100);\n   * const localPoint = matrix.applyInverse(worldPoint);\n   *\n   * // Reuse existing point\n   * const output = new Point();\n   * matrix.applyInverse(worldPoint, output);\n   *\n   * // Convert mouse position to local space\n   * const mousePoint = new Point(mouseX, mouseY);\n   * const localMouse = matrix.applyInverse(mousePoint);\n   * ```\n   * @param pos - The origin point to inverse-transform\n   * @param newPos - Optional point to store the result\n   * @returns The inverse-transformed point\n   * @see {@link Matrix.apply} For forward transformation\n   * @see {@link Matrix.invert} For getting inverse matrix\n   */\n  applyInverse(pos, newPos) {\n    newPos = newPos || new Point();\n    const a = this.a;\n    const b = this.b;\n    const c = this.c;\n    const d = this.d;\n    const tx = this.tx;\n    const ty = this.ty;\n    const id = 1 / (a * d + c * -b);\n    const x = pos.x;\n    const y = pos.y;\n    newPos.x = d * id * x + -c * id * y + (ty * c - tx * d) * id;\n    newPos.y = a * id * y + -b * id * x + (-ty * a + tx * b) * id;\n    return newPos;\n  }\n  /**\n   * Translates the matrix on the x and y axes.\n   * Adds to the position values while preserving scale, rotation and skew.\n   * @example\n   * ```ts\n   * // Basic translation\n   * const matrix = new Matrix();\n   * matrix.translate(100, 50); // Move right 100, down 50\n   *\n   * // Chain with other transformations\n   * matrix\n   *     .scale(2, 2)\n   *     .translate(100, 0)\n   *     .rotate(Math.PI / 4);\n   * ```\n   * @param x - How much to translate on the x axis\n   * @param y - How much to translate on the y axis\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.set} For setting position directly\n   * @see {@link Matrix.setTransform} For complete transform setup\n   */\n  translate(x, y) {\n    this.tx += x;\n    this.ty += y;\n    return this;\n  }\n  /**\n   * Applies a scale transformation to the matrix.\n   * Multiplies the scale values with existing matrix components.\n   * @example\n   * ```ts\n   * // Basic scaling\n   * const matrix = new Matrix();\n   * matrix.scale(2, 3); // Scale 2x horizontally, 3x vertically\n   *\n   * // Chain with other transformations\n   * matrix\n   *     .translate(100, 100)\n   *     .scale(2, 2)     // Scales after translation\n   *     .rotate(Math.PI / 4);\n   * ```\n   * @param x - The amount to scale horizontally\n   * @param y - The amount to scale vertically\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.setTransform} For setting scale directly\n   * @see {@link Matrix.append} For combining transformations\n   */\n  scale(x, y) {\n    this.a *= x;\n    this.d *= y;\n    this.c *= x;\n    this.b *= y;\n    this.tx *= x;\n    this.ty *= y;\n    return this;\n  }\n  /**\n   * Applies a rotation transformation to the matrix.\n   *\n   * Rotates around the origin (0,0) by the given angle in radians.\n   * @example\n   * ```ts\n   * // Basic rotation\n   * const matrix = new Matrix();\n   * matrix.rotate(Math.PI / 4); // Rotate 45 degrees\n   *\n   * // Chain with other transformations\n   * matrix\n   *     .translate(100, 100) // Move to rotation center\n   *     .rotate(Math.PI)     // Rotate 180 degrees\n   *     .scale(2, 2);        // Scale after rotation\n   *\n   * // Common angles\n   * matrix.rotate(Math.PI / 2);  // 90 degrees\n   * matrix.rotate(Math.PI);      // 180 degrees\n   * matrix.rotate(Math.PI * 2);  // 360 degrees\n   * ```\n   * @remarks\n   * - Rotates around origin point (0,0)\n   * - Affects position if translation was set\n   * - Uses counter-clockwise rotation\n   * - Order of operations matters when chaining\n   * @param angle - The angle in radians\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.setTransform} For setting rotation directly\n   * @see {@link Matrix.append} For combining transformations\n   */\n  rotate(angle) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const a1 = this.a;\n    const c1 = this.c;\n    const tx1 = this.tx;\n    this.a = a1 * cos - this.b * sin;\n    this.b = a1 * sin + this.b * cos;\n    this.c = c1 * cos - this.d * sin;\n    this.d = c1 * sin + this.d * cos;\n    this.tx = tx1 * cos - this.ty * sin;\n    this.ty = tx1 * sin + this.ty * cos;\n    return this;\n  }\n  /**\n   * Appends the given Matrix to this Matrix.\n   * Combines two matrices by multiplying them together: this = this * matrix\n   * @example\n   * ```ts\n   * // Basic matrix combination\n   * const matrix = new Matrix();\n   * const other = new Matrix().translate(100, 0).rotate(Math.PI / 4);\n   * matrix.append(other);\n   * ```\n   * @remarks\n   * - Order matters: A.append(B) !== B.append(A)\n   * - Modifies current matrix\n   * - Preserves transformation order\n   * - Commonly used for combining transforms\n   * @param matrix - The matrix to append\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.prepend} For prepending transformations\n   * @see {@link Matrix.appendFrom} For appending two external matrices\n   */\n  append(matrix) {\n    const a1 = this.a;\n    const b1 = this.b;\n    const c1 = this.c;\n    const d1 = this.d;\n    this.a = matrix.a * a1 + matrix.b * c1;\n    this.b = matrix.a * b1 + matrix.b * d1;\n    this.c = matrix.c * a1 + matrix.d * c1;\n    this.d = matrix.c * b1 + matrix.d * d1;\n    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n    return this;\n  }\n  /**\n   * Appends two matrices and sets the result to this matrix.\n   * Performs matrix multiplication: this = A * B\n   * @example\n   * ```ts\n   * // Basic matrix multiplication\n   * const result = new Matrix();\n   * const matrixA = new Matrix().scale(2, 2);\n   * const matrixB = new Matrix().rotate(Math.PI / 4);\n   * result.appendFrom(matrixA, matrixB);\n   * ```\n   * @remarks\n   * - Order matters: A * B !== B * A\n   * - Creates a new transformation from two others\n   * - More efficient than append() for multiple operations\n   * - Does not modify input matrices\n   * @param a - The first matrix to multiply\n   * @param b - The second matrix to multiply\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.append} For single matrix combination\n   * @see {@link Matrix.prepend} For reverse order multiplication\n   */\n  appendFrom(a, b) {\n    const a1 = a.a;\n    const b1 = a.b;\n    const c1 = a.c;\n    const d1 = a.d;\n    const tx = a.tx;\n    const ty = a.ty;\n    const a2 = b.a;\n    const b2 = b.b;\n    const c2 = b.c;\n    const d2 = b.d;\n    this.a = a1 * a2 + b1 * c2;\n    this.b = a1 * b2 + b1 * d2;\n    this.c = c1 * a2 + d1 * c2;\n    this.d = c1 * b2 + d1 * d2;\n    this.tx = tx * a2 + ty * c2 + b.tx;\n    this.ty = tx * b2 + ty * d2 + b.ty;\n    return this;\n  }\n  /**\n   * Sets the matrix based on all the available properties.\n   * Combines position, scale, rotation, skew and pivot in a single operation.\n   * @example\n   * ```ts\n   * // Basic transform setup\n   * const matrix = new Matrix();\n   * matrix.setTransform(\n   *     100, 100,    // position\n   *     0, 0,        // pivot\n   *     2, 2,        // scale\n   *     Math.PI / 4, // rotation (45 degrees)\n   *     0, 0         // skew\n   * );\n   * ```\n   * @remarks\n   * - Updates all matrix components at once\n   * - More efficient than separate transform calls\n   * - Uses radians for rotation and skew\n   * - Pivot affects rotation center\n   * @param x - Position on the x axis\n   * @param y - Position on the y axis\n   * @param pivotX - Pivot on the x axis\n   * @param pivotY - Pivot on the y axis\n   * @param scaleX - Scale on the x axis\n   * @param scaleY - Scale on the y axis\n   * @param rotation - Rotation in radians\n   * @param skewX - Skew on the x axis\n   * @param skewY - Skew on the y axis\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.decompose} For extracting transform properties\n   * @see {@link TransformableObject} For transform data structure\n   */\n  setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {\n    this.a = Math.cos(rotation + skewY) * scaleX;\n    this.b = Math.sin(rotation + skewY) * scaleX;\n    this.c = -Math.sin(rotation - skewX) * scaleY;\n    this.d = Math.cos(rotation - skewX) * scaleY;\n    this.tx = x - (pivotX * this.a + pivotY * this.c);\n    this.ty = y - (pivotX * this.b + pivotY * this.d);\n    return this;\n  }\n  /**\n   * Prepends the given Matrix to this Matrix.\n   * Combines two matrices by multiplying them together: this = matrix * this\n   * @example\n   * ```ts\n   * // Basic matrix prepend\n   * const matrix = new Matrix().scale(2, 2);\n   * const other = new Matrix().translate(100, 0);\n   * matrix.prepend(other); // Translation happens before scaling\n   * ```\n   * @remarks\n   * - Order matters: A.prepend(B) !== B.prepend(A)\n   * - Modifies current matrix\n   * - Reverses transformation order compared to append()\n   * @param matrix - The matrix to prepend\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.append} For appending transformations\n   * @see {@link Matrix.appendFrom} For combining external matrices\n   */\n  prepend(matrix) {\n    const tx1 = this.tx;\n    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\n      const a1 = this.a;\n      const c1 = this.c;\n      this.a = a1 * matrix.a + this.b * matrix.c;\n      this.b = a1 * matrix.b + this.b * matrix.d;\n      this.c = c1 * matrix.a + this.d * matrix.c;\n      this.d = c1 * matrix.b + this.d * matrix.d;\n    }\n    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;\n    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;\n    return this;\n  }\n  /**\n   * Decomposes the matrix into its individual transform components.\n   * Extracts position, scale, rotation and skew values from the matrix.\n   * @example\n   * ```ts\n   * // Basic decomposition\n   * const matrix = new Matrix()\n   *     .translate(100, 100)\n   *     .rotate(Math.PI / 4)\n   *     .scale(2, 2);\n   *\n   * const transform = {\n   *     position: new Point(),\n   *     scale: new Point(),\n   *     pivot: new Point(),\n   *     skew: new Point(),\n   *     rotation: 0\n   * };\n   *\n   * matrix.decompose(transform);\n   * console.log(transform.position); // Point(100, 100)\n   * console.log(transform.rotation); // ~0.785 (PI/4)\n   * console.log(transform.scale); // Point(2, 2)\n   * ```\n   * @remarks\n   * - Handles combined transformations\n   * - Accounts for pivot points\n   * - Chooses between rotation/skew based on transform type\n   * - Uses radians for rotation and skew\n   * @param transform - The transform object to store the decomposed values\n   * @returns The transform with the newly applied properties\n   * @see {@link Matrix.setTransform} For composing from components\n   * @see {@link TransformableObject} For transform structure\n   */\n  decompose(transform) {\n    const a = this.a;\n    const b = this.b;\n    const c = this.c;\n    const d = this.d;\n    const pivot = transform.pivot;\n    const skewX = -Math.atan2(-c, d);\n    const skewY = Math.atan2(b, a);\n    const delta = Math.abs(skewX + skewY);\n    if (delta < 1e-5 || Math.abs(PI_2 - delta) < 1e-5) {\n      transform.rotation = skewY;\n      transform.skew.x = transform.skew.y = 0;\n    } else {\n      transform.rotation = 0;\n      transform.skew.x = skewX;\n      transform.skew.y = skewY;\n    }\n    transform.scale.x = Math.sqrt(a * a + b * b);\n    transform.scale.y = Math.sqrt(c * c + d * d);\n    transform.position.x = this.tx + (pivot.x * a + pivot.y * c);\n    transform.position.y = this.ty + (pivot.x * b + pivot.y * d);\n    return transform;\n  }\n  /**\n   * Inverts this matrix.\n   * Creates the matrix that when multiplied with this matrix results in an identity matrix.\n   * @example\n   * ```ts\n   * // Basic matrix inversion\n   * const matrix = new Matrix()\n   *     .translate(100, 50)\n   *     .scale(2, 2);\n   *\n   * matrix.invert(); // Now transforms in opposite direction\n   *\n   * // Verify inversion\n   * const point = new Point(50, 50);\n   * const transformed = matrix.apply(point);\n   * const original = matrix.invert().apply(transformed);\n   * // original  point\n   * ```\n   * @remarks\n   * - Modifies the current matrix\n   * - Useful for reversing transformations\n   * - Cannot invert matrices with zero determinant\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.identity} For resetting to identity\n   * @see {@link Matrix.applyInverse} For inverse transformations\n   */\n  invert() {\n    const a1 = this.a;\n    const b1 = this.b;\n    const c1 = this.c;\n    const d1 = this.d;\n    const tx1 = this.tx;\n    const n = a1 * d1 - b1 * c1;\n    this.a = d1 / n;\n    this.b = -b1 / n;\n    this.c = -c1 / n;\n    this.d = a1 / n;\n    this.tx = (c1 * this.ty - d1 * tx1) / n;\n    this.ty = -(a1 * this.ty - b1 * tx1) / n;\n    return this;\n  }\n  /**\n   * Checks if this matrix is an identity matrix.\n   *\n   * An identity matrix has no transformations applied (default state).\n   * @example\n   * ```ts\n   * // Check if matrix is identity\n   * const matrix = new Matrix();\n   * console.log(matrix.isIdentity()); // true\n   *\n   * // Check after transformations\n   * matrix.translate(100, 0);\n   * console.log(matrix.isIdentity()); // false\n   *\n   * // Reset and verify\n   * matrix.identity();\n   * console.log(matrix.isIdentity()); // true\n   * ```\n   * @remarks\n   * - Verifies a = 1, d = 1 (no scale)\n   * - Verifies b = 0, c = 0 (no skew)\n   * - Verifies tx = 0, ty = 0 (no translation)\n   * @returns True if matrix has no transformations\n   * @see {@link Matrix.identity} For resetting to identity\n   * @see {@link Matrix.IDENTITY} For constant identity matrix\n   */\n  isIdentity() {\n    return this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1 && this.tx === 0 && this.ty === 0;\n  }\n  /**\n   * Resets this Matrix to an identity (default) matrix.\n   * Sets all components to their default values: scale=1, no skew, no translation.\n   * @example\n   * ```ts\n   * // Reset transformed matrix\n   * const matrix = new Matrix()\n   *     .scale(2, 2)\n   *     .rotate(Math.PI / 4);\n   * matrix.identity(); // Back to default state\n   *\n   * // Chain after reset\n   * matrix\n   *     .identity()\n   *     .translate(100, 100)\n   *     .scale(2, 2);\n   *\n   * // Compare with identity constant\n   * const isDefault = matrix.equals(Matrix.IDENTITY);\n   * ```\n   * @remarks\n   * - Sets a=1, d=1 (default scale)\n   * - Sets b=0, c=0 (no skew)\n   * - Sets tx=0, ty=0 (no translation)\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.IDENTITY} For constant identity matrix\n   * @see {@link Matrix.isIdentity} For checking identity state\n   */\n  identity() {\n    this.a = 1;\n    this.b = 0;\n    this.c = 0;\n    this.d = 1;\n    this.tx = 0;\n    this.ty = 0;\n    return this;\n  }\n  /**\n   * Creates a new Matrix object with the same values as this one.\n   * @returns A copy of this matrix. Good for chaining method calls.\n   */\n  clone() {\n    const matrix = new Matrix();\n    matrix.a = this.a;\n    matrix.b = this.b;\n    matrix.c = this.c;\n    matrix.d = this.d;\n    matrix.tx = this.tx;\n    matrix.ty = this.ty;\n    return matrix;\n  }\n  /**\n   * Creates a new Matrix object with the same values as this one.\n   * @param matrix\n   * @example\n   * ```ts\n   * // Basic matrix cloning\n   * const matrix = new Matrix()\n   *     .translate(100, 100)\n   *     .rotate(Math.PI / 4);\n   * const copy = matrix.clone();\n   *\n   * // Clone and modify\n   * const modified = matrix.clone()\n   *     .scale(2, 2);\n   *\n   * // Compare matrices\n   * console.log(matrix.equals(copy));     // true\n   * console.log(matrix.equals(modified)); // false\n   * ```\n   * @returns A copy of this matrix. Good for chaining method calls.\n   * @see {@link Matrix.copyTo} For copying to existing matrix\n   * @see {@link Matrix.copyFrom} For copying from another matrix\n   */\n  copyTo(matrix) {\n    matrix.a = this.a;\n    matrix.b = this.b;\n    matrix.c = this.c;\n    matrix.d = this.d;\n    matrix.tx = this.tx;\n    matrix.ty = this.ty;\n    return matrix;\n  }\n  /**\n   * Changes the values of the matrix to be the same as the ones in given matrix.\n   * @example\n   * ```ts\n   * // Basic matrix copying\n   * const source = new Matrix()\n   *     .translate(100, 100)\n   *     .rotate(Math.PI / 4);\n   * const target = new Matrix();\n   * target.copyFrom(source);\n   * ```\n   * @param matrix - The matrix to copy from\n   * @returns This matrix. Good for chaining method calls.\n   * @see {@link Matrix.clone} For creating new matrix copy\n   * @see {@link Matrix.copyTo} For copying to another matrix\n   */\n  copyFrom(matrix) {\n    this.a = matrix.a;\n    this.b = matrix.b;\n    this.c = matrix.c;\n    this.d = matrix.d;\n    this.tx = matrix.tx;\n    this.ty = matrix.ty;\n    return this;\n  }\n  /**\n   * Checks if this matrix equals another matrix.\n   * Compares all components for exact equality.\n   * @example\n   * ```ts\n   * // Basic equality check\n   * const m1 = new Matrix();\n   * const m2 = new Matrix();\n   * console.log(m1.equals(m2)); // true\n   *\n   * // Compare transformed matrices\n   * const transform = new Matrix()\n   *     .translate(100, 100)\n   * const clone = new Matrix()\n   *     .scale(2, 2);\n   * console.log(transform.equals(clone)); // false\n   * ```\n   * @param matrix - The matrix to compare to\n   * @returns True if matrices are identical\n   * @see {@link Matrix.copyFrom} For copying matrix values\n   * @see {@link Matrix.isIdentity} For identity comparison\n   */\n  equals(matrix) {\n    return matrix.a === this.a && matrix.b === this.b && matrix.c === this.c && matrix.d === this.d && matrix.tx === this.tx && matrix.ty === this.ty;\n  }\n  toString() {\n    return `[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;\n  }\n  /**\n   * A default (identity) matrix with no transformations applied.\n   *\n   * > [!IMPORTANT] This is a shared read-only object. Create a new Matrix if you need to modify it.\n   * @example\n   * ```ts\n   * // Get identity matrix reference\n   * const identity = Matrix.IDENTITY;\n   * console.log(identity.isIdentity()); // true\n   *\n   * // Compare with identity\n   * const matrix = new Matrix();\n   * console.log(matrix.equals(Matrix.IDENTITY)); // true\n   *\n   * // Create new matrix instead of modifying IDENTITY\n   * const transform = new Matrix()\n   *     .copyFrom(Matrix.IDENTITY)\n   *     .translate(100, 100);\n   * ```\n   * @readonly\n   * @returns A read-only identity matrix\n   * @see {@link Matrix.shared} For temporary calculations\n   * @see {@link Matrix.identity} For resetting matrices\n   */\n  static get IDENTITY() {\n    return identityMatrix.identity();\n  }\n  /**\n   * A static Matrix that can be used to avoid creating new objects.\n   * Will always ensure the matrix is reset to identity when requested.\n   *\n   * > [!IMPORTANT] This matrix is shared and temporary. Do not store references to it.\n   * @example\n   * ```ts\n   * // Use for temporary calculations\n   * const tempMatrix = Matrix.shared;\n   * tempMatrix.translate(100, 100).rotate(Math.PI / 4);\n   * const point = tempMatrix.apply({ x: 10, y: 20 });\n   *\n   * // Will be reset to identity on next access\n   * const fresh = Matrix.shared; // Back to identity\n   * ```\n   * @remarks\n   * - Always returns identity matrix\n   * - Safe to modify temporarily\n   * - Not safe to store references\n   * - Useful for one-off calculations\n   * @readonly\n   * @returns A fresh identity matrix for temporary use\n   * @see {@link Matrix.IDENTITY} For immutable identity matrix\n   * @see {@link Matrix.identity} For resetting matrices\n   */\n  static get shared() {\n    return tempMatrix.identity();\n  }\n}\nconst tempMatrix = new Matrix();\nconst identityMatrix = new Matrix();\n\nexport { Matrix };\n//# sourceMappingURL=Matrix.mjs.map\n","import { Matrix } from './Matrix.mjs';\n\n\"use strict\";\nconst ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];\nconst uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];\nconst rotationCayley = [];\nconst rotationMatrices = [];\nconst signum = Math.sign;\nfunction init() {\n  for (let i = 0; i < 16; i++) {\n    const row = [];\n    rotationCayley.push(row);\n    for (let j = 0; j < 16; j++) {\n      const _ux = signum(ux[i] * ux[j] + vx[i] * uy[j]);\n      const _uy = signum(uy[i] * ux[j] + vy[i] * uy[j]);\n      const _vx = signum(ux[i] * vx[j] + vx[i] * vy[j]);\n      const _vy = signum(uy[i] * vx[j] + vy[i] * vy[j]);\n      for (let k = 0; k < 16; k++) {\n        if (ux[k] === _ux && uy[k] === _uy && vx[k] === _vx && vy[k] === _vy) {\n          row.push(k);\n          break;\n        }\n      }\n    }\n  }\n  for (let i = 0; i < 16; i++) {\n    const mat = new Matrix();\n    mat.set(ux[i], uy[i], vx[i], vy[i], 0, 0);\n    rotationMatrices.push(mat);\n  }\n}\ninit();\nconst groupD8 = {\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 0       | East      |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  E: 0,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 45     | Southeast |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  SE: 1,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 90     | South     |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  S: 2,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 135    | Southwest |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  SW: 3,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 180     | West      |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  W: 4,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -135/225 | Northwest    |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  NW: 5,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -90/270  | North        |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  N: 6,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -45/315  | Northeast    |\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  NE: 7,\n  /**\n   * Reflection about Y-axis.\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  MIRROR_VERTICAL: 8,\n  /**\n   * Reflection about the main diagonal.\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  MAIN_DIAGONAL: 10,\n  /**\n   * Reflection about X-axis.\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  MIRROR_HORIZONTAL: 12,\n  /**\n   * Reflection about reverse diagonal.\n   * @group groupD8\n   * @type {GD8Symmetry}\n   */\n  REVERSE_DIAGONAL: 14,\n  /**\n   * @group groupD8\n   * @param {GD8Symmetry} ind - sprite rotation angle.\n   * @returns {GD8Symmetry} The X-component of the U-axis\n   *    after rotating the axes.\n   */\n  uX: (ind) => ux[ind],\n  /**\n   * @group groupD8\n   * @param {GD8Symmetry} ind - sprite rotation angle.\n   * @returns {GD8Symmetry} The Y-component of the U-axis\n   *    after rotating the axes.\n   */\n  uY: (ind) => uy[ind],\n  /**\n   * @group groupD8\n   * @param {GD8Symmetry} ind - sprite rotation angle.\n   * @returns {GD8Symmetry} The X-component of the V-axis\n   *    after rotating the axes.\n   */\n  vX: (ind) => vx[ind],\n  /**\n   * @group groupD8\n   * @param {GD8Symmetry} ind - sprite rotation angle.\n   * @returns {GD8Symmetry} The Y-component of the V-axis\n   *    after rotating the axes.\n   */\n  vY: (ind) => vy[ind],\n  /**\n   * @group groupD8\n   * @param {GD8Symmetry} rotation - symmetry whose opposite\n   *   is needed. Only rotations have opposite symmetries while\n   *   reflections don't.\n   * @returns {GD8Symmetry} The opposite symmetry of `rotation`\n   */\n  inv: (rotation) => {\n    if (rotation & 8) {\n      return rotation & 15;\n    }\n    return -rotation & 7;\n  },\n  /**\n   * Composes the two D8 operations.\n   *\n   * Taking `^` as reflection:\n   *\n   * |       | E=0 | S=2 | W=4 | N=6 | E^=8 | S^=10 | W^=12 | N^=14 |\n   * |-------|-----|-----|-----|-----|------|-------|-------|-------|\n   * | E=0   | E   | S   | W   | N   | E^   | S^    | W^    | N^    |\n   * | S=2   | S   | W   | N   | E   | S^   | W^    | N^    | E^    |\n   * | W=4   | W   | N   | E   | S   | W^   | N^    | E^    | S^    |\n   * | N=6   | N   | E   | S   | W   | N^   | E^    | S^    | W^    |\n   * | E^=8  | E^  | N^  | W^  | S^  | E    | N     | W     | S     |\n   * | S^=10 | S^  | E^  | N^  | W^  | S    | E     | N     | W     |\n   * | W^=12 | W^  | S^  | E^  | N^  | W    | S     | E     | N     |\n   * | N^=14 | N^  | W^  | S^  | E^  | N    | W     | S     | E     |\n   *\n   * [This is a Cayley table]{@link https://en.wikipedia.org/wiki/Cayley_table}\n   * @group groupD8\n   * @param {GD8Symmetry} rotationSecond - Second operation, which\n   *   is the row in the above cayley table.\n   * @param {GD8Symmetry} rotationFirst - First operation, which\n   *   is the column in the above cayley table.\n   * @returns {GD8Symmetry} Composed operation\n   */\n  add: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][rotationFirst],\n  /**\n   * Reverse of `add`.\n   * @group groupD8\n   * @param {GD8Symmetry} rotationSecond - Second operation\n   * @param {GD8Symmetry} rotationFirst - First operation\n   * @returns {GD8Symmetry} Result\n   */\n  sub: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],\n  /**\n   * Adds 180 degrees to rotation, which is a commutative\n   * operation.\n   * @group groupD8\n   * @param {number} rotation - The number to rotate.\n   * @returns {number} Rotated number\n   */\n  rotate180: (rotation) => rotation ^ 4,\n  /**\n   * Checks if the rotation angle is vertical, i.e. south\n   * or north. It doesn't work for reflections.\n   * @group groupD8\n   * @param {GD8Symmetry} rotation - The number to check.\n   * @returns {boolean} Whether or not the direction is vertical\n   */\n  isVertical: (rotation) => (rotation & 3) === 2,\n  // rotation % 4 === 2\n  /**\n   * Approximates the vector `V(dx,dy)` into one of the\n   * eight directions provided by `groupD8`.\n   * @group groupD8\n   * @param {number} dx - X-component of the vector\n   * @param {number} dy - Y-component of the vector\n   * @returns {GD8Symmetry} Approximation of the vector into\n   *  one of the eight symmetries.\n   */\n  byDirection: (dx, dy) => {\n    if (Math.abs(dx) * 2 <= Math.abs(dy)) {\n      if (dy >= 0) {\n        return groupD8.S;\n      }\n      return groupD8.N;\n    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {\n      if (dx > 0) {\n        return groupD8.E;\n      }\n      return groupD8.W;\n    } else if (dy > 0) {\n      if (dx > 0) {\n        return groupD8.SE;\n      }\n      return groupD8.SW;\n    } else if (dx > 0) {\n      return groupD8.NE;\n    }\n    return groupD8.NW;\n  },\n  /**\n   * Helps sprite to compensate texture packer rotation.\n   * @group groupD8\n   * @param {Matrix} matrix - sprite world matrix\n   * @param {GD8Symmetry} rotation - The rotation factor to use.\n   * @param {number} tx - sprite anchoring\n   * @param {number} ty - sprite anchoring\n   */\n  matrixAppendRotationInv: (matrix, rotation, tx = 0, ty = 0) => {\n    const mat = rotationMatrices[groupD8.inv(rotation)];\n    mat.tx = tx;\n    mat.ty = ty;\n    matrix.append(mat);\n  },\n  /**\n   * Transforms rectangle coordinates based on texture packer rotation.\n   * Used when texture atlas pages are rotated and coordinates need to be adjusted.\n   * @group groupD8\n   * @param {RectangleLike} rect - Rectangle with original coordinates to transform\n   * @param {RectangleLike} sourceFrame - Source texture frame (includes offset and dimensions)\n   * @param {GD8Symmetry} rotation - The groupD8 rotation value\n   * @param {Rectangle} out - Rectangle to store the result\n   * @returns {Rectangle} Transformed coordinates (includes source frame offset)\n   */\n  transformRectCoords: (rect, sourceFrame, rotation, out) => {\n    const { x, y, width, height } = rect;\n    const { x: frameX, y: frameY, width: frameWidth, height: frameHeight } = sourceFrame;\n    if (rotation === groupD8.E) {\n      out.set(x + frameX, y + frameY, width, height);\n      return out;\n    } else if (rotation === groupD8.S) {\n      return out.set(\n        frameWidth - y - height + frameX,\n        x + frameY,\n        height,\n        width\n      );\n    } else if (rotation === groupD8.W) {\n      return out.set(\n        frameWidth - x - width + frameX,\n        frameHeight - y - height + frameY,\n        width,\n        height\n      );\n    } else if (rotation === groupD8.N) {\n      return out.set(\n        y + frameX,\n        frameHeight - x - width + frameY,\n        height,\n        width\n      );\n    }\n    return out.set(x + frameX, y + frameY, width, height);\n  }\n};\n\nexport { groupD8 };\n//# sourceMappingURL=groupD8.mjs.map\n","import { Point } from '../point/Point.mjs';\n\n\"use strict\";\nconst tempPoints = [new Point(), new Point(), new Point(), new Point()];\nclass Rectangle {\n  /**\n   * @param x - The X coordinate of the upper-left corner of the rectangle\n   * @param y - The Y coordinate of the upper-left corner of the rectangle\n   * @param width - The overall width of the rectangle\n   * @param height - The overall height of the rectangle\n   */\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new Rectangle(0, 0, 100, 100);\n     * console.log(shape.type); // 'rectangle'\n     *\n     * // Use in type guards\n     * if (shape.type === 'rectangle') {\n     *     console.log(shape.width, shape.height);\n     * }\n     * ```\n     * @readonly\n     * @default 'rectangle'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     */\n    this.type = \"rectangle\";\n    this.x = Number(x);\n    this.y = Number(y);\n    this.width = Number(width);\n    this.height = Number(height);\n  }\n  /**\n   * Returns the left edge (x-coordinate) of the rectangle.\n   * @example\n   * ```ts\n   * // Get left edge position\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * console.log(rect.left); // 100\n   *\n   * // Use in alignment calculations\n   * sprite.x = rect.left + padding;\n   *\n   * // Compare positions\n   * if (point.x > rect.left) {\n   *     console.log('Point is right of rectangle');\n   * }\n   * ```\n   * @readonly\n   * @returns The x-coordinate of the left edge\n   * @see {@link Rectangle.right} For right edge position\n   * @see {@link Rectangle.x} For direct x-coordinate access\n   */\n  get left() {\n    return this.x;\n  }\n  /**\n   * Returns the right edge (x + width) of the rectangle.\n   * @example\n   * ```ts\n   * // Get right edge position\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * console.log(rect.right); // 300\n   *\n   * // Align to right edge\n   * sprite.x = rect.right - sprite.width;\n   *\n   * // Check boundaries\n   * if (point.x < rect.right) {\n   *     console.log('Point is inside right bound');\n   * }\n   * ```\n   * @readonly\n   * @returns The x-coordinate of the right edge\n   * @see {@link Rectangle.left} For left edge position\n   * @see {@link Rectangle.width} For width value\n   */\n  get right() {\n    return this.x + this.width;\n  }\n  /**\n   * Returns the top edge (y-coordinate) of the rectangle.\n   * @example\n   * ```ts\n   * // Get top edge position\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * console.log(rect.top); // 100\n   *\n   * // Position above rectangle\n   * sprite.y = rect.top - sprite.height;\n   *\n   * // Check vertical position\n   * if (point.y > rect.top) {\n   *     console.log('Point is below top edge');\n   * }\n   * ```\n   * @readonly\n   * @returns The y-coordinate of the top edge\n   * @see {@link Rectangle.bottom} For bottom edge position\n   * @see {@link Rectangle.y} For direct y-coordinate access\n   */\n  get top() {\n    return this.y;\n  }\n  /**\n   * Returns the bottom edge (y + height) of the rectangle.\n   * @example\n   * ```ts\n   * // Get bottom edge position\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * console.log(rect.bottom); // 250\n   *\n   * // Stack below rectangle\n   * sprite.y = rect.bottom + margin;\n   *\n   * // Check vertical bounds\n   * if (point.y < rect.bottom) {\n   *     console.log('Point is above bottom edge');\n   * }\n   * ```\n   * @readonly\n   * @returns The y-coordinate of the bottom edge\n   * @see {@link Rectangle.top} For top edge position\n   * @see {@link Rectangle.height} For height value\n   */\n  get bottom() {\n    return this.y + this.height;\n  }\n  /**\n   * Determines whether the Rectangle is empty (has no area).\n   * @example\n   * ```ts\n   * // Check zero dimensions\n   * const rect = new Rectangle(100, 100, 0, 50);\n   * console.log(rect.isEmpty()); // true\n   * ```\n   * @returns True if the rectangle has no area\n   * @see {@link Rectangle.width} For width value\n   * @see {@link Rectangle.height} For height value\n   */\n  isEmpty() {\n    return this.left === this.right || this.top === this.bottom;\n  }\n  /**\n   * A constant empty rectangle. This is a new object every time the property is accessed.\n   * @example\n   * ```ts\n   * // Get fresh empty rectangle\n   * const empty = Rectangle.EMPTY;\n   * console.log(empty.isEmpty()); // true\n   * ```\n   * @returns A new empty rectangle instance\n   * @see {@link Rectangle.isEmpty} For empty state testing\n   */\n  static get EMPTY() {\n    return new Rectangle(0, 0, 0, 0);\n  }\n  /**\n   * Creates a clone of this Rectangle\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const original = new Rectangle(100, 100, 200, 150);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.width *= 2;\n   * modified.height += 50;\n   *\n   * // Verify independence\n   * console.log(original.width);  // 200\n   * console.log(modified.width);  // 400\n   * ```\n   * @returns A copy of the rectangle\n   * @see {@link Rectangle.copyFrom} For copying into existing rectangle\n   * @see {@link Rectangle.copyTo} For copying to another rectangle\n   */\n  clone() {\n    return new Rectangle(this.x, this.y, this.width, this.height);\n  }\n  /**\n   * Converts a Bounds object to a Rectangle object.\n   * @example\n   * ```ts\n   * // Convert bounds to rectangle\n   * const bounds = container.getBounds();\n   * const rect = new Rectangle().copyFromBounds(bounds);\n   * ```\n   * @param bounds - The bounds to copy and convert to a rectangle\n   * @returns Returns itself\n   * @see {@link Bounds} For bounds object structure\n   * @see {@link Rectangle.getBounds} For getting rectangle bounds\n   */\n  copyFromBounds(bounds) {\n    this.x = bounds.minX;\n    this.y = bounds.minY;\n    this.width = bounds.maxX - bounds.minX;\n    this.height = bounds.maxY - bounds.minY;\n    return this;\n  }\n  /**\n   * Copies another rectangle to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Rectangle(100, 100, 200, 150);\n   * const target = new Rectangle();\n   * target.copyFrom(source);\n   *\n   * // Chain with other operations\n   * const rect = new Rectangle()\n   *     .copyFrom(source)\n   *     .pad(10);\n   * ```\n   * @param rectangle - The rectangle to copy from\n   * @returns Returns itself\n   * @see {@link Rectangle.copyTo} For copying to another rectangle\n   * @see {@link Rectangle.clone} For creating new rectangle copy\n   */\n  copyFrom(rectangle) {\n    this.x = rectangle.x;\n    this.y = rectangle.y;\n    this.width = rectangle.width;\n    this.height = rectangle.height;\n    return this;\n  }\n  /**\n   * Copies this rectangle to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Rectangle(100, 100, 200, 150);\n   * const target = new Rectangle();\n   * source.copyTo(target);\n   *\n   * // Chain with other operations\n   * const result = source\n   *     .copyTo(new Rectangle())\n   *     .getBounds();\n   * ```\n   * @param rectangle - The rectangle to copy to\n   * @returns Returns given parameter\n   * @see {@link Rectangle.copyFrom} For copying from another rectangle\n   * @see {@link Rectangle.clone} For creating new rectangle copy\n   */\n  copyTo(rectangle) {\n    rectangle.copyFrom(this);\n    return rectangle;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this Rectangle\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * const isInside = rect.contains(150, 125); // true\n   * // Check edge cases\n   * console.log(rect.contains(100, 100)); // true (on edge)\n   * console.log(rect.contains(300, 250)); // false (outside)\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coordinates are within this Rectangle\n   * @see {@link Rectangle.containsRect} For rectangle containment\n   * @see {@link Rectangle.strokeContains} For checking stroke intersection\n   */\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    if (x >= this.x && x < this.x + this.width) {\n      if (y >= this.y && y < this.y + this.height) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this rectangle including the stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * const isOnStroke = rect.strokeContains(150, 100, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = rect.strokeContains(150, 100, 4, 1);   // Inside\n   * const centerStroke = rect.strokeContains(150, 100, 4, 0.5); // Centered\n   * const outerStroke = rect.strokeContains(150, 100, 4, 0);   // Outside\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @param strokeWidth - The width of the line to check\n   * @param alignment - The alignment of the stroke (1 = inner, 0.5 = centered, 0 = outer)\n   * @returns Whether the x/y coordinates are within this rectangle's stroke\n   * @see {@link Rectangle.contains} For checking fill containment\n   * @see {@link Rectangle.getBounds} For getting stroke bounds\n   */\n  strokeContains(x, y, strokeWidth, alignment = 0.5) {\n    const { width, height } = this;\n    if (width <= 0 || height <= 0)\n      return false;\n    const _x = this.x;\n    const _y = this.y;\n    const strokeWidthOuter = strokeWidth * (1 - alignment);\n    const strokeWidthInner = strokeWidth - strokeWidthOuter;\n    const outerLeft = _x - strokeWidthOuter;\n    const outerRight = _x + width + strokeWidthOuter;\n    const outerTop = _y - strokeWidthOuter;\n    const outerBottom = _y + height + strokeWidthOuter;\n    const innerLeft = _x + strokeWidthInner;\n    const innerRight = _x + width - strokeWidthInner;\n    const innerTop = _y + strokeWidthInner;\n    const innerBottom = _y + height - strokeWidthInner;\n    return x >= outerLeft && x <= outerRight && y >= outerTop && y <= outerBottom && !(x > innerLeft && x < innerRight && y > innerTop && y < innerBottom);\n  }\n  /**\n   * Determines whether the `other` Rectangle transformed by `transform` intersects with `this` Rectangle object.\n   * Returns true only if the area of the intersection is >0, this means that Rectangles\n   * sharing a side are not overlapping. Another side effect is that an arealess rectangle\n   * (width or height equal to zero) can't intersect any other rectangle.\n   * @param {Rectangle} other - The Rectangle to intersect with `this`.\n   * @param {Matrix} transform - The transformation matrix of `other`.\n   * @returns {boolean} A value of `true` if the transformed `other` Rectangle intersects with `this`; otherwise `false`.\n   */\n  /**\n   * Determines whether the `other` Rectangle transformed by `transform` intersects with `this` Rectangle object.\n   *\n   * Returns true only if the area of the intersection is greater than 0.\n   * This means that rectangles sharing only a side are not considered intersecting.\n   * @example\n   * ```ts\n   * // Basic intersection check\n   * const rect1 = new Rectangle(0, 0, 100, 100);\n   * const rect2 = new Rectangle(50, 50, 100, 100);\n   * console.log(rect1.intersects(rect2)); // true\n   *\n   * // With transformation matrix\n   * const matrix = new Matrix();\n   * matrix.rotate(Math.PI / 4); // 45 degrees\n   * console.log(rect1.intersects(rect2, matrix)); // Checks with rotation\n   *\n   * // Edge cases\n   * const zeroWidth = new Rectangle(0, 0, 0, 100);\n   * console.log(rect1.intersects(zeroWidth)); // false (no area)\n   * ```\n   * @remarks\n   * - Returns true only if intersection area is > 0\n   * - Rectangles sharing only a side are not intersecting\n   * - Zero-area rectangles cannot intersect anything\n   * - Supports optional transformation matrix\n   * @param other - The Rectangle to intersect with `this`\n   * @param transform - Optional transformation matrix of `other`\n   * @returns True if the transformed `other` Rectangle intersects with `this`\n   * @see {@link Rectangle.containsRect} For containment testing\n   * @see {@link Rectangle.contains} For point testing\n   */\n  intersects(other, transform) {\n    if (!transform) {\n      const x02 = this.x < other.x ? other.x : this.x;\n      const x12 = this.right > other.right ? other.right : this.right;\n      if (x12 <= x02) {\n        return false;\n      }\n      const y02 = this.y < other.y ? other.y : this.y;\n      const y12 = this.bottom > other.bottom ? other.bottom : this.bottom;\n      return y12 > y02;\n    }\n    const x0 = this.left;\n    const x1 = this.right;\n    const y0 = this.top;\n    const y1 = this.bottom;\n    if (x1 <= x0 || y1 <= y0) {\n      return false;\n    }\n    const lt = tempPoints[0].set(other.left, other.top);\n    const lb = tempPoints[1].set(other.left, other.bottom);\n    const rt = tempPoints[2].set(other.right, other.top);\n    const rb = tempPoints[3].set(other.right, other.bottom);\n    if (rt.x <= lt.x || lb.y <= lt.y) {\n      return false;\n    }\n    const s = Math.sign(transform.a * transform.d - transform.b * transform.c);\n    if (s === 0) {\n      return false;\n    }\n    transform.apply(lt, lt);\n    transform.apply(lb, lb);\n    transform.apply(rt, rt);\n    transform.apply(rb, rb);\n    if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0 || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1 || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0 || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1) {\n      return false;\n    }\n    const nx = s * (lb.y - lt.y);\n    const ny = s * (lt.x - lb.x);\n    const n00 = nx * x0 + ny * y0;\n    const n10 = nx * x1 + ny * y0;\n    const n01 = nx * x0 + ny * y1;\n    const n11 = nx * x1 + ny * y1;\n    if (Math.max(n00, n10, n01, n11) <= nx * lt.x + ny * lt.y || Math.min(n00, n10, n01, n11) >= nx * rb.x + ny * rb.y) {\n      return false;\n    }\n    const mx = s * (lt.y - rt.y);\n    const my = s * (rt.x - lt.x);\n    const m00 = mx * x0 + my * y0;\n    const m10 = mx * x1 + my * y0;\n    const m01 = mx * x0 + my * y1;\n    const m11 = mx * x1 + my * y1;\n    if (Math.max(m00, m10, m01, m11) <= mx * lt.x + my * lt.y || Math.min(m00, m10, m01, m11) >= mx * rb.x + my * rb.y) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * Pads the rectangle making it grow in all directions.\n   *\n   * If paddingY is omitted, both paddingX and paddingY will be set to paddingX.\n   * @example\n   * ```ts\n   * // Basic padding\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * rect.pad(10); // Adds 10px padding on all sides\n   *\n   * // Different horizontal and vertical padding\n   * const uiRect = new Rectangle(0, 0, 100, 50);\n   * uiRect.pad(20, 10); // 20px horizontal, 10px vertical\n   * ```\n   * @remarks\n   * - Adjusts x/y by subtracting padding\n   * - Increases width/height by padding * 2\n   * - Common in UI layout calculations\n   * - Chainable with other methods\n   * @param paddingX - The horizontal padding amount\n   * @param paddingY - The vertical padding amount\n   * @returns Returns itself\n   * @see {@link Rectangle.enlarge} For growing to include another rectangle\n   * @see {@link Rectangle.fit} For shrinking to fit within another rectangle\n   */\n  pad(paddingX = 0, paddingY = paddingX) {\n    this.x -= paddingX;\n    this.y -= paddingY;\n    this.width += paddingX * 2;\n    this.height += paddingY * 2;\n    return this;\n  }\n  /**\n   * Fits this rectangle around the passed one.\n   * @example\n   * ```ts\n   * // Basic fitting\n   * const container = new Rectangle(0, 0, 100, 100);\n   * const content = new Rectangle(25, 25, 200, 200);\n   * content.fit(container); // Clips to container bounds\n   * ```\n   * @param rectangle - The rectangle to fit around\n   * @returns Returns itself\n   * @see {@link Rectangle.enlarge} For growing to include another rectangle\n   * @see {@link Rectangle.pad} For adding padding around the rectangle\n   */\n  fit(rectangle) {\n    const x1 = Math.max(this.x, rectangle.x);\n    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.max(this.y, rectangle.y);\n    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);\n    this.x = x1;\n    this.width = Math.max(x2 - x1, 0);\n    this.y = y1;\n    this.height = Math.max(y2 - y1, 0);\n    return this;\n  }\n  /**\n   * Enlarges rectangle so that its corners lie on a grid defined by resolution.\n   * @example\n   * ```ts\n   * // Basic grid alignment\n   * const rect = new Rectangle(10.2, 10.6, 100.8, 100.4);\n   * rect.ceil(); // Aligns to whole pixels\n   *\n   * // Custom resolution grid\n   * const uiRect = new Rectangle(5.3, 5.7, 50.2, 50.8);\n   * uiRect.ceil(0.5); // Aligns to half pixels\n   *\n   * // Use with precision value\n   * const preciseRect = new Rectangle(20.001, 20.999, 100.001, 100.999);\n   * preciseRect.ceil(1, 0.01); // Handles small decimal variations\n   * ```\n   * @param resolution - The grid size to align to (1 = whole pixels)\n   * @param eps - Small number to prevent floating point errors\n   * @returns Returns itself\n   * @see {@link Rectangle.fit} For constraining to bounds\n   * @see {@link Rectangle.enlarge} For growing dimensions\n   */\n  ceil(resolution = 1, eps = 1e-3) {\n    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;\n    const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;\n    this.x = Math.floor((this.x + eps) * resolution) / resolution;\n    this.y = Math.floor((this.y + eps) * resolution) / resolution;\n    this.width = x2 - this.x;\n    this.height = y2 - this.y;\n    return this;\n  }\n  /**\n   * Scales the rectangle's dimensions and position by the specified factors.\n   * @example\n   * ```ts\n   * const rect = new Rectangle(50, 50, 100, 100);\n   *\n   * // Scale uniformly\n   * rect.scale(0.5, 0.5);\n   * // rect is now: x=25, y=25, width=50, height=50\n   *\n   * // non-uniformly\n   * rect.scale(0.5, 1);\n   * // rect is now: x=25, y=50, width=50, height=100\n   * ```\n   * @param x - The factor by which to scale the horizontal properties (x, width).\n   * @param y - The factor by which to scale the vertical properties (y, height).\n   * @returns Returns itself\n   */\n  scale(x, y = x) {\n    this.x *= x;\n    this.y *= y;\n    this.width *= x;\n    this.height *= y;\n    return this;\n  }\n  /**\n   * Enlarges this rectangle to include the passed rectangle.\n   * @example\n   * ```ts\n   * // Basic enlargement\n   * const rect = new Rectangle(50, 50, 100, 100);\n   * const other = new Rectangle(0, 0, 200, 75);\n   * rect.enlarge(other);\n   * // rect is now: x=0, y=0, width=200, height=150\n   *\n   * // Use for bounding box calculation\n   * const bounds = new Rectangle();\n   * objects.forEach((obj) => {\n   *     bounds.enlarge(obj.getBounds());\n   * });\n   * ```\n   * @param rectangle - The rectangle to include\n   * @returns Returns itself\n   * @see {@link Rectangle.fit} For shrinking to fit within another rectangle\n   * @see {@link Rectangle.pad} For adding padding around the rectangle\n   */\n  enlarge(rectangle) {\n    const x1 = Math.min(this.x, rectangle.x);\n    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.min(this.y, rectangle.y);\n    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);\n    this.x = x1;\n    this.width = x2 - x1;\n    this.y = y1;\n    this.height = y2 - y1;\n    return this;\n  }\n  /**\n   * Returns the framing rectangle of the rectangle as a Rectangle object\n   * @example\n   * ```ts\n   * // Basic bounds retrieval\n   * const rect = new Rectangle(100, 100, 200, 150);\n   * const bounds = rect.getBounds();\n   *\n   * // Reuse existing rectangle\n   * const out = new Rectangle();\n   * rect.getBounds(out);\n   * ```\n   * @param out - Optional rectangle to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle.copyFrom} For direct copying\n   * @see {@link Rectangle.clone} For creating new copy\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    out.copyFrom(this);\n    return out;\n  }\n  /**\n   * Determines whether another Rectangle is fully contained within this Rectangle.\n   *\n   * Rectangles that occupy the same space are considered to be containing each other.\n   *\n   * Rectangles without area (width or height equal to zero) can't contain anything,\n   * not even other arealess rectangles.\n   * @example\n   * ```ts\n   * // Check if one rectangle contains another\n   * const container = new Rectangle(0, 0, 100, 100);\n   * const inner = new Rectangle(25, 25, 50, 50);\n   *\n   * console.log(container.containsRect(inner)); // true\n   *\n   * // Check overlapping rectangles\n   * const partial = new Rectangle(75, 75, 50, 50);\n   * console.log(container.containsRect(partial)); // false\n   *\n   * // Zero-area rectangles\n   * const empty = new Rectangle(0, 0, 0, 100);\n   * console.log(container.containsRect(empty)); // false\n   * ```\n   * @param other - The Rectangle to check for containment\n   * @returns True if other is fully contained within this Rectangle\n   * @see {@link Rectangle.contains} For point containment\n   * @see {@link Rectangle.intersects} For overlap testing\n   */\n  containsRect(other) {\n    if (this.width <= 0 || this.height <= 0)\n      return false;\n    const x1 = other.x;\n    const y1 = other.y;\n    const x2 = other.x + other.width;\n    const y2 = other.y + other.height;\n    return x1 >= this.x && x1 < this.x + this.width && y1 >= this.y && y1 < this.y + this.height && x2 >= this.x && x2 < this.x + this.width && y2 >= this.y && y2 < this.y + this.height;\n  }\n  /**\n   * Sets the position and dimensions of the rectangle.\n   * @example\n   * ```ts\n   * // Basic usage\n   * const rect = new Rectangle();\n   * rect.set(100, 100, 200, 150);\n   *\n   * // Chain with other operations\n   * const bounds = new Rectangle()\n   *     .set(0, 0, 100, 100)\n   *     .pad(10);\n   * ```\n   * @param x - The X coordinate of the upper-left corner of the rectangle\n   * @param y - The Y coordinate of the upper-left corner of the rectangle\n   * @param width - The overall width of the rectangle\n   * @param height - The overall height of the rectangle\n   * @returns Returns itself for method chaining\n   * @see {@link Rectangle.copyFrom} For copying from another rectangle\n   * @see {@link Rectangle.clone} For creating a new copy\n   */\n  set(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    return this;\n  }\n  toString() {\n    return `[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;\n  }\n}\n\nexport { Rectangle };\n//# sourceMappingURL=Rectangle.mjs.map\n","\"use strict\";\nconst uidCache = {\n  default: -1\n};\nfunction uid(name = \"default\") {\n  if (uidCache[name] === void 0) {\n    uidCache[name] = -1;\n  }\n  return ++uidCache[name];\n}\nfunction resetUids() {\n  for (const key in uidCache) {\n    delete uidCache[key];\n  }\n}\n\nexport { resetUids, uid };\n//# sourceMappingURL=uid.mjs.map\n","\"use strict\";\nconst warnings = /* @__PURE__ */ new Set();\nconst v8_0_0 = \"8.0.0\";\nconst v8_3_4 = \"8.3.4\";\nconst deprecationState = {\n  quiet: false,\n  noColor: false\n};\nconst deprecation = (version, message, ignoreDepth = 3) => {\n  if (deprecationState.quiet || warnings.has(message))\n    return;\n  let stack = new Error().stack;\n  const deprecationMessage = `${message}\nDeprecated since v${version}`;\n  const useGroup = typeof console.groupCollapsed === \"function\" && !deprecationState.noColor;\n  if (typeof stack === \"undefined\") {\n    console.warn(\"PixiJS Deprecation Warning: \", deprecationMessage);\n  } else {\n    stack = stack.split(\"\\n\").splice(ignoreDepth).join(\"\\n\");\n    if (useGroup) {\n      console.groupCollapsed(\n        \"%cPixiJS Deprecation Warning: %c%s\",\n        \"color:#614108;background:#fffbe6\",\n        \"font-weight:normal;color:#614108;background:#fffbe6\",\n        deprecationMessage\n      );\n      console.warn(stack);\n      console.groupEnd();\n    } else {\n      console.warn(\"PixiJS Deprecation Warning: \", deprecationMessage);\n      console.warn(stack);\n    }\n  }\n  warnings.add(message);\n};\nObject.defineProperties(deprecation, {\n  quiet: {\n    get: () => deprecationState.quiet,\n    set: (value) => {\n      deprecationState.quiet = value;\n    },\n    enumerable: true,\n    configurable: false\n  },\n  noColor: {\n    get: () => deprecationState.noColor,\n    set: (value) => {\n      deprecationState.noColor = value;\n    },\n    enumerable: true,\n    configurable: false\n  }\n});\n\nexport { deprecation, v8_0_0, v8_3_4 };\n//# sourceMappingURL=deprecation.mjs.map\n","\"use strict\";\nconst NOOP = () => {\n};\n\nexport { NOOP };\n//# sourceMappingURL=NOOP.mjs.map\n","\"use strict\";\nfunction nextPow2(v) {\n  v += v === 0 ? 1 : 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\nfunction isPow2(v) {\n  return !(v & v - 1) && !!v;\n}\nfunction log2(v) {\n  let r = (v > 65535 ? 1 : 0) << 4;\n  v >>>= r;\n  let shift = (v > 255 ? 1 : 0) << 3;\n  v >>>= shift;\n  r |= shift;\n  shift = (v > 15 ? 1 : 0) << 2;\n  v >>>= shift;\n  r |= shift;\n  shift = (v > 3 ? 1 : 0) << 1;\n  v >>>= shift;\n  r |= shift;\n  return r | v >> 1;\n}\n\nexport { isPow2, log2, nextPow2 };\n//# sourceMappingURL=pow2.mjs.map\n","\"use strict\";\nfunction definedProps(obj) {\n  const result = {};\n  for (const key in obj) {\n    if (obj[key] !== void 0) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\n\nexport { definedProps };\n//# sourceMappingURL=definedProps.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst idHash = /* @__PURE__ */ Object.create(null);\nfunction createResourceIdFromString(value) {\n  const id = idHash[value];\n  if (id === void 0) {\n    idHash[value] = uid(\"resource\");\n  }\n  return id;\n}\nconst _TextureStyle = class _TextureStyle extends EventEmitter {\n  /**\n   * @param options - options for the style\n   */\n  constructor(options = {}) {\n    super();\n    /** @internal */\n    this._resourceType = \"textureSampler\";\n    /** @internal */\n    this._touched = 0;\n    /**\n     * Specifies the maximum anisotropy value clamp used by the sampler.\n     * Note: Most implementations support {@link TextureStyle#maxAnisotropy} values in range\n     * between 1 and 16, inclusive. The used value of {@link TextureStyle#maxAnisotropy} will\n     * be clamped to the maximum value that the platform supports.\n     * @internal\n     */\n    this._maxAnisotropy = 1;\n    /**\n     * Has the style been destroyed?\n     * @readonly\n     */\n    this.destroyed = false;\n    options = { ..._TextureStyle.defaultOptions, ...options };\n    this.addressMode = options.addressMode;\n    this.addressModeU = options.addressModeU ?? this.addressModeU;\n    this.addressModeV = options.addressModeV ?? this.addressModeV;\n    this.addressModeW = options.addressModeW ?? this.addressModeW;\n    this.scaleMode = options.scaleMode;\n    this.magFilter = options.magFilter ?? this.magFilter;\n    this.minFilter = options.minFilter ?? this.minFilter;\n    this.mipmapFilter = options.mipmapFilter ?? this.mipmapFilter;\n    this.lodMinClamp = options.lodMinClamp;\n    this.lodMaxClamp = options.lodMaxClamp;\n    this.compare = options.compare;\n    this.maxAnisotropy = options.maxAnisotropy ?? 1;\n  }\n  set addressMode(value) {\n    this.addressModeU = value;\n    this.addressModeV = value;\n    this.addressModeW = value;\n  }\n  /** setting this will set wrapModeU,wrapModeV and wrapModeW all at once! */\n  get addressMode() {\n    return this.addressModeU;\n  }\n  set wrapMode(value) {\n    deprecation(v8_0_0, \"TextureStyle.wrapMode is now TextureStyle.addressMode\");\n    this.addressMode = value;\n  }\n  get wrapMode() {\n    return this.addressMode;\n  }\n  set scaleMode(value) {\n    this.magFilter = value;\n    this.minFilter = value;\n    this.mipmapFilter = value;\n  }\n  /** setting this will set magFilter,minFilter and mipmapFilter all at once!  */\n  get scaleMode() {\n    return this.magFilter;\n  }\n  /** Specifies the maximum anisotropy value clamp used by the sampler. */\n  set maxAnisotropy(value) {\n    this._maxAnisotropy = Math.min(value, 16);\n    if (this._maxAnisotropy > 1) {\n      this.scaleMode = \"linear\";\n    }\n  }\n  get maxAnisotropy() {\n    return this._maxAnisotropy;\n  }\n  // TODO - move this to WebGL?\n  get _resourceId() {\n    return this._sharedResourceId || this._generateResourceId();\n  }\n  update() {\n    this.emit(\"change\", this);\n    this._sharedResourceId = null;\n  }\n  _generateResourceId() {\n    const bigKey = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;\n    this._sharedResourceId = createResourceIdFromString(bigKey);\n    return this._resourceId;\n  }\n  /** Destroys the style */\n  destroy() {\n    this.destroyed = true;\n    this.emit(\"destroy\", this);\n    this.emit(\"change\", this);\n    this.removeAllListeners();\n  }\n};\n/** default options for the style */\n_TextureStyle.defaultOptions = {\n  addressMode: \"clamp-to-edge\",\n  scaleMode: \"linear\"\n};\nlet TextureStyle = _TextureStyle;\n\nexport { TextureStyle };\n//# sourceMappingURL=TextureStyle.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { isPow2 } from '../../../../../maths/misc/pow2.mjs';\nimport { definedProps } from '../../../../../scene/container/utils/definedProps.mjs';\nimport { uid } from '../../../../../utils/data/uid.mjs';\nimport { TextureStyle } from '../TextureStyle.mjs';\n\n\"use strict\";\nconst _TextureSource = class _TextureSource extends EventEmitter {\n  /**\n   * @param options - options for creating a new TextureSource\n   */\n  constructor(options = {}) {\n    super();\n    this.options = options;\n    /** unique id for this Texture source */\n    this.uid = uid(\"textureSource\");\n    /**\n     * The resource type used by this TextureSource. This is used by the bind groups to determine\n     * how to handle this resource.\n     * @internal\n     */\n    this._resourceType = \"textureSource\";\n    /**\n     * i unique resource id, used by the bind group systems.\n     * This can change if the texture is resized or its resource changes\n     * @internal\n     */\n    this._resourceId = uid(\"resource\");\n    /**\n     * this is how the backends know how to upload this texture to the GPU\n     * It changes depending on the resource type. Classes that extend TextureSource\n     * should override this property.\n     * @internal\n     */\n    this.uploadMethodId = \"unknown\";\n    /** @internal */\n    this._resolution = 1;\n    /** the pixel width of this texture source. This is the REAL pure number, not accounting resolution */\n    this.pixelWidth = 1;\n    /** the pixel height of this texture source. This is the REAL pure number, not accounting resolution */\n    this.pixelHeight = 1;\n    /**\n     * the width of this texture source, accounting for resolution\n     * eg pixelWidth 200, resolution 2, then width will be 100\n     */\n    this.width = 1;\n    /**\n     * the height of this texture source, accounting for resolution\n     * eg pixelHeight 200, resolution 2, then height will be 100\n     */\n    this.height = 1;\n    /**\n     * The number of samples of a multisample texture. This is always 1 for non-multisample textures.\n     * To enable multisample for a texture, set antialias to true\n     * @internal\n     */\n    this.sampleCount = 1;\n    /** The number of mip levels to generate for this texture. this is  overridden if autoGenerateMipmaps is true */\n    this.mipLevelCount = 1;\n    /**\n     * Should we auto generate mipmaps for this texture? This will automatically generate mipmaps\n     * for this texture when uploading to the GPU. Mipmapped textures take up more memory, but\n     * can look better when scaled down.\n     *\n     * For performance reasons, it is recommended to NOT use this with RenderTextures, as they are often updated every frame.\n     * If you do, make sure to call `updateMipmaps` after you update the texture.\n     */\n    this.autoGenerateMipmaps = false;\n    /** the format that the texture data has */\n    this.format = \"rgba8unorm\";\n    /** how many dimensions does this texture have? currently v8 only supports 2d */\n    this.dimension = \"2d\";\n    /**\n     * Only really affects RenderTextures.\n     * Should we use antialiasing for this texture. It will look better, but may impact performance as a\n     * Blit operation will be required to resolve the texture.\n     */\n    this.antialias = false;\n    /**\n     * Used by automatic texture Garbage Collection, stores last GC tick when it was bound\n     * @protected\n     */\n    this._touched = 0;\n    /**\n     * Used by the batcher to build texture batches. faster to have the variable here!\n     * @protected\n     */\n    this._batchTick = -1;\n    /**\n     * A temporary batch location for the texture batching. Here for performance reasons only!\n     * @protected\n     */\n    this._textureBindLocation = -1;\n    options = { ..._TextureSource.defaultOptions, ...options };\n    this.label = options.label ?? \"\";\n    this.resource = options.resource;\n    this.autoGarbageCollect = options.autoGarbageCollect;\n    this._resolution = options.resolution;\n    if (options.width) {\n      this.pixelWidth = options.width * this._resolution;\n    } else {\n      this.pixelWidth = this.resource ? this.resourceWidth ?? 1 : 1;\n    }\n    if (options.height) {\n      this.pixelHeight = options.height * this._resolution;\n    } else {\n      this.pixelHeight = this.resource ? this.resourceHeight ?? 1 : 1;\n    }\n    this.width = this.pixelWidth / this._resolution;\n    this.height = this.pixelHeight / this._resolution;\n    this.format = options.format;\n    this.dimension = options.dimensions;\n    this.mipLevelCount = options.mipLevelCount;\n    this.autoGenerateMipmaps = options.autoGenerateMipmaps;\n    this.sampleCount = options.sampleCount;\n    this.antialias = options.antialias;\n    this.alphaMode = options.alphaMode;\n    this.style = new TextureStyle(definedProps(options));\n    this.destroyed = false;\n    this._refreshPOT();\n  }\n  /** returns itself */\n  get source() {\n    return this;\n  }\n  /** the style of the texture */\n  get style() {\n    return this._style;\n  }\n  set style(value) {\n    if (this.style === value)\n      return;\n    this._style?.off(\"change\", this._onStyleChange, this);\n    this._style = value;\n    this._style?.on(\"change\", this._onStyleChange, this);\n    this._onStyleChange();\n  }\n  /** Specifies the maximum anisotropy value clamp used by the sampler. */\n  set maxAnisotropy(value) {\n    this._style.maxAnisotropy = value;\n  }\n  get maxAnisotropy() {\n    return this._style.maxAnisotropy;\n  }\n  /** setting this will set wrapModeU, wrapModeV and wrapModeW all at once! */\n  get addressMode() {\n    return this._style.addressMode;\n  }\n  set addressMode(value) {\n    this._style.addressMode = value;\n  }\n  /** setting this will set wrapModeU, wrapModeV and wrapModeW all at once! */\n  get repeatMode() {\n    return this._style.addressMode;\n  }\n  set repeatMode(value) {\n    this._style.addressMode = value;\n  }\n  /** Specifies the sampling behavior when the sample footprint is smaller than or equal to one texel. */\n  get magFilter() {\n    return this._style.magFilter;\n  }\n  set magFilter(value) {\n    this._style.magFilter = value;\n  }\n  /** Specifies the sampling behavior when the sample footprint is larger than one texel. */\n  get minFilter() {\n    return this._style.minFilter;\n  }\n  set minFilter(value) {\n    this._style.minFilter = value;\n  }\n  /** Specifies behavior for sampling between mipmap levels. */\n  get mipmapFilter() {\n    return this._style.mipmapFilter;\n  }\n  set mipmapFilter(value) {\n    this._style.mipmapFilter = value;\n  }\n  /** Specifies the minimum and maximum levels of detail, respectively, used internally when sampling a texture. */\n  get lodMinClamp() {\n    return this._style.lodMinClamp;\n  }\n  set lodMinClamp(value) {\n    this._style.lodMinClamp = value;\n  }\n  /** Specifies the minimum and maximum levels of detail, respectively, used internally when sampling a texture. */\n  get lodMaxClamp() {\n    return this._style.lodMaxClamp;\n  }\n  set lodMaxClamp(value) {\n    this._style.lodMaxClamp = value;\n  }\n  _onStyleChange() {\n    this.emit(\"styleChange\", this);\n  }\n  /** call this if you have modified the texture outside of the constructor */\n  update() {\n    if (this.resource) {\n      const resolution = this._resolution;\n      const didResize = this.resize(this.resourceWidth / resolution, this.resourceHeight / resolution);\n      if (didResize)\n        return;\n    }\n    this.emit(\"update\", this);\n  }\n  /** Destroys this texture source */\n  destroy() {\n    this.destroyed = true;\n    this.emit(\"destroy\", this);\n    this.emit(\"change\", this);\n    if (this._style) {\n      this._style.destroy();\n      this._style = null;\n    }\n    this.uploadMethodId = null;\n    this.resource = null;\n    this.removeAllListeners();\n  }\n  /**\n   * This will unload the Texture source from the GPU. This will free up the GPU memory\n   * As soon as it is required fore rendering, it will be re-uploaded.\n   */\n  unload() {\n    this._resourceId = uid(\"resource\");\n    this.emit(\"change\", this);\n    this.emit(\"unload\", this);\n  }\n  /** the width of the resource. This is the REAL pure number, not accounting resolution   */\n  get resourceWidth() {\n    const { resource } = this;\n    return resource.naturalWidth || resource.videoWidth || resource.displayWidth || resource.width;\n  }\n  /** the height of the resource. This is the REAL pure number, not accounting resolution */\n  get resourceHeight() {\n    const { resource } = this;\n    return resource.naturalHeight || resource.videoHeight || resource.displayHeight || resource.height;\n  }\n  /**\n   * the resolution of the texture. Changing this number, will not change the number of pixels in the actual texture\n   * but will the size of the texture when rendered.\n   *\n   * changing the resolution of this texture to 2 for example will make it appear twice as small when rendered (as pixel\n   * density will have increased)\n   */\n  get resolution() {\n    return this._resolution;\n  }\n  set resolution(resolution) {\n    if (this._resolution === resolution)\n      return;\n    this._resolution = resolution;\n    this.width = this.pixelWidth / resolution;\n    this.height = this.pixelHeight / resolution;\n  }\n  /**\n   * Resize the texture, this is handy if you want to use the texture as a render texture\n   * @param width - the new width of the texture\n   * @param height - the new height of the texture\n   * @param resolution - the new resolution of the texture\n   * @returns - if the texture was resized\n   */\n  resize(width, height, resolution) {\n    resolution || (resolution = this._resolution);\n    width || (width = this.width);\n    height || (height = this.height);\n    const newPixelWidth = Math.round(width * resolution);\n    const newPixelHeight = Math.round(height * resolution);\n    this.width = newPixelWidth / resolution;\n    this.height = newPixelHeight / resolution;\n    this._resolution = resolution;\n    if (this.pixelWidth === newPixelWidth && this.pixelHeight === newPixelHeight) {\n      return false;\n    }\n    this._refreshPOT();\n    this.pixelWidth = newPixelWidth;\n    this.pixelHeight = newPixelHeight;\n    this.emit(\"resize\", this);\n    this._resourceId = uid(\"resource\");\n    this.emit(\"change\", this);\n    return true;\n  }\n  /**\n   * Lets the renderer know that this texture has been updated and its mipmaps should be re-generated.\n   * This is only important for RenderTexture instances, as standard Texture instances will have their\n   * mipmaps generated on upload. You should call this method after you make any change to the texture\n   *\n   * The reason for this is is can be quite expensive to update mipmaps for a texture. So by default,\n   * We want you, the developer to specify when this action should happen.\n   *\n   * Generally you don't want to have mipmaps generated on Render targets that are changed every frame,\n   */\n  updateMipmaps() {\n    if (this.autoGenerateMipmaps && this.mipLevelCount > 1) {\n      this.emit(\"updateMipmaps\", this);\n    }\n  }\n  set wrapMode(value) {\n    this._style.wrapMode = value;\n  }\n  get wrapMode() {\n    return this._style.wrapMode;\n  }\n  set scaleMode(value) {\n    this._style.scaleMode = value;\n  }\n  /** setting this will set magFilter,minFilter and mipmapFilter all at once!  */\n  get scaleMode() {\n    return this._style.scaleMode;\n  }\n  /**\n   * Refresh check for isPowerOfTwo texture based on size\n   * @private\n   */\n  _refreshPOT() {\n    this.isPowerOfTwo = isPow2(this.pixelWidth) && isPow2(this.pixelHeight);\n  }\n  static test(_resource) {\n    throw new Error(\"Unimplemented\");\n  }\n};\n/** The default options used when creating a new TextureSource. override these to add your own defaults */\n_TextureSource.defaultOptions = {\n  resolution: 1,\n  format: \"bgra8unorm\",\n  alphaMode: \"premultiply-alpha-on-upload\",\n  dimensions: \"2d\",\n  mipLevelCount: 1,\n  autoGenerateMipmaps: false,\n  sampleCount: 1,\n  antialias: false,\n  autoGarbageCollect: false\n};\nlet TextureSource = _TextureSource;\n\nexport { TextureSource };\n//# sourceMappingURL=TextureSource.mjs.map\n","import { ExtensionType } from '../../../../../extensions/Extensions.mjs';\nimport { TextureSource } from './TextureSource.mjs';\n\n\"use strict\";\nclass BufferImageSource extends TextureSource {\n  constructor(options) {\n    const buffer = options.resource || new Float32Array(options.width * options.height * 4);\n    let format = options.format;\n    if (!format) {\n      if (buffer instanceof Float32Array) {\n        format = \"rgba32float\";\n      } else if (buffer instanceof Int32Array) {\n        format = \"rgba32uint\";\n      } else if (buffer instanceof Uint32Array) {\n        format = \"rgba32uint\";\n      } else if (buffer instanceof Int16Array) {\n        format = \"rgba16uint\";\n      } else if (buffer instanceof Uint16Array) {\n        format = \"rgba16uint\";\n      } else if (buffer instanceof Int8Array) {\n        format = \"bgra8unorm\";\n      } else {\n        format = \"bgra8unorm\";\n      }\n    }\n    super({\n      ...options,\n      resource: buffer,\n      format\n    });\n    this.uploadMethodId = \"buffer\";\n  }\n  static test(resource) {\n    return resource instanceof Int8Array || resource instanceof Uint8Array || resource instanceof Uint8ClampedArray || resource instanceof Int16Array || resource instanceof Uint16Array || resource instanceof Int32Array || resource instanceof Uint32Array || resource instanceof Float32Array;\n  }\n}\nBufferImageSource.extension = ExtensionType.TextureSource;\n\nexport { BufferImageSource };\n//# sourceMappingURL=BufferImageSource.mjs.map\n","import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\n\n\"use strict\";\nconst tempMat = new Matrix();\nclass TextureMatrix {\n  /**\n   * @param texture - observed texture\n   * @param clampMargin - Changes frame clamping, 0.5 by default. Use -0.5 for extra border.\n   */\n  constructor(texture, clampMargin) {\n    this.mapCoord = new Matrix();\n    this.uClampFrame = new Float32Array(4);\n    this.uClampOffset = new Float32Array(2);\n    this._textureID = -1;\n    this._updateID = 0;\n    this.clampOffset = 0;\n    if (typeof clampMargin === \"undefined\") {\n      this.clampMargin = texture.width < 10 ? 0 : 0.5;\n    } else {\n      this.clampMargin = clampMargin;\n    }\n    this.isSimple = false;\n    this.texture = texture;\n  }\n  /** Texture property. */\n  get texture() {\n    return this._texture;\n  }\n  set texture(value) {\n    if (this.texture === value)\n      return;\n    this._texture?.removeListener(\"update\", this.update, this);\n    this._texture = value;\n    this._texture.addListener(\"update\", this.update, this);\n    this.update();\n  }\n  /**\n   * Multiplies uvs array to transform\n   * @param uvs - mesh uvs\n   * @param [out=uvs] - output\n   * @returns - output\n   */\n  multiplyUvs(uvs, out) {\n    if (out === void 0) {\n      out = uvs;\n    }\n    const mat = this.mapCoord;\n    for (let i = 0; i < uvs.length; i += 2) {\n      const x = uvs[i];\n      const y = uvs[i + 1];\n      out[i] = x * mat.a + y * mat.c + mat.tx;\n      out[i + 1] = x * mat.b + y * mat.d + mat.ty;\n    }\n    return out;\n  }\n  /**\n   * Updates matrices if texture was changed\n   * @returns - whether or not it was updated\n   */\n  update() {\n    const tex = this._texture;\n    this._updateID++;\n    const uvs = tex.uvs;\n    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);\n    const orig = tex.orig;\n    const trim = tex.trim;\n    if (trim) {\n      tempMat.set(\n        orig.width / trim.width,\n        0,\n        0,\n        orig.height / trim.height,\n        -trim.x / trim.width,\n        -trim.y / trim.height\n      );\n      this.mapCoord.append(tempMat);\n    }\n    const texBase = tex.source;\n    const frame = this.uClampFrame;\n    const margin = this.clampMargin / texBase._resolution;\n    const offset = this.clampOffset / texBase._resolution;\n    frame[0] = (tex.frame.x + margin + offset) / texBase.width;\n    frame[1] = (tex.frame.y + margin + offset) / texBase.height;\n    frame[2] = (tex.frame.x + tex.frame.width - margin + offset) / texBase.width;\n    frame[3] = (tex.frame.y + tex.frame.height - margin + offset) / texBase.height;\n    this.uClampOffset[0] = this.clampOffset / texBase.pixelWidth;\n    this.uClampOffset[1] = this.clampOffset / texBase.pixelHeight;\n    this.isSimple = tex.frame.width === texBase.width && tex.frame.height === texBase.height && tex.rotate === 0;\n    return true;\n  }\n}\n\nexport { TextureMatrix };\n//# sourceMappingURL=TextureMatrix.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { groupD8 } from '../../../../maths/matrix/groupD8.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\nimport { NOOP } from '../../../../utils/misc/NOOP.mjs';\nimport { BufferImageSource } from './sources/BufferImageSource.mjs';\nimport { TextureSource } from './sources/TextureSource.mjs';\nimport { TextureMatrix } from './TextureMatrix.mjs';\n\n\"use strict\";\nclass Texture extends EventEmitter {\n  /**\n   * @param {TextureOptions} options - Options for the texture\n   */\n  constructor({\n    source,\n    label,\n    frame,\n    orig,\n    trim,\n    defaultAnchor,\n    defaultBorders,\n    rotate,\n    dynamic\n  } = {}) {\n    super();\n    /** unique id for this texture */\n    this.uid = uid(\"texture\");\n    /** A uvs object based on the given frame and the texture source */\n    this.uvs = { x0: 0, y0: 0, x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0 };\n    /**\n     * This is the area of the BaseTexture image to actually copy to the Canvas / WebGL when rendering,\n     * irrespective of the actual frame size or placement (which can be influenced by trimmed texture atlases)\n     */\n    this.frame = new Rectangle();\n    /**\n     * Does this Texture have any frame data assigned to it?\n     *\n     * This mode is enabled automatically if no frame was passed inside constructor.\n     *\n     * In this mode texture is subscribed to baseTexture events, and fires `update` on any change.\n     *\n     * Beware, after loading or resize of baseTexture event can fired two times!\n     * If you want more control, subscribe on baseTexture itself.\n     * @example\n     * texture.on('update', () => {});\n     */\n    this.noFrame = false;\n    /**\n     * Set to true if you plan on modifying the uvs of this texture.\n     * When this is the case, sprites and other objects using the texture will\n     * make sure to listen for changes to the uvs and update their vertices accordingly.\n     */\n    this.dynamic = false;\n    /** is it a texture? yes! used for type checking */\n    this.isTexture = true;\n    this.label = label;\n    this.source = source?.source ?? new TextureSource();\n    this.noFrame = !frame;\n    if (frame) {\n      this.frame.copyFrom(frame);\n    } else {\n      const { width, height } = this._source;\n      this.frame.width = width;\n      this.frame.height = height;\n    }\n    this.orig = orig || this.frame;\n    this.trim = trim;\n    this.rotate = rotate ?? 0;\n    this.defaultAnchor = defaultAnchor;\n    this.defaultBorders = defaultBorders;\n    this.destroyed = false;\n    this.dynamic = dynamic || false;\n    this.updateUvs();\n  }\n  set source(value) {\n    if (this._source) {\n      this._source.off(\"resize\", this.update, this);\n    }\n    this._source = value;\n    value.on(\"resize\", this.update, this);\n    this.emit(\"update\", this);\n  }\n  /** the underlying source of the texture (equivalent of baseTexture in v7) */\n  get source() {\n    return this._source;\n  }\n  /** returns a TextureMatrix instance for this texture. By default, that object is not created because its heavy. */\n  get textureMatrix() {\n    if (!this._textureMatrix) {\n      this._textureMatrix = new TextureMatrix(this);\n    }\n    return this._textureMatrix;\n  }\n  /** The width of the Texture in pixels. */\n  get width() {\n    return this.orig.width;\n  }\n  /** The height of the Texture in pixels. */\n  get height() {\n    return this.orig.height;\n  }\n  /** Call this function when you have modified the frame of this texture. */\n  updateUvs() {\n    const { uvs, frame } = this;\n    const { width, height } = this._source;\n    const nX = frame.x / width;\n    const nY = frame.y / height;\n    const nW = frame.width / width;\n    const nH = frame.height / height;\n    let rotate = this.rotate;\n    if (rotate) {\n      const w2 = nW / 2;\n      const h2 = nH / 2;\n      const cX = nX + w2;\n      const cY = nY + h2;\n      rotate = groupD8.add(rotate, groupD8.NW);\n      uvs.x0 = cX + w2 * groupD8.uX(rotate);\n      uvs.y0 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      uvs.x1 = cX + w2 * groupD8.uX(rotate);\n      uvs.y1 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      uvs.x2 = cX + w2 * groupD8.uX(rotate);\n      uvs.y2 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      uvs.x3 = cX + w2 * groupD8.uX(rotate);\n      uvs.y3 = cY + h2 * groupD8.uY(rotate);\n    } else {\n      uvs.x0 = nX;\n      uvs.y0 = nY;\n      uvs.x1 = nX + nW;\n      uvs.y1 = nY;\n      uvs.x2 = nX + nW;\n      uvs.y2 = nY + nH;\n      uvs.x3 = nX;\n      uvs.y3 = nY + nH;\n    }\n  }\n  /**\n   * Destroys this texture\n   * @param destroySource - Destroy the source when the texture is destroyed.\n   */\n  destroy(destroySource = false) {\n    if (this._source) {\n      if (destroySource) {\n        this._source.destroy();\n        this._source = null;\n      }\n    }\n    this._textureMatrix = null;\n    this.destroyed = true;\n    this.emit(\"destroy\", this);\n    this.removeAllListeners();\n  }\n  /**\n   * Call this if you have modified the `texture outside` of the constructor.\n   *\n   * If you have modified this texture's source, you must separately call `texture.source.update()` to see those changes.\n   */\n  update() {\n    if (this.noFrame) {\n      this.frame.width = this._source.width;\n      this.frame.height = this._source.height;\n    }\n    this.updateUvs();\n    this.emit(\"update\", this);\n  }\n  /** @deprecated since 8.0.0 */\n  get baseTexture() {\n    deprecation(v8_0_0, \"Texture.baseTexture is now Texture.source\");\n    return this._source;\n  }\n}\nTexture.EMPTY = new Texture({\n  label: \"EMPTY\",\n  source: new TextureSource({\n    label: \"EMPTY\"\n  })\n});\nTexture.EMPTY.destroy = NOOP;\nTexture.WHITE = new Texture({\n  source: new BufferImageSource({\n    resource: new Uint8Array([255, 255, 255, 255]),\n    width: 1,\n    height: 1,\n    alphaMode: \"premultiply-alpha-on-upload\",\n    label: \"WHITE\"\n  }),\n  label: \"WHITE\"\n});\nTexture.WHITE.destroy = NOOP;\n\nexport { Texture };\n//# sourceMappingURL=Texture.mjs.map\n","\"use strict\";\nfunction updateQuadBounds(bounds, anchor, texture) {\n  const { width, height } = texture.orig;\n  const trim = texture.trim;\n  if (trim) {\n    const sourceWidth = trim.width;\n    const sourceHeight = trim.height;\n    bounds.minX = trim.x - anchor._x * width;\n    bounds.maxX = bounds.minX + sourceWidth;\n    bounds.minY = trim.y - anchor._y * height;\n    bounds.maxY = bounds.minY + sourceHeight;\n  } else {\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n}\n\nexport { updateQuadBounds };\n//# sourceMappingURL=updateQuadBounds.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Rectangle } from '../../../maths/shapes/Rectangle.mjs';\n\n\"use strict\";\nconst defaultMatrix = new Matrix();\nclass Bounds {\n  /**\n   * Creates a new Bounds object.\n   * @param minX - The minimum X coordinate of the bounds.\n   * @param minY - The minimum Y coordinate of the bounds.\n   * @param maxX - The maximum X coordinate of the bounds.\n   * @param maxY - The maximum Y coordinate of the bounds.\n   */\n  constructor(minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity) {\n    /**\n     * The minimum X coordinate of the bounds.\n     * Represents the leftmost edge of the bounding box.\n     * @example\n     * ```ts\n     * const bounds = new Bounds();\n     * // Set left edge\n     * bounds.minX = 100;\n     * ```\n     * @default Infinity\n     */\n    this.minX = Infinity;\n    /**\n     * The minimum Y coordinate of the bounds.\n     * Represents the topmost edge of the bounding box.\n     * @example\n     * ```ts\n     * const bounds = new Bounds();\n     * // Set top edge\n     * bounds.minY = 100;\n     * ```\n     * @default Infinity\n     */\n    this.minY = Infinity;\n    /**\n     * The maximum X coordinate of the bounds.\n     * Represents the rightmost edge of the bounding box.\n     * @example\n     * ```ts\n     * const bounds = new Bounds();\n     * // Set right edge\n     * bounds.maxX = 200;\n     * // Get width\n     * const width = bounds.maxX - bounds.minX;\n     * ```\n     * @default -Infinity\n     */\n    this.maxX = -Infinity;\n    /**\n     * The maximum Y coordinate of the bounds.\n     * Represents the bottommost edge of the bounding box.\n     * @example\n     * ```ts\n     * const bounds = new Bounds();\n     * // Set bottom edge\n     * bounds.maxY = 200;\n     * // Get height\n     * const height = bounds.maxY - bounds.minY;\n     * ```\n     * @default -Infinity\n     */\n    this.maxY = -Infinity;\n    /**\n     * The transformation matrix applied to this bounds object.\n     * Used when calculating bounds with transforms.\n     * @example\n     * ```ts\n     * const bounds = new Bounds();\n     *\n     * // Apply translation matrix\n     * bounds.matrix = new Matrix()\n     *     .translate(100, 100);\n     *\n     * // Combine transformations\n     * bounds.matrix = new Matrix()\n     *     .translate(50, 50)\n     *     .rotate(Math.PI / 4)\n     *     .scale(2, 2);\n     *\n     * // Use in bounds calculations\n     * bounds.addFrame(0, 0, 100, 100); // Uses current matrix\n     * bounds.addFrame(0, 0, 100, 100, customMatrix); // Override matrix\n     * ```\n     * @advanced\n     */\n    this.matrix = defaultMatrix;\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  /**\n   * Checks if bounds are empty, meaning either width or height is zero or negative.\n   * Empty bounds occur when min values exceed max values on either axis.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   *\n   * // Check if newly created bounds are empty\n   * console.log(bounds.isEmpty()); // true, default bounds are empty\n   *\n   * // Add frame and check again\n   * bounds.addFrame(0, 0, 100, 100);\n   * console.log(bounds.isEmpty()); // false, bounds now have area\n   *\n   * // Clear bounds\n   * bounds.clear();\n   * console.log(bounds.isEmpty()); // true, bounds are empty again\n   * ```\n   * @returns True if bounds are empty (have no area)\n   * @see {@link Bounds#clear} For resetting bounds\n   * @see {@link Bounds#isValid} For checking validity\n   */\n  isEmpty() {\n    return this.minX > this.maxX || this.minY > this.maxY;\n  }\n  /**\n   * The bounding rectangle representation of these bounds.\n   * Lazily creates and updates a Rectangle instance based on the current bounds.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   *\n   * // Get rectangle representation\n   * const rect = bounds.rectangle;\n   * console.log(rect.x, rect.y, rect.width, rect.height);\n   *\n   * // Use for hit testing\n   * if (bounds.rectangle.contains(mouseX, mouseY)) {\n   *     console.log('Mouse is inside bounds!');\n   * }\n   * ```\n   * @see {@link Rectangle} For rectangle methods\n   * @see {@link Bounds.isEmpty} For bounds validation\n   */\n  get rectangle() {\n    if (!this._rectangle) {\n      this._rectangle = new Rectangle();\n    }\n    const rectangle = this._rectangle;\n    if (this.minX > this.maxX || this.minY > this.maxY) {\n      rectangle.x = 0;\n      rectangle.y = 0;\n      rectangle.width = 0;\n      rectangle.height = 0;\n    } else {\n      rectangle.copyFromBounds(this);\n    }\n    return rectangle;\n  }\n  /**\n   * Clears the bounds and resets all coordinates to their default values.\n   * Resets the transformation matrix back to identity.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * console.log(bounds.isEmpty()); // false\n   * // Clear the bounds\n   * bounds.clear();\n   * console.log(bounds.isEmpty()); // true\n   * ```\n   * @returns This bounds object for chaining\n   */\n  clear() {\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = -Infinity;\n    this.maxY = -Infinity;\n    this.matrix = defaultMatrix;\n    return this;\n  }\n  /**\n   * Sets the bounds directly using coordinate values.\n   * Provides a way to set all bounds values at once.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   * bounds.set(0, 0, 100, 100);\n   * ```\n   * @param x0 - Left X coordinate of frame\n   * @param y0 - Top Y coordinate of frame\n   * @param x1 - Right X coordinate of frame\n   * @param y1 - Bottom Y coordinate of frame\n   * @see {@link Bounds#addFrame} For matrix-aware bounds setting\n   * @see {@link Bounds#clear} For resetting bounds\n   */\n  set(x0, y0, x1, y1) {\n    this.minX = x0;\n    this.minY = y0;\n    this.maxX = x1;\n    this.maxY = y1;\n  }\n  /**\n   * Adds a rectangular frame to the bounds, optionally transformed by a matrix.\n   * Updates the bounds to encompass the new frame coordinates.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   * bounds.addFrame(0, 0, 100, 100);\n   *\n   * // Add transformed frame\n   * const matrix = new Matrix()\n   *     .translate(50, 50)\n   *     .rotate(Math.PI / 4);\n   * bounds.addFrame(0, 0, 100, 100, matrix);\n   * ```\n   * @param x0 - Left X coordinate of frame\n   * @param y0 - Top Y coordinate of frame\n   * @param x1 - Right X coordinate of frame\n   * @param y1 - Bottom Y coordinate of frame\n   * @param matrix - Optional transformation matrix\n   * @see {@link Bounds#addRect} For adding Rectangle objects\n   * @see {@link Bounds#addBounds} For adding other Bounds\n   */\n  addFrame(x0, y0, x1, y1, matrix) {\n    matrix || (matrix = this.matrix);\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    let x = a * x0 + c * y0 + tx;\n    let y = b * x0 + d * y0 + ty;\n    if (x < minX)\n      minX = x;\n    if (y < minY)\n      minY = y;\n    if (x > maxX)\n      maxX = x;\n    if (y > maxY)\n      maxY = y;\n    x = a * x1 + c * y0 + tx;\n    y = b * x1 + d * y0 + ty;\n    if (x < minX)\n      minX = x;\n    if (y < minY)\n      minY = y;\n    if (x > maxX)\n      maxX = x;\n    if (y > maxY)\n      maxY = y;\n    x = a * x0 + c * y1 + tx;\n    y = b * x0 + d * y1 + ty;\n    if (x < minX)\n      minX = x;\n    if (y < minY)\n      minY = y;\n    if (x > maxX)\n      maxX = x;\n    if (y > maxY)\n      maxY = y;\n    x = a * x1 + c * y1 + tx;\n    y = b * x1 + d * y1 + ty;\n    if (x < minX)\n      minX = x;\n    if (y < minY)\n      minY = y;\n    if (x > maxX)\n      maxX = x;\n    if (y > maxY)\n      maxY = y;\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  /**\n   * Adds a rectangle to the bounds, optionally transformed by a matrix.\n   * Updates the bounds to encompass the given rectangle.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   * // Add simple rectangle\n   * const rect = new Rectangle(0, 0, 100, 100);\n   * bounds.addRect(rect);\n   *\n   * // Add transformed rectangle\n   * const matrix = new Matrix()\n   *     .translate(50, 50)\n   *     .rotate(Math.PI / 4);\n   * bounds.addRect(rect, matrix);\n   * ```\n   * @param rect - The rectangle to be added\n   * @param matrix - Optional transformation matrix\n   * @see {@link Bounds#addFrame} For adding raw coordinates\n   * @see {@link Bounds#addBounds} For adding other bounds\n   */\n  addRect(rect, matrix) {\n    this.addFrame(rect.x, rect.y, rect.x + rect.width, rect.y + rect.height, matrix);\n  }\n  /**\n   * Adds another bounds object to this one, optionally transformed by a matrix.\n   * Expands the bounds to include the given bounds' area.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   *\n   * // Add child bounds\n   * const childBounds = sprite.getBounds();\n   * bounds.addBounds(childBounds);\n   *\n   * // Add transformed bounds\n   * const matrix = new Matrix()\n   *     .scale(2, 2);\n   * bounds.addBounds(childBounds, matrix);\n   * ```\n   * @param bounds - The bounds to be added\n   * @param matrix - Optional transformation matrix\n   * @see {@link Bounds#addFrame} For adding raw coordinates\n   * @see {@link Bounds#addRect} For adding rectangles\n   */\n  addBounds(bounds, matrix) {\n    this.addFrame(bounds.minX, bounds.minY, bounds.maxX, bounds.maxY, matrix);\n  }\n  /**\n   * Adds other Bounds as a mask, creating an intersection of the two bounds.\n   * Only keeps the overlapping region between current bounds and mask bounds.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Create mask bounds\n   * const mask = new Bounds();\n   * mask.addFrame(50, 50, 150, 150);\n   * // Apply mask - results in bounds of (50,50,100,100)\n   * bounds.addBoundsMask(mask);\n   * ```\n   * @param mask - The Bounds to use as a mask\n   * @see {@link Bounds#addBounds} For union operation\n   * @see {@link Bounds#fit} For fitting to rectangle\n   */\n  addBoundsMask(mask) {\n    this.minX = this.minX > mask.minX ? this.minX : mask.minX;\n    this.minY = this.minY > mask.minY ? this.minY : mask.minY;\n    this.maxX = this.maxX < mask.maxX ? this.maxX : mask.maxX;\n    this.maxY = this.maxY < mask.maxY ? this.maxY : mask.maxY;\n  }\n  /**\n   * Applies a transformation matrix to the bounds, updating its coordinates.\n   * Transforms all corners of the bounds using the given matrix.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Apply translation\n   * const translateMatrix = new Matrix()\n   *     .translate(50, 50);\n   * bounds.applyMatrix(translateMatrix);\n   * ```\n   * @param matrix - The matrix to apply to the bounds\n   * @see {@link Matrix} For matrix operations\n   * @see {@link Bounds#addFrame} For adding transformed frames\n   */\n  applyMatrix(matrix) {\n    const minX = this.minX;\n    const minY = this.minY;\n    const maxX = this.maxX;\n    const maxY = this.maxY;\n    const { a, b, c, d, tx, ty } = matrix;\n    let x = a * minX + c * minY + tx;\n    let y = b * minX + d * minY + ty;\n    this.minX = x;\n    this.minY = y;\n    this.maxX = x;\n    this.maxY = y;\n    x = a * maxX + c * minY + tx;\n    y = b * maxX + d * minY + ty;\n    this.minX = x < this.minX ? x : this.minX;\n    this.minY = y < this.minY ? y : this.minY;\n    this.maxX = x > this.maxX ? x : this.maxX;\n    this.maxY = y > this.maxY ? y : this.maxY;\n    x = a * minX + c * maxY + tx;\n    y = b * minX + d * maxY + ty;\n    this.minX = x < this.minX ? x : this.minX;\n    this.minY = y < this.minY ? y : this.minY;\n    this.maxX = x > this.maxX ? x : this.maxX;\n    this.maxY = y > this.maxY ? y : this.maxY;\n    x = a * maxX + c * maxY + tx;\n    y = b * maxX + d * maxY + ty;\n    this.minX = x < this.minX ? x : this.minX;\n    this.minY = y < this.minY ? y : this.minY;\n    this.maxX = x > this.maxX ? x : this.maxX;\n    this.maxY = y > this.maxY ? y : this.maxY;\n  }\n  /**\n   * Resizes the bounds object to fit within the given rectangle.\n   * Clips the bounds if they extend beyond the rectangle's edges.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 200, 200);\n   * // Fit within viewport\n   * const viewport = new Rectangle(50, 50, 100, 100);\n   * bounds.fit(viewport);\n   * // bounds are now (50, 50, 150, 150)\n   * ```\n   * @param rect - The rectangle to fit within\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#addBoundsMask} For intersection\n   * @see {@link Bounds#pad} For expanding bounds\n   */\n  fit(rect) {\n    if (this.minX < rect.left)\n      this.minX = rect.left;\n    if (this.maxX > rect.right)\n      this.maxX = rect.right;\n    if (this.minY < rect.top)\n      this.minY = rect.top;\n    if (this.maxY > rect.bottom)\n      this.maxY = rect.bottom;\n    return this;\n  }\n  /**\n   * Resizes the bounds object to include the given bounds.\n   * Similar to fit() but works with raw coordinate values instead of a Rectangle.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 200, 200);\n   * // Fit to specific coordinates\n   * bounds.fitBounds(50, 150, 50, 150);\n   * // bounds are now (50, 50, 150, 150)\n   * ```\n   * @param left - The left value of the bounds\n   * @param right - The right value of the bounds\n   * @param top - The top value of the bounds\n   * @param bottom - The bottom value of the bounds\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#fit} For fitting to Rectangle\n   * @see {@link Bounds#addBoundsMask} For intersection\n   */\n  fitBounds(left, right, top, bottom) {\n    if (this.minX < left)\n      this.minX = left;\n    if (this.maxX > right)\n      this.maxX = right;\n    if (this.minY < top)\n      this.minY = top;\n    if (this.maxY > bottom)\n      this.maxY = bottom;\n    return this;\n  }\n  /**\n   * Pads bounds object, making it grow in all directions.\n   * If paddingY is omitted, both paddingX and paddingY will be set to paddingX.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   *\n   * // Add equal padding\n   * bounds.pad(10);\n   * // bounds are now (-10, -10, 110, 110)\n   *\n   * // Add different padding for x and y\n   * bounds.pad(20, 10);\n   * // bounds are now (-30, -20, 130, 120)\n   * ```\n   * @param paddingX - The horizontal padding amount\n   * @param paddingY - The vertical padding amount\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#fit} For constraining bounds\n   * @see {@link Bounds#scale} For uniform scaling\n   */\n  pad(paddingX, paddingY = paddingX) {\n    this.minX -= paddingX;\n    this.maxX += paddingX;\n    this.minY -= paddingY;\n    this.maxY += paddingY;\n    return this;\n  }\n  /**\n   * Ceils the bounds by rounding up max values and rounding down min values.\n   * Useful for pixel-perfect calculations and avoiding fractional pixels.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   * bounds.set(10.2, 10.9, 50.1, 50.8);\n   *\n   * // Round to whole pixels\n   * bounds.ceil();\n   * // bounds are now (10, 10, 51, 51)\n   * ```\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#scale} For size adjustments\n   * @see {@link Bounds#fit} For constraining bounds\n   */\n  ceil() {\n    this.minX = Math.floor(this.minX);\n    this.minY = Math.floor(this.minY);\n    this.maxX = Math.ceil(this.maxX);\n    this.maxY = Math.ceil(this.maxY);\n    return this;\n  }\n  /**\n   * Creates a new Bounds instance with the same values.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   *\n   * // Create a copy\n   * const copy = bounds.clone();\n   *\n   * // Original and copy are independent\n   * bounds.pad(10);\n   * console.log(copy.width === bounds.width); // false\n   * ```\n   * @returns A new Bounds instance with the same values\n   * @see {@link Bounds#copyFrom} For reusing existing bounds\n   */\n  clone() {\n    return new Bounds(this.minX, this.minY, this.maxX, this.maxY);\n  }\n  /**\n   * Scales the bounds by the given values, adjusting all edges proportionally.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   *\n   * // Scale uniformly\n   * bounds.scale(2);\n   * // bounds are now (0, 0, 200, 200)\n   *\n   * // Scale non-uniformly\n   * bounds.scale(0.5, 2);\n   * // bounds are now (0, 0, 100, 400)\n   * ```\n   * @param x - The X value to scale by\n   * @param y - The Y value to scale by (defaults to x)\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#pad} For adding padding\n   * @see {@link Bounds#fit} For constraining size\n   */\n  scale(x, y = x) {\n    this.minX *= x;\n    this.minY *= y;\n    this.maxX *= x;\n    this.maxY *= y;\n    return this;\n  }\n  /**\n   * The x position of the bounds in local space.\n   * Setting this value will move the bounds while maintaining its width.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Get x position\n   * console.log(bounds.x); // 0\n   *\n   * // Move bounds horizontally\n   * bounds.x = 50;\n   * console.log(bounds.minX, bounds.maxX); // 50, 150\n   *\n   * // Width stays the same\n   * console.log(bounds.width); // Still 100\n   * ```\n   */\n  get x() {\n    return this.minX;\n  }\n  set x(value) {\n    const width = this.maxX - this.minX;\n    this.minX = value;\n    this.maxX = value + width;\n  }\n  /**\n   * The y position of the bounds in local space.\n   * Setting this value will move the bounds while maintaining its height.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Get y position\n   * console.log(bounds.y); // 0\n   *\n   * // Move bounds vertically\n   * bounds.y = 50;\n   * console.log(bounds.minY, bounds.maxY); // 50, 150\n   *\n   * // Height stays the same\n   * console.log(bounds.height); // Still 100\n   * ```\n   */\n  get y() {\n    return this.minY;\n  }\n  set y(value) {\n    const height = this.maxY - this.minY;\n    this.minY = value;\n    this.maxY = value + height;\n  }\n  /**\n   * The width value of the bounds.\n   * Represents the distance between minX and maxX coordinates.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Get width\n   * console.log(bounds.width); // 100\n   * // Resize width\n   * bounds.width = 200;\n   * console.log(bounds.maxX - bounds.minX); // 200\n   * ```\n   */\n  get width() {\n    return this.maxX - this.minX;\n  }\n  set width(value) {\n    this.maxX = this.minX + value;\n  }\n  /**\n   * The height value of the bounds.\n   * Represents the distance between minY and maxY coordinates.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Get height\n   * console.log(bounds.height); // 100\n   * // Resize height\n   * bounds.height = 150;\n   * console.log(bounds.maxY - bounds.minY); // 150\n   * ```\n   */\n  get height() {\n    return this.maxY - this.minY;\n  }\n  set height(value) {\n    this.maxY = this.minY + value;\n  }\n  /**\n   * The left edge coordinate of the bounds.\n   * Alias for minX.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(50, 0, 150, 100);\n   * console.log(bounds.left); // 50\n   * console.log(bounds.left === bounds.minX); // true\n   * ```\n   * @readonly\n   */\n  get left() {\n    return this.minX;\n  }\n  /**\n   * The right edge coordinate of the bounds.\n   * Alias for maxX.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * console.log(bounds.right); // 100\n   * console.log(bounds.right === bounds.maxX); // true\n   * ```\n   * @readonly\n   */\n  get right() {\n    return this.maxX;\n  }\n  /**\n   * The top edge coordinate of the bounds.\n   * Alias for minY.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 25, 100, 125);\n   * console.log(bounds.top); // 25\n   * console.log(bounds.top === bounds.minY); // true\n   * ```\n   * @readonly\n   */\n  get top() {\n    return this.minY;\n  }\n  /**\n   * The bottom edge coordinate of the bounds.\n   * Alias for maxY.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 200);\n   * console.log(bounds.bottom); // 200\n   * console.log(bounds.bottom === bounds.maxY); // true\n   * ```\n   * @readonly\n   */\n  get bottom() {\n    return this.maxY;\n  }\n  /**\n   * Whether the bounds has positive width and height.\n   * Checks if both dimensions are greater than zero.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Check if bounds are positive\n   * console.log(bounds.isPositive); // true\n   *\n   * // Negative bounds\n   * bounds.maxX = bounds.minX;\n   * console.log(bounds.isPositive); // false, width is 0\n   * ```\n   * @readonly\n   * @see {@link Bounds#isEmpty} For checking empty state\n   * @see {@link Bounds#isValid} For checking validity\n   */\n  get isPositive() {\n    return this.maxX - this.minX > 0 && this.maxY - this.minY > 0;\n  }\n  /**\n   * Whether the bounds has valid coordinates.\n   * Checks if the bounds has been initialized with real values.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   * console.log(bounds.isValid); // false, default state\n   *\n   * // Set valid bounds\n   * bounds.addFrame(0, 0, 100, 100);\n   * console.log(bounds.isValid); // true\n   * ```\n   * @readonly\n   * @see {@link Bounds#isEmpty} For checking empty state\n   * @see {@link Bounds#isPositive} For checking dimensions\n   */\n  get isValid() {\n    return this.minX + this.minY !== Infinity;\n  }\n  /**\n   * Adds vertices from a Float32Array to the bounds, optionally transformed by a matrix.\n   * Used for efficiently updating bounds from raw vertex data.\n   * @example\n   * ```ts\n   * const bounds = new Bounds();\n   *\n   * // Add vertices from geometry\n   * const vertices = new Float32Array([\n   *     0, 0,    // Vertex 1\n   *     100, 0,  // Vertex 2\n   *     100, 100 // Vertex 3\n   * ]);\n   * bounds.addVertexData(vertices, 0, 6);\n   *\n   * // Add transformed vertices\n   * const matrix = new Matrix()\n   *     .translate(50, 50)\n   *     .rotate(Math.PI / 4);\n   * bounds.addVertexData(vertices, 0, 6, matrix);\n   *\n   * // Add subset of vertices\n   * bounds.addVertexData(vertices, 2, 4); // Only second vertex\n   * ```\n   * @param vertexData - The array of vertices to add\n   * @param beginOffset - Starting index in the vertex array\n   * @param endOffset - Ending index in the vertex array (excluded)\n   * @param matrix - Optional transformation matrix\n   * @see {@link Bounds#addFrame} For adding rectangular frames\n   * @see {@link Matrix} For transformation details\n   */\n  addVertexData(vertexData, beginOffset, endOffset, matrix) {\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    matrix || (matrix = this.matrix);\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n    for (let i = beginOffset; i < endOffset; i += 2) {\n      const localX = vertexData[i];\n      const localY = vertexData[i + 1];\n      const x = a * localX + c * localY + tx;\n      const y = b * localX + d * localY + ty;\n      minX = x < minX ? x : minX;\n      minY = y < minY ? y : minY;\n      maxX = x > maxX ? x : maxX;\n      maxY = y > maxY ? y : maxY;\n    }\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  /**\n   * Checks if a point is contained within the bounds.\n   * Returns true if the point's coordinates fall within the bounds' area.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * // Basic point check\n   * console.log(bounds.containsPoint(50, 50)); // true\n   * console.log(bounds.containsPoint(150, 150)); // false\n   *\n   * // Check edges\n   * console.log(bounds.containsPoint(0, 0));   // true, includes edges\n   * console.log(bounds.containsPoint(100, 100)); // true, includes edges\n   * ```\n   * @param x - x coordinate to check\n   * @param y - y coordinate to check\n   * @returns True if the point is inside the bounds\n   * @see {@link Bounds#isPositive} For valid bounds check\n   * @see {@link Bounds#rectangle} For Rectangle representation\n   */\n  containsPoint(x, y) {\n    if (this.minX <= x && this.minY <= y && this.maxX >= x && this.maxY >= y) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Returns a string representation of the bounds.\n   * Useful for debugging and logging bounds information.\n   * @example\n   * ```ts\n   * const bounds = new Bounds(0, 0, 100, 100);\n   * console.log(bounds.toString()); // \"[pixi.js:Bounds minX=0 minY=0 maxX=100 maxY=100 width=100 height=100]\"\n   * ```\n   * @returns A string describing the bounds\n   * @see {@link Bounds#copyFrom} For copying bounds\n   * @see {@link Bounds#clone} For creating a new instance\n   */\n  toString() {\n    return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`;\n  }\n  /**\n   * Copies the bounds from another bounds object.\n   * Useful for reusing bounds objects and avoiding allocations.\n   * @example\n   * ```ts\n   * const sourceBounds = new Bounds(0, 0, 100, 100);\n   * // Copy bounds\n   * const targetBounds = new Bounds();\n   * targetBounds.copyFrom(sourceBounds);\n   * ```\n   * @param bounds - The bounds to copy from\n   * @returns This bounds object for chaining\n   * @see {@link Bounds#clone} For creating new instances\n   */\n  copyFrom(bounds) {\n    this.minX = bounds.minX;\n    this.minY = bounds.minY;\n    this.maxX = bounds.maxX;\n    this.maxY = bounds.maxY;\n    return this;\n  }\n}\n\nexport { Bounds };\n//# sourceMappingURL=Bounds.mjs.map\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","export default function(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return\"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"])}\n","import { extend, colord } from '@pixi/colord';\nimport namesPlugin from '@pixi/colord/plugins/names';\n\n\"use strict\";\nextend([namesPlugin]);\nconst _Color = class _Color {\n  /**\n   * @param {ColorSource} value - Optional value to use, if not provided, white is used.\n   */\n  constructor(value = 16777215) {\n    this._value = null;\n    this._components = new Float32Array(4);\n    this._components.fill(1);\n    this._int = 16777215;\n    this.value = value;\n  }\n  /**\n   * Get the red component of the color, normalized between 0 and 1.\n   * @example\n   * ```ts\n   * const color = new Color('red');\n   * console.log(color.red); // 1\n   *\n   * const green = new Color('#00ff00');\n   * console.log(green.red); // 0\n   * ```\n   */\n  get red() {\n    return this._components[0];\n  }\n  /**\n   * Get the green component of the color, normalized between 0 and 1.\n   * @example\n   * ```ts\n   * const color = new Color('lime');\n   * console.log(color.green); // 1\n   *\n   * const red = new Color('#ff0000');\n   * console.log(red.green); // 0\n   * ```\n   */\n  get green() {\n    return this._components[1];\n  }\n  /**\n   * Get the blue component of the color, normalized between 0 and 1.\n   * @example\n   * ```ts\n   * const color = new Color('blue');\n   * console.log(color.blue); // 1\n   *\n   * const yellow = new Color('#ffff00');\n   * console.log(yellow.blue); // 0\n   * ```\n   */\n  get blue() {\n    return this._components[2];\n  }\n  /**\n   * Get the alpha component of the color, normalized between 0 and 1.\n   * @example\n   * ```ts\n   * const color = new Color('red');\n   * console.log(color.alpha); // 1 (fully opaque)\n   *\n   * const transparent = new Color('rgba(255, 0, 0, 0.5)');\n   * console.log(transparent.alpha); // 0.5 (semi-transparent)\n   * ```\n   */\n  get alpha() {\n    return this._components[3];\n  }\n  /**\n   * Sets the color value and returns the instance for chaining.\n   *\n   * This is a chainable version of setting the `value` property.\n   * @param value - The color to set. Accepts various formats:\n   * - Hex strings/numbers (e.g., '#ff0000', 0xff0000)\n   * - RGB/RGBA values (arrays, objects)\n   * - CSS color names\n   * - HSL/HSLA values\n   * - HSV/HSVA values\n   * @returns The Color instance for chaining\n   * @example\n   * ```ts\n   * // Basic usage\n   * const color = new Color();\n   * color.setValue('#ff0000')\n   *     .setAlpha(0.5)\n   *     .premultiply(0.8);\n   *\n   * // Different formats\n   * color.setValue(0xff0000);          // Hex number\n   * color.setValue('#ff0000');         // Hex string\n   * color.setValue([1, 0, 0]);         // RGB array\n   * color.setValue([1, 0, 0, 0.5]);    // RGBA array\n   * color.setValue({ r: 1, g: 0, b: 0 }); // RGB object\n   *\n   * // Copy from another color\n   * const red = new Color('red');\n   * color.setValue(red);\n   * ```\n   * @throws {Error} If the color value is invalid or null\n   * @see {@link Color.value} For the underlying value property\n   */\n  setValue(value) {\n    this.value = value;\n    return this;\n  }\n  /**\n   * The current color source. This property allows getting and setting the color value\n   * while preserving the original format where possible.\n   * @remarks\n   * When setting:\n   * - Setting to a `Color` instance copies its source and components\n   * - Setting to other valid sources normalizes and stores the value\n   * - Setting to `null` throws an Error\n   * - The color remains unchanged if normalization fails\n   *\n   * When getting:\n   * - Returns `null` if color was modified by {@link Color.multiply} or {@link Color.premultiply}\n   * - Otherwise returns the original color source\n   * @example\n   * ```ts\n   * // Setting different color formats\n   * const color = new Color();\n   *\n   * color.value = 0xff0000;         // Hex number\n   * color.value = '#ff0000';        // Hex string\n   * color.value = [1, 0, 0];        // RGB array\n   * color.value = [1, 0, 0, 0.5];   // RGBA array\n   * color.value = { r: 1, g: 0, b: 0 }; // RGB object\n   *\n   * // Copying from another color\n   * const red = new Color('red');\n   * color.value = red;  // Copies red's components\n   *\n   * // Getting the value\n   * console.log(color.value);  // Returns original format\n   *\n   * // After modifications\n   * color.multiply([0.5, 0.5, 0.5]);\n   * console.log(color.value);  // Returns null\n   * ```\n   * @throws {Error} When attempting to set `null`\n   */\n  set value(value) {\n    if (value instanceof _Color) {\n      this._value = this._cloneSource(value._value);\n      this._int = value._int;\n      this._components.set(value._components);\n    } else if (value === null) {\n      throw new Error(\"Cannot set Color#value to null\");\n    } else if (this._value === null || !this._isSourceEqual(this._value, value)) {\n      this._value = this._cloneSource(value);\n      this._normalize(this._value);\n    }\n  }\n  get value() {\n    return this._value;\n  }\n  /**\n   * Copy a color source internally.\n   * @param value - Color source\n   */\n  _cloneSource(value) {\n    if (typeof value === \"string\" || typeof value === \"number\" || value instanceof Number || value === null) {\n      return value;\n    } else if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n      return value.slice(0);\n    } else if (typeof value === \"object\" && value !== null) {\n      return { ...value };\n    }\n    return value;\n  }\n  /**\n   * Equality check for color sources.\n   * @param value1 - First color source\n   * @param value2 - Second color source\n   * @returns `true` if the color sources are equal, `false` otherwise.\n   */\n  _isSourceEqual(value1, value2) {\n    const type1 = typeof value1;\n    const type2 = typeof value2;\n    if (type1 !== type2) {\n      return false;\n    } else if (type1 === \"number\" || type1 === \"string\" || value1 instanceof Number) {\n      return value1 === value2;\n    } else if (Array.isArray(value1) && Array.isArray(value2) || ArrayBuffer.isView(value1) && ArrayBuffer.isView(value2)) {\n      if (value1.length !== value2.length) {\n        return false;\n      }\n      return value1.every((v, i) => v === value2[i]);\n    } else if (value1 !== null && value2 !== null) {\n      const keys1 = Object.keys(value1);\n      const keys2 = Object.keys(value2);\n      if (keys1.length !== keys2.length) {\n        return false;\n      }\n      return keys1.every((key) => value1[key] === value2[key]);\n    }\n    return value1 === value2;\n  }\n  /**\n   * Convert to a RGBA color object with normalized components (0-1).\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Convert colors to RGBA objects\n   * new Color('white').toRgba();     // returns { r: 1, g: 1, b: 1, a: 1 }\n   * new Color('#ff0000').toRgba();   // returns { r: 1, g: 0, b: 0, a: 1 }\n   *\n   * // With transparency\n   * new Color('rgba(255,0,0,0.5)').toRgba(); // returns { r: 1, g: 0, b: 0, a: 0.5 }\n   * ```\n   * @returns An RGBA object with normalized components\n   */\n  toRgba() {\n    const [r, g, b, a] = this._components;\n    return { r, g, b, a };\n  }\n  /**\n   * Convert to a RGB color object with normalized components (0-1).\n   *\n   * Alpha component is omitted in the output.\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Convert colors to RGB objects\n   * new Color('white').toRgb();     // returns { r: 1, g: 1, b: 1 }\n   * new Color('#ff0000').toRgb();   // returns { r: 1, g: 0, b: 0 }\n   *\n   * // Alpha is ignored\n   * new Color('rgba(255,0,0,0.5)').toRgb(); // returns { r: 1, g: 0, b: 0 }\n   * ```\n   * @returns An RGB object with normalized components\n   */\n  toRgb() {\n    const [r, g, b] = this._components;\n    return { r, g, b };\n  }\n  /**\n   * Convert to a CSS-style rgba string representation.\n   *\n   * RGB components are scaled to 0-255 range, alpha remains 0-1.\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Convert colors to RGBA strings\n   * new Color('white').toRgbaString();     // returns \"rgba(255,255,255,1)\"\n   * new Color('#ff0000').toRgbaString();   // returns \"rgba(255,0,0,1)\"\n   *\n   * // With transparency\n   * new Color([1, 0, 0, 0.5]).toRgbaString(); // returns \"rgba(255,0,0,0.5)\"\n   * ```\n   * @returns A CSS-compatible rgba string\n   */\n  toRgbaString() {\n    const [r, g, b] = this.toUint8RgbArray();\n    return `rgba(${r},${g},${b},${this.alpha})`;\n  }\n  /**\n   * Convert to an [R, G, B] array of clamped uint8 values (0 to 255).\n   * @param {number[]|Uint8Array|Uint8ClampedArray} [out] - Optional output array. If not provided,\n   * a cached array will be used and returned.\n   * @returns Array containing RGB components as integers between 0-255\n   * @example\n   * ```ts\n   * // Basic usage\n   * new Color('white').toUint8RgbArray(); // returns [255, 255, 255]\n   * new Color('#ff0000').toUint8RgbArray(); // returns [255, 0, 0]\n   *\n   * // Using custom output array\n   * const rgb = new Uint8Array(3);\n   * new Color('blue').toUint8RgbArray(rgb); // rgb is now [0, 0, 255]\n   *\n   * // Using different array types\n   * new Color('red').toUint8RgbArray(new Uint8ClampedArray(3)); // [255, 0, 0]\n   * new Color('red').toUint8RgbArray([]); // [255, 0, 0]\n   * ```\n   * @remarks\n   * - Output values are always clamped between 0-255\n   * - Alpha component is not included in output\n   * - Reuses internal cache array if no output array provided\n   */\n  toUint8RgbArray(out) {\n    const [r, g, b] = this._components;\n    if (!this._arrayRgb) {\n      this._arrayRgb = [];\n    }\n    out || (out = this._arrayRgb);\n    out[0] = Math.round(r * 255);\n    out[1] = Math.round(g * 255);\n    out[2] = Math.round(b * 255);\n    return out;\n  }\n  /**\n   * Convert to an [R, G, B, A] array of normalized floats (numbers from 0.0 to 1.0).\n   * @param {number[]|Float32Array} [out] - Optional output array. If not provided,\n   * a cached array will be used and returned.\n   * @returns Array containing RGBA components as floats between 0-1\n   * @example\n   * ```ts\n   * // Basic usage\n   * new Color('white').toArray();  // returns [1, 1, 1, 1]\n   * new Color('red').toArray();    // returns [1, 0, 0, 1]\n   *\n   * // With alpha\n   * new Color('rgba(255,0,0,0.5)').toArray(); // returns [1, 0, 0, 0.5]\n   *\n   * // Using custom output array\n   * const rgba = new Float32Array(4);\n   * new Color('blue').toArray(rgba); // rgba is now [0, 0, 1, 1]\n   * ```\n   * @remarks\n   * - Output values are normalized between 0-1\n   * - Includes alpha component as the fourth value\n   * - Reuses internal cache array if no output array provided\n   */\n  toArray(out) {\n    if (!this._arrayRgba) {\n      this._arrayRgba = [];\n    }\n    out || (out = this._arrayRgba);\n    const [r, g, b, a] = this._components;\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n  }\n  /**\n   * Convert to an [R, G, B] array of normalized floats (numbers from 0.0 to 1.0).\n   * @param {number[]|Float32Array} [out] - Optional output array. If not provided,\n   * a cached array will be used and returned.\n   * @returns Array containing RGB components as floats between 0-1\n   * @example\n   * ```ts\n   * // Basic usage\n   * new Color('white').toRgbArray(); // returns [1, 1, 1]\n   * new Color('red').toRgbArray();   // returns [1, 0, 0]\n   *\n   * // Using custom output array\n   * const rgb = new Float32Array(3);\n   * new Color('blue').toRgbArray(rgb); // rgb is now [0, 0, 1]\n   * ```\n   * @remarks\n   * - Output values are normalized between 0-1\n   * - Alpha component is omitted from output\n   * - Reuses internal cache array if no output array provided\n   */\n  toRgbArray(out) {\n    if (!this._arrayRgb) {\n      this._arrayRgb = [];\n    }\n    out || (out = this._arrayRgb);\n    const [r, g, b] = this._components;\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    return out;\n  }\n  /**\n   * Convert to a hexadecimal number.\n   * @returns The color as a 24-bit RGB integer\n   * @example\n   * ```ts\n   * // Basic usage\n   * new Color('white').toNumber(); // returns 0xffffff\n   * new Color('red').toNumber();   // returns 0xff0000\n   *\n   * // Store as hex\n   * const color = new Color('blue');\n   * const hex = color.toNumber(); // 0x0000ff\n   * ```\n   */\n  toNumber() {\n    return this._int;\n  }\n  /**\n   * Convert to a BGR number.\n   *\n   * Useful for platforms that expect colors in BGR format.\n   * @returns The color as a 24-bit BGR integer\n   * @example\n   * ```ts\n   * // Convert RGB to BGR\n   * new Color(0xffcc99).toBgrNumber(); // returns 0x99ccff\n   *\n   * // Common use case: platform-specific color format\n   * const color = new Color('orange');\n   * const bgrColor = color.toBgrNumber(); // Color with swapped R/B channels\n   * ```\n   * @remarks\n   * This swaps the red and blue channels compared to the normal RGB format:\n   * - RGB 0xRRGGBB becomes BGR 0xBBGGRR\n   */\n  toBgrNumber() {\n    const [r, g, b] = this.toUint8RgbArray();\n    return (b << 16) + (g << 8) + r;\n  }\n  /**\n   * Convert to a hexadecimal number in little endian format (e.g., BBGGRR).\n   *\n   * Useful for platforms that expect colors in little endian byte order.\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Convert RGB color to little endian format\n   * new Color(0xffcc99).toLittleEndianNumber(); // returns 0x99ccff\n   *\n   * // Common use cases:\n   * const color = new Color('orange');\n   * const leColor = color.toLittleEndianNumber(); // Swaps byte order for LE systems\n   *\n   * // Multiple conversions\n   * const colors = {\n   *     normal: 0xffcc99,\n   *     littleEndian: new Color(0xffcc99).toLittleEndianNumber(), // 0x99ccff\n   *     backToNormal: new Color(0x99ccff).toLittleEndianNumber()  // 0xffcc99\n   * };\n   * ```\n   * @remarks\n   * - Swaps R and B channels in the color value\n   * - RGB 0xRRGGBB becomes 0xBBGGRR\n   * - Useful for systems that use little endian byte order\n   * - Can be used to convert back and forth between formats\n   * @returns The color as a number in little endian format (BBGGRR)\n   * @see {@link Color.toBgrNumber} For BGR format without byte swapping\n   */\n  toLittleEndianNumber() {\n    const value = this._int;\n    return (value >> 16) + (value & 65280) + ((value & 255) << 16);\n  }\n  /**\n   * Multiply with another color.\n   *\n   * This action is destructive and modifies the original color.\n   * @param {ColorSource} value - The color to multiply by. Accepts any valid color format:\n   * - Hex strings/numbers (e.g., '#ff0000', 0xff0000)\n   * - RGB/RGBA arrays ([1, 0, 0], [1, 0, 0, 1])\n   * - Color objects ({ r: 1, g: 0, b: 0 })\n   * - CSS color names ('red', 'blue')\n   * @returns this - The Color instance for chaining\n   * @example\n   * ```ts\n   * // Basic multiplication\n   * const color = new Color('#ff0000');\n   * color.multiply(0x808080); // 50% darker red\n   *\n   * // With transparency\n   * color.multiply([1, 1, 1, 0.5]); // 50% transparent\n   *\n   * // Chain operations\n   * color\n   *     .multiply('#808080')\n   *     .multiply({ r: 1, g: 1, b: 1, a: 0.5 });\n   * ```\n   * @remarks\n   * - Multiplies each RGB component and alpha separately\n   * - Values are clamped between 0-1\n   * - Original color format is lost (value becomes null)\n   * - Operation cannot be undone\n   */\n  multiply(value) {\n    const [r, g, b, a] = _Color._temp.setValue(value)._components;\n    this._components[0] *= r;\n    this._components[1] *= g;\n    this._components[2] *= b;\n    this._components[3] *= a;\n    this._refreshInt();\n    this._value = null;\n    return this;\n  }\n  /**\n   * Converts color to a premultiplied alpha format.\n   *\n   * This action is destructive and modifies the original color.\n   * @param alpha - The alpha value to multiply by (0-1)\n   * @param {boolean} [applyToRGB=true] - Whether to premultiply RGB channels\n   * @returns {Color} The Color instance for chaining\n   * @example\n   * ```ts\n   * // Basic premultiplication\n   * const color = new Color('red');\n   * color.premultiply(0.5); // 50% transparent red with premultiplied RGB\n   *\n   * // Alpha only (RGB unchanged)\n   * color.premultiply(0.5, false); // 50% transparent, original RGB\n   *\n   * // Chain with other operations\n   * color\n   *     .multiply(0x808080)\n   *     .premultiply(0.5)\n   *     .toNumber();\n   * ```\n   * @remarks\n   * - RGB channels are multiplied by alpha when applyToRGB is true\n   * - Alpha is always set to the provided value\n   * - Values are clamped between 0-1\n   * - Original color format is lost (value becomes null)\n   * - Operation cannot be undone\n   */\n  premultiply(alpha, applyToRGB = true) {\n    if (applyToRGB) {\n      this._components[0] *= alpha;\n      this._components[1] *= alpha;\n      this._components[2] *= alpha;\n    }\n    this._components[3] = alpha;\n    this._refreshInt();\n    this._value = null;\n    return this;\n  }\n  /**\n   * Returns the color as a 32-bit premultiplied alpha integer.\n   *\n   * Format: 0xAARRGGBB\n   * @param {number} alpha - The alpha value to multiply by (0-1)\n   * @param {boolean} [applyToRGB=true] - Whether to premultiply RGB channels\n   * @returns {number} The premultiplied color as a 32-bit integer\n   * @example\n   * ```ts\n   * // Convert to premultiplied format\n   * const color = new Color('red');\n   *\n   * // Full opacity (0xFFRRGGBB)\n   * color.toPremultiplied(1.0); // 0xFFFF0000\n   *\n   * // 50% transparency with premultiplied RGB\n   * color.toPremultiplied(0.5); // 0x7F7F0000\n   *\n   * // 50% transparency without RGB premultiplication\n   * color.toPremultiplied(0.5, false); // 0x7FFF0000\n   * ```\n   * @remarks\n   * - Returns full opacity (0xFF000000) when alpha is 1.0\n   * - Returns 0 when alpha is 0.0 and applyToRGB is true\n   * - RGB values are rounded during premultiplication\n   */\n  toPremultiplied(alpha, applyToRGB = true) {\n    if (alpha === 1) {\n      return (255 << 24) + this._int;\n    }\n    if (alpha === 0) {\n      return applyToRGB ? 0 : this._int;\n    }\n    let r = this._int >> 16 & 255;\n    let g = this._int >> 8 & 255;\n    let b = this._int & 255;\n    if (applyToRGB) {\n      r = r * alpha + 0.5 | 0;\n      g = g * alpha + 0.5 | 0;\n      b = b * alpha + 0.5 | 0;\n    }\n    return (alpha * 255 << 24) + (r << 16) + (g << 8) + b;\n  }\n  /**\n   * Convert to a hexadecimal string (6 characters).\n   * @returns A CSS-compatible hex color string (e.g., \"#ff0000\")\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Basic colors\n   * new Color('red').toHex();    // returns \"#ff0000\"\n   * new Color('white').toHex();  // returns \"#ffffff\"\n   * new Color('black').toHex();  // returns \"#000000\"\n   *\n   * // From different formats\n   * new Color(0xff0000).toHex(); // returns \"#ff0000\"\n   * new Color([1, 0, 0]).toHex(); // returns \"#ff0000\"\n   * new Color({ r: 1, g: 0, b: 0 }).toHex(); // returns \"#ff0000\"\n   * ```\n   * @remarks\n   * - Always returns a 6-character hex string\n   * - Includes leading \"#\" character\n   * - Alpha channel is ignored\n   * - Values are rounded to nearest hex value\n   */\n  toHex() {\n    const hexString = this._int.toString(16);\n    return `#${\"000000\".substring(0, 6 - hexString.length) + hexString}`;\n  }\n  /**\n   * Convert to a hexadecimal string with alpha (8 characters).\n   * @returns A CSS-compatible hex color string with alpha (e.g., \"#ff0000ff\")\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // Fully opaque colors\n   * new Color('red').toHexa();   // returns \"#ff0000ff\"\n   * new Color('white').toHexa(); // returns \"#ffffffff\"\n   *\n   * // With transparency\n   * new Color('rgba(255, 0, 0, 0.5)').toHexa(); // returns \"#ff00007f\"\n   * new Color([1, 0, 0, 0]).toHexa(); // returns \"#ff000000\"\n   * ```\n   * @remarks\n   * - Returns an 8-character hex string\n   * - Includes leading \"#\" character\n   * - Alpha is encoded in last two characters\n   * - Values are rounded to nearest hex value\n   */\n  toHexa() {\n    const alphaValue = Math.round(this._components[3] * 255);\n    const alphaString = alphaValue.toString(16);\n    return this.toHex() + \"00\".substring(0, 2 - alphaString.length) + alphaString;\n  }\n  /**\n   * Set alpha (transparency) value while preserving color components.\n   *\n   * Provides a chainable interface for setting alpha.\n   * @param alpha - Alpha value between 0 (fully transparent) and 1 (fully opaque)\n   * @returns The Color instance for chaining\n   * @example\n   * ```ts\n   * // Basic alpha setting\n   * const color = new Color('red');\n   * color.setAlpha(0.5);  // 50% transparent red\n   *\n   * // Chain with other operations\n   * color\n   *     .setValue('#ff0000')\n   *     .setAlpha(0.8)    // 80% opaque\n   *     .premultiply(0.5); // Further modify alpha\n   *\n   * // Reset to fully opaque\n   * color.setAlpha(1);\n   * ```\n   * @remarks\n   * - Alpha value is clamped between 0-1\n   * - Can be chained with other color operations\n   */\n  setAlpha(alpha) {\n    this._components[3] = this._clamp(alpha);\n    return this;\n  }\n  /**\n   * Normalize the input value into rgba\n   * @param value - Input value\n   */\n  _normalize(value) {\n    let r;\n    let g;\n    let b;\n    let a;\n    if ((typeof value === \"number\" || value instanceof Number) && value >= 0 && value <= 16777215) {\n      const int = value;\n      r = (int >> 16 & 255) / 255;\n      g = (int >> 8 & 255) / 255;\n      b = (int & 255) / 255;\n      a = 1;\n    } else if ((Array.isArray(value) || value instanceof Float32Array) && value.length >= 3 && value.length <= 4) {\n      value = this._clamp(value);\n      [r, g, b, a = 1] = value;\n    } else if ((value instanceof Uint8Array || value instanceof Uint8ClampedArray) && value.length >= 3 && value.length <= 4) {\n      value = this._clamp(value, 0, 255);\n      [r, g, b, a = 255] = value;\n      r /= 255;\n      g /= 255;\n      b /= 255;\n      a /= 255;\n    } else if (typeof value === \"string\" || typeof value === \"object\") {\n      if (typeof value === \"string\") {\n        const match = _Color.HEX_PATTERN.exec(value);\n        if (match) {\n          value = `#${match[2]}`;\n        }\n      }\n      const color = colord(value);\n      if (color.isValid()) {\n        ({ r, g, b, a } = color.rgba);\n        r /= 255;\n        g /= 255;\n        b /= 255;\n      }\n    }\n    if (r !== void 0) {\n      this._components[0] = r;\n      this._components[1] = g;\n      this._components[2] = b;\n      this._components[3] = a;\n      this._refreshInt();\n    } else {\n      throw new Error(`Unable to convert color ${value}`);\n    }\n  }\n  /** Refresh the internal color rgb number */\n  _refreshInt() {\n    this._clamp(this._components);\n    const [r, g, b] = this._components;\n    this._int = (r * 255 << 16) + (g * 255 << 8) + (b * 255 | 0);\n  }\n  /**\n   * Clamps values to a range. Will override original values\n   * @param value - Value(s) to clamp\n   * @param min - Minimum value\n   * @param max - Maximum value\n   */\n  _clamp(value, min = 0, max = 1) {\n    if (typeof value === \"number\") {\n      return Math.min(Math.max(value, min), max);\n    }\n    value.forEach((v, i) => {\n      value[i] = Math.min(Math.max(v, min), max);\n    });\n    return value;\n  }\n  /**\n   * Check if a value can be interpreted as a valid color format.\n   * Supports all color formats that can be used with the Color class.\n   * @param value - Value to check\n   * @returns True if the value can be used as a color\n   * @example\n   * ```ts\n   * import { Color } from 'pixi.js';\n   *\n   * // CSS colors and hex values\n   * Color.isColorLike('red');          // true\n   * Color.isColorLike('#ff0000');      // true\n   * Color.isColorLike(0xff0000);       // true\n   *\n   * // Arrays (RGB/RGBA)\n   * Color.isColorLike([1, 0, 0]);      // true\n   * Color.isColorLike([1, 0, 0, 0.5]); // true\n   *\n   * // TypedArrays\n   * Color.isColorLike(new Float32Array([1, 0, 0]));          // true\n   * Color.isColorLike(new Uint8Array([255, 0, 0]));          // true\n   * Color.isColorLike(new Uint8ClampedArray([255, 0, 0]));   // true\n   *\n   * // Object formats\n   * Color.isColorLike({ r: 1, g: 0, b: 0 });            // true (RGB)\n   * Color.isColorLike({ r: 1, g: 0, b: 0, a: 0.5 });    // true (RGBA)\n   * Color.isColorLike({ h: 0, s: 100, l: 50 });         // true (HSL)\n   * Color.isColorLike({ h: 0, s: 100, l: 50, a: 0.5 }); // true (HSLA)\n   * Color.isColorLike({ h: 0, s: 100, v: 100 });        // true (HSV)\n   * Color.isColorLike({ h: 0, s: 100, v: 100, a: 0.5 });// true (HSVA)\n   *\n   * // Color instances\n   * Color.isColorLike(new Color('red')); // true\n   *\n   * // Invalid values\n   * Color.isColorLike(null);           // false\n   * Color.isColorLike(undefined);      // false\n   * Color.isColorLike({});             // false\n   * Color.isColorLike([]);             // false\n   * Color.isColorLike('not-a-color');  // false\n   * ```\n   * @remarks\n   * Checks for the following formats:\n   * - Numbers (0x000000 to 0xffffff)\n   * - CSS color strings\n   * - RGB/RGBA arrays and objects\n   * - HSL/HSLA objects\n   * - HSV/HSVA objects\n   * - TypedArrays (Float32Array, Uint8Array, Uint8ClampedArray)\n   * - Color instances\n   * @see {@link ColorSource} For supported color format types\n   * @see {@link Color.setValue} For setting color values\n   * @category utility\n   */\n  static isColorLike(value) {\n    return typeof value === \"number\" || typeof value === \"string\" || value instanceof Number || value instanceof _Color || Array.isArray(value) || value instanceof Uint8Array || value instanceof Uint8ClampedArray || value instanceof Float32Array || value.r !== void 0 && value.g !== void 0 && value.b !== void 0 || value.r !== void 0 && value.g !== void 0 && value.b !== void 0 && value.a !== void 0 || value.h !== void 0 && value.s !== void 0 && value.l !== void 0 || value.h !== void 0 && value.s !== void 0 && value.l !== void 0 && value.a !== void 0 || value.h !== void 0 && value.s !== void 0 && value.v !== void 0 || value.h !== void 0 && value.s !== void 0 && value.v !== void 0 && value.a !== void 0;\n  }\n};\n/**\n * Static shared Color instance used for utility operations. This is a singleton color object\n * that can be reused to avoid creating unnecessary Color instances.\n * > [!IMPORTANT] You should be careful when using this shared instance, as it is mutable and can be\n * > changed by any code that uses it.\n * >\n * > It is best used for one-off color operations or temporary transformations.\n * > For persistent colors, create your own Color instance instead.\n * @example\n * ```ts\n * import { Color } from 'pixi.js';\n *\n * // Use shared instance for one-off color operations\n * Color.shared.setValue(0xff0000);\n * const redHex = Color.shared.toHex();     // \"#ff0000\"\n * const redRgb = Color.shared.toRgbArray(); // [1, 0, 0]\n *\n * // Temporary color transformations\n * const colorNumber = Color.shared\n *     .setValue('#ff0000')     // Set to red\n *     .setAlpha(0.5)          // Make semi-transparent\n *     .premultiply(0.8)       // Apply premultiplication\n *     .toNumber();            // Convert to number\n *\n * // Chain multiple operations\n * const result = Color.shared\n *     .setValue(someColor)\n *     .multiply(tintColor)\n *     .toPremultiplied(alpha);\n * ```\n * @remarks\n * - This is a shared instance - be careful about multiple code paths using it simultaneously\n * - Use for temporary color operations to avoid allocating new Color instances\n * - The value is preserved between operations, so reset if needed\n * - For persistent colors, create your own Color instance instead\n */\n_Color.shared = new _Color();\n/**\n * Temporary Color object for static uses internally.\n * As to not conflict with Color.shared.\n * @ignore\n */\n_Color._temp = new _Color();\n/** Pattern for hex strings */\n// eslint-disable-next-line @typescript-eslint/naming-convention\n_Color.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;\nlet Color = _Color;\n\nexport { Color };\n//# sourceMappingURL=Color.mjs.map\n","\"use strict\";\nconst cullingMixin = {\n  cullArea: null,\n  cullable: false,\n  cullableChildren: true\n};\n\nexport { cullingMixin };\n//# sourceMappingURL=cullingMixin.mjs.map\n","\"use strict\";\nlet warnCount = 0;\nconst maxWarnings = 500;\nfunction warn(...args) {\n  if (warnCount === maxWarnings)\n    return;\n  warnCount++;\n  if (warnCount === maxWarnings) {\n    console.warn(\"PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.\");\n  } else {\n    console.warn(\"PixiJS Warning: \", ...args);\n  }\n}\n\nexport { warn };\n//# sourceMappingURL=warn.mjs.map\n","\"use strict\";\nconst GlobalResourceRegistry = {\n  /**\n   * Set of registered pools and cleanable objects.\n   * @private\n   */\n  _registeredResources: /* @__PURE__ */ new Set(),\n  /**\n   * Registers a pool or cleanable object for cleanup.\n   * @param {Cleanable} pool - The pool or object to register.\n   */\n  register(pool) {\n    this._registeredResources.add(pool);\n  },\n  /**\n   * Unregisters a pool or cleanable object from cleanup.\n   * @param {Cleanable} pool - The pool or object to unregister.\n   */\n  unregister(pool) {\n    this._registeredResources.delete(pool);\n  },\n  /** Clears all registered pools and cleanable objects. This will call clear() on each registered item. */\n  release() {\n    this._registeredResources.forEach((pool) => pool.clear());\n  },\n  /**\n   * Gets the number of registered pools and cleanable objects.\n   * @returns {number} The count of registered items.\n   */\n  get registeredCount() {\n    return this._registeredResources.size;\n  },\n  /**\n   * Checks if a specific pool or cleanable object is registered.\n   * @param {Cleanable} pool - The pool or object to check.\n   * @returns {boolean} True if the item is registered, false otherwise.\n   */\n  isRegistered(pool) {\n    return this._registeredResources.has(pool);\n  },\n  /**\n   * Removes all registrations without clearing the pools.\n   * Useful if you want to reset the collector without affecting the pools.\n   */\n  reset() {\n    this._registeredResources.clear();\n  }\n};\n\nexport { GlobalResourceRegistry };\n//# sourceMappingURL=GlobalResourceRegistry.mjs.map\n","\"use strict\";\nclass Pool {\n  /**\n   * Constructs a new Pool.\n   * @param ClassType - The constructor of the items in the pool.\n   * @param {number} [initialSize] - The initial size of the pool.\n   */\n  constructor(ClassType, initialSize) {\n    this._pool = [];\n    this._count = 0;\n    this._index = 0;\n    this._classType = ClassType;\n    if (initialSize) {\n      this.prepopulate(initialSize);\n    }\n  }\n  /**\n   * Prepopulates the pool with a given number of items.\n   * @param total - The number of items to add to the pool.\n   */\n  prepopulate(total) {\n    for (let i = 0; i < total; i++) {\n      this._pool[this._index++] = new this._classType();\n    }\n    this._count += total;\n  }\n  /**\n   * Gets an item from the pool. Calls the item's `init` method if it exists.\n   * If there are no items left in the pool, a new one will be created.\n   * @param {unknown} [data] - Optional data to pass to the item's constructor.\n   * @returns {T} The item from the pool.\n   */\n  get(data) {\n    let item;\n    if (this._index > 0) {\n      item = this._pool[--this._index];\n    } else {\n      item = new this._classType();\n    }\n    item.init?.(data);\n    return item;\n  }\n  /**\n   * Returns an item to the pool. Calls the item's `reset` method if it exists.\n   * @param {T} item - The item to return to the pool.\n   */\n  return(item) {\n    item.reset?.();\n    this._pool[this._index++] = item;\n  }\n  /**\n   * Gets the number of items in the pool.\n   * @readonly\n   */\n  get totalSize() {\n    return this._count;\n  }\n  /**\n   * Gets the number of items in the pool that are free to use without needing to create more.\n   * @readonly\n   */\n  get totalFree() {\n    return this._index;\n  }\n  /**\n   * Gets the number of items in the pool that are currently in use.\n   * @readonly\n   */\n  get totalUsed() {\n    return this._count - this._index;\n  }\n  /** clears the pool */\n  clear() {\n    if (this._pool.length > 0 && this._pool[0].destroy) {\n      for (let i = 0; i < this._index; i++) {\n        this._pool[i].destroy();\n      }\n    }\n    this._pool.length = 0;\n    this._count = 0;\n    this._index = 0;\n  }\n}\n\nexport { Pool };\n//# sourceMappingURL=Pool.mjs.map\n","import { GlobalResourceRegistry } from './GlobalResourceRegistry.mjs';\nimport { Pool } from './Pool.mjs';\n\n\"use strict\";\nclass PoolGroupClass {\n  constructor() {\n    /**\n     * A map to store the pools by their class type.\n     * @private\n     */\n    this._poolsByClass = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Prepopulates a specific pool with a given number of items.\n   * @template T The type of items in the pool. Must extend PoolItem.\n   * @param {PoolItemConstructor<T>} Class - The constructor of the items in the pool.\n   * @param {number} total - The number of items to add to the pool.\n   */\n  prepopulate(Class, total) {\n    const classPool = this.getPool(Class);\n    classPool.prepopulate(total);\n  }\n  /**\n   * Gets an item from a specific pool.\n   * @template T The type of items in the pool. Must extend PoolItem.\n   * @param {PoolItemConstructor<T>} Class - The constructor of the items in the pool.\n   * @param {unknown} [data] - Optional data to pass to the item's constructor.\n   * @returns {T} The item from the pool.\n   */\n  get(Class, data) {\n    const pool = this.getPool(Class);\n    return pool.get(data);\n  }\n  /**\n   * Returns an item to its respective pool.\n   * @param {PoolItem} item - The item to return to the pool.\n   */\n  return(item) {\n    const pool = this.getPool(item.constructor);\n    pool.return(item);\n  }\n  /**\n   * Gets a specific pool based on the class type.\n   * @template T The type of items in the pool. Must extend PoolItem.\n   * @param {PoolItemConstructor<T>} ClassType - The constructor of the items in the pool.\n   * @returns {Pool<T>} The pool of the given class type.\n   */\n  getPool(ClassType) {\n    if (!this._poolsByClass.has(ClassType)) {\n      this._poolsByClass.set(ClassType, new Pool(ClassType));\n    }\n    return this._poolsByClass.get(ClassType);\n  }\n  /** gets the usage stats of each pool in the system */\n  stats() {\n    const stats = {};\n    this._poolsByClass.forEach((pool) => {\n      const name = stats[pool._classType.name] ? pool._classType.name + pool._classType.ID : pool._classType.name;\n      stats[name] = {\n        free: pool.totalFree,\n        used: pool.totalUsed,\n        size: pool.totalSize\n      };\n    });\n    return stats;\n  }\n  /** Clears all pools in the group. This will reset all pools and free their resources. */\n  clear() {\n    this._poolsByClass.forEach((pool) => pool.clear());\n    this._poolsByClass.clear();\n  }\n}\nconst BigPool = new PoolGroupClass();\nGlobalResourceRegistry.register(BigPool);\n\nexport { BigPool, PoolGroupClass };\n//# sourceMappingURL=PoolGroup.mjs.map\n","import { deprecation } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst cacheAsTextureMixin = {\n  get isCachedAsTexture() {\n    return !!this.renderGroup?.isCachedAsTexture;\n  },\n  cacheAsTexture(val) {\n    if (typeof val === \"boolean\" && val === false) {\n      this.disableRenderGroup();\n    } else {\n      this.enableRenderGroup();\n      this.renderGroup.enableCacheAsTexture(val === true ? {} : val);\n    }\n  },\n  updateCacheTexture() {\n    this.renderGroup?.updateCacheTexture();\n  },\n  get cacheAsBitmap() {\n    return this.isCachedAsTexture;\n  },\n  set cacheAsBitmap(val) {\n    deprecation(\"v8.6.0\", \"cacheAsBitmap is deprecated, use cacheAsTexture instead.\");\n    this.cacheAsTexture(val);\n  }\n};\n\nexport { cacheAsTextureMixin };\n//# sourceMappingURL=cacheAsTextureMixin.mjs.map\n","\"use strict\";\nfunction removeItems(arr, startIdx, removeCount) {\n  const length = arr.length;\n  let i;\n  if (startIdx >= length || removeCount === 0) {\n    return;\n  }\n  removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;\n  const len = length - removeCount;\n  for (i = startIdx; i < len; ++i) {\n    arr[i] = arr[i + removeCount];\n  }\n  arr.length = len;\n}\n\nexport { removeItems };\n//# sourceMappingURL=removeItems.mjs.map\n","import { removeItems } from '../../../utils/data/removeItems.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst childrenHelperMixin = {\n  allowChildren: true,\n  removeChildren(beginIndex = 0, endIndex) {\n    const end = endIndex ?? this.children.length;\n    const range = end - beginIndex;\n    const removed = [];\n    if (range > 0 && range <= end) {\n      for (let i = end - 1; i >= beginIndex; i--) {\n        const child = this.children[i];\n        if (!child)\n          continue;\n        removed.push(child);\n        child.parent = null;\n      }\n      removeItems(this.children, beginIndex, end);\n      const renderGroup = this.renderGroup || this.parentRenderGroup;\n      if (renderGroup) {\n        renderGroup.removeChildren(removed);\n      }\n      for (let i = 0; i < removed.length; ++i) {\n        const child = removed[i];\n        child.parentRenderLayer?.detach(child);\n        this.emit(\"childRemoved\", child, this, i);\n        removed[i].emit(\"removed\", this);\n      }\n      if (removed.length > 0) {\n        this._didViewChangeTick++;\n      }\n      return removed;\n    } else if (range === 0 && this.children.length === 0) {\n      return removed;\n    }\n    throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\");\n  },\n  removeChildAt(index) {\n    const child = this.getChildAt(index);\n    return this.removeChild(child);\n  },\n  getChildAt(index) {\n    if (index < 0 || index >= this.children.length) {\n      throw new Error(`getChildAt: Index (${index}) does not exist.`);\n    }\n    return this.children[index];\n  },\n  setChildIndex(child, index) {\n    if (index < 0 || index >= this.children.length) {\n      throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);\n    }\n    this.getChildIndex(child);\n    this.addChildAt(child, index);\n  },\n  getChildIndex(child) {\n    const index = this.children.indexOf(child);\n    if (index === -1) {\n      throw new Error(\"The supplied Container must be a child of the caller\");\n    }\n    return index;\n  },\n  addChildAt(child, index) {\n    if (!this.allowChildren) {\n      deprecation(v8_0_0, \"addChildAt: Only Containers will be allowed to add children in v8.0.0\");\n    }\n    const { children } = this;\n    if (index < 0 || index > children.length) {\n      throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${children.length}`);\n    }\n    if (child.parent) {\n      const currentIndex = child.parent.children.indexOf(child);\n      if (child.parent === this && currentIndex === index) {\n        return child;\n      }\n      if (currentIndex !== -1) {\n        child.parent.children.splice(currentIndex, 1);\n      }\n    }\n    if (index === children.length) {\n      children.push(child);\n    } else {\n      children.splice(index, 0, child);\n    }\n    child.parent = this;\n    child.didChange = true;\n    child._updateFlags = 15;\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (renderGroup) {\n      renderGroup.addChild(child);\n    }\n    if (this.sortableChildren)\n      this.sortDirty = true;\n    this.emit(\"childAdded\", child, this, index);\n    child.emit(\"added\", this);\n    return child;\n  },\n  swapChildren(child, child2) {\n    if (child === child2) {\n      return;\n    }\n    const index1 = this.getChildIndex(child);\n    const index2 = this.getChildIndex(child2);\n    this.children[index1] = child2;\n    this.children[index2] = child;\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (renderGroup) {\n      renderGroup.structureDidChange = true;\n    }\n    this._didContainerChangeTick++;\n  },\n  removeFromParent() {\n    this.parent?.removeChild(this);\n  },\n  reparentChild(...child) {\n    if (child.length === 1) {\n      return this.reparentChildAt(child[0], this.children.length);\n    }\n    child.forEach((c) => this.reparentChildAt(c, this.children.length));\n    return child[0];\n  },\n  reparentChildAt(child, index) {\n    if (child.parent === this) {\n      this.setChildIndex(child, index);\n      return child;\n    }\n    const childMat = child.worldTransform.clone();\n    child.removeFromParent();\n    this.addChildAt(child, index);\n    const newMatrix = this.worldTransform.clone();\n    newMatrix.invert();\n    childMat.prepend(newMatrix);\n    child.setFromMatrix(childMat);\n    return child;\n  },\n  replaceChild(oldChild, newChild) {\n    oldChild.updateLocalTransform();\n    this.addChildAt(newChild, this.getChildIndex(oldChild));\n    newChild.setFromMatrix(oldChild.localTransform);\n    newChild.updateLocalTransform();\n    this.removeChild(oldChild);\n  }\n};\n\nexport { childrenHelperMixin };\n//# sourceMappingURL=childrenHelperMixin.mjs.map\n","\"use strict\";\nconst collectRenderablesMixin = {\n  collectRenderables(instructionSet, renderer, currentLayer) {\n    if (this.parentRenderLayer && this.parentRenderLayer !== currentLayer || this.globalDisplayStatus < 7 || !this.includeInBuild)\n      return;\n    if (this.sortableChildren) {\n      this.sortChildren();\n    }\n    if (this.isSimple) {\n      this.collectRenderablesSimple(instructionSet, renderer, currentLayer);\n    } else if (this.renderGroup) {\n      renderer.renderPipes.renderGroup.addRenderGroup(this.renderGroup, instructionSet);\n    } else {\n      this.collectRenderablesWithEffects(instructionSet, renderer, currentLayer);\n    }\n  },\n  collectRenderablesSimple(instructionSet, renderer, currentLayer) {\n    const children = this.children;\n    const length = children.length;\n    for (let i = 0; i < length; i++) {\n      children[i].collectRenderables(instructionSet, renderer, currentLayer);\n    }\n  },\n  collectRenderablesWithEffects(instructionSet, renderer, currentLayer) {\n    const { renderPipes } = renderer;\n    for (let i = 0; i < this.effects.length; i++) {\n      const effect = this.effects[i];\n      const pipe = renderPipes[effect.pipe];\n      pipe.push(effect, this, instructionSet);\n    }\n    this.collectRenderablesSimple(instructionSet, renderer, currentLayer);\n    for (let i = this.effects.length - 1; i >= 0; i--) {\n      const effect = this.effects[i];\n      const pipe = renderPipes[effect.pipe];\n      pipe.pop(effect, this, instructionSet);\n    }\n  }\n};\n\nexport { collectRenderablesMixin };\n//# sourceMappingURL=collectRenderablesMixin.mjs.map\n","\"use strict\";\nclass FilterEffect {\n  constructor() {\n    /** the pipe that knows how to handle this effect */\n    this.pipe = \"filter\";\n    /** the priority of this effect */\n    this.priority = 1;\n  }\n  destroy() {\n    for (let i = 0; i < this.filters.length; i++) {\n      this.filters[i].destroy();\n    }\n    this.filters = null;\n    this.filterArea = null;\n  }\n}\n\nexport { FilterEffect };\n//# sourceMappingURL=FilterEffect.mjs.map\n","import { extensions, ExtensionType } from '../../extensions/Extensions.mjs';\nimport { BigPool } from '../../utils/pool/PoolGroup.mjs';\n\n\"use strict\";\nclass MaskEffectManagerClass {\n  constructor() {\n    /** @private */\n    this._effectClasses = [];\n    this._tests = [];\n    this._initialized = false;\n  }\n  init() {\n    if (this._initialized)\n      return;\n    this._initialized = true;\n    this._effectClasses.forEach((test) => {\n      this.add({\n        test: test.test,\n        maskClass: test\n      });\n    });\n  }\n  add(test) {\n    this._tests.push(test);\n  }\n  getMaskEffect(item) {\n    if (!this._initialized)\n      this.init();\n    for (let i = 0; i < this._tests.length; i++) {\n      const test = this._tests[i];\n      if (test.test(item)) {\n        return BigPool.get(test.maskClass, item);\n      }\n    }\n    return item;\n  }\n  returnMaskEffect(effect) {\n    BigPool.return(effect);\n  }\n}\nconst MaskEffectManager = new MaskEffectManagerClass();\nextensions.handleByList(ExtensionType.MaskEffect, MaskEffectManager._effectClasses);\n\nexport { MaskEffectManager, MaskEffectManagerClass };\n//# sourceMappingURL=MaskEffectManager.mjs.map\n","import { FilterEffect } from '../../../filters/FilterEffect.mjs';\nimport { MaskEffectManager } from '../../../rendering/mask/MaskEffectManager.mjs';\n\n\"use strict\";\nconst effectsMixin = {\n  _maskEffect: null,\n  _maskOptions: {\n    inverse: false\n  },\n  _filterEffect: null,\n  effects: [],\n  _markStructureAsChanged() {\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (renderGroup) {\n      renderGroup.structureDidChange = true;\n    }\n  },\n  addEffect(effect) {\n    const index = this.effects.indexOf(effect);\n    if (index !== -1)\n      return;\n    this.effects.push(effect);\n    this.effects.sort((a, b) => a.priority - b.priority);\n    this._markStructureAsChanged();\n    this._updateIsSimple();\n  },\n  removeEffect(effect) {\n    const index = this.effects.indexOf(effect);\n    if (index === -1)\n      return;\n    this.effects.splice(index, 1);\n    this._markStructureAsChanged();\n    this._updateIsSimple();\n  },\n  set mask(value) {\n    const effect = this._maskEffect;\n    if (effect?.mask === value)\n      return;\n    if (effect) {\n      this.removeEffect(effect);\n      MaskEffectManager.returnMaskEffect(effect);\n      this._maskEffect = null;\n    }\n    if (value === null || value === void 0)\n      return;\n    this._maskEffect = MaskEffectManager.getMaskEffect(value);\n    this.addEffect(this._maskEffect);\n  },\n  get mask() {\n    return this._maskEffect?.mask;\n  },\n  setMask(options) {\n    this._maskOptions = {\n      ...this._maskOptions,\n      ...options\n    };\n    if (options.mask) {\n      this.mask = options.mask;\n    }\n    this._markStructureAsChanged();\n  },\n  set filters(value) {\n    if (!Array.isArray(value) && value)\n      value = [value];\n    const effect = this._filterEffect || (this._filterEffect = new FilterEffect());\n    value = value;\n    const hasFilters = value?.length > 0;\n    const hadFilters = effect.filters?.length > 0;\n    const didChange = hasFilters !== hadFilters;\n    value = Array.isArray(value) ? value.slice(0) : value;\n    effect.filters = Object.freeze(value);\n    if (didChange) {\n      if (hasFilters) {\n        this.addEffect(effect);\n      } else {\n        this.removeEffect(effect);\n        effect.filters = value ?? null;\n      }\n    }\n  },\n  get filters() {\n    return this._filterEffect?.filters;\n  },\n  set filterArea(value) {\n    this._filterEffect || (this._filterEffect = new FilterEffect());\n    this._filterEffect.filterArea = value;\n  },\n  get filterArea() {\n    return this._filterEffect?.filterArea;\n  }\n};\n\nexport { effectsMixin };\n//# sourceMappingURL=effectsMixin.mjs.map\n","import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst findMixin = {\n  label: null,\n  get name() {\n    deprecation(v8_0_0, \"Container.name property has been removed, use Container.label instead\");\n    return this.label;\n  },\n  set name(value) {\n    deprecation(v8_0_0, \"Container.name property has been removed, use Container.label instead\");\n    this.label = value;\n  },\n  getChildByName(name, deep = false) {\n    return this.getChildByLabel(name, deep);\n  },\n  getChildByLabel(label, deep = false) {\n    const children = this.children;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child.label === label || label instanceof RegExp && label.test(child.label))\n        return child;\n    }\n    if (deep) {\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        const found = child.getChildByLabel(label, true);\n        if (found) {\n          return found;\n        }\n      }\n    }\n    return null;\n  },\n  getChildrenByLabel(label, deep = false, out = []) {\n    const children = this.children;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child.label === label || label instanceof RegExp && label.test(child.label)) {\n        out.push(child);\n      }\n    }\n    if (deep) {\n      for (let i = 0; i < children.length; i++) {\n        children[i].getChildrenByLabel(label, true, out);\n      }\n    }\n    return out;\n  }\n};\n\nexport { findMixin };\n//# sourceMappingURL=findMixin.mjs.map\n","import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { BigPool } from '../../../../utils/pool/PoolGroup.mjs';\nimport { Bounds } from '../Bounds.mjs';\n\n\"use strict\";\nconst matrixPool = BigPool.getPool(Matrix);\nconst boundsPool = BigPool.getPool(Bounds);\n\nexport { boundsPool, matrixPool };\n//# sourceMappingURL=matrixAndBoundsPool.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Bounds } from '../bounds/Bounds.mjs';\nimport { boundsPool } from '../bounds/utils/matrixAndBoundsPool.mjs';\n\n\"use strict\";\nconst tempMatrix = new Matrix();\nconst getFastGlobalBoundsMixin = {\n  getFastGlobalBounds(factorRenderLayers, bounds) {\n    bounds || (bounds = new Bounds());\n    bounds.clear();\n    this._getGlobalBoundsRecursive(!!factorRenderLayers, bounds, this.parentRenderLayer);\n    if (!bounds.isValid) {\n      bounds.set(0, 0, 0, 0);\n    }\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    bounds.applyMatrix(renderGroup.worldTransform);\n    return bounds;\n  },\n  _getGlobalBoundsRecursive(factorRenderLayers, bounds, currentLayer) {\n    let localBounds = bounds;\n    if (factorRenderLayers && this.parentRenderLayer && this.parentRenderLayer !== currentLayer)\n      return;\n    if (this.localDisplayStatus !== 7 || !this.measurable) {\n      return;\n    }\n    const manageEffects = !!this.effects.length;\n    if (this.renderGroup || manageEffects) {\n      localBounds = boundsPool.get().clear();\n    }\n    if (this.boundsArea) {\n      bounds.addRect(this.boundsArea, this.worldTransform);\n    } else {\n      if (this.renderPipeId) {\n        const viewBounds = this.bounds;\n        localBounds.addFrame(\n          viewBounds.minX,\n          viewBounds.minY,\n          viewBounds.maxX,\n          viewBounds.maxY,\n          this.groupTransform\n        );\n      }\n      const children = this.children;\n      for (let i = 0; i < children.length; i++) {\n        children[i]._getGlobalBoundsRecursive(factorRenderLayers, localBounds, currentLayer);\n      }\n    }\n    if (manageEffects) {\n      let advanced = false;\n      const renderGroup = this.renderGroup || this.parentRenderGroup;\n      for (let i = 0; i < this.effects.length; i++) {\n        if (this.effects[i].addBounds) {\n          if (!advanced) {\n            advanced = true;\n            localBounds.applyMatrix(renderGroup.worldTransform);\n          }\n          this.effects[i].addBounds(localBounds, true);\n        }\n      }\n      if (advanced) {\n        localBounds.applyMatrix(renderGroup.worldTransform.copyTo(tempMatrix).invert());\n      }\n      bounds.addBounds(localBounds);\n      boundsPool.return(localBounds);\n    } else if (this.renderGroup) {\n      bounds.addBounds(localBounds, this.relativeGroupTransform);\n      boundsPool.return(localBounds);\n    }\n  }\n};\n\nexport { getFastGlobalBoundsMixin };\n//# sourceMappingURL=getFastGlobalBoundsMixin.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { matrixPool, boundsPool } from './utils/matrixAndBoundsPool.mjs';\n\n\"use strict\";\nfunction getGlobalBounds(target, skipUpdateTransform, bounds) {\n  bounds.clear();\n  let parentTransform;\n  let pooledMatrix;\n  if (target.parent) {\n    if (!skipUpdateTransform) {\n      pooledMatrix = matrixPool.get().identity();\n      parentTransform = updateTransformBackwards(target, pooledMatrix);\n    } else {\n      parentTransform = target.parent.worldTransform;\n    }\n  } else {\n    parentTransform = Matrix.IDENTITY;\n  }\n  _getGlobalBounds(target, bounds, parentTransform, skipUpdateTransform);\n  if (pooledMatrix) {\n    matrixPool.return(pooledMatrix);\n  }\n  if (!bounds.isValid) {\n    bounds.set(0, 0, 0, 0);\n  }\n  return bounds;\n}\nfunction _getGlobalBounds(target, bounds, parentTransform, skipUpdateTransform) {\n  if (!target.visible || !target.measurable)\n    return;\n  let worldTransform;\n  if (!skipUpdateTransform) {\n    target.updateLocalTransform();\n    worldTransform = matrixPool.get();\n    worldTransform.appendFrom(target.localTransform, parentTransform);\n  } else {\n    worldTransform = target.worldTransform;\n  }\n  const parentBounds = bounds;\n  const preserveBounds = !!target.effects.length;\n  if (preserveBounds) {\n    bounds = boundsPool.get().clear();\n  }\n  if (target.boundsArea) {\n    bounds.addRect(target.boundsArea, worldTransform);\n  } else {\n    const renderableBounds = target.bounds;\n    if (renderableBounds && !renderableBounds.isEmpty()) {\n      bounds.matrix = worldTransform;\n      bounds.addBounds(renderableBounds);\n    }\n    for (let i = 0; i < target.children.length; i++) {\n      _getGlobalBounds(target.children[i], bounds, worldTransform, skipUpdateTransform);\n    }\n  }\n  if (preserveBounds) {\n    for (let i = 0; i < target.effects.length; i++) {\n      target.effects[i].addBounds?.(bounds);\n    }\n    parentBounds.addBounds(bounds, Matrix.IDENTITY);\n    boundsPool.return(bounds);\n  }\n  if (!skipUpdateTransform) {\n    matrixPool.return(worldTransform);\n  }\n}\nfunction updateTransformBackwards(target, parentTransform) {\n  const parent = target.parent;\n  if (parent) {\n    updateTransformBackwards(parent, parentTransform);\n    parent.updateLocalTransform();\n    parentTransform.append(parent.localTransform);\n  }\n  return parentTransform;\n}\n\nexport { getGlobalBounds, updateTransformBackwards };\n//# sourceMappingURL=getGlobalBounds.mjs.map\n","\"use strict\";\nfunction multiplyHexColors(color1, color2) {\n  if (color1 === 16777215 || !color2)\n    return color2;\n  if (color2 === 16777215 || !color1)\n    return color1;\n  const r1 = color1 >> 16 & 255;\n  const g1 = color1 >> 8 & 255;\n  const b1 = color1 & 255;\n  const r2 = color2 >> 16 & 255;\n  const g2 = color2 >> 8 & 255;\n  const b2 = color2 & 255;\n  const r = r1 * r2 / 255 | 0;\n  const g = g1 * g2 / 255 | 0;\n  const b = b1 * b2 / 255 | 0;\n  return (r << 16) + (g << 8) + b;\n}\n\nexport { multiplyHexColors };\n//# sourceMappingURL=multiplyHexColors.mjs.map\n","import { multiplyHexColors } from './multiplyHexColors.mjs';\n\n\"use strict\";\nconst WHITE_BGR = 16777215;\nfunction multiplyColors(localBGRColor, parentBGRColor) {\n  if (localBGRColor === WHITE_BGR) {\n    return parentBGRColor;\n  }\n  if (parentBGRColor === WHITE_BGR) {\n    return localBGRColor;\n  }\n  return multiplyHexColors(localBGRColor, parentBGRColor);\n}\n\nexport { multiplyColors };\n//# sourceMappingURL=multiplyColors.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { updateTransformBackwards } from '../bounds/getGlobalBounds.mjs';\nimport { matrixPool } from '../bounds/utils/matrixAndBoundsPool.mjs';\nimport { multiplyColors } from '../utils/multiplyColors.mjs';\n\n\"use strict\";\nfunction bgr2rgb(color) {\n  return ((color & 255) << 16) + (color & 65280) + (color >> 16 & 255);\n}\nconst getGlobalMixin = {\n  getGlobalAlpha(skipUpdate) {\n    if (skipUpdate) {\n      if (this.renderGroup) {\n        return this.renderGroup.worldAlpha;\n      }\n      if (this.parentRenderGroup) {\n        return this.parentRenderGroup.worldAlpha * this.alpha;\n      }\n      return this.alpha;\n    }\n    let alpha = this.alpha;\n    let current = this.parent;\n    while (current) {\n      alpha *= current.alpha;\n      current = current.parent;\n    }\n    return alpha;\n  },\n  getGlobalTransform(matrix = new Matrix(), skipUpdate) {\n    if (skipUpdate) {\n      return matrix.copyFrom(this.worldTransform);\n    }\n    this.updateLocalTransform();\n    const parentTransform = updateTransformBackwards(this, matrixPool.get().identity());\n    matrix.appendFrom(this.localTransform, parentTransform);\n    matrixPool.return(parentTransform);\n    return matrix;\n  },\n  getGlobalTint(skipUpdate) {\n    if (skipUpdate) {\n      if (this.renderGroup) {\n        return bgr2rgb(this.renderGroup.worldColor);\n      }\n      if (this.parentRenderGroup) {\n        return bgr2rgb(\n          multiplyColors(this.localColor, this.parentRenderGroup.worldColor)\n        );\n      }\n      return this.tint;\n    }\n    let color = this.localColor;\n    let parent = this.parent;\n    while (parent) {\n      color = multiplyColors(color, parent.localColor);\n      parent = parent.parent;\n    }\n    return bgr2rgb(color);\n  }\n};\n\nexport { bgr2rgb, getGlobalMixin };\n//# sourceMappingURL=getGlobalMixin.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { matrixPool, boundsPool } from './utils/matrixAndBoundsPool.mjs';\n\n\"use strict\";\nfunction getLocalBounds(target, bounds, relativeMatrix) {\n  bounds.clear();\n  relativeMatrix || (relativeMatrix = Matrix.IDENTITY);\n  _getLocalBounds(target, bounds, relativeMatrix, target, true);\n  if (!bounds.isValid) {\n    bounds.set(0, 0, 0, 0);\n  }\n  return bounds;\n}\nfunction _getLocalBounds(target, bounds, parentTransform, rootContainer, isRoot) {\n  let relativeTransform;\n  if (!isRoot) {\n    if (!target.visible || !target.measurable)\n      return;\n    target.updateLocalTransform();\n    const localTransform = target.localTransform;\n    relativeTransform = matrixPool.get();\n    relativeTransform.appendFrom(localTransform, parentTransform);\n  } else {\n    relativeTransform = matrixPool.get();\n    relativeTransform = parentTransform.copyTo(relativeTransform);\n  }\n  const parentBounds = bounds;\n  const preserveBounds = !!target.effects.length;\n  if (preserveBounds) {\n    bounds = boundsPool.get().clear();\n  }\n  if (target.boundsArea) {\n    bounds.addRect(target.boundsArea, relativeTransform);\n  } else {\n    if (target.renderPipeId) {\n      bounds.matrix = relativeTransform;\n      bounds.addBounds(target.bounds);\n    }\n    const children = target.children;\n    for (let i = 0; i < children.length; i++) {\n      _getLocalBounds(children[i], bounds, relativeTransform, rootContainer, false);\n    }\n  }\n  if (preserveBounds) {\n    for (let i = 0; i < target.effects.length; i++) {\n      target.effects[i].addLocalBounds?.(bounds, rootContainer);\n    }\n    parentBounds.addBounds(bounds, Matrix.IDENTITY);\n    boundsPool.return(bounds);\n  }\n  matrixPool.return(relativeTransform);\n}\n\nexport { getLocalBounds };\n//# sourceMappingURL=getLocalBounds.mjs.map\n","\"use strict\";\nfunction checkChildrenDidChange(container, previousData) {\n  const children = container.children;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    const uid = child.uid;\n    const didChange = (child._didViewChangeTick & 65535) << 16 | child._didContainerChangeTick & 65535;\n    const index = previousData.index;\n    if (previousData.data[index] !== uid || previousData.data[index + 1] !== didChange) {\n      previousData.data[previousData.index] = uid;\n      previousData.data[previousData.index + 1] = didChange;\n      previousData.didChange = true;\n    }\n    previousData.index = index + 2;\n    if (child.children.length) {\n      checkChildrenDidChange(child, previousData);\n    }\n  }\n  return previousData.didChange;\n}\n\nexport { checkChildrenDidChange };\n//# sourceMappingURL=checkChildrenDidChange.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Bounds } from '../bounds/Bounds.mjs';\nimport { getGlobalBounds } from '../bounds/getGlobalBounds.mjs';\nimport { getLocalBounds } from '../bounds/getLocalBounds.mjs';\nimport { checkChildrenDidChange } from '../utils/checkChildrenDidChange.mjs';\n\n\"use strict\";\nconst tempMatrix = new Matrix();\nconst measureMixin = {\n  _localBoundsCacheId: -1,\n  _localBoundsCacheData: null,\n  _setWidth(value, localWidth) {\n    const sign = Math.sign(this.scale.x) || 1;\n    if (localWidth !== 0) {\n      this.scale.x = value / localWidth * sign;\n    } else {\n      this.scale.x = sign;\n    }\n  },\n  _setHeight(value, localHeight) {\n    const sign = Math.sign(this.scale.y) || 1;\n    if (localHeight !== 0) {\n      this.scale.y = value / localHeight * sign;\n    } else {\n      this.scale.y = sign;\n    }\n  },\n  getLocalBounds() {\n    if (!this._localBoundsCacheData) {\n      this._localBoundsCacheData = {\n        data: [],\n        index: 1,\n        didChange: false,\n        localBounds: new Bounds()\n      };\n    }\n    const localBoundsCacheData = this._localBoundsCacheData;\n    localBoundsCacheData.index = 1;\n    localBoundsCacheData.didChange = false;\n    if (localBoundsCacheData.data[0] !== this._didViewChangeTick) {\n      localBoundsCacheData.didChange = true;\n      localBoundsCacheData.data[0] = this._didViewChangeTick;\n    }\n    checkChildrenDidChange(this, localBoundsCacheData);\n    if (localBoundsCacheData.didChange) {\n      getLocalBounds(this, localBoundsCacheData.localBounds, tempMatrix);\n    }\n    return localBoundsCacheData.localBounds;\n  },\n  getBounds(skipUpdate, bounds) {\n    return getGlobalBounds(this, skipUpdate, bounds || new Bounds());\n  }\n};\n\nexport { measureMixin };\n//# sourceMappingURL=measureMixin.mjs.map\n","\"use strict\";\nconst onRenderMixin = {\n  _onRender: null,\n  set onRender(func) {\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (!func) {\n      if (this._onRender) {\n        renderGroup?.removeOnRender(this);\n      }\n      this._onRender = null;\n      return;\n    }\n    if (!this._onRender) {\n      renderGroup?.addOnRender(this);\n    }\n    this._onRender = func;\n  },\n  get onRender() {\n    return this._onRender;\n  }\n};\n\nexport { onRenderMixin };\n//# sourceMappingURL=onRenderMixin.mjs.map\n","\"use strict\";\nconst sortMixin = {\n  _zIndex: 0,\n  sortDirty: false,\n  sortableChildren: false,\n  get zIndex() {\n    return this._zIndex;\n  },\n  set zIndex(value) {\n    if (this._zIndex === value)\n      return;\n    this._zIndex = value;\n    this.depthOfChildModified();\n  },\n  depthOfChildModified() {\n    if (this.parent) {\n      this.parent.sortableChildren = true;\n      this.parent.sortDirty = true;\n    }\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.structureDidChange = true;\n    }\n  },\n  sortChildren() {\n    if (!this.sortDirty)\n      return;\n    this.sortDirty = false;\n    this.children.sort(sortChildren);\n  }\n};\nfunction sortChildren(a, b) {\n  return a._zIndex - b._zIndex;\n}\n\nexport { sortMixin };\n//# sourceMappingURL=sortMixin.mjs.map\n","import { Point } from '../../../maths/point/Point.mjs';\nimport { matrixPool } from '../bounds/utils/matrixAndBoundsPool.mjs';\n\n\"use strict\";\nconst toLocalGlobalMixin = {\n  getGlobalPosition(point = new Point(), skipUpdate = false) {\n    if (this.parent) {\n      this.parent.toGlobal(this._position, point, skipUpdate);\n    } else {\n      point.x = this._position.x;\n      point.y = this._position.y;\n    }\n    return point;\n  },\n  toGlobal(position, point, skipUpdate = false) {\n    const globalMatrix = this.getGlobalTransform(matrixPool.get(), skipUpdate);\n    point = globalMatrix.apply(position, point);\n    matrixPool.return(globalMatrix);\n    return point;\n  },\n  toLocal(position, from, point, skipUpdate) {\n    if (from) {\n      position = from.toGlobal(position, point, skipUpdate);\n    }\n    const globalMatrix = this.getGlobalTransform(matrixPool.get(), skipUpdate);\n    point = globalMatrix.applyInverse(position, point);\n    matrixPool.return(globalMatrix);\n    return point;\n  }\n};\n\nexport { toLocalGlobalMixin };\n//# sourceMappingURL=toLocalGlobalMixin.mjs.map\n","import { uid } from '../../../../utils/data/uid.mjs';\n\n\"use strict\";\nclass InstructionSet {\n  constructor() {\n    /** a unique id for this instruction set used through the renderer */\n    this.uid = uid(\"instructionSet\");\n    /** the array of instructions */\n    this.instructions = [];\n    /** the actual size of the array (any instructions passed this should be ignored) */\n    this.instructionSize = 0;\n    this.renderables = [];\n    /** used by the garbage collector to track when the instruction set was last used */\n    this.gcTick = 0;\n  }\n  /** reset the instruction set so it can be reused set size back to 0 */\n  reset() {\n    this.instructionSize = 0;\n  }\n  /**\n   * Destroy the instruction set, clearing the instructions and renderables.\n   * @internal\n   */\n  destroy() {\n    this.instructions.length = 0;\n    this.renderables.length = 0;\n    this.renderPipes = null;\n    this.gcTick = 0;\n  }\n  /**\n   * Add an instruction to the set\n   * @param instruction - add an instruction to the set\n   */\n  add(instruction) {\n    this.instructions[this.instructionSize++] = instruction;\n  }\n  /**\n   * Log the instructions to the console (for debugging)\n   * @internal\n   */\n  log() {\n    this.instructions.length = this.instructionSize;\n    console.table(this.instructions, [\"type\", \"action\"]);\n  }\n}\n\nexport { InstructionSet };\n//# sourceMappingURL=InstructionSet.mjs.map\n","import { nextPow2 } from '../../../../maths/misc/pow2.mjs';\nimport { GlobalResourceRegistry } from '../../../../utils/pool/GlobalResourceRegistry.mjs';\nimport { TextureSource } from './sources/TextureSource.mjs';\nimport { Texture } from './Texture.mjs';\nimport { TextureStyle } from './TextureStyle.mjs';\n\n\"use strict\";\nlet count = 0;\nclass TexturePoolClass {\n  /**\n   * @param textureOptions - options that will be passed to BaseRenderTexture constructor\n   * @param {SCALE_MODE} [textureOptions.scaleMode] - See {@link SCALE_MODE} for possible values.\n   */\n  constructor(textureOptions) {\n    this._poolKeyHash = /* @__PURE__ */ Object.create(null);\n    this._texturePool = {};\n    this.textureOptions = textureOptions || {};\n    this.enableFullScreen = false;\n    this.textureStyle = new TextureStyle(this.textureOptions);\n  }\n  /**\n   * Creates texture with params that were specified in pool constructor.\n   * @param pixelWidth - Width of texture in pixels.\n   * @param pixelHeight - Height of texture in pixels.\n   * @param antialias\n   */\n  createTexture(pixelWidth, pixelHeight, antialias) {\n    const textureSource = new TextureSource({\n      ...this.textureOptions,\n      width: pixelWidth,\n      height: pixelHeight,\n      resolution: 1,\n      antialias,\n      autoGarbageCollect: false\n    });\n    return new Texture({\n      source: textureSource,\n      label: `texturePool_${count++}`\n    });\n  }\n  /**\n   * Gets a Power-of-Two render texture or fullScreen texture\n   * @param frameWidth - The minimum width of the render texture.\n   * @param frameHeight - The minimum height of the render texture.\n   * @param resolution - The resolution of the render texture.\n   * @param antialias\n   * @returns The new render texture.\n   */\n  getOptimalTexture(frameWidth, frameHeight, resolution = 1, antialias) {\n    let po2Width = Math.ceil(frameWidth * resolution - 1e-6);\n    let po2Height = Math.ceil(frameHeight * resolution - 1e-6);\n    po2Width = nextPow2(po2Width);\n    po2Height = nextPow2(po2Height);\n    const key = (po2Width << 17) + (po2Height << 1) + (antialias ? 1 : 0);\n    if (!this._texturePool[key]) {\n      this._texturePool[key] = [];\n    }\n    let texture = this._texturePool[key].pop();\n    if (!texture) {\n      texture = this.createTexture(po2Width, po2Height, antialias);\n    }\n    texture.source._resolution = resolution;\n    texture.source.width = po2Width / resolution;\n    texture.source.height = po2Height / resolution;\n    texture.source.pixelWidth = po2Width;\n    texture.source.pixelHeight = po2Height;\n    texture.frame.x = 0;\n    texture.frame.y = 0;\n    texture.frame.width = frameWidth;\n    texture.frame.height = frameHeight;\n    texture.updateUvs();\n    this._poolKeyHash[texture.uid] = key;\n    return texture;\n  }\n  /**\n   * Gets extra texture of the same size as input renderTexture\n   * @param texture - The texture to check what size it is.\n   * @param antialias - Whether to use antialias.\n   * @returns A texture that is a power of two\n   */\n  getSameSizeTexture(texture, antialias = false) {\n    const source = texture.source;\n    return this.getOptimalTexture(texture.width, texture.height, source._resolution, antialias);\n  }\n  /**\n   * Place a render texture back into the pool. Optionally reset the style of the texture to the default texture style.\n   * useful if you modified the style of the texture after getting it from the pool.\n   * @param renderTexture - The renderTexture to free\n   * @param resetStyle - Whether to reset the style of the texture to the default texture style\n   */\n  returnTexture(renderTexture, resetStyle = false) {\n    const key = this._poolKeyHash[renderTexture.uid];\n    if (resetStyle) {\n      renderTexture.source.style = this.textureStyle;\n    }\n    this._texturePool[key].push(renderTexture);\n  }\n  /**\n   * Clears the pool.\n   * @param destroyTextures - Destroy all stored textures.\n   */\n  clear(destroyTextures) {\n    destroyTextures = destroyTextures !== false;\n    if (destroyTextures) {\n      for (const i in this._texturePool) {\n        const textures = this._texturePool[i];\n        if (textures) {\n          for (let j = 0; j < textures.length; j++) {\n            textures[j].destroy(true);\n          }\n        }\n      }\n    }\n    this._texturePool = {};\n  }\n}\nconst TexturePool = new TexturePoolClass();\nGlobalResourceRegistry.register(TexturePool);\n\nexport { TexturePool, TexturePoolClass };\n//# sourceMappingURL=TexturePool.mjs.map\n","import { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet.mjs';\nimport { TexturePool } from '../../rendering/renderers/shared/texture/TexturePool.mjs';\n\n\"use strict\";\nclass RenderGroup {\n  constructor() {\n    this.renderPipeId = \"renderGroup\";\n    this.root = null;\n    this.canBundle = false;\n    this.renderGroupParent = null;\n    this.renderGroupChildren = [];\n    this.worldTransform = new Matrix();\n    this.worldColorAlpha = 4294967295;\n    this.worldColor = 16777215;\n    this.worldAlpha = 1;\n    // these updates are transform changes..\n    this.childrenToUpdate = /* @__PURE__ */ Object.create(null);\n    this.updateTick = 0;\n    this.gcTick = 0;\n    // these update are renderable changes..\n    this.childrenRenderablesToUpdate = { list: [], index: 0 };\n    // other\n    this.structureDidChange = true;\n    this.instructionSet = new InstructionSet();\n    this._onRenderContainers = [];\n    /**\n     * Indicates if the cached texture needs to be updated.\n     * @default true\n     */\n    this.textureNeedsUpdate = true;\n    /**\n     * Indicates if the container should be cached as a texture.\n     * @default false\n     */\n    this.isCachedAsTexture = false;\n    this._matrixDirty = 7;\n  }\n  init(root) {\n    this.root = root;\n    if (root._onRender)\n      this.addOnRender(root);\n    root.didChange = true;\n    const children = root.children;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      child._updateFlags = 15;\n      this.addChild(child);\n    }\n  }\n  enableCacheAsTexture(options = {}) {\n    this.textureOptions = options;\n    this.isCachedAsTexture = true;\n    this.textureNeedsUpdate = true;\n  }\n  disableCacheAsTexture() {\n    this.isCachedAsTexture = false;\n    if (this.texture) {\n      TexturePool.returnTexture(this.texture, true);\n      this.texture = null;\n    }\n  }\n  updateCacheTexture() {\n    this.textureNeedsUpdate = true;\n    const cachedParent = this._parentCacheAsTextureRenderGroup;\n    if (cachedParent && !cachedParent.textureNeedsUpdate) {\n      cachedParent.updateCacheTexture();\n    }\n  }\n  reset() {\n    this.renderGroupChildren.length = 0;\n    for (const i in this.childrenToUpdate) {\n      const childrenAtDepth = this.childrenToUpdate[i];\n      childrenAtDepth.list.fill(null);\n      childrenAtDepth.index = 0;\n    }\n    this.childrenRenderablesToUpdate.index = 0;\n    this.childrenRenderablesToUpdate.list.fill(null);\n    this.root = null;\n    this.updateTick = 0;\n    this.structureDidChange = true;\n    this._onRenderContainers.length = 0;\n    this.renderGroupParent = null;\n    this.disableCacheAsTexture();\n  }\n  get localTransform() {\n    return this.root.localTransform;\n  }\n  addRenderGroupChild(renderGroupChild) {\n    if (renderGroupChild.renderGroupParent) {\n      renderGroupChild.renderGroupParent._removeRenderGroupChild(renderGroupChild);\n    }\n    renderGroupChild.renderGroupParent = this;\n    this.renderGroupChildren.push(renderGroupChild);\n  }\n  _removeRenderGroupChild(renderGroupChild) {\n    const index = this.renderGroupChildren.indexOf(renderGroupChild);\n    if (index > -1) {\n      this.renderGroupChildren.splice(index, 1);\n    }\n    renderGroupChild.renderGroupParent = null;\n  }\n  addChild(child) {\n    this.structureDidChange = true;\n    child.parentRenderGroup = this;\n    child.updateTick = -1;\n    if (child.parent === this.root) {\n      child.relativeRenderGroupDepth = 1;\n    } else {\n      child.relativeRenderGroupDepth = child.parent.relativeRenderGroupDepth + 1;\n    }\n    child.didChange = true;\n    this.onChildUpdate(child);\n    if (child.renderGroup) {\n      this.addRenderGroupChild(child.renderGroup);\n      return;\n    }\n    if (child._onRender)\n      this.addOnRender(child);\n    const children = child.children;\n    for (let i = 0; i < children.length; i++) {\n      this.addChild(children[i]);\n    }\n  }\n  removeChild(child) {\n    this.structureDidChange = true;\n    if (child._onRender) {\n      if (!child.renderGroup) {\n        this.removeOnRender(child);\n      }\n    }\n    child.parentRenderGroup = null;\n    if (child.renderGroup) {\n      this._removeRenderGroupChild(child.renderGroup);\n      return;\n    }\n    const children = child.children;\n    for (let i = 0; i < children.length; i++) {\n      this.removeChild(children[i]);\n    }\n  }\n  removeChildren(children) {\n    for (let i = 0; i < children.length; i++) {\n      this.removeChild(children[i]);\n    }\n  }\n  onChildUpdate(child) {\n    let childrenToUpdate = this.childrenToUpdate[child.relativeRenderGroupDepth];\n    if (!childrenToUpdate) {\n      childrenToUpdate = this.childrenToUpdate[child.relativeRenderGroupDepth] = {\n        index: 0,\n        list: []\n      };\n    }\n    childrenToUpdate.list[childrenToUpdate.index++] = child;\n  }\n  updateRenderable(renderable) {\n    if (renderable.globalDisplayStatus < 7)\n      return;\n    this.instructionSet.renderPipes[renderable.renderPipeId].updateRenderable(renderable);\n    renderable.didViewUpdate = false;\n  }\n  onChildViewUpdate(child) {\n    this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++] = child;\n  }\n  get isRenderable() {\n    return this.root.localDisplayStatus === 7 && this.worldAlpha > 0;\n  }\n  /**\n   * adding a container to the onRender list will make sure the user function\n   * passed in to the user defined 'onRender` callBack\n   * @param container - the container to add to the onRender list\n   */\n  addOnRender(container) {\n    this._onRenderContainers.push(container);\n  }\n  removeOnRender(container) {\n    this._onRenderContainers.splice(this._onRenderContainers.indexOf(container), 1);\n  }\n  runOnRender(renderer) {\n    for (let i = 0; i < this._onRenderContainers.length; i++) {\n      this._onRenderContainers[i]._onRender(renderer);\n    }\n  }\n  destroy() {\n    this.disableCacheAsTexture();\n    this.renderGroupParent = null;\n    this.root = null;\n    this.childrenRenderablesToUpdate = null;\n    this.childrenToUpdate = null;\n    this.renderGroupChildren = null;\n    this._onRenderContainers = null;\n    this.instructionSet = null;\n  }\n  getChildren(out = []) {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      this._getChildren(children[i], out);\n    }\n    return out;\n  }\n  _getChildren(container, out = []) {\n    out.push(container);\n    if (container.renderGroup)\n      return out;\n    const children = container.children;\n    for (let i = 0; i < children.length; i++) {\n      this._getChildren(children[i], out);\n    }\n    return out;\n  }\n  invalidateMatrices() {\n    this._matrixDirty = 7;\n  }\n  /**\n   * Returns the inverse of the world transform matrix.\n   * @returns {Matrix} The inverse of the world transform matrix.\n   */\n  get inverseWorldTransform() {\n    if ((this._matrixDirty & 1) === 0)\n      return this._inverseWorldTransform;\n    this._matrixDirty &= ~1;\n    this._inverseWorldTransform || (this._inverseWorldTransform = new Matrix());\n    return this._inverseWorldTransform.copyFrom(this.worldTransform).invert();\n  }\n  /**\n   * Returns the inverse of the texture offset transform matrix.\n   * @returns {Matrix} The inverse of the texture offset transform matrix.\n   */\n  get textureOffsetInverseTransform() {\n    if ((this._matrixDirty & 2) === 0)\n      return this._textureOffsetInverseTransform;\n    this._matrixDirty &= ~2;\n    this._textureOffsetInverseTransform || (this._textureOffsetInverseTransform = new Matrix());\n    return this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(\n      -this._textureBounds.x,\n      -this._textureBounds.y\n    );\n  }\n  /**\n   * Returns the inverse of the parent texture transform matrix.\n   * This is used to properly transform coordinates when rendering into cached textures.\n   * @returns {Matrix} The inverse of the parent texture transform matrix.\n   */\n  get inverseParentTextureTransform() {\n    if ((this._matrixDirty & 4) === 0)\n      return this._inverseParentTextureTransform;\n    this._matrixDirty &= ~4;\n    const parentCacheAsTexture = this._parentCacheAsTextureRenderGroup;\n    if (parentCacheAsTexture) {\n      this._inverseParentTextureTransform || (this._inverseParentTextureTransform = new Matrix());\n      return this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(parentCacheAsTexture.inverseWorldTransform).translate(\n        -parentCacheAsTexture._textureBounds.x,\n        -parentCacheAsTexture._textureBounds.y\n      );\n    }\n    return this.worldTransform;\n  }\n  /**\n   * Returns a matrix that transforms coordinates to the correct coordinate space of the texture being rendered to.\n   * This is the texture offset inverse transform of the closest parent RenderGroup that is cached as a texture.\n   * @returns {Matrix | null} The transform matrix for the cached texture coordinate space,\n   * or null if no parent is cached as texture.\n   */\n  get cacheToLocalTransform() {\n    if (this.isCachedAsTexture) {\n      return this.textureOffsetInverseTransform;\n    }\n    if (!this._parentCacheAsTextureRenderGroup)\n      return null;\n    return this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform;\n  }\n}\n\nexport { RenderGroup };\n//# sourceMappingURL=RenderGroup.mjs.map\n","\"use strict\";\nfunction assignWithIgnore(target, options, ignore = {}) {\n  for (const key in options) {\n    if (!ignore[key] && options[key] !== void 0) {\n      target[key] = options[key];\n    }\n  }\n}\n\nexport { assignWithIgnore };\n//# sourceMappingURL=assignWithIgnore.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Color } from '../../color/Color.mjs';\nimport { cullingMixin } from '../../culling/cullingMixin.mjs';\nimport { extensions } from '../../extensions/Extensions.mjs';\nimport { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { RAD_TO_DEG, DEG_TO_RAD } from '../../maths/misc/const.mjs';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { uid } from '../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { warn } from '../../utils/logging/warn.mjs';\nimport { BigPool } from '../../utils/pool/PoolGroup.mjs';\nimport { cacheAsTextureMixin } from './container-mixins/cacheAsTextureMixin.mjs';\nimport { childrenHelperMixin } from './container-mixins/childrenHelperMixin.mjs';\nimport { collectRenderablesMixin } from './container-mixins/collectRenderablesMixin.mjs';\nimport { effectsMixin } from './container-mixins/effectsMixin.mjs';\nimport { findMixin } from './container-mixins/findMixin.mjs';\nimport { getFastGlobalBoundsMixin } from './container-mixins/getFastGlobalBoundsMixin.mjs';\nimport { bgr2rgb, getGlobalMixin } from './container-mixins/getGlobalMixin.mjs';\nimport { measureMixin } from './container-mixins/measureMixin.mjs';\nimport { onRenderMixin } from './container-mixins/onRenderMixin.mjs';\nimport { sortMixin } from './container-mixins/sortMixin.mjs';\nimport { toLocalGlobalMixin } from './container-mixins/toLocalGlobalMixin.mjs';\nimport { RenderGroup } from './RenderGroup.mjs';\nimport { assignWithIgnore } from './utils/assignWithIgnore.mjs';\n\n\"use strict\";\nconst defaultSkew = new ObservablePoint(null);\nconst defaultPivot = new ObservablePoint(null);\nconst defaultScale = new ObservablePoint(null, 1, 1);\nconst defaultOrigin = new ObservablePoint(null);\nconst UPDATE_COLOR = 1;\nconst UPDATE_BLEND = 2;\nconst UPDATE_VISIBLE = 4;\nconst UPDATE_TRANSFORM = 8;\nclass Container extends EventEmitter {\n  constructor(options = {}) {\n    super();\n    /**\n     * unique id for this container\n     * @internal\n     */\n    this.uid = uid(\"renderable\");\n    /** @private */\n    this._updateFlags = 15;\n    // the render group this container owns\n    /** @private */\n    this.renderGroup = null;\n    // the render group this container belongs to\n    /** @private */\n    this.parentRenderGroup = null;\n    // the index of the container in the render group\n    /** @private */\n    this.parentRenderGroupIndex = 0;\n    // set to true if the container has changed. It is reset once the changes have been applied\n    // by the transform system\n    // its here to stop ensure that when things change, only one update gets registers with the transform system\n    /** @private */\n    this.didChange = false;\n    // same as above, but for the renderable\n    /** @private */\n    this.didViewUpdate = false;\n    // how deep is the container relative to its render group..\n    // unless the element is the root render group - it will be relative to its parent\n    /** @private */\n    this.relativeRenderGroupDepth = 0;\n    /**\n     * The array of children of this container. Each child must be a Container or extend from it.\n     *\n     * The array is read-only, but its contents can be modified using Container methods.\n     * @example\n     * ```ts\n     * // Access children\n     * const firstChild = container.children[0];\n     * const lastChild = container.children[container.children.length - 1];\n     * ```\n     * @readonly\n     * @see {@link Container#addChild} For adding children\n     * @see {@link Container#removeChild} For removing children\n     */\n    this.children = [];\n    /**\n     * The display object container that contains this display object.\n     * This represents the parent-child relationship in the display tree.\n     * @example\n     * ```ts\n     * // Basic parent access\n     * const parent = sprite.parent;\n     *\n     * // Walk up the tree\n     * let current = sprite;\n     * while (current.parent) {\n     *     console.log('Level up:', current.parent.constructor.name);\n     *     current = current.parent;\n     * }\n     * ```\n     * @readonly\n     * @see {@link Container#addChild} For adding to a parent\n     * @see {@link Container#removeChild} For removing from parent\n     */\n    this.parent = null;\n    // used internally for changing up the render order.. mainly for masks and filters\n    // TODO setting this should cause a rebuild??\n    /** @private */\n    this.includeInBuild = true;\n    /** @private */\n    this.measurable = true;\n    /** @private */\n    this.isSimple = true;\n    // / /////////////Transform related props//////////////\n    // used by the transform system to check if a container needs to be updated that frame\n    // if the tick matches the current transform system tick, it is not updated again\n    /** @internal */\n    this.updateTick = -1;\n    /**\n     * Current transform of the object based on local factors: position, scale, other stuff.\n     * This matrix represents the local transformation without any parent influence.\n     * @example\n     * ```ts\n     * // Basic transform access\n     * const localMatrix = sprite.localTransform;\n     * console.log(localMatrix.toString());\n     * ```\n     * @readonly\n     * @see {@link Container#worldTransform} For global transform\n     * @see {@link Container#groupTransform} For render group transform\n     */\n    this.localTransform = new Matrix();\n    /**\n     * The relative group transform is a transform relative to the render group it belongs too. It will include all parent\n     * transforms and up to the render group (think of it as kind of like a stage - but the stage can be nested).\n     * If this container is is self a render group matrix will be relative to its parent render group\n     * @readonly\n     * @advanced\n     */\n    this.relativeGroupTransform = new Matrix();\n    /**\n     * The group transform is a transform relative to the render group it belongs too.\n     * If this container is render group then this will be an identity matrix. other wise it\n     * will be the same as the relativeGroupTransform.\n     * Use this value when actually rendering things to the screen\n     * @readonly\n     * @advanced\n     */\n    this.groupTransform = this.relativeGroupTransform;\n    /**\n     * Whether this object has been destroyed. If true, the object should no longer be used.\n     * After an object is destroyed, all of its functionality is disabled and references are removed.\n     * @example\n     * ```ts\n     * // Cleanup with destroy\n     * sprite.destroy();\n     * console.log(sprite.destroyed); // true\n     * ```\n     * @default false\n     * @see {@link Container#destroy} For destroying objects\n     */\n    this.destroyed = false;\n    // transform data..\n    /**\n     * The coordinate of the object relative to the local coordinates of the parent.\n     * @internal\n     */\n    this._position = new ObservablePoint(this, 0, 0);\n    /**\n     * The scale factor of the object.\n     * @internal\n     */\n    this._scale = defaultScale;\n    /**\n     * The pivot point of the container that it rotates around.\n     * @internal\n     */\n    this._pivot = defaultPivot;\n    /**\n     * The origin point around which the container rotates and scales.\n     * Unlike pivot, changing origin will not move the container's position.\n     * @private\n     */\n    this._origin = defaultOrigin;\n    /**\n     * The skew amount, on the x and y axis.\n     * @internal\n     */\n    this._skew = defaultSkew;\n    /**\n     * The X-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     */\n    this._cx = 1;\n    /**\n     * The Y-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     */\n    this._sx = 0;\n    /**\n     * The X-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     */\n    this._cy = 0;\n    /**\n     * The Y-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     */\n    this._sy = 1;\n    /**\n     * The rotation amount.\n     * @internal\n     */\n    this._rotation = 0;\n    // / COLOR related props //////////////\n    // color stored as ABGR\n    /** @internal */\n    this.localColor = 16777215;\n    /** @internal */\n    this.localAlpha = 1;\n    /** @internal */\n    this.groupAlpha = 1;\n    // A\n    /** @internal */\n    this.groupColor = 16777215;\n    // BGR\n    /** @internal */\n    this.groupColorAlpha = 4294967295;\n    // ABGR\n    // / BLEND related props //////////////\n    /** @internal */\n    this.localBlendMode = \"inherit\";\n    /** @internal */\n    this.groupBlendMode = \"normal\";\n    // / VISIBILITY related props //////////////\n    // visibility\n    // 0b11\n    // first bit is visible, second bit is renderable\n    /**\n     * This property holds three bits: culled, visible, renderable\n     * the third bit represents culling (0 = culled, 1 = not culled) 0b100\n     * the second bit represents visibility (0 = not visible, 1 = visible) 0b010\n     * the first bit represents renderable (0 = not renderable, 1 = renderable) 0b001\n     * @internal\n     */\n    this.localDisplayStatus = 7;\n    // 0b11 | 0b10 | 0b01 | 0b00\n    /** @internal */\n    this.globalDisplayStatus = 7;\n    /**\n     * A value that increments each time the containe is modified\n     * eg children added, removed etc\n     * @ignore\n     */\n    this._didContainerChangeTick = 0;\n    /**\n     * A value that increments each time the container view is modified\n     * eg texture swap, geometry change etc\n     * @ignore\n     */\n    this._didViewChangeTick = 0;\n    /**\n     * property that tracks if the container transform has changed\n     * @ignore\n     */\n    this._didLocalTransformChangeId = -1;\n    this.effects = [];\n    assignWithIgnore(this, options, {\n      children: true,\n      parent: true,\n      effects: true\n    });\n    options.children?.forEach((child) => this.addChild(child));\n    options.parent?.addChild(this);\n  }\n  /**\n   * Mixes all enumerable properties and methods from a source object to Container.\n   * @param source - The source of properties and methods to mix in.\n   * @deprecated since 8.8.0\n   */\n  static mixin(source) {\n    deprecation(\"8.8.0\", \"Container.mixin is deprecated, please use extensions.mixin instead.\");\n    extensions.mixin(Container, source);\n  }\n  // = 'default';\n  /**\n   * We now use the _didContainerChangeTick and _didViewChangeTick to track changes\n   * @deprecated since 8.2.6\n   * @ignore\n   */\n  set _didChangeId(value) {\n    this._didViewChangeTick = value >> 12 & 4095;\n    this._didContainerChangeTick = value & 4095;\n  }\n  /** @ignore */\n  get _didChangeId() {\n    return this._didContainerChangeTick & 4095 | (this._didViewChangeTick & 4095) << 12;\n  }\n  /**\n   * Adds one or more children to the container.\n   * The children will be rendered as part of this container's display list.\n   * @example\n   * ```ts\n   * // Add a single child\n   * container.addChild(sprite);\n   *\n   * // Add multiple children\n   * container.addChild(background, player, foreground);\n   *\n   * // Add with type checking\n   * const sprite = container.addChild<Sprite>(new Sprite(texture));\n   * sprite.tint = 'red';\n   * ```\n   * @param children - The Container(s) to add to the container\n   * @returns The first child that was added\n   * @see {@link Container#removeChild} For removing children\n   * @see {@link Container#addChildAt} For adding at specific index\n   */\n  addChild(...children) {\n    if (!this.allowChildren) {\n      deprecation(v8_0_0, \"addChild: Only Containers will be allowed to add children in v8.0.0\");\n    }\n    if (children.length > 1) {\n      for (let i = 0; i < children.length; i++) {\n        this.addChild(children[i]);\n      }\n      return children[0];\n    }\n    const child = children[0];\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (child.parent === this) {\n      this.children.splice(this.children.indexOf(child), 1);\n      this.children.push(child);\n      if (renderGroup) {\n        renderGroup.structureDidChange = true;\n      }\n      return child;\n    }\n    if (child.parent) {\n      child.parent.removeChild(child);\n    }\n    this.children.push(child);\n    if (this.sortableChildren)\n      this.sortDirty = true;\n    child.parent = this;\n    child.didChange = true;\n    child._updateFlags = 15;\n    if (renderGroup) {\n      renderGroup.addChild(child);\n    }\n    this.emit(\"childAdded\", child, this, this.children.length - 1);\n    child.emit(\"added\", this);\n    this._didViewChangeTick++;\n    if (child._zIndex !== 0) {\n      child.depthOfChildModified();\n    }\n    return child;\n  }\n  /**\n   * Removes one or more children from the container.\n   * When removing multiple children, events will be triggered for each child in sequence.\n   * @example\n   * ```ts\n   * // Remove a single child\n   * const removed = container.removeChild(sprite);\n   *\n   * // Remove multiple children\n   * const bg = container.removeChild(background, player, userInterface);\n   *\n   * // Remove with type checking\n   * const sprite = container.removeChild<Sprite>(childSprite);\n   * sprite.texture = newTexture;\n   * ```\n   * @param children - The Container(s) to remove\n   * @returns The first child that was removed\n   * @see {@link Container#addChild} For adding children\n   * @see {@link Container#removeChildren} For removing multiple children\n   */\n  removeChild(...children) {\n    if (children.length > 1) {\n      for (let i = 0; i < children.length; i++) {\n        this.removeChild(children[i]);\n      }\n      return children[0];\n    }\n    const child = children[0];\n    const index = this.children.indexOf(child);\n    if (index > -1) {\n      this._didViewChangeTick++;\n      this.children.splice(index, 1);\n      if (this.renderGroup) {\n        this.renderGroup.removeChild(child);\n      } else if (this.parentRenderGroup) {\n        this.parentRenderGroup.removeChild(child);\n      }\n      if (child.parentRenderLayer) {\n        child.parentRenderLayer.detach(child);\n      }\n      child.parent = null;\n      this.emit(\"childRemoved\", child, this, index);\n      child.emit(\"removed\", this);\n    }\n    return child;\n  }\n  /** @ignore */\n  _onUpdate(point) {\n    if (point) {\n      if (point === this._skew) {\n        this._updateSkew();\n      }\n    }\n    this._didContainerChangeTick++;\n    if (this.didChange)\n      return;\n    this.didChange = true;\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.onChildUpdate(this);\n    }\n  }\n  set isRenderGroup(value) {\n    if (!!this.renderGroup === value)\n      return;\n    if (value) {\n      this.enableRenderGroup();\n    } else {\n      this.disableRenderGroup();\n    }\n  }\n  /**\n   * Returns true if this container is a render group.\n   * This means that it will be rendered as a separate pass, with its own set of instructions\n   * @advanced\n   */\n  get isRenderGroup() {\n    return !!this.renderGroup;\n  }\n  /**\n   * Calling this enables a render group for this container.\n   * This means it will be rendered as a separate set of instructions.\n   * The transform of the container will also be handled on the GPU rather than the CPU.\n   * @advanced\n   */\n  enableRenderGroup() {\n    if (this.renderGroup)\n      return;\n    const parentRenderGroup = this.parentRenderGroup;\n    parentRenderGroup?.removeChild(this);\n    this.renderGroup = BigPool.get(RenderGroup, this);\n    this.groupTransform = Matrix.IDENTITY;\n    parentRenderGroup?.addChild(this);\n    this._updateIsSimple();\n  }\n  /**\n   * This will disable the render group for this container.\n   * @advanced\n   */\n  disableRenderGroup() {\n    if (!this.renderGroup)\n      return;\n    const parentRenderGroup = this.parentRenderGroup;\n    parentRenderGroup?.removeChild(this);\n    BigPool.return(this.renderGroup);\n    this.renderGroup = null;\n    this.groupTransform = this.relativeGroupTransform;\n    parentRenderGroup?.addChild(this);\n    this._updateIsSimple();\n  }\n  /** @ignore */\n  _updateIsSimple() {\n    this.isSimple = !this.renderGroup && this.effects.length === 0;\n  }\n  /**\n   * Current transform of the object based on world (parent) factors.\n   *\n   * This matrix represents the absolute transformation in the scene graph.\n   * @example\n   * ```ts\n   * // Get world position\n   * const worldPos = container.worldTransform;\n   * console.log(`World position: (${worldPos.tx}, ${worldPos.ty})`);\n   * ```\n   * @readonly\n   * @see {@link Container#localTransform} For local space transform\n   */\n  get worldTransform() {\n    this._worldTransform || (this._worldTransform = new Matrix());\n    if (this.renderGroup) {\n      this._worldTransform.copyFrom(this.renderGroup.worldTransform);\n    } else if (this.parentRenderGroup) {\n      this._worldTransform.appendFrom(this.relativeGroupTransform, this.parentRenderGroup.worldTransform);\n    }\n    return this._worldTransform;\n  }\n  /**\n   * The position of the container on the x axis relative to the local coordinates of the parent.\n   *\n   * An alias to position.x\n   * @example\n   * ```ts\n   * // Basic position\n   * container.x = 100;\n   * ```\n   */\n  get x() {\n    return this._position.x;\n  }\n  set x(value) {\n    this._position.x = value;\n  }\n  /**\n   * The position of the container on the y axis relative to the local coordinates of the parent.\n   *\n   * An alias to position.y\n   * @example\n   * ```ts\n   * // Basic position\n   * container.y = 200;\n   * ```\n   */\n  get y() {\n    return this._position.y;\n  }\n  set y(value) {\n    this._position.y = value;\n  }\n  /**\n   * The coordinate of the object relative to the local coordinates of the parent.\n   * @example\n   * ```ts\n   * // Basic position setting\n   * container.position.set(100, 200);\n   * container.position.set(100); // Sets both x and y to 100\n   * // Using point data\n   * container.position = { x: 50, y: 75 };\n   * ```\n   * @since 4.0.0\n   */\n  get position() {\n    return this._position;\n  }\n  set position(value) {\n    this._position.copyFrom(value);\n  }\n  /**\n   * The rotation of the object in radians.\n   *\n   * > [!NOTE] 'rotation' and 'angle' have the same effect on a display object;\n   * > rotation is in radians, angle is in degrees.\n   * @example\n   * ```ts\n   * // Basic rotation\n   * container.rotation = Math.PI / 4; // 45 degrees\n   *\n   * // Convert from degrees\n   * const degrees = 45;\n   * container.rotation = degrees * Math.PI / 180;\n   *\n   * // Rotate around center\n   * container.pivot.set(container.width / 2, container.height / 2);\n   * container.rotation = Math.PI; // 180 degrees\n   *\n   * // Rotate around center with origin\n   * container.origin.set(container.width / 2, container.height / 2);\n   * container.rotation = Math.PI; // 180 degrees\n   * ```\n   */\n  get rotation() {\n    return this._rotation;\n  }\n  set rotation(value) {\n    if (this._rotation !== value) {\n      this._rotation = value;\n      this._onUpdate(this._skew);\n    }\n  }\n  /**\n   * The angle of the object in degrees.\n   *\n   * > [!NOTE] 'rotation' and 'angle' have the same effect on a display object;\n   * > rotation is in radians, angle is in degrees.\n   * @example\n   * ```ts\n   * // Basic angle rotation\n   * sprite.angle = 45; // 45 degrees\n   *\n   * // Rotate around center\n   * sprite.pivot.set(sprite.width / 2, sprite.height / 2);\n   * sprite.angle = 180; // Half rotation\n   *\n   * // Rotate around center with origin\n   * sprite.origin.set(sprite.width / 2, sprite.height / 2);\n   * sprite.angle = 180; // Half rotation\n   *\n   * // Reset rotation\n   * sprite.angle = 0;\n   * ```\n   */\n  get angle() {\n    return this.rotation * RAD_TO_DEG;\n  }\n  set angle(value) {\n    this.rotation = value * DEG_TO_RAD;\n  }\n  /**\n   * The center of rotation, scaling, and skewing for this display object in its local space.\n   * The `position` is the projection of `pivot` in the parent's local space.\n   *\n   * By default, the pivot is the origin (0, 0).\n   * @example\n   * ```ts\n   * // Rotate around center\n   * container.pivot.set(container.width / 2, container.height / 2);\n   * container.rotation = Math.PI; // Rotates around center\n   * ```\n   * @since 4.0.0\n   */\n  get pivot() {\n    if (this._pivot === defaultPivot) {\n      this._pivot = new ObservablePoint(this, 0, 0);\n    }\n    return this._pivot;\n  }\n  set pivot(value) {\n    if (this._pivot === defaultPivot) {\n      this._pivot = new ObservablePoint(this, 0, 0);\n      if (this._origin !== defaultOrigin) {\n        warn(`Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.`);\n      }\n    }\n    typeof value === \"number\" ? this._pivot.set(value) : this._pivot.copyFrom(value);\n  }\n  /**\n   * The skew factor for the object in radians. Skewing is a transformation that distorts\n   * the object by rotating it differently at each point, creating a non-uniform shape.\n   * @example\n   * ```ts\n   * // Basic skewing\n   * container.skew.set(0.5, 0); // Skew horizontally\n   * container.skew.set(0, 0.5); // Skew vertically\n   *\n   * // Skew with point data\n   * container.skew = { x: 0.3, y: 0.3 }; // Diagonal skew\n   *\n   * // Reset skew\n   * container.skew.set(0, 0);\n   *\n   * // Animate skew\n   * app.ticker.add(() => {\n   *     // Create wave effect\n   *     container.skew.x = Math.sin(Date.now() / 1000) * 0.3;\n   * });\n   *\n   * // Combine with rotation\n   * container.rotation = Math.PI / 4; // 45 degrees\n   * container.skew.set(0.2, 0.2); // Skew the rotated object\n   * ```\n   * @since 4.0.0\n   * @type {ObservablePoint} Point-like object with x/y properties in radians\n   * @default {x: 0, y: 0}\n   */\n  get skew() {\n    if (this._skew === defaultSkew) {\n      this._skew = new ObservablePoint(this, 0, 0);\n    }\n    return this._skew;\n  }\n  set skew(value) {\n    if (this._skew === defaultSkew) {\n      this._skew = new ObservablePoint(this, 0, 0);\n    }\n    this._skew.copyFrom(value);\n  }\n  /**\n   * The scale factors of this object along the local coordinate axes.\n   *\n   * The default scale is (1, 1).\n   * @example\n   * ```ts\n   * // Basic scaling\n   * container.scale.set(2, 2); // Scales to double size\n   * container.scale.set(2); // Scales uniformly to double size\n   * container.scale = 2; // Scales uniformly to double size\n   * // Scale to a specific width and height\n   * container.setSize(200, 100); // Sets width to 200 and height to 100\n   * ```\n   * @since 4.0.0\n   */\n  get scale() {\n    if (this._scale === defaultScale) {\n      this._scale = new ObservablePoint(this, 1, 1);\n    }\n    return this._scale;\n  }\n  set scale(value) {\n    if (this._scale === defaultScale) {\n      this._scale = new ObservablePoint(this, 0, 0);\n    }\n    if (typeof value === \"string\") {\n      value = parseFloat(value);\n    }\n    typeof value === \"number\" ? this._scale.set(value) : this._scale.copyFrom(value);\n  }\n  /**\n   * @experimental\n   * The origin point around which the container rotates and scales without affecting its position.\n   * Unlike pivot, changing the origin will not move the container's position.\n   * @example\n   * ```ts\n   * // Rotate around center point\n   * container.origin.set(container.width / 2, container.height / 2);\n   * container.rotation = Math.PI; // Rotates around center\n   *\n   * // Reset origin\n   * container.origin.set(0, 0);\n   * ```\n   */\n  get origin() {\n    if (this._origin === defaultOrigin) {\n      this._origin = new ObservablePoint(this, 0, 0);\n    }\n    return this._origin;\n  }\n  set origin(value) {\n    if (this._origin === defaultOrigin) {\n      this._origin = new ObservablePoint(this, 0, 0);\n      if (this._pivot !== defaultPivot) {\n        warn(`Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.`);\n      }\n    }\n    typeof value === \"number\" ? this._origin.set(value) : this._origin.copyFrom(value);\n  }\n  /**\n   * The width of the Container, setting this will actually modify the scale to achieve the value set.\n   * > [!NOTE] Changing the width will adjust the scale.x property of the container while maintaining its aspect ratio.\n   * > [!NOTE] If you want to set both width and height at the same time, use {@link Container#setSize}\n   * as it is more optimized by not recalculating the local bounds twice.\n   * @example\n   * ```ts\n   * // Basic width setting\n   * container.width = 100;\n   * // Optimized width setting\n   * container.setSize(100, 100);\n   * ```\n   */\n  get width() {\n    return Math.abs(this.scale.x * this.getLocalBounds().width);\n  }\n  set width(value) {\n    const localWidth = this.getLocalBounds().width;\n    this._setWidth(value, localWidth);\n  }\n  /**\n   * The height of the Container,\n   * > [!NOTE] Changing the height will adjust the scale.y property of the container while maintaining its aspect ratio.\n   * > [!NOTE] If you want to set both width and height at the same time, use {@link Container#setSize}\n   * as it is more optimized by not recalculating the local bounds twice.\n   * @example\n   * ```ts\n   * // Basic height setting\n   * container.height = 200;\n   * // Optimized height setting\n   * container.setSize(100, 200);\n   * ```\n   */\n  get height() {\n    return Math.abs(this.scale.y * this.getLocalBounds().height);\n  }\n  set height(value) {\n    const localHeight = this.getLocalBounds().height;\n    this._setHeight(value, localHeight);\n  }\n  /**\n   * Retrieves the size of the container as a [Size]{@link Size} object.\n   *\n   * This is faster than get the width and height separately.\n   * @example\n   * ```ts\n   * // Basic size retrieval\n   * const size = container.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * container.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in.\n   * @returns The size of the container.\n   */\n  getSize(out) {\n    if (!out) {\n      out = {};\n    }\n    const bounds = this.getLocalBounds();\n    out.width = Math.abs(this.scale.x * bounds.width);\n    out.height = Math.abs(this.scale.y * bounds.height);\n    return out;\n  }\n  /**\n   * Sets the size of the container to the specified width and height.\n   * This is more efficient than setting width and height separately as it only recalculates bounds once.\n   * @example\n   * ```ts\n   * // Basic size setting\n   * container.setSize(100, 200);\n   *\n   * // Set uniform size\n   * container.setSize(100); // Sets both width and height to 100\n   * ```\n   * @param value - This can be either a number or a [Size]{@link Size} object.\n   * @param height - The height to set. Defaults to the value of `width` if not provided.\n   */\n  setSize(value, height) {\n    const size = this.getLocalBounds();\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    } else {\n      height ?? (height = value);\n    }\n    value !== void 0 && this._setWidth(value, size.width);\n    height !== void 0 && this._setHeight(height, size.height);\n  }\n  /** Called when the skew or the rotation changes. */\n  _updateSkew() {\n    const rotation = this._rotation;\n    const skew = this._skew;\n    this._cx = Math.cos(rotation + skew._y);\n    this._sx = Math.sin(rotation + skew._y);\n    this._cy = -Math.sin(rotation - skew._x);\n    this._sy = Math.cos(rotation - skew._x);\n  }\n  /**\n   * Updates the transform properties of the container.\n   * Allows partial updates of transform properties for optimized manipulation.\n   * @example\n   * ```ts\n   * // Basic transform update\n   * container.updateTransform({\n   *     x: 100,\n   *     y: 200,\n   *     rotation: Math.PI / 4\n   * });\n   *\n   * // Scale and rotate around center\n   * sprite.updateTransform({\n   *     pivotX: sprite.width / 2,\n   *     pivotY: sprite.height / 2,\n   *     scaleX: 2,\n   *     scaleY: 2,\n   *     rotation: Math.PI\n   * });\n   *\n   * // Update position only\n   * button.updateTransform({\n   *     x: button.x + 10, // Move right\n   *     y: button.y      // Keep same y\n   * });\n   * ```\n   * @param opts - Transform options to update\n   * @param opts.x - The x position\n   * @param opts.y - The y position\n   * @param opts.scaleX - The x-axis scale factor\n   * @param opts.scaleY - The y-axis scale factor\n   * @param opts.rotation - The rotation in radians\n   * @param opts.skewX - The x-axis skew factor\n   * @param opts.skewY - The y-axis skew factor\n   * @param opts.pivotX - The x-axis pivot point\n   * @param opts.pivotY - The y-axis pivot point\n   * @returns This container, for chaining\n   * @see {@link Container#setFromMatrix} For matrix-based transforms\n   * @see {@link Container#position} For direct position access\n   */\n  updateTransform(opts) {\n    this.position.set(\n      typeof opts.x === \"number\" ? opts.x : this.position.x,\n      typeof opts.y === \"number\" ? opts.y : this.position.y\n    );\n    this.scale.set(\n      typeof opts.scaleX === \"number\" ? opts.scaleX || 1 : this.scale.x,\n      typeof opts.scaleY === \"number\" ? opts.scaleY || 1 : this.scale.y\n    );\n    this.rotation = typeof opts.rotation === \"number\" ? opts.rotation : this.rotation;\n    this.skew.set(\n      typeof opts.skewX === \"number\" ? opts.skewX : this.skew.x,\n      typeof opts.skewY === \"number\" ? opts.skewY : this.skew.y\n    );\n    this.pivot.set(\n      typeof opts.pivotX === \"number\" ? opts.pivotX : this.pivot.x,\n      typeof opts.pivotY === \"number\" ? opts.pivotY : this.pivot.y\n    );\n    this.origin.set(\n      typeof opts.originX === \"number\" ? opts.originX : this.origin.x,\n      typeof opts.originY === \"number\" ? opts.originY : this.origin.y\n    );\n    return this;\n  }\n  /**\n   * Updates the local transform properties by decomposing the given matrix.\n   * Extracts position, scale, rotation, and skew from a transformation matrix.\n   * @example\n   * ```ts\n   * // Basic matrix transform\n   * const matrix = new Matrix()\n   *     .translate(100, 100)\n   *     .rotate(Math.PI / 4)\n   *     .scale(2, 2);\n   *\n   * container.setFromMatrix(matrix);\n   *\n   * // Copy transform from another container\n   * const source = new Container();\n   * source.position.set(100, 100);\n   * source.rotation = Math.PI / 2;\n   *\n   * target.setFromMatrix(source.localTransform);\n   *\n   * // Reset transform\n   * container.setFromMatrix(Matrix.IDENTITY);\n   * ```\n   * @param matrix - The matrix to use for updating the transform\n   * @see {@link Container#updateTransform} For property-based updates\n   * @see {@link Matrix#decompose} For matrix decomposition details\n   */\n  setFromMatrix(matrix) {\n    matrix.decompose(this);\n  }\n  /** Updates the local transform. */\n  updateLocalTransform() {\n    const localTransformChangeId = this._didContainerChangeTick;\n    if (this._didLocalTransformChangeId === localTransformChangeId)\n      return;\n    this._didLocalTransformChangeId = localTransformChangeId;\n    const lt = this.localTransform;\n    const scale = this._scale;\n    const pivot = this._pivot;\n    const origin = this._origin;\n    const position = this._position;\n    const sx = scale._x;\n    const sy = scale._y;\n    const px = pivot._x;\n    const py = pivot._y;\n    const ox = -origin._x;\n    const oy = -origin._y;\n    lt.a = this._cx * sx;\n    lt.b = this._sx * sx;\n    lt.c = this._cy * sy;\n    lt.d = this._sy * sy;\n    lt.tx = position._x - (px * lt.a + py * lt.c) + (ox * lt.a + oy * lt.c) - ox;\n    lt.ty = position._y - (px * lt.b + py * lt.d) + (ox * lt.b + oy * lt.d) - oy;\n  }\n  // / ///// color related stuff\n  set alpha(value) {\n    if (value === this.localAlpha)\n      return;\n    this.localAlpha = value;\n    this._updateFlags |= UPDATE_COLOR;\n    this._onUpdate();\n  }\n  /**\n   * The opacity of the object relative to its parent's opacity.\n   * Value ranges from 0 (fully transparent) to 1 (fully opaque).\n   * @example\n   * ```ts\n   * // Basic transparency\n   * sprite.alpha = 0.5; // 50% opacity\n   *\n   * // Inherited opacity\n   * container.alpha = 0.5;\n   * const child = new Sprite(texture);\n   * child.alpha = 0.5;\n   * container.addChild(child);\n   * // child's effective opacity is 0.25 (0.5 * 0.5)\n   * ```\n   * @default 1\n   * @see {@link Container#visible} For toggling visibility\n   * @see {@link Container#renderable} For render control\n   */\n  get alpha() {\n    return this.localAlpha;\n  }\n  set tint(value) {\n    const tempColor = Color.shared.setValue(value ?? 16777215);\n    const bgr = tempColor.toBgrNumber();\n    if (bgr === this.localColor)\n      return;\n    this.localColor = bgr;\n    this._updateFlags |= UPDATE_COLOR;\n    this._onUpdate();\n  }\n  /**\n   * The tint applied to the sprite.\n   *\n   * This can be any valid {@link ColorSource}.\n   * @example\n   * ```ts\n   * // Basic color tinting\n   * container.tint = 0xff0000; // Red tint\n   * container.tint = 'red';    // Same as above\n   * container.tint = '#00ff00'; // Green\n   * container.tint = 'rgb(0,0,255)'; // Blue\n   *\n   * // Remove tint\n   * container.tint = 0xffffff; // White = no tint\n   * container.tint = null;     // Also removes tint\n   * ```\n   * @default 0xFFFFFF\n   * @see {@link Container#alpha} For transparency\n   * @see {@link Container#visible} For visibility control\n   */\n  get tint() {\n    return bgr2rgb(this.localColor);\n  }\n  // / //////////////// blend related stuff\n  set blendMode(value) {\n    if (this.localBlendMode === value)\n      return;\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.structureDidChange = true;\n    }\n    this._updateFlags |= UPDATE_BLEND;\n    this.localBlendMode = value;\n    this._onUpdate();\n  }\n  /**\n   * The blend mode to be applied to the sprite. Controls how pixels are blended when rendering.\n   *\n   * Setting to 'normal' will reset to default blending.\n   * > [!NOTE] More blend modes are available after importing the `pixi.js/advanced-blend-modes` sub-export.\n   * @example\n   * ```ts\n   * // Basic blend modes\n   * sprite.blendMode = 'add';        // Additive blending\n   * sprite.blendMode = 'multiply';   // Multiply colors\n   * sprite.blendMode = 'screen';     // Screen blend\n   *\n   * // Reset blend mode\n   * sprite.blendMode = 'normal';     // Normal blending\n   * ```\n   * @default 'normal'\n   * @see {@link Container#alpha} For transparency\n   * @see {@link Container#tint} For color adjustments\n   */\n  get blendMode() {\n    return this.localBlendMode;\n  }\n  // / ///////// VISIBILITY / RENDERABLE /////////////////\n  /**\n   * The visibility of the object. If false the object will not be drawn,\n   * and the transform will not be updated.\n   * @example\n   * ```ts\n   * // Basic visibility toggle\n   * sprite.visible = false; // Hide sprite\n   * sprite.visible = true;  // Show sprite\n   * ```\n   * @default true\n   * @see {@link Container#renderable} For render-only control\n   * @see {@link Container#alpha} For transparency\n   */\n  get visible() {\n    return !!(this.localDisplayStatus & 2);\n  }\n  set visible(value) {\n    const valueNumber = value ? 2 : 0;\n    if ((this.localDisplayStatus & 2) === valueNumber)\n      return;\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.structureDidChange = true;\n    }\n    this._updateFlags |= UPDATE_VISIBLE;\n    this.localDisplayStatus ^= 2;\n    this._onUpdate();\n  }\n  /** @ignore */\n  get culled() {\n    return !(this.localDisplayStatus & 4);\n  }\n  /** @ignore */\n  set culled(value) {\n    const valueNumber = value ? 0 : 4;\n    if ((this.localDisplayStatus & 4) === valueNumber)\n      return;\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.structureDidChange = true;\n    }\n    this._updateFlags |= UPDATE_VISIBLE;\n    this.localDisplayStatus ^= 4;\n    this._onUpdate();\n  }\n  /**\n   * Controls whether this object can be rendered. If false the object will not be drawn,\n   * but the transform will still be updated. This is different from visible, which skips\n   * transform updates.\n   * @example\n   * ```ts\n   * // Basic render control\n   * sprite.renderable = false; // Skip rendering\n   * sprite.renderable = true;  // Enable rendering\n   * ```\n   * @default true\n   * @see {@link Container#visible} For skipping transform updates\n   * @see {@link Container#alpha} For transparency\n   */\n  get renderable() {\n    return !!(this.localDisplayStatus & 1);\n  }\n  set renderable(value) {\n    const valueNumber = value ? 1 : 0;\n    if ((this.localDisplayStatus & 1) === valueNumber)\n      return;\n    this._updateFlags |= UPDATE_VISIBLE;\n    this.localDisplayStatus ^= 1;\n    if (this.parentRenderGroup) {\n      this.parentRenderGroup.structureDidChange = true;\n    }\n    this._onUpdate();\n  }\n  /**\n   * Whether or not the object should be rendered.\n   * @advanced\n   */\n  get isRenderable() {\n    return this.localDisplayStatus === 7 && this.groupAlpha > 0;\n  }\n  /**\n   * Removes all internal references and listeners as well as removes children from the display list.\n   * Do not use a Container after calling `destroy`.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * ```ts\n   * container.destroy();\n   * container.destroy(true);\n   * container.destroy({ children: true });\n   * container.destroy({ children: true, texture: true, textureSource: true });\n   * ```\n   */\n  destroy(options = false) {\n    if (this.destroyed)\n      return;\n    this.destroyed = true;\n    let oldChildren;\n    if (this.children.length) {\n      oldChildren = this.removeChildren(0, this.children.length);\n    }\n    this.removeFromParent();\n    this.parent = null;\n    this._maskEffect = null;\n    this._filterEffect = null;\n    this.effects = null;\n    this._position = null;\n    this._scale = null;\n    this._pivot = null;\n    this._origin = null;\n    this._skew = null;\n    this.emit(\"destroyed\", this);\n    this.removeAllListeners();\n    const destroyChildren = typeof options === \"boolean\" ? options : options?.children;\n    if (destroyChildren && oldChildren) {\n      for (let i = 0; i < oldChildren.length; ++i) {\n        oldChildren[i].destroy(options);\n      }\n    }\n    this.renderGroup?.destroy();\n    this.renderGroup = null;\n  }\n}\nextensions.mixin(\n  Container,\n  childrenHelperMixin,\n  getFastGlobalBoundsMixin,\n  toLocalGlobalMixin,\n  onRenderMixin,\n  measureMixin,\n  effectsMixin,\n  findMixin,\n  sortMixin,\n  cullingMixin,\n  cacheAsTextureMixin,\n  getGlobalMixin,\n  collectRenderablesMixin\n);\n\nexport { Container, UPDATE_BLEND, UPDATE_COLOR, UPDATE_TRANSFORM, UPDATE_VISIBLE };\n//# sourceMappingURL=Container.mjs.map\n","import { Bounds } from '../container/bounds/Bounds.mjs';\nimport { Container } from '../container/Container.mjs';\n\n\"use strict\";\nclass ViewContainer extends Container {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(options) {\n    super(options);\n    /** @internal */\n    this.canBundle = true;\n    /** @internal */\n    this.allowChildren = false;\n    /** @internal */\n    this._roundPixels = 0;\n    /** @internal */\n    this._lastUsed = -1;\n    /** @internal */\n    this._gpuData = /* @__PURE__ */ Object.create(null);\n    this._bounds = new Bounds(0, 1, 0, 0);\n    this._boundsDirty = true;\n  }\n  /**\n   * The local bounds of the view in its own coordinate space.\n   * Bounds are automatically updated when the view's content changes.\n   * @example\n   * ```ts\n   * // Get bounds dimensions\n   * const bounds = view.bounds;\n   * console.log(`Width: ${bounds.maxX - bounds.minX}`);\n   * console.log(`Height: ${bounds.maxY - bounds.minY}`);\n   * ```\n   * @returns The rectangular bounds of the view\n   * @see {@link Bounds} For bounds operations\n   */\n  get bounds() {\n    if (!this._boundsDirty)\n      return this._bounds;\n    this.updateBounds();\n    this._boundsDirty = false;\n    return this._bounds;\n  }\n  /**\n   * Whether or not to round the x/y position of the sprite.\n   * @example\n   * ```ts\n   * // Enable pixel rounding for crisp rendering\n   * view.roundPixels = true;\n   * ```\n   * @default false\n   */\n  get roundPixels() {\n    return !!this._roundPixels;\n  }\n  set roundPixels(value) {\n    this._roundPixels = value ? 1 : 0;\n  }\n  /**\n   * Checks if the object contains the given point in local coordinates.\n   * Uses the view's bounds for hit testing.\n   * @example\n   * ```ts\n   * // Basic point check\n   * const localPoint = { x: 50, y: 25 };\n   * const contains = view.containsPoint(localPoint);\n   * console.log('Point is inside:', contains);\n   * ```\n   * @param point - The point to check in local coordinates\n   * @returns True if the point is within the view's bounds\n   * @see {@link ViewContainer#bounds} For the bounds used in hit testing\n   * @see {@link Container#toLocal} For converting global coordinates to local\n   */\n  containsPoint(point) {\n    const bounds = this.bounds;\n    const { x, y } = point;\n    return x >= bounds.minX && x <= bounds.maxX && y >= bounds.minY && y <= bounds.maxY;\n  }\n  /** @private */\n  onViewUpdate() {\n    this._didViewChangeTick++;\n    this._boundsDirty = true;\n    if (this.didViewUpdate)\n      return;\n    this.didViewUpdate = true;\n    const renderGroup = this.renderGroup || this.parentRenderGroup;\n    if (renderGroup) {\n      renderGroup.onChildViewUpdate(this);\n    }\n  }\n  destroy(options) {\n    super.destroy(options);\n    this._bounds = null;\n    for (const key in this._gpuData) {\n      this._gpuData[key].destroy?.();\n    }\n    this._gpuData = null;\n  }\n  /**\n   * Collects renderables for the view container.\n   * @param instructionSet - The instruction set to collect renderables for.\n   * @param renderer - The renderer to collect renderables for.\n   * @param currentLayer - The current render layer.\n   * @internal\n   */\n  collectRenderablesSimple(instructionSet, renderer, currentLayer) {\n    const { renderPipes } = renderer;\n    renderPipes.blendMode.pushBlendMode(this, this.groupBlendMode, instructionSet);\n    const rp = renderPipes;\n    rp[this.renderPipeId].addRenderable(this, instructionSet);\n    this.didViewUpdate = false;\n    const children = this.children;\n    const length = children.length;\n    for (let i = 0; i < length; i++) {\n      children[i].collectRenderables(instructionSet, renderer, currentLayer);\n    }\n    renderPipes.blendMode.popBlendMode(instructionSet);\n  }\n}\n\nexport { ViewContainer };\n//# sourceMappingURL=ViewContainer.mjs.map\n","import { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { updateQuadBounds } from '../../utils/data/updateQuadBounds.mjs';\nimport { deprecation } from '../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../view/ViewContainer.mjs';\n\n\"use strict\";\nclass Sprite extends ViewContainer {\n  /**\n   * @param options - The options for creating the sprite.\n   */\n  constructor(options = Texture.EMPTY) {\n    if (options instanceof Texture) {\n      options = { texture: options };\n    }\n    const { texture = Texture.EMPTY, anchor, roundPixels, width, height, ...rest } = options;\n    super({\n      label: \"Sprite\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"sprite\";\n    /** @internal */\n    this.batched = true;\n    this._visualBounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n    this._anchor = new ObservablePoint(\n      {\n        _onUpdate: () => {\n          this.onViewUpdate();\n        }\n      }\n    );\n    if (anchor) {\n      this.anchor = anchor;\n    } else if (texture.defaultAnchor) {\n      this.anchor = texture.defaultAnchor;\n    }\n    this.texture = texture;\n    this.allowChildren = false;\n    this.roundPixels = roundPixels ?? false;\n    if (width !== void 0)\n      this.width = width;\n    if (height !== void 0)\n      this.height = height;\n  }\n  /**\n   * Creates a new sprite based on a source texture, image, video, or canvas element.\n   * This is a convenience method that automatically creates and manages textures.\n   * @example\n   * ```ts\n   * // Create from path or URL\n   * const sprite = Sprite.from('assets/image.png');\n   *\n   * // Create from existing texture\n   * const sprite = Sprite.from(texture);\n   *\n   * // Create from canvas\n   * const canvas = document.createElement('canvas');\n   * const sprite = Sprite.from(canvas, true); // Skip caching new texture\n   * ```\n   * @param source - The source to create the sprite from. Can be a path to an image, a texture,\n   * or any valid texture source (canvas, video, etc.)\n   * @param skipCache - Whether to skip adding to the texture cache when creating a new texture\n   * @returns A new sprite based on the source\n   * @see {@link Texture.from} For texture creation details\n   * @see {@link Assets} For asset loading and management\n   */\n  static from(source, skipCache = false) {\n    if (source instanceof Texture) {\n      return new Sprite(source);\n    }\n    return new Sprite(Texture.from(source, skipCache));\n  }\n  set texture(value) {\n    value || (value = Texture.EMPTY);\n    const currentTexture = this._texture;\n    if (currentTexture === value)\n      return;\n    if (currentTexture && currentTexture.dynamic)\n      currentTexture.off(\"update\", this.onViewUpdate, this);\n    if (value.dynamic)\n      value.on(\"update\", this.onViewUpdate, this);\n    this._texture = value;\n    if (this._width) {\n      this._setWidth(this._width, this._texture.orig.width);\n    }\n    if (this._height) {\n      this._setHeight(this._height, this._texture.orig.height);\n    }\n    this.onViewUpdate();\n  }\n  /**\n   * The texture that is displayed by the sprite. When changed, automatically updates\n   * the sprite dimensions and manages texture event listeners.\n   * @example\n   * ```ts\n   * // Create sprite with texture\n   * const sprite = new Sprite({\n   *     texture: Texture.from('sprite.png')\n   * });\n   *\n   * // Update texture\n   * sprite.texture = Texture.from('newSprite.png');\n   *\n   * // Use texture from spritesheet\n   * const sheet = await Assets.load('spritesheet.json');\n   * sprite.texture = sheet.textures['frame1.png'];\n   *\n   * // Reset to empty texture\n   * sprite.texture = Texture.EMPTY;\n   * ```\n   * @see {@link Texture} For texture creation and management\n   * @see {@link Assets} For asset loading\n   */\n  get texture() {\n    return this._texture;\n  }\n  /**\n   * The bounds of the sprite, taking into account the texture's trim area.\n   * @example\n   * ```ts\n   * const texture = new Texture({\n   *     source: new TextureSource({ width: 300, height: 300 }),\n   *     frame: new Rectangle(196, 66, 58, 56),\n   *     trim: new Rectangle(4, 4, 58, 56),\n   *     orig: new Rectangle(0, 0, 64, 64),\n   *     rotate: 2,\n   * });\n   * const sprite = new Sprite(texture);\n   * const visualBounds = sprite.visualBounds;\n   * // console.log(visualBounds); // { minX: -4, maxX: 62, minY: -4, maxY: 60 }\n   */\n  get visualBounds() {\n    updateQuadBounds(this._visualBounds, this._anchor, this._texture);\n    return this._visualBounds;\n  }\n  /**\n   * @deprecated\n   * @ignore\n   */\n  get sourceBounds() {\n    deprecation(\"8.6.1\", \"Sprite.sourceBounds is deprecated, use visualBounds instead.\");\n    return this.visualBounds;\n  }\n  /** @private */\n  updateBounds() {\n    const anchor = this._anchor;\n    const texture = this._texture;\n    const bounds = this._bounds;\n    const { width, height } = texture.orig;\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * sprite.destroy();\n   * sprite.destroy(true);\n   * sprite.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options = false) {\n    super.destroy(options);\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._texture.destroy(destroyTextureSource);\n    }\n    this._texture = null;\n    this._visualBounds = null;\n    this._bounds = null;\n    this._anchor = null;\n    this._gpuData = null;\n  }\n  /**\n   * The anchor sets the origin point of the sprite. The default value is taken from the {@link Texture}\n   * and passed to the constructor.\n   *\n   * - The default is `(0,0)`, this means the sprite's origin is the top left.\n   * - Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.\n   * - Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.\n   *\n   * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.\n   * @example\n   * ```ts\n   * // Center the anchor point\n   * sprite.anchor = 0.5; // Sets both x and y to 0.5\n   * sprite.position.set(400, 300); // Sprite will be centered at this position\n   *\n   * // Set specific x/y anchor points\n   * sprite.anchor = {\n   *     x: 1, // Right edge\n   *     y: 0  // Top edge\n   * };\n   *\n   * // Using individual coordinates\n   * sprite.anchor.set(0.5, 1); // Center-bottom\n   *\n   * // For rotation around center\n   * sprite.anchor.set(0.5);\n   * sprite.rotation = Math.PI / 4; // 45 degrees around center\n   *\n   * // For scaling from center\n   * sprite.anchor.set(0.5);\n   * sprite.scale.set(2); // Scales from center point\n   * ```\n   */\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    typeof value === \"number\" ? this._anchor.set(value) : this._anchor.copyFrom(value);\n  }\n  /**\n   * The width of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set width directly\n   * sprite.width = 200;\n   * console.log(sprite.scale.x); // Scale adjusted to match width\n   *\n   * // Set width while preserving aspect ratio\n   * const ratio = sprite.height / sprite.width;\n   * sprite.width = 300;\n   * sprite.height = 300 * ratio;\n   *\n   * // For better performance when setting both width and height\n   * sprite.setSize(300, 400); // Avoids recalculating bounds twice\n   *\n   * // Reset to original texture size\n   * sprite.width = sprite.texture.orig.width;\n   * ```\n   */\n  get width() {\n    return Math.abs(this.scale.x) * this._texture.orig.width;\n  }\n  set width(value) {\n    this._setWidth(value, this._texture.orig.width);\n    this._width = value;\n  }\n  /**\n   * The height of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set height directly\n   * sprite.height = 150;\n   * console.log(sprite.scale.y); // Scale adjusted to match height\n   *\n   * // Set height while preserving aspect ratio\n   * const ratio = sprite.width / sprite.height;\n   * sprite.height = 200;\n   * sprite.width = 200 * ratio;\n   *\n   * // For better performance when setting both width and height\n   * sprite.setSize(300, 400); // Avoids recalculating bounds twice\n   *\n   * // Reset to original texture size\n   * sprite.height = sprite.texture.orig.height;\n   * ```\n   */\n  get height() {\n    return Math.abs(this.scale.y) * this._texture.orig.height;\n  }\n  set height(value) {\n    this._setHeight(value, this._texture.orig.height);\n    this._height = value;\n  }\n  /**\n   * Retrieves the size of the Sprite as a [Size]{@link Size} object based on the texture dimensions and scale.\n   * This is faster than getting width and height separately as it only calculates the bounds once.\n   * @example\n   * ```ts\n   * // Basic size retrieval\n   * const sprite = new Sprite(Texture.from('sprite.png'));\n   * const size = sprite.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * sprite.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in, to avoid allocating a new object\n   * @returns The size of the Sprite\n   * @see {@link Sprite#width} For getting just the width\n   * @see {@link Sprite#height} For getting just the height\n   * @see {@link Sprite#setSize} For setting both width and height\n   */\n  getSize(out) {\n    out || (out = {});\n    out.width = Math.abs(this.scale.x) * this._texture.orig.width;\n    out.height = Math.abs(this.scale.y) * this._texture.orig.height;\n    return out;\n  }\n  /**\n   * Sets the size of the Sprite to the specified width and height.\n   * This is faster than setting width and height separately as it only recalculates bounds once.\n   * @example\n   * ```ts\n   * // Basic size setting\n   * const sprite = new Sprite(Texture.from('sprite.png'));\n   * sprite.setSize(100, 200); // Width: 100, Height: 200\n   *\n   * // Set uniform size\n   * sprite.setSize(100); // Sets both width and height to 100\n   *\n   * // Set size with object\n   * sprite.setSize({\n   *     width: 200,\n   *     height: 300\n   * });\n   *\n   * // Reset to texture size\n   * sprite.setSize(\n   *     sprite.texture.orig.width,\n   *     sprite.texture.orig.height\n   * );\n   * ```\n   * @param value - This can be either a number or a {@link Size} object\n   * @param height - The height to set. Defaults to the value of `width` if not provided\n   * @see {@link Sprite#width} For setting width only\n   * @see {@link Sprite#height} For setting height only\n   * @see {@link Sprite#texture} For the source dimensions\n   */\n  setSize(value, height) {\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    } else {\n      height ?? (height = value);\n    }\n    value !== void 0 && this._setWidth(value, this._texture.orig.width);\n    height !== void 0 && this._setHeight(height, this._texture.orig.height);\n  }\n}\n\nexport { Sprite };\n//# sourceMappingURL=Sprite.mjs.map\n","import { Bounds } from '../../../scene/container/bounds/Bounds.mjs';\nimport { getGlobalBounds } from '../../../scene/container/bounds/getGlobalBounds.mjs';\n\n\"use strict\";\nconst tempBounds = new Bounds();\nfunction addMaskBounds(mask, bounds, skipUpdateTransform) {\n  const boundsToMask = tempBounds;\n  mask.measurable = true;\n  getGlobalBounds(mask, skipUpdateTransform, boundsToMask);\n  bounds.addBoundsMask(boundsToMask);\n  mask.measurable = false;\n}\n\nexport { addMaskBounds };\n//# sourceMappingURL=addMaskBounds.mjs.map\n","import { getLocalBounds } from '../../../scene/container/bounds/getLocalBounds.mjs';\nimport { boundsPool, matrixPool } from '../../../scene/container/bounds/utils/matrixAndBoundsPool.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\n\n\"use strict\";\nfunction addMaskLocalBounds(mask, bounds, localRoot) {\n  const boundsToMask = boundsPool.get();\n  mask.measurable = true;\n  const tempMatrix = matrixPool.get().identity();\n  const relativeMask = getMatrixRelativeToParent(mask, localRoot, tempMatrix);\n  getLocalBounds(mask, boundsToMask, relativeMask);\n  mask.measurable = false;\n  bounds.addBoundsMask(boundsToMask);\n  matrixPool.return(tempMatrix);\n  boundsPool.return(boundsToMask);\n}\nfunction getMatrixRelativeToParent(target, root, matrix) {\n  if (!target) {\n    warn(\"Mask bounds, renderable is not inside the root container\");\n    return matrix;\n  }\n  if (target !== root) {\n    getMatrixRelativeToParent(target.parent, root, matrix);\n    target.updateLocalTransform();\n    matrix.append(target.localTransform);\n  }\n  return matrix;\n}\n\nexport { addMaskLocalBounds };\n//# sourceMappingURL=addMaskLocalBounds.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Sprite } from '../../../scene/sprite/Sprite.mjs';\nimport { addMaskBounds } from '../utils/addMaskBounds.mjs';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds.mjs';\n\n\"use strict\";\nclass AlphaMask {\n  constructor(options) {\n    this.priority = 0;\n    this.inverse = false;\n    this.pipe = \"alphaMask\";\n    if (options?.mask) {\n      this.init(options.mask);\n    }\n  }\n  init(mask) {\n    this.mask = mask;\n    this.renderMaskToTexture = !(mask instanceof Sprite);\n    this.mask.renderable = this.renderMaskToTexture;\n    this.mask.includeInBuild = !this.renderMaskToTexture;\n    this.mask.measurable = false;\n  }\n  reset() {\n    this.mask.measurable = true;\n    this.mask = null;\n  }\n  addBounds(bounds, skipUpdateTransform) {\n    if (!this.inverse) {\n      addMaskBounds(this.mask, bounds, skipUpdateTransform);\n    }\n  }\n  addLocalBounds(bounds, localRoot) {\n    addMaskLocalBounds(this.mask, bounds, localRoot);\n  }\n  containsPoint(point, hitTestFn) {\n    const mask = this.mask;\n    return hitTestFn(mask, point);\n  }\n  destroy() {\n    this.reset();\n  }\n  static test(mask) {\n    return mask instanceof Sprite;\n  }\n}\nAlphaMask.extension = ExtensionType.MaskEffect;\n\nexport { AlphaMask };\n//# sourceMappingURL=AlphaMask.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass ColorMask {\n  constructor(options) {\n    this.priority = 0;\n    this.pipe = \"colorMask\";\n    if (options?.mask) {\n      this.init(options.mask);\n    }\n  }\n  init(mask) {\n    this.mask = mask;\n  }\n  destroy() {\n  }\n  static test(mask) {\n    return typeof mask === \"number\";\n  }\n}\nColorMask.extension = ExtensionType.MaskEffect;\n\nexport { ColorMask };\n//# sourceMappingURL=ColorMask.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Container } from '../../../scene/container/Container.mjs';\nimport { addMaskBounds } from '../utils/addMaskBounds.mjs';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds.mjs';\n\n\"use strict\";\nclass StencilMask {\n  constructor(options) {\n    this.priority = 0;\n    this.pipe = \"stencilMask\";\n    if (options?.mask) {\n      this.init(options.mask);\n    }\n  }\n  init(mask) {\n    this.mask = mask;\n    this.mask.includeInBuild = false;\n    this.mask.measurable = false;\n  }\n  reset() {\n    this.mask.measurable = true;\n    this.mask.includeInBuild = true;\n    this.mask = null;\n  }\n  addBounds(bounds, skipUpdateTransform) {\n    addMaskBounds(this.mask, bounds, skipUpdateTransform);\n  }\n  addLocalBounds(bounds, localRoot) {\n    addMaskLocalBounds(this.mask, bounds, localRoot);\n  }\n  containsPoint(point, hitTestFn) {\n    const mask = this.mask;\n    return hitTestFn(mask, point);\n  }\n  destroy() {\n    this.reset();\n  }\n  static test(mask) {\n    return mask instanceof Container;\n  }\n}\nStencilMask.extension = ExtensionType.MaskEffect;\n\nexport { StencilMask };\n//# sourceMappingURL=StencilMask.mjs.map\n","\"use strict\";\nconst BrowserAdapter = {\n  createCanvas: (width, height) => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  },\n  createImage: () => new Image(),\n  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,\n  getWebGLRenderingContext: () => WebGLRenderingContext,\n  getNavigator: () => navigator,\n  getBaseUrl: () => document.baseURI ?? window.location.href,\n  getFontFaceSet: () => document.fonts,\n  fetch: (url, options) => fetch(url, options),\n  parseXML: (xml) => {\n    const parser = new DOMParser();\n    return parser.parseFromString(xml, \"text/xml\");\n  }\n};\n\nexport { BrowserAdapter };\n//# sourceMappingURL=BrowserAdapter.mjs.map\n","import { BrowserAdapter } from '../environment-browser/BrowserAdapter.mjs';\n\n\"use strict\";\nlet currentAdapter = BrowserAdapter;\nconst DOMAdapter = {\n  /**\n   * Returns the current adapter.\n   * @returns {environment.Adapter} The current adapter.\n   */\n  get() {\n    return currentAdapter;\n  },\n  /**\n   * Sets the current adapter.\n   * @param adapter - The new adapter.\n   */\n  set(adapter) {\n    currentAdapter = adapter;\n  }\n};\n\nexport { DOMAdapter };\n//# sourceMappingURL=adapter.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../../extensions/Extensions.mjs';\nimport { TextureSource } from './TextureSource.mjs';\n\n\"use strict\";\nclass CanvasSource extends TextureSource {\n  constructor(options) {\n    if (!options.resource) {\n      options.resource = DOMAdapter.get().createCanvas();\n    }\n    if (!options.width) {\n      options.width = options.resource.width;\n      if (!options.autoDensity) {\n        options.width /= options.resolution;\n      }\n    }\n    if (!options.height) {\n      options.height = options.resource.height;\n      if (!options.autoDensity) {\n        options.height /= options.resolution;\n      }\n    }\n    super(options);\n    this.uploadMethodId = \"image\";\n    this.autoDensity = options.autoDensity;\n    this.resizeCanvas();\n    this.transparent = !!options.transparent;\n  }\n  resizeCanvas() {\n    if (this.autoDensity && \"style\" in this.resource) {\n      this.resource.style.width = `${this.width}px`;\n      this.resource.style.height = `${this.height}px`;\n    }\n    if (this.resource.width !== this.pixelWidth || this.resource.height !== this.pixelHeight) {\n      this.resource.width = this.pixelWidth;\n      this.resource.height = this.pixelHeight;\n    }\n  }\n  resize(width = this.width, height = this.height, resolution = this._resolution) {\n    const didResize = super.resize(width, height, resolution);\n    if (didResize) {\n      this.resizeCanvas();\n    }\n    return didResize;\n  }\n  static test(resource) {\n    return globalThis.HTMLCanvasElement && resource instanceof HTMLCanvasElement || globalThis.OffscreenCanvas && resource instanceof OffscreenCanvas;\n  }\n  /**\n   * Returns the 2D rendering context for the canvas.\n   * Caches the context after creating it.\n   * @returns The 2D rendering context of the canvas.\n   */\n  get context2D() {\n    return this._context2D || (this._context2D = this.resource.getContext(\"2d\"));\n  }\n}\nCanvasSource.extension = ExtensionType.TextureSource;\n\nexport { CanvasSource };\n//# sourceMappingURL=CanvasSource.mjs.map\n","import { ExtensionType } from '../../../../../extensions/Extensions.mjs';\nimport { TextureSource } from './TextureSource.mjs';\n\n\"use strict\";\nclass ImageSource extends TextureSource {\n  constructor(options) {\n    super(options);\n    this.uploadMethodId = \"image\";\n    this.autoGarbageCollect = true;\n  }\n  static test(resource) {\n    return globalThis.HTMLImageElement && resource instanceof HTMLImageElement || typeof ImageBitmap !== \"undefined\" && resource instanceof ImageBitmap || globalThis.VideoFrame && resource instanceof VideoFrame;\n  }\n}\nImageSource.extension = ExtensionType.TextureSource;\n\nexport { ImageSource };\n//# sourceMappingURL=ImageSource.mjs.map\n","\"use strict\";\nvar UPDATE_PRIORITY = /* @__PURE__ */ ((UPDATE_PRIORITY2) => {\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"INTERACTION\"] = 50] = \"INTERACTION\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"HIGH\"] = 25] = \"HIGH\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"NORMAL\"] = 0] = \"NORMAL\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"LOW\"] = -25] = \"LOW\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"UTILITY\"] = -50] = \"UTILITY\";\n  return UPDATE_PRIORITY2;\n})(UPDATE_PRIORITY || {});\n\nexport { UPDATE_PRIORITY };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nclass TickerListener {\n  /**\n   * Constructor\n   * @private\n   * @param fn - The listener function to be added for one update\n   * @param context - The listener context\n   * @param priority - The priority for emitting\n   * @param once - If the handler should fire once\n   */\n  constructor(fn, context = null, priority = 0, once = false) {\n    /** The next item in chain. */\n    this.next = null;\n    /** The previous item in chain. */\n    this.previous = null;\n    /** `true` if this listener has been destroyed already. */\n    this._destroyed = false;\n    this._fn = fn;\n    this._context = context;\n    this.priority = priority;\n    this._once = once;\n  }\n  /**\n   * Simple compare function to figure out if a function and context match.\n   * @param fn - The listener function to be added for one update\n   * @param context - The listener context\n   * @returns `true` if the listener match the arguments\n   */\n  match(fn, context = null) {\n    return this._fn === fn && this._context === context;\n  }\n  /**\n   * Emit by calling the current function.\n   * @param ticker - The ticker emitting.\n   * @returns Next ticker\n   */\n  emit(ticker) {\n    if (this._fn) {\n      if (this._context) {\n        this._fn.call(this._context, ticker);\n      } else {\n        this._fn(ticker);\n      }\n    }\n    const redirect = this.next;\n    if (this._once) {\n      this.destroy(true);\n    }\n    if (this._destroyed) {\n      this.next = null;\n    }\n    return redirect;\n  }\n  /**\n   * Connect to the list.\n   * @param previous - Input node, previous listener\n   */\n  connect(previous) {\n    this.previous = previous;\n    if (previous.next) {\n      previous.next.previous = this;\n    }\n    this.next = previous.next;\n    previous.next = this;\n  }\n  /**\n   * Destroy and don't use after this.\n   * @param hard - `true` to remove the `next` reference, this\n   *        is considered a hard destroy. Soft destroy maintains the next reference.\n   * @returns The listener to redirect while emitting or removing.\n   */\n  destroy(hard = false) {\n    this._destroyed = true;\n    this._fn = null;\n    this._context = null;\n    if (this.previous) {\n      this.previous.next = this.next;\n    }\n    if (this.next) {\n      this.next.previous = this.previous;\n    }\n    const redirect = this.next;\n    this.next = hard ? null : redirect;\n    this.previous = null;\n    return redirect;\n  }\n}\n\nexport { TickerListener };\n//# sourceMappingURL=TickerListener.mjs.map\n","import { UPDATE_PRIORITY } from './const.mjs';\nimport { TickerListener } from './TickerListener.mjs';\n\n\"use strict\";\nconst _Ticker = class _Ticker {\n  constructor() {\n    /**\n     * Whether or not this ticker should invoke the method {@link Ticker#start|start}\n     * automatically when a listener is added.\n     * @example\n     * ```ts\n     * // Default behavior (manual start)\n     * const ticker = new Ticker();\n     * ticker.autoStart = false;\n     * ticker.add(() => {\n     *     // Won't run until ticker.start() is called\n     * });\n     *\n     * // Auto-start behavior\n     * const autoTicker = new Ticker();\n     * autoTicker.autoStart = true;\n     * autoTicker.add(() => {\n     *     // Runs immediately when added\n     * });\n     * ```\n     * @default false\n     * @see {@link Ticker#start} For manually starting the ticker\n     * @see {@link Ticker#stop} For manually stopping the ticker\n     */\n    this.autoStart = false;\n    /**\n     * Scalar representing the delta time factor.\n     * This is a dimensionless value representing the fraction of a frame at the target framerate.\n     * At 60 FPS, this value is typically around 1.0.\n     *\n     * This is NOT in milliseconds - it's a scalar multiplier for frame-independent animations.\n     * For actual milliseconds, use {@link Ticker#deltaMS}.\n     * @member {number}\n     * @example\n     * ```ts\n     * // Frame-independent animation using deltaTime scalar\n     * ticker.add((ticker) => {\n     *     // Rotate sprite by 0.1 radians per frame, scaled by deltaTime\n     *     sprite.rotation += 0.1 * ticker.deltaTime;\n     * });\n     * ```\n     */\n    this.deltaTime = 1;\n    /**\n     * The last time update was invoked, in milliseconds since epoch.\n     * Similar to performance.now() timestamp format.\n     *\n     * Used internally for calculating time deltas between frames.\n     * @member {number}\n     * @example\n     * ```ts\n     * ticker.add((ticker) => {\n     *     const currentTime = performance.now();\n     *     const timeSinceLastFrame = currentTime - ticker.lastTime;\n     *     console.log(`Time since last frame: ${timeSinceLastFrame}ms`);\n     * });\n     * ```\n     */\n    this.lastTime = -1;\n    /**\n     * Factor of current {@link Ticker#deltaTime|deltaTime}.\n     * Used to scale time for slow motion or fast-forward effects.\n     * @example\n     * ```ts\n     * // Basic speed adjustment\n     * ticker.speed = 0.5; // Half speed (slow motion)\n     * ticker.speed = 2.0; // Double speed (fast forward)\n     *\n     * // Temporary speed changes\n     * function slowMotion() {\n     *     const normalSpeed = ticker.speed;\n     *     ticker.speed = 0.2;\n     *     setTimeout(() => {\n     *         ticker.speed = normalSpeed;\n     *     }, 1000);\n     * }\n     * ```\n     */\n    this.speed = 1;\n    /**\n     * Whether or not this ticker has been started.\n     *\n     * `true` if {@link Ticker#start|start} has been called.\n     * `false` if {@link Ticker#stop|Stop} has been called.\n     *\n     * While `false`, this value may change to `true` in the\n     * event of {@link Ticker#autoStart|autoStart} being `true`\n     * and a listener is added.\n     * @example\n     * ```ts\n     * // Check ticker state\n     * const ticker = new Ticker();\n     * console.log(ticker.started); // false\n     *\n     * // Start and verify\n     * ticker.start();\n     * console.log(ticker.started); // true\n     * ```\n     */\n    this.started = false;\n    /** Internal current frame request ID */\n    this._requestId = null;\n    /**\n     * Internal value managed by minFPS property setter and getter.\n     * This is the maximum allowed milliseconds between updates.\n     */\n    this._maxElapsedMS = 100;\n    /**\n     * Internal value managed by minFPS property setter and getter.\n     * This is the minimum allowed milliseconds between updates.\n     */\n    this._minElapsedMS = 0;\n    /** If enabled, deleting is disabled.*/\n    this._protected = false;\n    /** The last time keyframe was executed. Maintains a relatively fixed interval with the previous value. */\n    this._lastFrame = -1;\n    this._head = new TickerListener(null, null, Infinity);\n    this.deltaMS = 1 / _Ticker.targetFPMS;\n    this.elapsedMS = 1 / _Ticker.targetFPMS;\n    this._tick = (time) => {\n      this._requestId = null;\n      if (this.started) {\n        this.update(time);\n        if (this.started && this._requestId === null && this._head.next) {\n          this._requestId = requestAnimationFrame(this._tick);\n        }\n      }\n    };\n  }\n  /**\n   * Conditionally requests a new animation frame.\n   * If a frame has not already been requested, and if the internal\n   * emitter has listeners, a new frame is requested.\n   */\n  _requestIfNeeded() {\n    if (this._requestId === null && this._head.next) {\n      this.lastTime = performance.now();\n      this._lastFrame = this.lastTime;\n      this._requestId = requestAnimationFrame(this._tick);\n    }\n  }\n  /** Conditionally cancels a pending animation frame. */\n  _cancelIfNeeded() {\n    if (this._requestId !== null) {\n      cancelAnimationFrame(this._requestId);\n      this._requestId = null;\n    }\n  }\n  /**\n   * Conditionally requests a new animation frame.\n   * If the ticker has been started it checks if a frame has not already\n   * been requested, and if the internal emitter has listeners. If these\n   * conditions are met, a new frame is requested. If the ticker has not\n   * been started, but autoStart is `true`, then the ticker starts now,\n   * and continues with the previous conditions to request a new frame.\n   */\n  _startIfPossible() {\n    if (this.started) {\n      this._requestIfNeeded();\n    } else if (this.autoStart) {\n      this.start();\n    }\n  }\n  /**\n   * Register a handler for tick events.\n   * @param fn - The listener function to add. Receives the Ticker instance as parameter\n   * @param context - The context for the listener\n   * @param priority - The priority of the listener\n   * @example\n   * ```ts\n   * // Access time properties through the ticker parameter\n   * ticker.add((ticker) => {\n   *     // Use deltaTime (dimensionless scalar) for frame-independent animations\n   *     sprite.rotation += 0.1 * ticker.deltaTime;\n   *\n   *     // Use deltaMS (milliseconds) for time-based calculations\n   *     const progress = ticker.deltaMS / animationDuration;\n   *\n   *     // Use elapsedMS for raw timing measurements\n   *     console.log(`Raw frame time: ${ticker.elapsedMS}ms`);\n   * });\n   * ```\n   */\n  add(fn, context, priority = UPDATE_PRIORITY.NORMAL) {\n    return this._addListener(new TickerListener(fn, context, priority));\n  }\n  /**\n   * Add a handler for the tick event which is only executed once on the next frame.\n   * @example\n   * ```ts\n   * // Basic one-time update\n   * ticker.addOnce(() => {\n   *     console.log('Runs next frame only');\n   * });\n   *\n   * // With specific context\n   * const game = {\n   *     init(ticker) {\n   *         this.loadResources();\n   *         console.log('Game initialized');\n   *     }\n   * };\n   * ticker.addOnce(game.init, game);\n   *\n   * // With priority\n   * ticker.addOnce(\n   *     () => {\n   *         // High priority one-time setup\n   *         physics.init();\n   *     },\n   *     undefined,\n   *     UPDATE_PRIORITY.HIGH\n   * );\n   * ```\n   * @param fn - The listener function to be added for one update\n   * @param context - The listener context\n   * @param priority - The priority for emitting (default: UPDATE_PRIORITY.NORMAL)\n   * @returns This instance of a ticker\n   * @see {@link Ticker#add} For continuous updates\n   * @see {@link Ticker#remove} For removing handlers\n   */\n  addOnce(fn, context, priority = UPDATE_PRIORITY.NORMAL) {\n    return this._addListener(new TickerListener(fn, context, priority, true));\n  }\n  /**\n   * Internally adds the event handler so that it can be sorted by priority.\n   * Priority allows certain handler (user, AnimatedSprite, Interaction) to be run\n   * before the rendering.\n   * @private\n   * @param listener - Current listener being added.\n   * @returns This instance of a ticker\n   */\n  _addListener(listener) {\n    let current = this._head.next;\n    let previous = this._head;\n    if (!current) {\n      listener.connect(previous);\n    } else {\n      while (current) {\n        if (listener.priority > current.priority) {\n          listener.connect(previous);\n          break;\n        }\n        previous = current;\n        current = current.next;\n      }\n      if (!listener.previous) {\n        listener.connect(previous);\n      }\n    }\n    this._startIfPossible();\n    return this;\n  }\n  /**\n   * Removes any handlers matching the function and context parameters.\n   * If no handlers are left after removing, then it cancels the animation frame.\n   * @example\n   * ```ts\n   * // Basic removal\n   * const onTick = () => {\n   *     sprite.rotation += 0.1;\n   * };\n   * ticker.add(onTick);\n   * ticker.remove(onTick);\n   *\n   * // Remove with context\n   * const game = {\n   *     update(ticker) {\n   *         this.physics.update(ticker.deltaTime);\n   *     }\n   * };\n   * ticker.add(game.update, game);\n   * ticker.remove(game.update, game);\n   *\n   * // Remove all matching handlers\n   * // (if same function was added multiple times)\n   * ticker.add(onTick);\n   * ticker.add(onTick);\n   * ticker.remove(onTick); // Removes all instances\n   * ```\n   * @param fn - The listener function to be removed\n   * @param context - The listener context to be removed\n   * @returns This instance of a ticker\n   * @see {@link Ticker#add} For adding handlers\n   * @see {@link Ticker#addOnce} For one-time handlers\n   */\n  remove(fn, context) {\n    let listener = this._head.next;\n    while (listener) {\n      if (listener.match(fn, context)) {\n        listener = listener.destroy();\n      } else {\n        listener = listener.next;\n      }\n    }\n    if (!this._head.next) {\n      this._cancelIfNeeded();\n    }\n    return this;\n  }\n  /**\n   * The number of listeners on this ticker, calculated by walking through linked list.\n   * @example\n   * ```ts\n   * // Check number of active listeners\n   * const ticker = new Ticker();\n   * console.log(ticker.count); // 0\n   *\n   * // Add some listeners\n   * ticker.add(() => {});\n   * ticker.add(() => {});\n   * console.log(ticker.count); // 2\n   *\n   * // Check after cleanup\n   * ticker.destroy();\n   * console.log(ticker.count); // 0\n   * ```\n   * @readonly\n   * @see {@link Ticker#add} For adding listeners\n   * @see {@link Ticker#remove} For removing listeners\n   */\n  get count() {\n    if (!this._head) {\n      return 0;\n    }\n    let count = 0;\n    let current = this._head;\n    while (current = current.next) {\n      count++;\n    }\n    return count;\n  }\n  /**\n   * Starts the ticker. If the ticker has listeners a new animation frame is requested at this point.\n   * @example\n   * ```ts\n   * // Basic manual start\n   * const ticker = new Ticker();\n   * ticker.add(() => {\n   *     // Animation code here\n   * });\n   * ticker.start();\n   * ```\n   * @see {@link Ticker#stop} For stopping the ticker\n   * @see {@link Ticker#autoStart} For automatic starting\n   * @see {@link Ticker#started} For checking ticker state\n   */\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this._requestIfNeeded();\n    }\n  }\n  /**\n   * Stops the ticker. If the ticker has requested an animation frame it is canceled at this point.\n   * @example\n   * ```ts\n   * // Basic stop\n   * const ticker = new Ticker();\n   * ticker.stop();\n   * ```\n   * @see {@link Ticker#start} For starting the ticker\n   * @see {@link Ticker#started} For checking ticker state\n   * @see {@link Ticker#destroy} For cleaning up the ticker\n   */\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this._cancelIfNeeded();\n    }\n  }\n  /**\n   * Destroy the ticker and don't use after this. Calling this method removes all references to internal events.\n   * @example\n   * ```ts\n   * // Clean up with active listeners\n   * const ticker = new Ticker();\n   * ticker.add(() => {});\n   * ticker.destroy(); // Removes all listeners\n   * ```\n   * @see {@link Ticker#stop} For stopping without destroying\n   * @see {@link Ticker#remove} For removing specific listeners\n   */\n  destroy() {\n    if (!this._protected) {\n      this.stop();\n      let listener = this._head.next;\n      while (listener) {\n        listener = listener.destroy(true);\n      }\n      this._head.destroy();\n      this._head = null;\n    }\n  }\n  /**\n   * Triggers an update.\n   *\n   * An update entails setting the\n   * current {@link Ticker#elapsedMS|elapsedMS},\n   * the current {@link Ticker#deltaTime|deltaTime},\n   * invoking all listeners with current deltaTime,\n   * and then finally setting {@link Ticker#lastTime|lastTime}\n   * with the value of currentTime that was provided.\n   *\n   * This method will be called automatically by animation\n   * frame callbacks if the ticker instance has been started\n   * and listeners are added.\n   * @example\n   * ```ts\n   * // Basic manual update\n   * const ticker = new Ticker();\n   * ticker.update(performance.now());\n   * ```\n   * @param currentTime - The current time of execution (defaults to performance.now())\n   * @see {@link Ticker#deltaTime} For frame delta value\n   * @see {@link Ticker#elapsedMS} For raw elapsed time\n   */\n  update(currentTime = performance.now()) {\n    let elapsedMS;\n    if (currentTime > this.lastTime) {\n      elapsedMS = this.elapsedMS = currentTime - this.lastTime;\n      if (elapsedMS > this._maxElapsedMS) {\n        elapsedMS = this._maxElapsedMS;\n      }\n      elapsedMS *= this.speed;\n      if (this._minElapsedMS) {\n        const delta = currentTime - this._lastFrame | 0;\n        if (delta < this._minElapsedMS) {\n          return;\n        }\n        this._lastFrame = currentTime - delta % this._minElapsedMS;\n      }\n      this.deltaMS = elapsedMS;\n      this.deltaTime = this.deltaMS * _Ticker.targetFPMS;\n      const head = this._head;\n      let listener = head.next;\n      while (listener) {\n        listener = listener.emit(this);\n      }\n      if (!head.next) {\n        this._cancelIfNeeded();\n      }\n    } else {\n      this.deltaTime = this.deltaMS = this.elapsedMS = 0;\n    }\n    this.lastTime = currentTime;\n  }\n  /**\n   * The frames per second at which this ticker is running.\n   * The default is approximately 60 in most modern browsers.\n   * > [!NOTE] This does not factor in the value of\n   * > {@link Ticker#speed|speed}, which is specific\n   * > to scaling {@link Ticker#deltaTime|deltaTime}.\n   * @example\n   * ```ts\n   * // Basic FPS monitoring\n   * ticker.add(() => {\n   *     console.log(`Current FPS: ${Math.round(ticker.FPS)}`);\n   * });\n   * ```\n   * @readonly\n   */\n  get FPS() {\n    return 1e3 / this.elapsedMS;\n  }\n  /**\n   * Manages the maximum amount of milliseconds allowed to\n   * elapse between invoking {@link Ticker#update|update}.\n   *\n   * This value is used to cap {@link Ticker#deltaTime|deltaTime},\n   * but does not effect the measured value of {@link Ticker#FPS|FPS}.\n   *\n   * When setting this property it is clamped to a value between\n   * `0` and `Ticker.targetFPMS * 1000`.\n   * @example\n   * ```ts\n   * // Set minimum acceptable frame rate\n   * const ticker = new Ticker();\n   * ticker.minFPS = 30; // Never go below 30 FPS\n   *\n   * // Use with maxFPS for frame rate clamping\n   * ticker.minFPS = 30;\n   * ticker.maxFPS = 60;\n   *\n   * // Monitor delta capping\n   * ticker.add(() => {\n   *     // Delta time will be capped based on minFPS\n   *     console.log(`Delta time: ${ticker.deltaTime}`);\n   * });\n   * ```\n   * @default 10\n   */\n  get minFPS() {\n    return 1e3 / this._maxElapsedMS;\n  }\n  set minFPS(fps) {\n    const minFPS = Math.min(this.maxFPS, fps);\n    const minFPMS = Math.min(Math.max(0, minFPS) / 1e3, _Ticker.targetFPMS);\n    this._maxElapsedMS = 1 / minFPMS;\n  }\n  /**\n   * Manages the minimum amount of milliseconds required to\n   * elapse between invoking {@link Ticker#update|update}.\n   *\n   * This will effect the measured value of {@link Ticker#FPS|FPS}.\n   *\n   * If it is set to `0`, then there is no limit; PixiJS will render as many frames as it can.\n   * Otherwise it will be at least `minFPS`\n   * @example\n   * ```ts\n   * // Set minimum acceptable frame rate\n   * const ticker = new Ticker();\n   * ticker.maxFPS = 60; // Never go above 60 FPS\n   *\n   * // Use with maxFPS for frame rate clamping\n   * ticker.minFPS = 30;\n   * ticker.maxFPS = 60;\n   *\n   * // Monitor delta capping\n   * ticker.add(() => {\n   *     // Delta time will be capped based on maxFPS\n   *     console.log(`Delta time: ${ticker.deltaTime}`);\n   * });\n   * ```\n   * @default 0\n   */\n  get maxFPS() {\n    if (this._minElapsedMS) {\n      return Math.round(1e3 / this._minElapsedMS);\n    }\n    return 0;\n  }\n  set maxFPS(fps) {\n    if (fps === 0) {\n      this._minElapsedMS = 0;\n    } else {\n      const maxFPS = Math.max(this.minFPS, fps);\n      this._minElapsedMS = 1 / (maxFPS / 1e3);\n    }\n  }\n  /**\n   * The shared ticker instance used by {@link AnimatedSprite} and by\n   * {@link VideoSource} to update animation frames / video textures.\n   *\n   * It may also be used by {@link Application} if created with the `sharedTicker` option property set to true.\n   *\n   * The property {@link Ticker#autoStart|autoStart} is set to `true` for this instance.\n   * Please follow the examples for usage, including how to opt-out of auto-starting the shared ticker.\n   * @example\n   * import { Ticker } from 'pixi.js';\n   *\n   * const ticker = Ticker.shared;\n   * // Set this to prevent starting this ticker when listeners are added.\n   * // By default this is true only for the Ticker.shared instance.\n   * ticker.autoStart = false;\n   *\n   * // FYI, call this to ensure the ticker is stopped. It should be stopped\n   * // if you have not attempted to render anything yet.\n   * ticker.stop();\n   *\n   * // Call this when you are ready for a running shared ticker.\n   * ticker.start();\n   * @example\n   * import { autoDetectRenderer, Container } from 'pixi.js';\n   *\n   * // You may use the shared ticker to render...\n   * const renderer = autoDetectRenderer();\n   * const stage = new Container();\n   * document.body.appendChild(renderer.view);\n   * ticker.add((time) => renderer.render(stage));\n   *\n   * // Or you can just update it manually.\n   * ticker.autoStart = false;\n   * ticker.stop();\n   * const animate = (time) => {\n   *     ticker.update(time);\n   *     renderer.render(stage);\n   *     requestAnimationFrame(animate);\n   * };\n   * animate(performance.now());\n   * @type {Ticker}\n   * @readonly\n   */\n  static get shared() {\n    if (!_Ticker._shared) {\n      const shared = _Ticker._shared = new _Ticker();\n      shared.autoStart = true;\n      shared._protected = true;\n    }\n    return _Ticker._shared;\n  }\n  /**\n   * The system ticker instance used by {@link PrepareBase} for core timing\n   * functionality that shouldn't usually need to be paused, unlike the `shared`\n   * ticker which drives visual animations and rendering which may want to be paused.\n   *\n   * The property {@link Ticker#autoStart|autoStart} is set to `true` for this instance.\n   * @type {Ticker}\n   * @readonly\n   * @advanced\n   */\n  static get system() {\n    if (!_Ticker._system) {\n      const system = _Ticker._system = new _Ticker();\n      system.autoStart = true;\n      system._protected = true;\n    }\n    return _Ticker._system;\n  }\n};\n/**\n * Target frame rate in frames per millisecond.\n * Used for converting deltaTime to a scalar time delta.\n * @example\n * ```ts\n * // Default is 0.06 (60 FPS)\n * console.log(Ticker.targetFPMS); // 0.06\n *\n * // Calculate target frame duration\n * const frameDuration = 1 / Ticker.targetFPMS; //  16.67ms\n *\n * // Use in custom timing calculations\n * const deltaTime = elapsedMS * Ticker.targetFPMS;\n * ```\n * @remarks\n * - Default is 0.06 (equivalent to 60 FPS)\n * - Used in deltaTime calculations\n * - Affects all ticker instances\n * @default 0.06\n * @see {@link Ticker#deltaTime} For time scaling\n * @see {@link Ticker#FPS} For actual frame rate\n */\n_Ticker.targetFPMS = 0.06;\nlet Ticker = _Ticker;\n\nexport { Ticker };\n//# sourceMappingURL=Ticker.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\n\n\"use strict\";\nlet promise;\nasync function detectVideoAlphaMode() {\n  promise ?? (promise = (async () => {\n    const canvas = DOMAdapter.get().createCanvas(1, 1);\n    const gl = canvas.getContext(\"webgl\");\n    if (!gl) {\n      return \"premultiply-alpha-on-upload\";\n    }\n    const video = await new Promise((resolve) => {\n      const video2 = document.createElement(\"video\");\n      video2.onloadeddata = () => resolve(video2);\n      video2.onerror = () => resolve(null);\n      video2.autoplay = false;\n      video2.crossOrigin = \"anonymous\";\n      video2.preload = \"auto\";\n      video2.src = \"data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=\";\n      video2.load();\n    });\n    if (!video) {\n      return \"premultiply-alpha-on-upload\";\n    }\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    const framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0\n    );\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video);\n    const pixel = new Uint8Array(4);\n    gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel);\n    gl.deleteFramebuffer(framebuffer);\n    gl.deleteTexture(texture);\n    gl.getExtension(\"WEBGL_lose_context\")?.loseContext();\n    return pixel[0] <= pixel[3] ? \"premultiplied-alpha\" : \"premultiply-alpha-on-upload\";\n  })());\n  return promise;\n}\n\nexport { detectVideoAlphaMode };\n//# sourceMappingURL=detectVideoAlphaMode.mjs.map\n","import { ExtensionType } from '../../../../../extensions/Extensions.mjs';\nimport { Ticker } from '../../../../../ticker/Ticker.mjs';\nimport { detectVideoAlphaMode } from '../../../../../utils/browser/detectVideoAlphaMode.mjs';\nimport { TextureSource } from './TextureSource.mjs';\n\n\"use strict\";\nconst _VideoSource = class _VideoSource extends TextureSource {\n  constructor(options) {\n    super(options);\n    // Public\n    /** Whether or not the video is ready to play. */\n    this.isReady = false;\n    /** The upload method for this texture. */\n    this.uploadMethodId = \"video\";\n    options = {\n      ..._VideoSource.defaultOptions,\n      ...options\n    };\n    this._autoUpdate = true;\n    this._isConnectedToTicker = false;\n    this._updateFPS = options.updateFPS || 0;\n    this._msToNextUpdate = 0;\n    this.autoPlay = options.autoPlay !== false;\n    this.alphaMode = options.alphaMode ?? \"premultiply-alpha-on-upload\";\n    this._videoFrameRequestCallback = this._videoFrameRequestCallback.bind(this);\n    this._videoFrameRequestCallbackHandle = null;\n    this._load = null;\n    this._resolve = null;\n    this._reject = null;\n    this._onCanPlay = this._onCanPlay.bind(this);\n    this._onCanPlayThrough = this._onCanPlayThrough.bind(this);\n    this._onError = this._onError.bind(this);\n    this._onPlayStart = this._onPlayStart.bind(this);\n    this._onPlayStop = this._onPlayStop.bind(this);\n    this._onSeeked = this._onSeeked.bind(this);\n    if (options.autoLoad !== false) {\n      void this.load();\n    }\n  }\n  /** Update the video frame if the source is not destroyed and meets certain conditions. */\n  updateFrame() {\n    if (this.destroyed) {\n      return;\n    }\n    if (this._updateFPS) {\n      const elapsedMS = Ticker.shared.elapsedMS * this.resource.playbackRate;\n      this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);\n    }\n    if (!this._updateFPS || this._msToNextUpdate <= 0) {\n      this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0;\n    }\n    if (this.isValid) {\n      this.update();\n    }\n  }\n  /** Callback to update the video frame and potentially request the next frame update. */\n  _videoFrameRequestCallback() {\n    this.updateFrame();\n    if (this.destroyed) {\n      this._videoFrameRequestCallbackHandle = null;\n    } else {\n      this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(\n        this._videoFrameRequestCallback\n      );\n    }\n  }\n  /**\n   * Checks if the resource has valid dimensions.\n   * @returns {boolean} True if width and height are set, otherwise false.\n   */\n  get isValid() {\n    return !!this.resource.videoWidth && !!this.resource.videoHeight;\n  }\n  /**\n   * Start preloading the video resource.\n   * @returns {Promise<this>} Handle the validate event\n   */\n  async load() {\n    if (this._load) {\n      return this._load;\n    }\n    const source = this.resource;\n    const options = this.options;\n    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {\n      source.complete = true;\n    }\n    source.addEventListener(\"play\", this._onPlayStart);\n    source.addEventListener(\"pause\", this._onPlayStop);\n    source.addEventListener(\"seeked\", this._onSeeked);\n    if (!this._isSourceReady()) {\n      if (!options.preload) {\n        source.addEventListener(\"canplay\", this._onCanPlay);\n      }\n      source.addEventListener(\"canplaythrough\", this._onCanPlayThrough);\n      source.addEventListener(\"error\", this._onError, true);\n    } else {\n      this._mediaReady();\n    }\n    this.alphaMode = await detectVideoAlphaMode();\n    this._load = new Promise((resolve, reject) => {\n      if (this.isValid) {\n        resolve(this);\n      } else {\n        this._resolve = resolve;\n        this._reject = reject;\n        if (options.preloadTimeoutMs !== void 0) {\n          this._preloadTimeout = setTimeout(() => {\n            this._onError(new ErrorEvent(`Preload exceeded timeout of ${options.preloadTimeoutMs}ms`));\n          });\n        }\n        source.load();\n      }\n    });\n    return this._load;\n  }\n  /**\n   * Handle video error events.\n   * @param event - The error event\n   */\n  _onError(event) {\n    this.resource.removeEventListener(\"error\", this._onError, true);\n    this.emit(\"error\", event);\n    if (this._reject) {\n      this._reject(event);\n      this._reject = null;\n      this._resolve = null;\n    }\n  }\n  /**\n   * Checks if the underlying source is playing.\n   * @returns True if playing.\n   */\n  _isSourcePlaying() {\n    const source = this.resource;\n    return !source.paused && !source.ended;\n  }\n  /**\n   * Checks if the underlying source is ready for playing.\n   * @returns True if ready.\n   */\n  _isSourceReady() {\n    const source = this.resource;\n    return source.readyState > 2;\n  }\n  /** Runs the update loop when the video is ready to play. */\n  _onPlayStart() {\n    if (!this.isValid) {\n      this._mediaReady();\n    }\n    this._configureAutoUpdate();\n  }\n  /** Stops the update loop when a pause event is triggered. */\n  _onPlayStop() {\n    this._configureAutoUpdate();\n  }\n  /** Handles behavior when the video completes seeking to the current playback position. */\n  _onSeeked() {\n    if (this._autoUpdate && !this._isSourcePlaying()) {\n      this._msToNextUpdate = 0;\n      this.updateFrame();\n      this._msToNextUpdate = 0;\n    }\n  }\n  _onCanPlay() {\n    const source = this.resource;\n    source.removeEventListener(\"canplay\", this._onCanPlay);\n    this._mediaReady();\n  }\n  _onCanPlayThrough() {\n    const source = this.resource;\n    source.removeEventListener(\"canplaythrough\", this._onCanPlay);\n    if (this._preloadTimeout) {\n      clearTimeout(this._preloadTimeout);\n      this._preloadTimeout = void 0;\n    }\n    this._mediaReady();\n  }\n  /** Fired when the video is loaded and ready to play. */\n  _mediaReady() {\n    const source = this.resource;\n    if (this.isValid) {\n      this.isReady = true;\n      this.resize(source.videoWidth, source.videoHeight);\n    }\n    this._msToNextUpdate = 0;\n    this.updateFrame();\n    this._msToNextUpdate = 0;\n    if (this._resolve) {\n      this._resolve(this);\n      this._resolve = null;\n      this._reject = null;\n    }\n    if (this._isSourcePlaying()) {\n      this._onPlayStart();\n    } else if (this.autoPlay) {\n      void this.resource.play();\n    }\n  }\n  /** Cleans up resources and event listeners associated with this texture. */\n  destroy() {\n    this._configureAutoUpdate();\n    const source = this.resource;\n    if (source) {\n      source.removeEventListener(\"play\", this._onPlayStart);\n      source.removeEventListener(\"pause\", this._onPlayStop);\n      source.removeEventListener(\"seeked\", this._onSeeked);\n      source.removeEventListener(\"canplay\", this._onCanPlay);\n      source.removeEventListener(\"canplaythrough\", this._onCanPlayThrough);\n      source.removeEventListener(\"error\", this._onError, true);\n      source.pause();\n      source.src = \"\";\n      source.load();\n    }\n    super.destroy();\n  }\n  /** Should the base texture automatically update itself, set to true by default. */\n  get autoUpdate() {\n    return this._autoUpdate;\n  }\n  set autoUpdate(value) {\n    if (value !== this._autoUpdate) {\n      this._autoUpdate = value;\n      this._configureAutoUpdate();\n    }\n  }\n  /**\n   * How many times a second to update the texture from the video.\n   * Leave at 0 to update at every render.\n   * A lower fps can help performance, as updating the texture at 60fps on a 30ps video may not be efficient.\n   */\n  get updateFPS() {\n    return this._updateFPS;\n  }\n  set updateFPS(value) {\n    if (value !== this._updateFPS) {\n      this._updateFPS = value;\n      this._configureAutoUpdate();\n    }\n  }\n  /**\n   * Configures the updating mechanism based on the current state and settings.\n   *\n   * This method decides between using the browser's native video frame callback or a custom ticker\n   * for updating the video frame. It ensures optimal performance and responsiveness\n   * based on the video's state, playback status, and the desired frames-per-second setting.\n   *\n   * - If `_autoUpdate` is enabled and the video source is playing:\n   *   - It will prefer the native video frame callback if available and no specific FPS is set.\n   *   - Otherwise, it will use a custom ticker for manual updates.\n   * - If `_autoUpdate` is disabled or the video isn't playing, any active update mechanisms are halted.\n   */\n  _configureAutoUpdate() {\n    if (this._autoUpdate && this._isSourcePlaying()) {\n      if (!this._updateFPS && this.resource.requestVideoFrameCallback) {\n        if (this._isConnectedToTicker) {\n          Ticker.shared.remove(this.updateFrame, this);\n          this._isConnectedToTicker = false;\n          this._msToNextUpdate = 0;\n        }\n        if (this._videoFrameRequestCallbackHandle === null) {\n          this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(\n            this._videoFrameRequestCallback\n          );\n        }\n      } else {\n        if (this._videoFrameRequestCallbackHandle !== null) {\n          this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle);\n          this._videoFrameRequestCallbackHandle = null;\n        }\n        if (!this._isConnectedToTicker) {\n          Ticker.shared.add(this.updateFrame, this);\n          this._isConnectedToTicker = true;\n          this._msToNextUpdate = 0;\n        }\n      }\n    } else {\n      if (this._videoFrameRequestCallbackHandle !== null) {\n        this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle);\n        this._videoFrameRequestCallbackHandle = null;\n      }\n      if (this._isConnectedToTicker) {\n        Ticker.shared.remove(this.updateFrame, this);\n        this._isConnectedToTicker = false;\n        this._msToNextUpdate = 0;\n      }\n    }\n  }\n  static test(resource) {\n    return globalThis.HTMLVideoElement && resource instanceof HTMLVideoElement;\n  }\n};\n_VideoSource.extension = ExtensionType.TextureSource;\n/** The default options for video sources. */\n_VideoSource.defaultOptions = {\n  ...TextureSource.defaultOptions,\n  /** If true, the video will start loading immediately. */\n  autoLoad: true,\n  /** If true, the video will start playing as soon as it is loaded. */\n  autoPlay: true,\n  /** The number of times a second to update the texture from the video. Leave at 0 to update at every render. */\n  updateFPS: 0,\n  /** If true, the video will be loaded with the `crossorigin` attribute. */\n  crossorigin: true,\n  /** If true, the video will loop when it ends. */\n  loop: false,\n  /** If true, the video will be muted. */\n  muted: true,\n  /** If true, the video will play inline. */\n  playsinline: true,\n  /** If true, the video will be preloaded. */\n  preload: false\n};\n/**\n * Map of video MIME types that can't be directly derived from file extensions.\n * @readonly\n */\n_VideoSource.MIME_TYPES = {\n  ogv: \"video/ogg\",\n  mov: \"video/quicktime\",\n  m4v: \"video/mp4\"\n};\nlet VideoSource = _VideoSource;\n\nexport { VideoSource };\n//# sourceMappingURL=VideoSource.mjs.map\n","\"use strict\";\nconst convertToList = (input, transform, forceTransform = false) => {\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n  if (!transform) {\n    return input;\n  }\n  return input.map((item) => {\n    if (typeof item === \"string\" || forceTransform) {\n      return transform(item);\n    }\n    return item;\n  });\n};\n\nexport { convertToList };\n//# sourceMappingURL=convertToList.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\n\n\"use strict\";\nclass CacheClass {\n  constructor() {\n    this._parsers = [];\n    this._cache = /* @__PURE__ */ new Map();\n    this._cacheMap = /* @__PURE__ */ new Map();\n  }\n  /** Clear all entries. */\n  reset() {\n    this._cacheMap.clear();\n    this._cache.clear();\n  }\n  /**\n   * Check if the key exists\n   * @param key - The key to check\n   */\n  has(key) {\n    return this._cache.has(key);\n  }\n  /**\n   * Fetch entry by key\n   * @param key - The key of the entry to get\n   */\n  get(key) {\n    const result = this._cache.get(key);\n    if (!result) {\n      warn(`[Assets] Asset id ${key} was not found in the Cache`);\n    }\n    return result;\n  }\n  /**\n   * Set a value by key or keys name\n   * @param key - The key or keys to set\n   * @param value - The value to store in the cache or from which cacheable assets will be derived.\n   */\n  set(key, value) {\n    const keys = convertToList(key);\n    let cacheableAssets;\n    for (let i = 0; i < this.parsers.length; i++) {\n      const parser = this.parsers[i];\n      if (parser.test(value)) {\n        cacheableAssets = parser.getCacheableAssets(keys, value);\n        break;\n      }\n    }\n    const cacheableMap = new Map(Object.entries(cacheableAssets || {}));\n    if (!cacheableAssets) {\n      keys.forEach((key2) => {\n        cacheableMap.set(key2, value);\n      });\n    }\n    const cacheKeys = [...cacheableMap.keys()];\n    const cachedAssets = {\n      cacheKeys,\n      keys\n    };\n    keys.forEach((key2) => {\n      this._cacheMap.set(key2, cachedAssets);\n    });\n    cacheKeys.forEach((key2) => {\n      const val = cacheableAssets ? cacheableAssets[key2] : value;\n      if (this._cache.has(key2) && this._cache.get(key2) !== val) {\n        warn(\"[Cache] already has key:\", key2);\n      }\n      this._cache.set(key2, cacheableMap.get(key2));\n    });\n  }\n  /**\n   * Remove entry by key\n   *\n   * This function will also remove any associated alias from the cache also.\n   * @param key - The key of the entry to remove\n   */\n  remove(key) {\n    if (!this._cacheMap.has(key)) {\n      warn(`[Assets] Asset id ${key} was not found in the Cache`);\n      return;\n    }\n    const cacheMap = this._cacheMap.get(key);\n    const cacheKeys = cacheMap.cacheKeys;\n    cacheKeys.forEach((key2) => {\n      this._cache.delete(key2);\n    });\n    cacheMap.keys.forEach((key2) => {\n      this._cacheMap.delete(key2);\n    });\n  }\n  /**\n   * All loader parsers registered\n   * @advanced\n   */\n  get parsers() {\n    return this._parsers;\n  }\n}\nconst Cache = new CacheClass();\n\nexport { Cache };\n//# sourceMappingURL=Cache.mjs.map\n","import { Cache } from '../../../../../assets/cache/Cache.mjs';\nimport { extensions, ExtensionType } from '../../../../../extensions/Extensions.mjs';\nimport { TextureSource } from '../sources/TextureSource.mjs';\nimport { Texture } from '../Texture.mjs';\n\n\"use strict\";\nconst sources = [];\nextensions.handleByList(ExtensionType.TextureSource, sources);\nfunction autoDetectSource(options = {}) {\n  return textureSourceFrom(options);\n}\nfunction textureSourceFrom(options = {}) {\n  const hasResource = options && options.resource;\n  const res = hasResource ? options.resource : options;\n  const opts = hasResource ? options : { resource: options };\n  for (let i = 0; i < sources.length; i++) {\n    const Source = sources[i];\n    if (Source.test(res)) {\n      return new Source(opts);\n    }\n  }\n  throw new Error(`Could not find a source type for resource: ${opts.resource}`);\n}\nfunction resourceToTexture(options = {}, skipCache = false) {\n  const hasResource = options && options.resource;\n  const resource = hasResource ? options.resource : options;\n  const opts = hasResource ? options : { resource: options };\n  if (!skipCache && Cache.has(resource)) {\n    return Cache.get(resource);\n  }\n  const texture = new Texture({ source: textureSourceFrom(opts) });\n  texture.on(\"destroy\", () => {\n    if (Cache.has(resource)) {\n      Cache.remove(resource);\n    }\n  });\n  if (!skipCache) {\n    Cache.set(resource, texture);\n  }\n  return texture;\n}\nfunction textureFrom(id, skipCache = false) {\n  if (typeof id === \"string\") {\n    return Cache.get(id);\n  } else if (id instanceof TextureSource) {\n    return new Texture({ source: id });\n  }\n  return resourceToTexture(id, skipCache);\n}\nTexture.from = textureFrom;\nTextureSource.from = textureSourceFrom;\n\nexport { autoDetectSource, resourceToTexture, textureFrom };\n//# sourceMappingURL=textureFrom.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { AlphaMask } from './mask/alpha/AlphaMask.mjs';\nimport { ColorMask } from './mask/color/ColorMask.mjs';\nimport { StencilMask } from './mask/stencil/StencilMask.mjs';\nimport { BufferImageSource } from './renderers/shared/texture/sources/BufferImageSource.mjs';\nimport { CanvasSource } from './renderers/shared/texture/sources/CanvasSource.mjs';\nimport { ImageSource } from './renderers/shared/texture/sources/ImageSource.mjs';\nimport { VideoSource } from './renderers/shared/texture/sources/VideoSource.mjs';\nimport './renderers/shared/texture/utils/textureFrom.mjs';\nimport './mask/MaskEffectManager.mjs';\n\n\"use strict\";\nextensions.add(AlphaMask, ColorMask, StencilMask, VideoSource, ImageSource, CanvasSource, BufferImageSource);\n//# sourceMappingURL=init.mjs.map\n","\"use strict\";\nvar LoaderParserPriority = /* @__PURE__ */ ((LoaderParserPriority2) => {\n  LoaderParserPriority2[LoaderParserPriority2[\"Low\"] = 0] = \"Low\";\n  LoaderParserPriority2[LoaderParserPriority2[\"Normal\"] = 1] = \"Normal\";\n  LoaderParserPriority2[LoaderParserPriority2[\"High\"] = 2] = \"High\";\n  return LoaderParserPriority2;\n})(LoaderParserPriority || {});\n\nexport { LoaderParserPriority };\n//# sourceMappingURL=LoaderParser.mjs.map\n","import { DOMAdapter } from '../environment/adapter.mjs';\n\n\"use strict\";\nfunction assertPath(path2) {\n  if (typeof path2 !== \"string\") {\n    throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`);\n  }\n}\nfunction removeUrlParams(url) {\n  const re = url.split(\"?\")[0];\n  return re.split(\"#\")[0];\n}\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction replaceAll(str, find, replace) {\n  return str.replace(new RegExp(escapeRegExp(find), \"g\"), replace);\n}\nfunction normalizeStringPosix(path2, allowAboveRoot) {\n  let res = \"\";\n  let lastSegmentLength = 0;\n  let lastSlash = -1;\n  let dots = 0;\n  let code = -1;\n  for (let i = 0; i <= path2.length; ++i) {\n    if (i < path2.length) {\n      code = path2.charCodeAt(i);\n    } else if (code === 47) {\n      break;\n    } else {\n      code = 47;\n    }\n    if (code === 47) {\n      if (lastSlash === i - 1 || dots === 1) {\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {\n          if (res.length > 2) {\n            const lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = \"\";\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = \"\";\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0) {\n            res += \"/..\";\n          } else {\n            res = \"..\";\n          }\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) {\n          res += `/${path2.slice(lastSlash + 1, i)}`;\n        } else {\n          res = path2.slice(lastSlash + 1, i);\n        }\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\nconst path = {\n  /**\n   * Converts a path to posix format.\n   * @param path - The path to convert to posix\n   * @example\n   * ```ts\n   * // Convert a Windows path to POSIX format\n   * path.toPosix('C:\\\\Users\\\\User\\\\Documents\\\\file.txt');\n   * // -> 'C:/Users/User/Documents/file.txt'\n   * ```\n   */\n  toPosix(path2) {\n    return replaceAll(path2, \"\\\\\", \"/\");\n  },\n  /**\n   * Checks if the path is a URL e.g. http://, https://\n   * @param path - The path to check\n   * @example\n   * ```ts\n   * // Check if a path is a URL\n   * path.isUrl('http://www.example.com');\n   * // -> true\n   * path.isUrl('C:/Users/User/Documents/file.txt');\n   * // -> false\n   * ```\n   */\n  isUrl(path2) {\n    return /^https?:/.test(this.toPosix(path2));\n  },\n  /**\n   * Checks if the path is a data URL\n   * @param path - The path to check\n   * @example\n   * ```ts\n   * // Check if a path is a data URL\n   * path.isDataUrl('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA...');\n   * // -> true\n   * ```\n   */\n  isDataUrl(path2) {\n    return /^data:([a-z]+\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s<>]*?)$/i.test(path2);\n  },\n  /**\n   * Checks if the path is a blob URL\n   * @param path - The path to check\n   * @example\n   * ```ts\n   * // Check if a path is a blob URL\n   * path.isBlobUrl('blob:http://www.example.com/12345678-1234-1234-1234-123456789012');\n   * // -> true\n   * ```\n   */\n  isBlobUrl(path2) {\n    return path2.startsWith(\"blob:\");\n  },\n  /**\n   * Checks if the path has a protocol e.g. http://, https://, file:///, data:, blob:, C:/\n   * This will return true for windows file paths\n   * @param path - The path to check\n   * @example\n   * ```ts\n   * // Check if a path has a protocol\n   * path.hasProtocol('http://www.example.com');\n   * // -> true\n   * path.hasProtocol('C:/Users/User/Documents/file.txt');\n   * // -> true\n   * ```\n   */\n  hasProtocol(path2) {\n    return /^[^/:]+:/.test(this.toPosix(path2));\n  },\n  /**\n   * Returns the protocol of the path e.g. http://, https://, file:///, data:, blob:, C:/\n   * @param path - The path to get the protocol from\n   * @example\n   * ```ts\n   * // Get the protocol from a URL\n   * path.getProtocol('http://www.example.com/path/to/resource');\n   * // -> 'http://'\n   * // Get the protocol from a file path\n   * path.getProtocol('C:/Users/User/Documents/file.txt');\n   * // -> 'C:/'\n   * ```\n   */\n  getProtocol(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    const matchFile = /^file:\\/\\/\\//.exec(path2);\n    if (matchFile) {\n      return matchFile[0];\n    }\n    const matchProtocol = /^[^/:]+:\\/{0,2}/.exec(path2);\n    if (matchProtocol) {\n      return matchProtocol[0];\n    }\n    return \"\";\n  },\n  /**\n   * Converts URL to an absolute path.\n   * When loading from a Web Worker, we must use absolute paths.\n   * If the URL is already absolute we return it as is\n   * If it's not, we convert it\n   * @param url - The URL to test\n   * @param customBaseUrl - The base URL to use\n   * @param customRootUrl - The root URL to use\n   * @example\n   * ```ts\n   * // Convert a relative URL to an absolute path\n   * path.toAbsolute('images/texture.png', 'http://example.com/assets/');\n   * // -> 'http://example.com/assets/images/texture.png'\n   * ```\n   */\n  toAbsolute(url, customBaseUrl, customRootUrl) {\n    assertPath(url);\n    if (this.isDataUrl(url) || this.isBlobUrl(url))\n      return url;\n    const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? DOMAdapter.get().getBaseUrl()));\n    const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));\n    url = this.toPosix(url);\n    if (url.startsWith(\"/\")) {\n      return path.join(rootUrl, url.slice(1));\n    }\n    const absolutePath = this.isAbsolute(url) ? url : this.join(baseUrl, url);\n    return absolutePath;\n  },\n  /**\n   * Normalizes the given path, resolving '..' and '.' segments\n   * @param path - The path to normalize\n   * @example\n   * ```ts\n   * // Normalize a path with relative segments\n   * path.normalize('http://www.example.com/foo/bar/../baz');\n   * // -> 'http://www.example.com/foo/baz'\n   * // Normalize a file path with relative segments\n   * path.normalize('C:\\\\Users\\\\User\\\\Documents\\\\..\\\\file.txt');\n   * // -> 'C:/Users/User/file.txt'\n   * ```\n   */\n  normalize(path2) {\n    assertPath(path2);\n    if (path2.length === 0)\n      return \".\";\n    if (this.isDataUrl(path2) || this.isBlobUrl(path2))\n      return path2;\n    path2 = this.toPosix(path2);\n    let protocol = \"\";\n    const isAbsolute = path2.startsWith(\"/\");\n    if (this.hasProtocol(path2)) {\n      protocol = this.rootname(path2);\n      path2 = path2.slice(protocol.length);\n    }\n    const trailingSeparator = path2.endsWith(\"/\");\n    path2 = normalizeStringPosix(path2, false);\n    if (path2.length > 0 && trailingSeparator)\n      path2 += \"/\";\n    if (isAbsolute)\n      return `/${path2}`;\n    return protocol + path2;\n  },\n  /**\n   * Determines if path is an absolute path.\n   * Absolute paths can be urls, data urls, or paths on disk\n   * @param path - The path to test\n   * @example\n   * ```ts\n   * // Check if a path is absolute\n   * path.isAbsolute('http://www.example.com/foo/bar');\n   * // -> true\n   * path.isAbsolute('C:/Users/User/Documents/file.txt');\n   * // -> true\n   * ```\n   */\n  isAbsolute(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    if (this.hasProtocol(path2))\n      return true;\n    return path2.startsWith(\"/\");\n  },\n  /**\n   * Joins all given path segments together using the platform-specific separator as a delimiter,\n   * then normalizes the resulting path\n   * @param segments - The segments of the path to join\n   * @example\n   * ```ts\n   * // Join multiple path segments\n   * path.join('assets', 'images', 'sprite.png');\n   * // -> 'assets/images/sprite.png'\n   * // Join with relative segments\n   * path.join('assets', 'images', '../textures', 'sprite.png');\n   * // -> 'assets/textures/sprite.png'\n   * ```\n   */\n  join(...segments) {\n    if (segments.length === 0) {\n      return \".\";\n    }\n    let joined;\n    for (let i = 0; i < segments.length; ++i) {\n      const arg = segments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === void 0)\n          joined = arg;\n        else {\n          const prevArg = segments[i - 1] ?? \"\";\n          if (this.joinExtensions.includes(this.extname(prevArg).toLowerCase())) {\n            joined += `/../${arg}`;\n          } else {\n            joined += `/${arg}`;\n          }\n        }\n      }\n    }\n    if (joined === void 0) {\n      return \".\";\n    }\n    return this.normalize(joined);\n  },\n  /**\n   * Returns the directory name of a path\n   * @param path - The path to parse\n   * @example\n   * ```ts\n   * // Get the directory name of a path\n   * path.dirname('http://www.example.com/foo/bar/baz.png');\n   * // -> 'http://www.example.com/foo/bar'\n   * // Get the directory name of a file path\n   * path.dirname('C:/Users/User/Documents/file.txt');\n   * // -> 'C:/Users/User/Documents'\n   * ```\n   */\n  dirname(path2) {\n    assertPath(path2);\n    if (path2.length === 0)\n      return \".\";\n    path2 = this.toPosix(path2);\n    let code = path2.charCodeAt(0);\n    const hasRoot = code === 47;\n    let end = -1;\n    let matchedSlash = true;\n    const proto = this.getProtocol(path2);\n    const origpath = path2;\n    path2 = path2.slice(proto.length);\n    for (let i = path2.length - 1; i >= 1; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        matchedSlash = false;\n      }\n    }\n    if (end === -1)\n      return hasRoot ? \"/\" : this.isUrl(origpath) ? proto + path2 : proto;\n    if (hasRoot && end === 1)\n      return \"//\";\n    return proto + path2.slice(0, end);\n  },\n  /**\n   * Returns the root of the path e.g. /, C:/, file:///, http://domain.com/\n   * @param path - The path to parse\n   * @example\n   * ```ts\n   * // Get the root of a URL\n   * path.rootname('http://www.example.com/foo/bar/baz.png');\n   * // -> 'http://www.example.com/'\n   * // Get the root of a file path\n   * path.rootname('C:/Users/User/Documents/file.txt');\n   * // -> 'C:/'\n   * ```\n   */\n  rootname(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    let root = \"\";\n    if (path2.startsWith(\"/\"))\n      root = \"/\";\n    else {\n      root = this.getProtocol(path2);\n    }\n    if (this.isUrl(path2)) {\n      const index = path2.indexOf(\"/\", root.length);\n      if (index !== -1) {\n        root = path2.slice(0, index);\n      } else\n        root = path2;\n      if (!root.endsWith(\"/\"))\n        root += \"/\";\n    }\n    return root;\n  },\n  /**\n   * Returns the last portion of a path\n   * @param path - The path to test\n   * @param ext - Optional extension to remove\n   * @example\n   * ```ts\n   * // Get the basename of a URL\n   * path.basename('http://www.example.com/foo/bar/baz.png');\n   * // -> 'baz.png'\n   * // Get the basename of a file path\n   * path.basename('C:/Users/User/Documents/file.txt');\n   * // -> 'file.txt'\n   * ```\n   */\n  basename(path2, ext) {\n    assertPath(path2);\n    if (ext)\n      assertPath(ext);\n    path2 = removeUrlParams(this.toPosix(path2));\n    let start = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i;\n    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {\n      if (ext.length === path2.length && ext === path2)\n        return \"\";\n      let extIdx = ext.length - 1;\n      let firstNonSlashEnd = -1;\n      for (i = path2.length - 1; i >= 0; --i) {\n        const code = path2.charCodeAt(i);\n        if (code === 47) {\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                end = i;\n              }\n            } else {\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n      if (start === end)\n        end = firstNonSlashEnd;\n      else if (end === -1)\n        end = path2.length;\n      return path2.slice(start, end);\n    }\n    for (i = path2.length - 1; i >= 0; --i) {\n      if (path2.charCodeAt(i) === 47) {\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n    }\n    if (end === -1)\n      return \"\";\n    return path2.slice(start, end);\n  },\n  /**\n   * Returns the extension of the path, from the last occurrence of the . (period) character to end of string in the last\n   * portion of the path. If there is no . in the last portion of the path, or if there are no . characters other than\n   * the first character of the basename of path, an empty string is returned.\n   * @param path - The path to parse\n   * @example\n   * ```ts\n   * // Get the extension of a URL\n   * path.extname('http://www.example.com/foo/bar/baz.png');\n   * // -> '.png'\n   * // Get the extension of a file path\n   * path.extname('C:/Users/User/Documents/file.txt');\n   * // -> '.txt'\n   * ```\n   */\n  extname(path2) {\n    assertPath(path2);\n    path2 = removeUrlParams(this.toPosix(path2));\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let preDotState = 0;\n    for (let i = path2.length - 1; i >= 0; --i) {\n      const code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return \"\";\n    }\n    return path2.slice(startDot, end);\n  },\n  /**\n   * Parses a path into an object containing the 'root', `dir`, `base`, `ext`, and `name` properties.\n   * @param path - The path to parse\n   * @example\n   * ```ts\n   * // Parse a URL\n   * const parsed = path.parse('http://www.example.com/foo/bar/baz.png');\n   * // -> {\n   * //   root: 'http://www.example.com/',\n   * //   dir: 'http://www.example.com/foo/bar',\n   * //   base: 'baz.png',\n   * //   ext: '.png',\n   * //   name: 'baz'\n   * // }\n   * // Parse a file path\n   * const parsedFile = path.parse('C:/Users/User/Documents/file.txt');\n   * // -> {\n   * //   root: 'C:/',\n   * //   dir: 'C:/Users/User/Documents',\n   * //   base: 'file.txt',\n   * //   ext: '.txt',\n   * //   name: 'file'\n   * // }\n   * ```\n   */\n  parse(path2) {\n    assertPath(path2);\n    const ret = { root: \"\", dir: \"\", base: \"\", ext: \"\", name: \"\" };\n    if (path2.length === 0)\n      return ret;\n    path2 = removeUrlParams(this.toPosix(path2));\n    let code = path2.charCodeAt(0);\n    const isAbsolute = this.isAbsolute(path2);\n    let start;\n    const protocol = \"\";\n    ret.root = this.rootname(path2);\n    if (isAbsolute || this.hasProtocol(path2)) {\n      start = 1;\n    } else {\n      start = 0;\n    }\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i = path2.length - 1;\n    let preDotState = 0;\n    for (; i >= start; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute)\n          ret.base = ret.name = path2.slice(1, end);\n        else\n          ret.base = ret.name = path2.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path2.slice(1, startDot);\n        ret.base = path2.slice(1, end);\n      } else {\n        ret.name = path2.slice(startPart, startDot);\n        ret.base = path2.slice(startPart, end);\n      }\n      ret.ext = path2.slice(startDot, end);\n    }\n    ret.dir = this.dirname(path2);\n    if (protocol)\n      ret.dir = protocol + ret.dir;\n    return ret;\n  },\n  sep: \"/\",\n  delimiter: \":\",\n  joinExtensions: [\".html\"]\n};\n\nexport { path };\n//# sourceMappingURL=path.mjs.map\n","\"use strict\";\nfunction processX(base, ids, depth, result, tags) {\n  const id = ids[depth];\n  for (let i = 0; i < id.length; i++) {\n    const value = id[i];\n    if (depth < ids.length - 1) {\n      processX(base.replace(result[depth], value), ids, depth + 1, result, tags);\n    } else {\n      tags.push(base.replace(result[depth], value));\n    }\n  }\n}\nfunction createStringVariations(string) {\n  const regex = /\\{(.*?)\\}/g;\n  const result = string.match(regex);\n  const tags = [];\n  if (result) {\n    const ids = [];\n    result.forEach((vars) => {\n      const split = vars.substring(1, vars.length - 1).split(\",\");\n      ids.push(split);\n    });\n    processX(string, ids, 0, result, tags);\n  } else {\n    tags.push(string);\n  }\n  return tags;\n}\n\nexport { createStringVariations };\n//# sourceMappingURL=createStringVariations.mjs.map\n","\"use strict\";\nconst isSingleItem = (item) => !Array.isArray(item);\n\nexport { isSingleItem };\n//# sourceMappingURL=isSingleItem.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { path } from '../../utils/path.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\nimport { createStringVariations } from '../utils/createStringVariations.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\n\n\"use strict\";\nclass Resolver {\n  constructor() {\n    this._defaultBundleIdentifierOptions = {\n      connector: \"-\",\n      createBundleAssetId: (bundleId, assetId) => `${bundleId}${this._bundleIdConnector}${assetId}`,\n      extractAssetIdFromBundle: (bundleId, assetBundleId) => assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`, \"\")\n    };\n    /** The character that is used to connect the bundleId and the assetId when generating a bundle asset id key */\n    this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector;\n    /**\n     * A function that generates a bundle asset id key from a bundleId and an assetId\n     * @param bundleId - the bundleId\n     * @param assetId  - the assetId\n     * @returns the bundle asset id key\n     */\n    this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId;\n    /**\n     * A function that generates an assetId from a bundle asset id key. This is the reverse of generateBundleAssetId\n     * @param bundleId - the bundleId\n     * @param assetBundleId - the bundle asset id key\n     * @returns the assetId\n     */\n    this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;\n    this._assetMap = {};\n    this._preferredOrder = [];\n    this._parsers = [];\n    this._resolverHash = {};\n    this._bundles = {};\n  }\n  /**\n   * Override how the resolver deals with generating bundle ids.\n   * must be called before any bundles are added\n   * @param bundleIdentifier - the bundle identifier options\n   */\n  setBundleIdentifier(bundleIdentifier) {\n    this._bundleIdConnector = bundleIdentifier.connector ?? this._bundleIdConnector;\n    this._createBundleAssetId = bundleIdentifier.createBundleAssetId ?? this._createBundleAssetId;\n    this._extractAssetIdFromBundle = bundleIdentifier.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle;\n    if (this._extractAssetIdFromBundle(\"foo\", this._createBundleAssetId(\"foo\", \"bar\")) !== \"bar\") {\n      throw new Error(\"[Resolver] GenerateBundleAssetId are not working correctly\");\n    }\n  }\n  /**\n   * Let the resolver know which assets you prefer to use when resolving assets.\n   * Multiple prefer user defined rules can be added.\n   * @example\n   * resolver.prefer({\n   *     // first look for something with the correct format, and then then correct resolution\n   *     priority: ['format', 'resolution'],\n   *     params:{\n   *         format:'webp', // prefer webp images\n   *         resolution: 2, // prefer a resolution of 2\n   *     }\n   * })\n   * resolver.add('foo', ['bar@2x.webp', 'bar@2x.png', 'bar.webp', 'bar.png']);\n   * resolver.resolveUrl('foo') // => 'bar@2x.webp'\n   * @param preferOrders - the prefer options\n   */\n  prefer(...preferOrders) {\n    preferOrders.forEach((prefer) => {\n      this._preferredOrder.push(prefer);\n      if (!prefer.priority) {\n        prefer.priority = Object.keys(prefer.params);\n      }\n    });\n    this._resolverHash = {};\n  }\n  /**\n   * Set the base path to prepend to all urls when resolving\n   * @example\n   * resolver.basePath = 'https://home.com/';\n   * resolver.add('foo', 'bar.ong');\n   * resolver.resolveUrl('foo', 'bar.png'); // => 'https://home.com/bar.png'\n   * @param basePath - the base path to use\n   */\n  set basePath(basePath) {\n    this._basePath = basePath;\n  }\n  get basePath() {\n    return this._basePath;\n  }\n  /**\n   * Set the root path for root-relative URLs. By default the `basePath`'s root is used. If no `basePath` is set, then the\n   * default value for browsers is `window.location.origin`\n   * @example\n   * // Application hosted on https://home.com/some-path/index.html\n   * resolver.basePath = 'https://home.com/some-path/';\n   * resolver.rootPath = 'https://home.com/';\n   * resolver.add('foo', '/bar.png');\n   * resolver.resolveUrl('foo', '/bar.png'); // => 'https://home.com/bar.png'\n   * @param rootPath - the root path to use\n   */\n  set rootPath(rootPath) {\n    this._rootPath = rootPath;\n  }\n  get rootPath() {\n    return this._rootPath;\n  }\n  /**\n   * All the active URL parsers that help the parser to extract information and create\n   * an asset object-based on parsing the URL itself.\n   *\n   * Can be added using the extensions API\n   * @example\n   * resolver.add('foo', [\n   *     {\n   *         resolution: 2,\n   *         format: 'png',\n   *         src: 'image@2x.png',\n   *     },\n   *     {\n   *         resolution:1,\n   *         format:'png',\n   *         src: 'image.png',\n   *     },\n   * ]);\n   *\n   * // With a url parser the information such as resolution and file format could extracted from the url itself:\n   * extensions.add({\n   *     extension: ExtensionType.ResolveParser,\n   *     test: loadTextures.test, // test if url ends in an image\n   *     parse: (value: string) =>\n   *     ({\n   *         resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? '1'),\n   *         format: value.split('.').pop(),\n   *         src: value,\n   *     }),\n   * });\n   *\n   * // Now resolution and format can be extracted from the url\n   * resolver.add('foo', [\n   *     'image@2x.png',\n   *     'image.png',\n   * ]);\n   */\n  get parsers() {\n    return this._parsers;\n  }\n  /** Used for testing, this resets the resolver to its initial state */\n  reset() {\n    this.setBundleIdentifier(this._defaultBundleIdentifierOptions);\n    this._assetMap = {};\n    this._preferredOrder = [];\n    this._resolverHash = {};\n    this._rootPath = null;\n    this._basePath = null;\n    this._manifest = null;\n    this._bundles = {};\n    this._defaultSearchParams = null;\n  }\n  /**\n   * Sets the default URL search parameters for the URL resolver. The urls can be specified as a string or an object.\n   * @param searchParams - the default url parameters to append when resolving urls\n   */\n  setDefaultSearchParams(searchParams) {\n    if (typeof searchParams === \"string\") {\n      this._defaultSearchParams = searchParams;\n    } else {\n      const queryValues = searchParams;\n      this._defaultSearchParams = Object.keys(queryValues).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(queryValues[key])}`).join(\"&\");\n    }\n  }\n  /**\n   * Returns the aliases for a given asset\n   * @param asset - the asset to get the aliases for\n   */\n  getAlias(asset) {\n    const { alias, src } = asset;\n    const aliasesToUse = convertToList(\n      alias || src,\n      (value) => {\n        if (typeof value === \"string\")\n          return value;\n        if (Array.isArray(value))\n          return value.map((v) => v?.src ?? v);\n        if (value?.src)\n          return value.src;\n        return value;\n      },\n      true\n    );\n    return aliasesToUse;\n  }\n  /**\n   * Add a manifest to the asset resolver. This is a nice way to add all the asset information in one go.\n   * generally a manifest would be built using a tool.\n   * @param manifest - the manifest to add to the resolver\n   */\n  addManifest(manifest) {\n    if (this._manifest) {\n      warn(\"[Resolver] Manifest already exists, this will be overwritten\");\n    }\n    this._manifest = manifest;\n    manifest.bundles.forEach((bundle) => {\n      this.addBundle(bundle.name, bundle.assets);\n    });\n  }\n  /**\n   * This adds a bundle of assets in one go so that you can resolve them as a group.\n   * For example you could add a bundle for each screen in you pixi app\n   * @example\n   * resolver.addBundle('animals', [\n   *  { alias: 'bunny', src: 'bunny.png' },\n   *  { alias: 'chicken', src: 'chicken.png' },\n   *  { alias: 'thumper', src: 'thumper.png' },\n   * ]);\n   * // or\n   * resolver.addBundle('animals', {\n   *     bunny: 'bunny.png',\n   *     chicken: 'chicken.png',\n   *     thumper: 'thumper.png',\n   * });\n   *\n   * const resolvedAssets = await resolver.resolveBundle('animals');\n   * @param bundleId - The id of the bundle to add\n   * @param assets - A record of the asset or assets that will be chosen from when loading via the specified key\n   */\n  addBundle(bundleId, assets) {\n    const assetNames = [];\n    let convertedAssets = assets;\n    if (!Array.isArray(assets)) {\n      convertedAssets = Object.entries(assets).map(([alias, src]) => {\n        if (typeof src === \"string\" || Array.isArray(src)) {\n          return { alias, src };\n        }\n        return { alias, ...src };\n      });\n    }\n    convertedAssets.forEach((asset) => {\n      const srcs = asset.src;\n      const aliases = asset.alias;\n      let ids;\n      if (typeof aliases === \"string\") {\n        const bundleAssetId = this._createBundleAssetId(bundleId, aliases);\n        assetNames.push(bundleAssetId);\n        ids = [aliases, bundleAssetId];\n      } else {\n        const bundleIds = aliases.map((name) => this._createBundleAssetId(bundleId, name));\n        assetNames.push(...bundleIds);\n        ids = [...aliases, ...bundleIds];\n      }\n      this.add({\n        ...asset,\n        ...{\n          alias: ids,\n          src: srcs\n        }\n      });\n    });\n    this._bundles[bundleId] = assetNames;\n  }\n  /**\n   * Tells the resolver what keys are associated with witch asset.\n   * The most important thing the resolver does\n   * @example\n   * // Single key, single asset:\n   * resolver.add({alias: 'foo', src: 'bar.png');\n   * resolver.resolveUrl('foo') // => 'bar.png'\n   *\n   * // Multiple keys, single asset:\n   * resolver.add({alias: ['foo', 'boo'], src: 'bar.png'});\n   * resolver.resolveUrl('foo') // => 'bar.png'\n   * resolver.resolveUrl('boo') // => 'bar.png'\n   *\n   * // Multiple keys, multiple assets:\n   * resolver.add({alias: ['foo', 'boo'], src: ['bar.png', 'bar.webp']});\n   * resolver.resolveUrl('foo') // => 'bar.png'\n   *\n   * // Add custom data attached to the resolver\n   * Resolver.add({\n   *     alias: 'bunnyBooBooSmooth',\n   *     src: 'bunny{png,webp}',\n   *     data: { scaleMode:SCALE_MODES.NEAREST }, // Base texture options\n   * });\n   *\n   * resolver.resolve('bunnyBooBooSmooth') // => { src: 'bunny.png', data: { scaleMode: SCALE_MODES.NEAREST } }\n   * @param aliases - the UnresolvedAsset or array of UnresolvedAssets to add to the resolver\n   */\n  add(aliases) {\n    const assets = [];\n    if (Array.isArray(aliases)) {\n      assets.push(...aliases);\n    } else {\n      assets.push(aliases);\n    }\n    let keyCheck;\n    keyCheck = (key) => {\n      if (this.hasKey(key)) {\n        warn(`[Resolver] already has key: ${key} overwriting`);\n      }\n    };\n    const assetArray = convertToList(assets);\n    assetArray.forEach((asset) => {\n      const { src } = asset;\n      let { data, format, loadParser: userDefinedLoadParser, parser: userDefinedParser } = asset;\n      const srcsToUse = convertToList(src).map((src2) => {\n        if (typeof src2 === \"string\") {\n          return createStringVariations(src2);\n        }\n        return Array.isArray(src2) ? src2 : [src2];\n      });\n      const aliasesToUse = this.getAlias(asset);\n      Array.isArray(aliasesToUse) ? aliasesToUse.forEach(keyCheck) : keyCheck(aliasesToUse);\n      const resolvedAssets = [];\n      srcsToUse.forEach((srcs) => {\n        srcs.forEach((src2) => {\n          let formattedAsset = {};\n          if (typeof src2 !== \"object\") {\n            formattedAsset.src = src2;\n            for (let i = 0; i < this._parsers.length; i++) {\n              const parser = this._parsers[i];\n              if (parser.test(src2)) {\n                formattedAsset = parser.parse(src2);\n                break;\n              }\n            }\n          } else {\n            data = src2.data ?? data;\n            format = src2.format ?? format;\n            if (src2.loadParser || src2.parser) {\n              userDefinedLoadParser = src2.loadParser ?? userDefinedLoadParser;\n              userDefinedParser = src2.parser ?? userDefinedParser;\n            }\n            formattedAsset = {\n              ...formattedAsset,\n              ...src2\n            };\n          }\n          if (!aliasesToUse) {\n            throw new Error(`[Resolver] alias is undefined for this asset: ${formattedAsset.src}`);\n          }\n          formattedAsset = this._buildResolvedAsset(formattedAsset, {\n            aliases: aliasesToUse,\n            data,\n            format,\n            loadParser: userDefinedLoadParser,\n            parser: userDefinedParser\n          });\n          resolvedAssets.push(formattedAsset);\n        });\n      });\n      aliasesToUse.forEach((alias) => {\n        this._assetMap[alias] = resolvedAssets;\n      });\n    });\n  }\n  // TODO: this needs an overload like load did in Assets\n  /**\n   * If the resolver has had a manifest set via setManifest, this will return the assets urls for\n   * a given bundleId or bundleIds.\n   * @example\n   * // Manifest Example\n   * const manifest = {\n   *     bundles: [\n   *         {\n   *             name: 'load-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'sunset.png',\n   *                 },\n   *                 {\n   *                     alias: 'bar',\n   *                     src: 'load-bar.{png,webp}',\n   *                 },\n   *             ],\n   *         },\n   *         {\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'character',\n   *                     src: 'robot.png',\n   *                 },\n   *                 {\n   *                     alias: 'enemy',\n   *                     src: 'bad-guy.png',\n   *                 },\n   *             ],\n   *         },\n   *     ]\n   * };\n   *\n   * resolver.setManifest(manifest);\n   * const resolved = resolver.resolveBundle('load-screen');\n   * @param bundleIds - The bundle ids to resolve\n   * @returns All the bundles assets or a hash of assets for each bundle specified\n   */\n  resolveBundle(bundleIds) {\n    const singleAsset = isSingleItem(bundleIds);\n    bundleIds = convertToList(bundleIds);\n    const out = {};\n    bundleIds.forEach((bundleId) => {\n      const assetNames = this._bundles[bundleId];\n      if (assetNames) {\n        const results = this.resolve(assetNames);\n        const assets = {};\n        for (const key in results) {\n          const asset = results[key];\n          assets[this._extractAssetIdFromBundle(bundleId, key)] = asset;\n        }\n        out[bundleId] = assets;\n      }\n    });\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  /**\n   * Does exactly what resolve does, but returns just the URL rather than the whole asset object\n   * @param key - The key or keys to resolve\n   * @returns - The URLs associated with the key(s)\n   */\n  resolveUrl(key) {\n    const result = this.resolve(key);\n    if (typeof key !== \"string\") {\n      const out = {};\n      for (const i in result) {\n        out[i] = result[i].src;\n      }\n      return out;\n    }\n    return result.src;\n  }\n  resolve(keys) {\n    const singleAsset = isSingleItem(keys);\n    keys = convertToList(keys);\n    const result = {};\n    keys.forEach((key) => {\n      if (!this._resolverHash[key]) {\n        if (this._assetMap[key]) {\n          let assets = this._assetMap[key];\n          const preferredOrder = this._getPreferredOrder(assets);\n          preferredOrder?.priority.forEach((priorityKey) => {\n            preferredOrder.params[priorityKey].forEach((value) => {\n              const filteredAssets = assets.filter((asset) => {\n                if (asset[priorityKey]) {\n                  return asset[priorityKey] === value;\n                }\n                return false;\n              });\n              if (filteredAssets.length) {\n                assets = filteredAssets;\n              }\n            });\n          });\n          this._resolverHash[key] = assets[0];\n        } else {\n          this._resolverHash[key] = this._buildResolvedAsset({\n            alias: [key],\n            src: key\n          }, {});\n        }\n      }\n      result[key] = this._resolverHash[key];\n    });\n    return singleAsset ? result[keys[0]] : result;\n  }\n  /**\n   * Checks if an asset with a given key exists in the resolver\n   * @param key - The key of the asset\n   */\n  hasKey(key) {\n    return !!this._assetMap[key];\n  }\n  /**\n   * Checks if a bundle with the given key exists in the resolver\n   * @param key - The key of the bundle\n   */\n  hasBundle(key) {\n    return !!this._bundles[key];\n  }\n  /**\n   * Internal function for figuring out what prefer criteria an asset should use.\n   * @param assets\n   */\n  _getPreferredOrder(assets) {\n    for (let i = 0; i < assets.length; i++) {\n      const asset = assets[i];\n      const preferred = this._preferredOrder.find((preference) => preference.params.format.includes(asset.format));\n      if (preferred) {\n        return preferred;\n      }\n    }\n    return this._preferredOrder[0];\n  }\n  /**\n   * Appends the default url parameters to the url\n   * @param url - The url to append the default parameters to\n   * @returns - The url with the default parameters appended\n   */\n  _appendDefaultSearchParams(url) {\n    if (!this._defaultSearchParams)\n      return url;\n    const paramConnector = /\\?/.test(url) ? \"&\" : \"?\";\n    return `${url}${paramConnector}${this._defaultSearchParams}`;\n  }\n  _buildResolvedAsset(formattedAsset, data) {\n    const { aliases, data: assetData, loadParser, parser, format } = data;\n    if (this._basePath || this._rootPath) {\n      formattedAsset.src = path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);\n    }\n    formattedAsset.alias = aliases ?? formattedAsset.alias ?? [formattedAsset.src];\n    formattedAsset.src = this._appendDefaultSearchParams(formattedAsset.src);\n    formattedAsset.data = { ...assetData || {}, ...formattedAsset.data };\n    formattedAsset.loadParser = loadParser ?? formattedAsset.loadParser;\n    formattedAsset.parser = parser ?? formattedAsset.parser;\n    formattedAsset.format = format ?? formattedAsset.format ?? getUrlExtension(formattedAsset.src);\n    return formattedAsset;\n  }\n}\n/**\n * The prefix that denotes a URL is for a retina asset.\n * @default /@([0-9\\.]+)x/\n * @example `@2x`\n */\nResolver.RETINA_PREFIX = /@([0-9\\.]+)x/;\nfunction getUrlExtension(url) {\n  return url.split(\".\").pop().split(\"?\").shift().split(\"#\").shift();\n}\n\nexport { Resolver, getUrlExtension };\n//# sourceMappingURL=Resolver.mjs.map\n","\"use strict\";\nconst copySearchParams = (targetUrl, sourceUrl) => {\n  const searchParams = sourceUrl.split(\"?\")[1];\n  if (searchParams) {\n    targetUrl += `?${searchParams}`;\n  }\n  return targetUrl;\n};\n\nexport { copySearchParams };\n//# sourceMappingURL=copySearchParams.mjs.map\n","import { Rectangle } from '../maths/shapes/Rectangle.mjs';\nimport { TextureSource } from '../rendering/renderers/shared/texture/sources/TextureSource.mjs';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture.mjs';\n\n\"use strict\";\nconst _Spritesheet = class _Spritesheet {\n  constructor(optionsOrTexture, arg1) {\n    /** For multi-packed spritesheets, this contains a reference to all the other spritesheets it depends on. */\n    this.linkedSheets = [];\n    let options = optionsOrTexture;\n    if (optionsOrTexture?.source instanceof TextureSource) {\n      options = {\n        texture: optionsOrTexture,\n        data: arg1\n      };\n    }\n    const { texture, data, cachePrefix = \"\" } = options;\n    this.cachePrefix = cachePrefix;\n    this._texture = texture instanceof Texture ? texture : null;\n    this.textureSource = texture.source;\n    this.textures = {};\n    this.animations = {};\n    this.data = data;\n    const metaResolution = parseFloat(data.meta.scale);\n    if (metaResolution) {\n      this.resolution = metaResolution;\n      texture.source.resolution = this.resolution;\n    } else {\n      this.resolution = texture.source._resolution;\n    }\n    this._frames = this.data.frames;\n    this._frameKeys = Object.keys(this._frames);\n    this._batchIndex = 0;\n    this._callback = null;\n  }\n  /**\n   * Parser spritesheet from loaded data. This is done asynchronously\n   * to prevent creating too many Texture within a single process.\n   */\n  parse() {\n    return new Promise((resolve) => {\n      this._callback = resolve;\n      this._batchIndex = 0;\n      if (this._frameKeys.length <= _Spritesheet.BATCH_SIZE) {\n        this._processFrames(0);\n        this._processAnimations();\n        this._parseComplete();\n      } else {\n        this._nextBatch();\n      }\n    });\n  }\n  /**\n   * Process a batch of frames\n   * @param initialFrameIndex - The index of frame to start.\n   */\n  _processFrames(initialFrameIndex) {\n    let frameIndex = initialFrameIndex;\n    const maxFrames = _Spritesheet.BATCH_SIZE;\n    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {\n      const i = this._frameKeys[frameIndex];\n      const data = this._frames[i];\n      const rect = data.frame;\n      if (rect) {\n        let frame = null;\n        let trim = null;\n        const sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;\n        const orig = new Rectangle(\n          0,\n          0,\n          Math.floor(sourceSize.w) / this.resolution,\n          Math.floor(sourceSize.h) / this.resolution\n        );\n        if (data.rotated) {\n          frame = new Rectangle(\n            Math.floor(rect.x) / this.resolution,\n            Math.floor(rect.y) / this.resolution,\n            Math.floor(rect.h) / this.resolution,\n            Math.floor(rect.w) / this.resolution\n          );\n        } else {\n          frame = new Rectangle(\n            Math.floor(rect.x) / this.resolution,\n            Math.floor(rect.y) / this.resolution,\n            Math.floor(rect.w) / this.resolution,\n            Math.floor(rect.h) / this.resolution\n          );\n        }\n        if (data.trimmed !== false && data.spriteSourceSize) {\n          trim = new Rectangle(\n            Math.floor(data.spriteSourceSize.x) / this.resolution,\n            Math.floor(data.spriteSourceSize.y) / this.resolution,\n            Math.floor(rect.w) / this.resolution,\n            Math.floor(rect.h) / this.resolution\n          );\n        }\n        this.textures[i] = new Texture({\n          source: this.textureSource,\n          frame,\n          orig,\n          trim,\n          rotate: data.rotated ? 2 : 0,\n          defaultAnchor: data.anchor,\n          defaultBorders: data.borders,\n          label: i.toString()\n        });\n      }\n      frameIndex++;\n    }\n  }\n  /** Parse animations config. */\n  _processAnimations() {\n    const animations = this.data.animations || {};\n    for (const animName in animations) {\n      this.animations[animName] = [];\n      for (let i = 0; i < animations[animName].length; i++) {\n        const frameName = animations[animName][i];\n        this.animations[animName].push(this.textures[frameName]);\n      }\n    }\n  }\n  /** The parse has completed. */\n  _parseComplete() {\n    const callback = this._callback;\n    this._callback = null;\n    this._batchIndex = 0;\n    callback.call(this, this.textures);\n  }\n  /** Begin the next batch of textures. */\n  _nextBatch() {\n    this._processFrames(this._batchIndex * _Spritesheet.BATCH_SIZE);\n    this._batchIndex++;\n    setTimeout(() => {\n      if (this._batchIndex * _Spritesheet.BATCH_SIZE < this._frameKeys.length) {\n        this._nextBatch();\n      } else {\n        this._processAnimations();\n        this._parseComplete();\n      }\n    }, 0);\n  }\n  /**\n   * Destroy Spritesheet and don't use after this.\n   * @param {boolean} [destroyBase=false] - Whether to destroy the base texture as well\n   */\n  destroy(destroyBase = false) {\n    for (const i in this.textures) {\n      this.textures[i].destroy();\n    }\n    this._frames = null;\n    this._frameKeys = null;\n    this.data = null;\n    this.textures = null;\n    if (destroyBase) {\n      this._texture?.destroy();\n      this.textureSource.destroy();\n    }\n    this._texture = null;\n    this.textureSource = null;\n    this.linkedSheets = [];\n  }\n};\n/**\n * The maximum number of Textures to build per process.\n * @advanced\n */\n_Spritesheet.BATCH_SIZE = 1e3;\nlet Spritesheet = _Spritesheet;\n\nexport { Spritesheet };\n//# sourceMappingURL=Spritesheet.mjs.map\n","import { LoaderParserPriority } from '../assets/loader/parsers/LoaderParser.mjs';\nimport { Resolver } from '../assets/resolver/Resolver.mjs';\nimport { copySearchParams } from '../assets/utils/copySearchParams.mjs';\nimport { ExtensionType } from '../extensions/Extensions.mjs';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture.mjs';\nimport { path } from '../utils/path.mjs';\nimport { Spritesheet } from './Spritesheet.mjs';\n\n\"use strict\";\nconst validImages = [\n  \"jpg\",\n  \"png\",\n  \"jpeg\",\n  \"avif\",\n  \"webp\",\n  \"basis\",\n  \"etc2\",\n  \"bc7\",\n  \"bc6h\",\n  \"bc5\",\n  \"bc4\",\n  \"bc3\",\n  \"bc2\",\n  \"bc1\",\n  \"eac\",\n  \"astc\"\n];\nfunction getCacheableAssets(keys, asset, ignoreMultiPack) {\n  const out = {};\n  keys.forEach((key) => {\n    out[key] = asset;\n  });\n  Object.keys(asset.textures).forEach((key) => {\n    out[`${asset.cachePrefix}${key}`] = asset.textures[key];\n  });\n  if (!ignoreMultiPack) {\n    const basePath = path.dirname(keys[0]);\n    asset.linkedSheets.forEach((item, i) => {\n      const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i]}`], item, true);\n      Object.assign(out, out2);\n    });\n  }\n  return out;\n}\nconst spritesheetAsset = {\n  extension: ExtensionType.Asset,\n  /** Handle the caching of the related Spritesheet Textures */\n  cache: {\n    test: (asset) => asset instanceof Spritesheet,\n    getCacheableAssets: (keys, asset) => getCacheableAssets(keys, asset, false)\n  },\n  /** Resolve the resolution of the asset. */\n  resolver: {\n    extension: {\n      type: ExtensionType.ResolveParser,\n      name: \"resolveSpritesheet\"\n    },\n    test: (value) => {\n      const tempURL = value.split(\"?\")[0];\n      const split = tempURL.split(\".\");\n      const extension = split.pop();\n      const format = split.pop();\n      return extension === \"json\" && validImages.includes(format);\n    },\n    parse: (value) => {\n      const split = value.split(\".\");\n      return {\n        resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n        format: split[split.length - 2],\n        src: value\n      };\n    }\n  },\n  /**\n   * Loader plugin that parses sprite sheets!\n   * once the JSON has been loaded this checks to see if the JSON is spritesheet data.\n   * If it is, we load the spritesheets image and parse the data into Spritesheet\n   * All textures in the sprite sheet are then added to the cache\n   */\n  loader: {\n    /** used for deprecation purposes */\n    name: \"spritesheetLoader\",\n    id: \"spritesheet\",\n    extension: {\n      type: ExtensionType.LoadParser,\n      priority: LoaderParserPriority.Normal,\n      name: \"spritesheetLoader\"\n    },\n    async testParse(asset, options) {\n      return path.extname(options.src).toLowerCase() === \".json\" && !!asset.frames;\n    },\n    async parse(asset, options, loader) {\n      const {\n        texture: imageTexture,\n        // if user need to use preloaded texture\n        imageFilename,\n        // if user need to use custom filename (not from jsonFile.meta.image)\n        textureOptions,\n        // if user need to set texture options on texture\n        cachePrefix\n        // if user need to use custom cache prefix\n      } = options?.data ?? {};\n      let basePath = path.dirname(options.src);\n      if (basePath && basePath.lastIndexOf(\"/\") !== basePath.length - 1) {\n        basePath += \"/\";\n      }\n      let texture;\n      if (imageTexture instanceof Texture) {\n        texture = imageTexture;\n      } else {\n        const imagePath = copySearchParams(basePath + (imageFilename ?? asset.meta.image), options.src);\n        const assets = await loader.load([{ src: imagePath, data: textureOptions }]);\n        texture = assets[imagePath];\n      }\n      const spritesheet = new Spritesheet({\n        texture: texture.source,\n        data: asset,\n        cachePrefix\n      });\n      await spritesheet.parse();\n      const multiPacks = asset?.meta?.related_multi_packs;\n      if (Array.isArray(multiPacks)) {\n        const promises = [];\n        for (const item of multiPacks) {\n          if (typeof item !== \"string\") {\n            continue;\n          }\n          let itemUrl = basePath + item;\n          if (options.data?.ignoreMultiPack) {\n            continue;\n          }\n          itemUrl = copySearchParams(itemUrl, options.src);\n          promises.push(loader.load({\n            src: itemUrl,\n            data: {\n              textureOptions,\n              ignoreMultiPack: true\n            }\n          }));\n        }\n        const res = await Promise.all(promises);\n        spritesheet.linkedSheets = res;\n        res.forEach((item) => {\n          item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => sp !== item));\n        });\n      }\n      return spritesheet;\n    },\n    async unload(spritesheet, _resolvedAsset, loader) {\n      await loader.unload(spritesheet.textureSource._sourceOrigin);\n      spritesheet.destroy(false);\n    }\n  }\n};\n\nexport { spritesheetAsset };\n//# sourceMappingURL=spritesheetAsset.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { spritesheetAsset } from './spritesheetAsset.mjs';\n\n\"use strict\";\nextensions.add(spritesheetAsset);\n//# sourceMappingURL=init.mjs.map\n","import { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nclass CanvasObserver {\n  constructor(options) {\n    /** A cached value of the last transform applied to the DOM element. */\n    this._lastTransform = \"\";\n    /** A ResizeObserver instance to observe changes in the canvas size. */\n    this._observer = null;\n    /** A flag to indicate whether the observer is attached to the Ticker for continuous updates. */\n    this._tickerAttached = false;\n    /**\n     * Updates the transform of the DOM element based on the canvas size and position.\n     * This method calculates the scale and translation needed to keep the DOM element in sync with the canvas.\n     */\n    this.updateTranslation = () => {\n      if (!this._canvas)\n        return;\n      const rect = this._canvas.getBoundingClientRect();\n      const contentWidth = this._canvas.width;\n      const contentHeight = this._canvas.height;\n      const sx = rect.width / contentWidth * this._renderer.resolution;\n      const sy = rect.height / contentHeight * this._renderer.resolution;\n      const tx = rect.left;\n      const ty = rect.top;\n      const newTransform = `translate(${tx}px, ${ty}px) scale(${sx}, ${sy})`;\n      if (newTransform !== this._lastTransform) {\n        this._domElement.style.transform = newTransform;\n        this._lastTransform = newTransform;\n      }\n    };\n    this._domElement = options.domElement;\n    this._renderer = options.renderer;\n    if (globalThis.OffscreenCanvas && this._renderer.canvas instanceof OffscreenCanvas)\n      return;\n    this._canvas = this._renderer.canvas;\n    this._attachObserver();\n  }\n  /** The canvas element that this CanvasObserver is associated with. */\n  get canvas() {\n    return this._canvas;\n  }\n  /** Attaches the DOM element to the canvas parent if it is not already attached. */\n  ensureAttached() {\n    if (!this._domElement.parentNode && this._canvas.parentNode) {\n      this._canvas.parentNode.appendChild(this._domElement);\n      this.updateTranslation();\n    }\n  }\n  /** Sets up a ResizeObserver if available. This ensures that the DOM element is kept in sync with the canvas size . */\n  _attachObserver() {\n    if (\"ResizeObserver\" in globalThis) {\n      if (this._observer) {\n        this._observer.disconnect();\n        this._observer = null;\n      }\n      this._observer = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          if (entry.target !== this._canvas) {\n            continue;\n          }\n          const contentWidth = this.canvas.width;\n          const contentHeight = this.canvas.height;\n          const sx = entry.contentRect.width / contentWidth * this._renderer.resolution;\n          const sy = entry.contentRect.height / contentHeight * this._renderer.resolution;\n          const needsUpdate = this._lastScaleX !== sx || this._lastScaleY !== sy;\n          if (needsUpdate) {\n            this.updateTranslation();\n            this._lastScaleX = sx;\n            this._lastScaleY = sy;\n          }\n        }\n      });\n      this._observer.observe(this._canvas);\n    } else if (!this._tickerAttached) {\n      Ticker.shared.add(this.updateTranslation, this, UPDATE_PRIORITY.HIGH);\n    }\n  }\n  /** Destroys the CanvasObserver instance, cleaning up observers and Ticker. */\n  destroy() {\n    if (this._observer) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this._tickerAttached) {\n      Ticker.shared.remove(this.updateTranslation);\n    }\n    this._domElement = null;\n    this._renderer = null;\n    this._canvas = null;\n    this._tickerAttached = false;\n    this._lastTransform = \"\";\n    this._lastScaleX = null;\n    this._lastScaleY = null;\n  }\n}\n\nexport { CanvasObserver };\n//# sourceMappingURL=CanvasObserver.mjs.map\n","import { Point } from '../maths/point/Point.mjs';\n\n\"use strict\";\nclass FederatedEvent {\n  /**\n   * @param manager - The event boundary which manages this event. Propagation can only occur\n   *  within the boundary's jurisdiction.\n   */\n  constructor(manager) {\n    /** Flags whether this event bubbles. This will take effect only if it is set before propagation. */\n    this.bubbles = true;\n    /** @deprecated since 7.0.0 */\n    this.cancelBubble = true;\n    /**\n     * Flags whether this event can be canceled using {@link FederatedEvent.preventDefault}. This is always\n     * false (for now).\n     */\n    this.cancelable = false;\n    /**\n     * Flag added for compatibility with DOM `Event`. It is not used in the Federated Events\n     * API.\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     * @ignore\n     */\n    this.composed = false;\n    /** Flags whether the default response of the user agent was prevent through this event. */\n    this.defaultPrevented = false;\n    /**\n     * The propagation phase.\n     * @default {@link FederatedEvent.NONE}\n     */\n    this.eventPhase = FederatedEvent.prototype.NONE;\n    /** Flags whether propagation was stopped. */\n    this.propagationStopped = false;\n    /** Flags whether propagation was immediately stopped. */\n    this.propagationImmediatelyStopped = false;\n    /** The coordinates of the event relative to the nearest DOM layer. This is a non-standard property. */\n    this.layer = new Point();\n    /** The coordinates of the event relative to the DOM document. This is a non-standard property. */\n    this.page = new Point();\n    /**\n     * The event propagation phase NONE that indicates that the event is not in any phase.\n     * @default 0\n     * @advanced\n     */\n    this.NONE = 0;\n    /**\n     * The event propagation phase CAPTURING_PHASE that indicates that the event is in the capturing phase.\n     * @default 1\n     * @advanced\n     */\n    this.CAPTURING_PHASE = 1;\n    /**\n     * The event propagation phase AT_TARGET that indicates that the event is at the target.\n     * @default 2\n     * @advanced\n     */\n    this.AT_TARGET = 2;\n    /**\n     * The event propagation phase BUBBLING_PHASE that indicates that the event is in the bubbling phase.\n     * @default 3\n     * @advanced\n     */\n    this.BUBBLING_PHASE = 3;\n    this.manager = manager;\n  }\n  /** @readonly */\n  get layerX() {\n    return this.layer.x;\n  }\n  /** @readonly */\n  get layerY() {\n    return this.layer.y;\n  }\n  /** @readonly */\n  get pageX() {\n    return this.page.x;\n  }\n  /** @readonly */\n  get pageY() {\n    return this.page.y;\n  }\n  /**\n   * Fallback for the deprecated `InteractionEvent.data`.\n   * @deprecated since 7.0.0\n   */\n  get data() {\n    return this;\n  }\n  /**\n   * The propagation path for this event. Alias for {@link EventBoundary.propagationPath}.\n   * @advanced\n   */\n  composedPath() {\n    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {\n      this.path = this.target ? this.manager.propagationPath(this.target) : [];\n    }\n    return this.path;\n  }\n  /**\n   * Unimplemented method included for implementing the DOM interface `Event`. It will throw an `Error`.\n   * @deprecated\n   * @ignore\n   * @param _type\n   * @param _bubbles\n   * @param _cancelable\n   */\n  initEvent(_type, _bubbles, _cancelable) {\n    throw new Error(\"initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  /**\n   * Unimplemented method included for implementing the DOM interface `UIEvent`. It will throw an `Error`.\n   * @ignore\n   * @deprecated\n   * @param _typeArg\n   * @param _bubblesArg\n   * @param _cancelableArg\n   * @param _viewArg\n   * @param _detailArg\n   */\n  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {\n    throw new Error(\"initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  /**\n   * Prevent default behavior of both PixiJS and the user agent.\n   * @example\n   * ```ts\n   * sprite.on('click', (event) => {\n   *     // Prevent both browser's default click behavior\n   *     // and PixiJS's default handling\n   *     event.preventDefault();\n   *\n   *     // Custom handling\n   *     customClickHandler();\n   * });\n   * ```\n   * @remarks\n   * - Only works if the native event is cancelable\n   * - Does not stop event propagation\n   */\n  preventDefault() {\n    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {\n      this.nativeEvent.preventDefault();\n    }\n    this.defaultPrevented = true;\n  }\n  /**\n   * Stop this event from propagating to any additional listeners, including those\n   * on the current target and any following targets in the propagation path.\n   * @example\n   * ```ts\n   * container.on('pointerdown', (event) => {\n   *     // Stop all further event handling\n   *     event.stopImmediatePropagation();\n   *\n   *     // These handlers won't be called:\n   *     // - Other pointerdown listeners on this container\n   *     // - Any pointerdown listeners on parent containers\n   * });\n   * ```\n   * @remarks\n   * - Immediately stops all event propagation\n   * - Prevents other listeners on same target from being called\n   * - More aggressive than stopPropagation()\n   */\n  stopImmediatePropagation() {\n    this.propagationImmediatelyStopped = true;\n  }\n  /**\n   * Stop this event from propagating to the next target in the propagation path.\n   * The rest of the listeners on the current target will still be notified.\n   * @example\n   * ```ts\n   * child.on('pointermove', (event) => {\n   *     // Handle event on child\n   *     updateChild();\n   *\n   *     // Prevent parent handlers from being called\n   *     event.stopPropagation();\n   * });\n   *\n   * // This won't be called if child handles the event\n   * parent.on('pointermove', (event) => {\n   *     updateParent();\n   * });\n   * ```\n   * @remarks\n   * - Stops event bubbling to parent containers\n   * - Does not prevent other listeners on same target\n   * - Less aggressive than stopImmediatePropagation()\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\nexport { FederatedEvent };\n//# sourceMappingURL=FederatedEvent.mjs.map\n","var appleIphone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar appleUniversal = /\\biOS-universal(?:.+)Mac\\b/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i;\nvar androidTablet = /Android/i;\nvar amazonPhone = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i;\nvar amazonTablet = /Silk/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i;\nvar otherBlackBerry = /BlackBerry/i;\nvar otherBlackBerry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i;\nvar isAppleTabletOnIos13 = function (navigator) {\n    return (typeof navigator !== 'undefined' &&\n        navigator.platform === 'MacIntel' &&\n        typeof navigator.maxTouchPoints === 'number' &&\n        navigator.maxTouchPoints > 1 &&\n        typeof MSStream === 'undefined');\n};\nfunction createMatch(userAgent) {\n    return function (regex) { return regex.test(userAgent); };\n}\nexport default function isMobile(param) {\n    var nav = {\n        userAgent: '',\n        platform: '',\n        maxTouchPoints: 0\n    };\n    if (!param && typeof navigator !== 'undefined') {\n        nav = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            maxTouchPoints: navigator.maxTouchPoints || 0\n        };\n    }\n    else if (typeof param === 'string') {\n        nav.userAgent = param;\n    }\n    else if (param && param.userAgent) {\n        nav = {\n            userAgent: param.userAgent,\n            platform: param.platform,\n            maxTouchPoints: param.maxTouchPoints || 0\n        };\n    }\n    var userAgent = nav.userAgent;\n    var tmp = userAgent.split('[FBAN');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    tmp = userAgent.split('Twitter');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    var match = createMatch(userAgent);\n    var result = {\n        apple: {\n            phone: match(appleIphone) && !match(windowsPhone),\n            ipod: match(appleIpod),\n            tablet: !match(appleIphone) &&\n                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone),\n            universal: match(appleUniversal),\n            device: (match(appleIphone) ||\n                match(appleIpod) ||\n                match(appleTablet) ||\n                match(appleUniversal) ||\n                isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone)\n        },\n        amazon: {\n            phone: match(amazonPhone),\n            tablet: !match(amazonPhone) && match(amazonTablet),\n            device: match(amazonPhone) || match(amazonTablet)\n        },\n        android: {\n            phone: (!match(windowsPhone) && match(amazonPhone)) ||\n                (!match(windowsPhone) && match(androidPhone)),\n            tablet: !match(windowsPhone) &&\n                !match(amazonPhone) &&\n                !match(androidPhone) &&\n                (match(amazonTablet) || match(androidTablet)),\n            device: (!match(windowsPhone) &&\n                (match(amazonPhone) ||\n                    match(amazonTablet) ||\n                    match(androidPhone) ||\n                    match(androidTablet))) ||\n                match(/\\bokhttp\\b/i)\n        },\n        windows: {\n            phone: match(windowsPhone),\n            tablet: match(windowsTablet),\n            device: match(windowsPhone) || match(windowsTablet)\n        },\n        other: {\n            blackberry: match(otherBlackBerry),\n            blackberry10: match(otherBlackBerry10),\n            opera: match(otherOpera),\n            firefox: match(otherFirefox),\n            chrome: match(otherChrome),\n            device: match(otherBlackBerry) ||\n                match(otherBlackBerry10) ||\n                match(otherOpera) ||\n                match(otherFirefox) ||\n                match(otherChrome)\n        },\n        any: false,\n        phone: false,\n        tablet: false\n    };\n    result.any =\n        result.apple.device ||\n            result.android.device ||\n            result.windows.device ||\n            result.other.device;\n    result.phone =\n        result.apple.phone || result.android.phone || result.windows.phone;\n    result.tablet =\n        result.apple.tablet || result.android.tablet || result.windows.tablet;\n    return result;\n}\n//# sourceMappingURL=isMobile.js.map","import isMobileJs from 'ismobilejs';\n\n\"use strict\";\nconst isMobileCall = isMobileJs.default ?? isMobileJs;\nconst isMobile = isMobileCall(globalThis.navigator);\n\nexport { isMobile };\n//# sourceMappingURL=isMobile.mjs.map\n","import { CanvasObserver } from '../dom/CanvasObserver.mjs';\nimport { FederatedEvent } from '../events/FederatedEvent.mjs';\nimport { ExtensionType } from '../extensions/Extensions.mjs';\nimport { isMobile } from '../utils/browser/isMobile.mjs';\nimport { removeItems } from '../utils/data/removeItems.mjs';\n\n\"use strict\";\nconst KEY_CODE_TAB = 9;\nconst DIV_TOUCH_SIZE = 100;\nconst DIV_TOUCH_POS_X = 0;\nconst DIV_TOUCH_POS_Y = 0;\nconst DIV_TOUCH_ZINDEX = 2;\nconst DIV_HOOK_SIZE = 1;\nconst DIV_HOOK_POS_X = -1e3;\nconst DIV_HOOK_POS_Y = -1e3;\nconst DIV_HOOK_ZINDEX = 2;\nconst _AccessibilitySystem = class _AccessibilitySystem {\n  // eslint-disable-next-line jsdoc/require-param\n  /**\n   * @param {WebGLRenderer|WebGPURenderer} renderer - A reference to the current renderer\n   */\n  constructor(renderer, _mobileInfo = isMobile) {\n    this._mobileInfo = _mobileInfo;\n    /** Whether accessibility divs are visible for debugging */\n    this.debug = false;\n    /** Whether to activate on tab key press */\n    this._activateOnTab = true;\n    /** Whether to deactivate accessibility when mouse moves */\n    this._deactivateOnMouseMove = true;\n    /** Internal variable, see isActive getter. */\n    this._isActive = false;\n    /** Internal variable, see isMobileAccessibility getter. */\n    this._isMobileAccessibility = false;\n    /** This is the dom element that will sit over the PixiJS element. This is where the div overlays will go. */\n    this._div = null;\n    /** A simple pool for storing divs. */\n    this._pool = [];\n    /** This is a tick used to check if an object is no longer being rendered. */\n    this._renderId = 0;\n    /** The array of currently active accessible items. */\n    this._children = [];\n    /** Count to throttle div updates on android devices. */\n    this._androidUpdateCount = 0;\n    /**  The frequency to update the div elements. */\n    this._androidUpdateFrequency = 500;\n    this._hookDiv = null;\n    if (_mobileInfo.tablet || _mobileInfo.phone) {\n      this._createTouchHook();\n    }\n    this._renderer = renderer;\n  }\n  /**\n   * Value of `true` if accessibility is currently active and accessibility layers are showing.\n   * @type {boolean}\n   * @readonly\n   */\n  get isActive() {\n    return this._isActive;\n  }\n  /**\n   * Value of `true` if accessibility is enabled for touch devices.\n   * @type {boolean}\n   * @readonly\n   */\n  get isMobileAccessibility() {\n    return this._isMobileAccessibility;\n  }\n  /**\n   * The DOM element that will sit over the PixiJS element. This is where the div overlays will go.\n   * @readonly\n   */\n  get hookDiv() {\n    return this._hookDiv;\n  }\n  /**\n   * Creates the touch hooks.\n   * @private\n   */\n  _createTouchHook() {\n    const hookDiv = document.createElement(\"button\");\n    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.position = \"absolute\";\n    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;\n    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;\n    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();\n    hookDiv.style.backgroundColor = \"#FF0000\";\n    hookDiv.title = \"select to enable accessibility for this content\";\n    hookDiv.addEventListener(\"focus\", () => {\n      this._isMobileAccessibility = true;\n      this._activate();\n      this._destroyTouchHook();\n    });\n    document.body.appendChild(hookDiv);\n    this._hookDiv = hookDiv;\n  }\n  /**\n   * Destroys the touch hooks.\n   * @private\n   */\n  _destroyTouchHook() {\n    if (!this._hookDiv) {\n      return;\n    }\n    document.body.removeChild(this._hookDiv);\n    this._hookDiv = null;\n  }\n  /**\n   * Activating will cause the Accessibility layer to be shown.\n   * This is called when a user presses the tab key.\n   * @private\n   */\n  _activate() {\n    if (this._isActive) {\n      return;\n    }\n    this._isActive = true;\n    if (!this._div) {\n      this._div = document.createElement(\"div\");\n      this._div.style.position = \"absolute\";\n      this._div.style.top = `${DIV_TOUCH_POS_X}px`;\n      this._div.style.left = `${DIV_TOUCH_POS_Y}px`;\n      this._div.style.pointerEvents = \"none\";\n      this._div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n      this._canvasObserver = new CanvasObserver({\n        domElement: this._div,\n        renderer: this._renderer\n      });\n    }\n    if (this._activateOnTab) {\n      this._onKeyDown = this._onKeyDown.bind(this);\n      globalThis.addEventListener(\"keydown\", this._onKeyDown, false);\n    }\n    if (this._deactivateOnMouseMove) {\n      this._onMouseMove = this._onMouseMove.bind(this);\n      globalThis.document.addEventListener(\"mousemove\", this._onMouseMove, true);\n    }\n    const canvas = this._renderer.view.canvas;\n    if (!canvas.parentNode) {\n      const observer = new MutationObserver(() => {\n        if (canvas.parentNode) {\n          observer.disconnect();\n          this._canvasObserver.ensureAttached();\n          this._initAccessibilitySetup();\n        }\n      });\n      observer.observe(document.body, { childList: true, subtree: true });\n    } else {\n      this._canvasObserver.ensureAttached();\n      this._initAccessibilitySetup();\n    }\n  }\n  // New method to handle initialization after div is ready\n  _initAccessibilitySetup() {\n    this._renderer.runners.postrender.add(this);\n    if (this._renderer.lastObjectRendered) {\n      this._updateAccessibleObjects(this._renderer.lastObjectRendered);\n    }\n  }\n  /**\n   * Deactivates the accessibility system. Removes listeners and accessibility elements.\n   * @private\n   */\n  _deactivate() {\n    if (!this._isActive || this._isMobileAccessibility) {\n      return;\n    }\n    this._isActive = false;\n    globalThis.document.removeEventListener(\"mousemove\", this._onMouseMove, true);\n    if (this._activateOnTab) {\n      globalThis.addEventListener(\"keydown\", this._onKeyDown, false);\n    }\n    this._renderer.runners.postrender.remove(this);\n    for (const child of this._children) {\n      if (child._accessibleDiv && child._accessibleDiv.parentNode) {\n        child._accessibleDiv.parentNode.removeChild(child._accessibleDiv);\n        child._accessibleDiv = null;\n      }\n      child._accessibleActive = false;\n    }\n    this._pool.forEach((div) => {\n      if (div.parentNode) {\n        div.parentNode.removeChild(div);\n      }\n    });\n    if (this._div && this._div.parentNode) {\n      this._div.parentNode.removeChild(this._div);\n    }\n    this._pool = [];\n    this._children = [];\n  }\n  /**\n   * This recursive function will run through the scene graph and add any new accessible objects to the DOM layer.\n   * @private\n   * @param {Container} container - The Container to check.\n   */\n  _updateAccessibleObjects(container) {\n    if (!container.visible || !container.accessibleChildren) {\n      return;\n    }\n    if (container.accessible) {\n      if (!container._accessibleActive) {\n        this._addChild(container);\n      }\n      container._renderId = this._renderId;\n    }\n    const children = container.children;\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        this._updateAccessibleObjects(children[i]);\n      }\n    }\n  }\n  /**\n   * Runner init called, view is available at this point.\n   * @ignore\n   */\n  init(options) {\n    const defaultOpts = _AccessibilitySystem.defaultOptions;\n    const mergedOptions = {\n      accessibilityOptions: {\n        ...defaultOpts,\n        ...options?.accessibilityOptions || {}\n      }\n    };\n    this.debug = mergedOptions.accessibilityOptions.debug;\n    this._activateOnTab = mergedOptions.accessibilityOptions.activateOnTab;\n    this._deactivateOnMouseMove = mergedOptions.accessibilityOptions.deactivateOnMouseMove;\n    if (mergedOptions.accessibilityOptions.enabledByDefault) {\n      this._activate();\n    } else if (this._activateOnTab) {\n      this._onKeyDown = this._onKeyDown.bind(this);\n      globalThis.addEventListener(\"keydown\", this._onKeyDown, false);\n    }\n    this._renderer.runners.postrender.remove(this);\n  }\n  /**\n   * Updates the accessibility layer during rendering.\n   * - Removes divs for containers no longer in the scene\n   * - Updates the position and dimensions of the root div\n   * - Updates positions of active accessibility divs\n   * Only fires while the accessibility system is active.\n   * @ignore\n   */\n  postrender() {\n    const now = performance.now();\n    if (this._mobileInfo.android.device && now < this._androidUpdateCount) {\n      return;\n    }\n    this._androidUpdateCount = now + this._androidUpdateFrequency;\n    if (!this._renderer.renderingToScreen || !this._renderer.view.canvas) {\n      return;\n    }\n    const activeIds = /* @__PURE__ */ new Set();\n    if (this._renderer.lastObjectRendered) {\n      this._updateAccessibleObjects(this._renderer.lastObjectRendered);\n      for (const child of this._children) {\n        if (child._renderId === this._renderId) {\n          activeIds.add(this._children.indexOf(child));\n        }\n      }\n    }\n    for (let i = this._children.length - 1; i >= 0; i--) {\n      const child = this._children[i];\n      if (!activeIds.has(i)) {\n        if (child._accessibleDiv && child._accessibleDiv.parentNode) {\n          child._accessibleDiv.parentNode.removeChild(child._accessibleDiv);\n          this._pool.push(child._accessibleDiv);\n          child._accessibleDiv = null;\n        }\n        child._accessibleActive = false;\n        removeItems(this._children, i, 1);\n      }\n    }\n    if (this._renderer.renderingToScreen) {\n      this._canvasObserver.ensureAttached();\n    }\n    for (let i = 0; i < this._children.length; i++) {\n      const child = this._children[i];\n      if (!child._accessibleActive || !child._accessibleDiv) {\n        continue;\n      }\n      const div = child._accessibleDiv;\n      const hitArea = child.hitArea || child.getBounds().rectangle;\n      if (child.hitArea) {\n        const wt = child.worldTransform;\n        div.style.left = `${wt.tx + hitArea.x * wt.a}px`;\n        div.style.top = `${wt.ty + hitArea.y * wt.d}px`;\n        div.style.width = `${hitArea.width * wt.a}px`;\n        div.style.height = `${hitArea.height * wt.d}px`;\n      } else {\n        this._capHitArea(hitArea);\n        div.style.left = `${hitArea.x}px`;\n        div.style.top = `${hitArea.y}px`;\n        div.style.width = `${hitArea.width}px`;\n        div.style.height = `${hitArea.height}px`;\n      }\n    }\n    this._renderId++;\n  }\n  /**\n   * private function that will visually add the information to the\n   * accessibility div\n   * @param {HTMLElement} div -\n   */\n  _updateDebugHTML(div) {\n    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;\n  }\n  /**\n   * Adjust the hit area based on the bounds of a display object\n   * @param {Rectangle} hitArea - Bounds of the child\n   */\n  _capHitArea(hitArea) {\n    if (hitArea.x < 0) {\n      hitArea.width += hitArea.x;\n      hitArea.x = 0;\n    }\n    if (hitArea.y < 0) {\n      hitArea.height += hitArea.y;\n      hitArea.y = 0;\n    }\n    const { width: viewWidth, height: viewHeight } = this._renderer;\n    if (hitArea.x + hitArea.width > viewWidth) {\n      hitArea.width = viewWidth - hitArea.x;\n    }\n    if (hitArea.y + hitArea.height > viewHeight) {\n      hitArea.height = viewHeight - hitArea.y;\n    }\n  }\n  /**\n   * Creates or reuses a div element for a Container and adds it to the accessibility layer.\n   * Sets up ARIA attributes, event listeners, and positioning based on the container's properties.\n   * @private\n   * @param {Container} container - The child to make accessible.\n   */\n  _addChild(container) {\n    let div = this._pool.pop();\n    if (!div) {\n      if (container.accessibleType === \"button\") {\n        div = document.createElement(\"button\");\n      } else {\n        div = document.createElement(container.accessibleType);\n        div.style.cssText = `\n                        color: transparent;\n                        pointer-events: none;\n                        padding: 0;\n                        margin: 0;\n                        border: 0;\n                        outline: 0;\n                        background: transparent;\n                        box-sizing: border-box;\n                        user-select: none;\n                        -webkit-user-select: none;\n                        -moz-user-select: none;\n                        -ms-user-select: none;\n                    `;\n        if (container.accessibleText) {\n          div.innerText = container.accessibleText;\n        }\n      }\n      div.style.width = `${DIV_TOUCH_SIZE}px`;\n      div.style.height = `${DIV_TOUCH_SIZE}px`;\n      div.style.backgroundColor = this.debug ? \"rgba(255,255,255,0.5)\" : \"transparent\";\n      div.style.position = \"absolute\";\n      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n      div.style.borderStyle = \"none\";\n      if (navigator.userAgent.toLowerCase().includes(\"chrome\")) {\n        div.setAttribute(\"aria-live\", \"off\");\n      } else {\n        div.setAttribute(\"aria-live\", \"polite\");\n      }\n      if (navigator.userAgent.match(/rv:.*Gecko\\//)) {\n        div.setAttribute(\"aria-relevant\", \"additions\");\n      } else {\n        div.setAttribute(\"aria-relevant\", \"text\");\n      }\n      div.addEventListener(\"click\", this._onClick.bind(this));\n      div.addEventListener(\"focus\", this._onFocus.bind(this));\n      div.addEventListener(\"focusout\", this._onFocusOut.bind(this));\n    }\n    div.style.pointerEvents = container.accessiblePointerEvents;\n    div.type = container.accessibleType;\n    if (container.accessibleTitle && container.accessibleTitle !== null) {\n      div.title = container.accessibleTitle;\n    } else if (!container.accessibleHint || container.accessibleHint === null) {\n      div.title = `container ${container.tabIndex}`;\n    }\n    if (container.accessibleHint && container.accessibleHint !== null) {\n      div.setAttribute(\"aria-label\", container.accessibleHint);\n    }\n    if (container.interactive) {\n      div.tabIndex = container.tabIndex;\n    } else {\n      div.tabIndex = 0;\n    }\n    if (this.debug) {\n      this._updateDebugHTML(div);\n    }\n    container._accessibleActive = true;\n    container._accessibleDiv = div;\n    div.container = container;\n    this._children.push(container);\n    this._div.appendChild(container._accessibleDiv);\n  }\n  /**\n   * Dispatch events with the EventSystem.\n   * @param e\n   * @param type\n   * @private\n   */\n  _dispatchEvent(e, type) {\n    const { container: target } = e.target;\n    const boundary = this._renderer.events.rootBoundary;\n    const event = Object.assign(new FederatedEvent(boundary), { target });\n    boundary.rootTarget = this._renderer.lastObjectRendered;\n    type.forEach((type2) => boundary.dispatchEvent(event, type2));\n  }\n  /**\n   * Maps the div button press to pixi's EventSystem (click)\n   * @private\n   * @param {MouseEvent} e - The click event.\n   */\n  _onClick(e) {\n    this._dispatchEvent(e, [\"click\", \"pointertap\", \"tap\"]);\n  }\n  /**\n   * Maps the div focus events to pixi's EventSystem (mouseover)\n   * @private\n   * @param {FocusEvent} e - The focus event.\n   */\n  _onFocus(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"assertive\");\n    }\n    this._dispatchEvent(e, [\"mouseover\"]);\n  }\n  /**\n   * Maps the div focus events to pixi's EventSystem (mouseout)\n   * @private\n   * @param {FocusEvent} e - The focusout event.\n   */\n  _onFocusOut(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"polite\");\n    }\n    this._dispatchEvent(e, [\"mouseout\"]);\n  }\n  /**\n   * Is called when a key is pressed\n   * @private\n   * @param {KeyboardEvent} e - The keydown event.\n   */\n  _onKeyDown(e) {\n    if (e.keyCode !== KEY_CODE_TAB || !this._activateOnTab) {\n      return;\n    }\n    this._activate();\n  }\n  /**\n   * Is called when the mouse moves across the renderer element\n   * @private\n   * @param {MouseEvent} e - The mouse event.\n   */\n  _onMouseMove(e) {\n    if (e.movementX === 0 && e.movementY === 0) {\n      return;\n    }\n    this._deactivate();\n  }\n  /**\n   * Destroys the accessibility system. Removes all elements and listeners.\n   * > [!IMPORTANT] This is typically called automatically when the {@link Application} is destroyed.\n   * > A typically user should not need to call this method directly.\n   */\n  destroy() {\n    this._deactivate();\n    this._destroyTouchHook();\n    this._canvasObserver?.destroy();\n    this._canvasObserver = null;\n    this._div = null;\n    this._pool = null;\n    this._children = null;\n    this._renderer = null;\n    if (this._activateOnTab) {\n      globalThis.removeEventListener(\"keydown\", this._onKeyDown);\n    }\n  }\n  /**\n   * Enables or disables the accessibility system.\n   * @param enabled - Whether to enable or disable accessibility.\n   * @example\n   * ```js\n   * app.renderer.accessibility.setAccessibilityEnabled(true); // Enable accessibility\n   * app.renderer.accessibility.setAccessibilityEnabled(false); // Disable accessibility\n   * ```\n   */\n  setAccessibilityEnabled(enabled) {\n    if (enabled) {\n      this._activate();\n    } else {\n      this._deactivate();\n    }\n  }\n};\n/** @ignore */\n_AccessibilitySystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"accessibility\"\n};\n/**\n * The default options used by the system.\n * You can set these before initializing the {@link Application} to change the default behavior.\n * @example\n * ```js\n * import { AccessibilitySystem } from 'pixi.js';\n *\n * AccessibilitySystem.defaultOptions.enabledByDefault = true;\n *\n * const app = new Application()\n * app.init()\n * ```\n */\n_AccessibilitySystem.defaultOptions = {\n  /**\n   * Whether to enable accessibility features on initialization\n   * @default false\n   */\n  enabledByDefault: false,\n  /**\n   * Whether to visually show the accessibility divs for debugging\n   * @default false\n   */\n  debug: false,\n  /**\n   * Whether to activate accessibility when tab key is pressed\n   * @default true\n   */\n  activateOnTab: true,\n  /**\n   * Whether to deactivate accessibility when mouse moves\n   * @default true\n   */\n  deactivateOnMouseMove: true\n};\nlet AccessibilitySystem = _AccessibilitySystem;\n\nexport { AccessibilitySystem };\n//# sourceMappingURL=AccessibilitySystem.mjs.map\n","\"use strict\";\nconst accessibilityTarget = {\n  accessible: false,\n  accessibleTitle: null,\n  accessibleHint: null,\n  tabIndex: 0,\n  accessibleType: \"button\",\n  accessibleText: null,\n  accessiblePointerEvents: \"auto\",\n  accessibleChildren: true,\n  _accessibleActive: false,\n  _accessibleDiv: null,\n  _renderId: -1\n};\n\nexport { accessibilityTarget };\n//# sourceMappingURL=accessibilityTarget.mjs.map\n","\"use strict\";\nconst idCounts = /* @__PURE__ */ Object.create(null);\nconst idHash = /* @__PURE__ */ Object.create(null);\nfunction createIdFromString(value, groupId) {\n  let id = idHash[value];\n  if (id === void 0) {\n    if (idCounts[groupId] === void 0) {\n      idCounts[groupId] = 1;\n    }\n    idHash[value] = id = idCounts[groupId]++;\n  }\n  return id;\n}\n\nexport { createIdFromString };\n//# sourceMappingURL=createIdFromString.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\n\n\"use strict\";\nlet context;\nfunction getTestContext() {\n  if (!context || context?.isContextLost()) {\n    const canvas = DOMAdapter.get().createCanvas();\n    context = canvas.getContext(\"webgl\", {});\n  }\n  return context;\n}\n\nexport { getTestContext };\n//# sourceMappingURL=getTestContext.mjs.map\n","import { getTestContext } from './getTestContext.mjs';\n\n\"use strict\";\nlet maxFragmentPrecision;\nfunction getMaxFragmentPrecision() {\n  if (!maxFragmentPrecision) {\n    maxFragmentPrecision = \"mediump\";\n    const gl = getTestContext();\n    if (gl) {\n      if (gl.getShaderPrecisionFormat) {\n        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n        maxFragmentPrecision = shaderFragment.precision ? \"highp\" : \"mediump\";\n      }\n    }\n  }\n  return maxFragmentPrecision;\n}\n\nexport { getMaxFragmentPrecision };\n//# sourceMappingURL=getMaxFragmentPrecision.mjs.map\n","\"use strict\";\nfunction addProgramDefines(src, isES300, isFragment) {\n  if (isES300)\n    return src;\n  if (isFragment) {\n    src = src.replace(\"out vec4 finalColor;\", \"\");\n    return `\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${src}\n        `;\n  }\n  return `\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${src}\n        `;\n}\n\nexport { addProgramDefines };\n//# sourceMappingURL=addProgramDefines.mjs.map\n","\"use strict\";\nfunction ensurePrecision(src, options, isFragment) {\n  const maxSupportedPrecision = isFragment ? options.maxSupportedFragmentPrecision : options.maxSupportedVertexPrecision;\n  if (src.substring(0, 9) !== \"precision\") {\n    let precision = isFragment ? options.requestedFragmentPrecision : options.requestedVertexPrecision;\n    if (precision === \"highp\" && maxSupportedPrecision !== \"highp\") {\n      precision = \"mediump\";\n    }\n    return `precision ${precision} float;\n${src}`;\n  } else if (maxSupportedPrecision !== \"highp\" && src.substring(0, 15) === \"precision highp\") {\n    return src.replace(\"precision highp\", \"precision mediump\");\n  }\n  return src;\n}\n\nexport { ensurePrecision };\n//# sourceMappingURL=ensurePrecision.mjs.map\n","\"use strict\";\nfunction insertVersion(src, isES300) {\n  if (!isES300)\n    return src;\n  return `#version 300 es\n${src}`;\n}\n\nexport { insertVersion };\n//# sourceMappingURL=insertVersion.mjs.map\n","\"use strict\";\nconst fragmentNameCache = {};\nconst VertexNameCache = {};\nfunction setProgramName(src, { name = `pixi-program` }, isFragment = true) {\n  name = name.replace(/\\s+/g, \"-\");\n  name += isFragment ? \"-fragment\" : \"-vertex\";\n  const nameCache = isFragment ? fragmentNameCache : VertexNameCache;\n  if (nameCache[name]) {\n    nameCache[name]++;\n    name += `-${nameCache[name]}`;\n  } else {\n    nameCache[name] = 1;\n  }\n  if (src.indexOf(\"#define SHADER_NAME\") !== -1)\n    return src;\n  const shaderName = `#define SHADER_NAME ${name}`;\n  return `${shaderName}\n${src}`;\n}\n\nexport { setProgramName };\n//# sourceMappingURL=setProgramName.mjs.map\n","\"use strict\";\nfunction stripVersion(src, isES300) {\n  if (!isES300)\n    return src;\n  return src.replace(\"#version 300 es\", \"\");\n}\n\nexport { stripVersion };\n//# sourceMappingURL=stripVersion.mjs.map\n","import { createIdFromString } from '../../shared/utils/createIdFromString.mjs';\nimport { getMaxFragmentPrecision } from './program/getMaxFragmentPrecision.mjs';\nimport { addProgramDefines } from './program/preprocessors/addProgramDefines.mjs';\nimport { ensurePrecision } from './program/preprocessors/ensurePrecision.mjs';\nimport { insertVersion } from './program/preprocessors/insertVersion.mjs';\nimport { setProgramName } from './program/preprocessors/setProgramName.mjs';\nimport { stripVersion } from './program/preprocessors/stripVersion.mjs';\n\n\"use strict\";\nconst processes = {\n  // strips any version headers..\n  stripVersion,\n  // adds precision string if not already present\n  ensurePrecision,\n  // add some defines if WebGL1 to make it more compatible with WebGL2 shaders\n  addProgramDefines,\n  // add the program name to the shader\n  setProgramName,\n  // add the version string to the shader header\n  insertVersion\n};\nconst programCache = /* @__PURE__ */ Object.create(null);\nconst _GlProgram = class _GlProgram {\n  /**\n   * Creates a shiny new GlProgram. Used by WebGL renderer.\n   * @param options - The options for the program.\n   */\n  constructor(options) {\n    options = { ..._GlProgram.defaultOptions, ...options };\n    const isES300 = options.fragment.indexOf(\"#version 300 es\") !== -1;\n    const preprocessorOptions = {\n      stripVersion: isES300,\n      ensurePrecision: {\n        requestedFragmentPrecision: options.preferredFragmentPrecision,\n        requestedVertexPrecision: options.preferredVertexPrecision,\n        maxSupportedVertexPrecision: \"highp\",\n        maxSupportedFragmentPrecision: getMaxFragmentPrecision()\n      },\n      setProgramName: {\n        name: options.name\n      },\n      addProgramDefines: isES300,\n      insertVersion: isES300\n    };\n    let fragment = options.fragment;\n    let vertex = options.vertex;\n    Object.keys(processes).forEach((processKey) => {\n      const processOptions = preprocessorOptions[processKey];\n      fragment = processes[processKey](fragment, processOptions, true);\n      vertex = processes[processKey](vertex, processOptions, false);\n    });\n    this.fragment = fragment;\n    this.vertex = vertex;\n    this.transformFeedbackVaryings = options.transformFeedbackVaryings;\n    this._key = createIdFromString(`${this.vertex}:${this.fragment}`, \"gl-program\");\n  }\n  /** destroys the program */\n  destroy() {\n    this.fragment = null;\n    this.vertex = null;\n    this._attributeData = null;\n    this._uniformData = null;\n    this._uniformBlockData = null;\n    this.transformFeedbackVaryings = null;\n    programCache[this._cacheKey] = null;\n  }\n  /**\n   * Helper function that creates a program for a given source.\n   * It will check the program cache if the program has already been created.\n   * If it has that one will be returned, if not a new one will be created and cached.\n   * @param options - The options for the program.\n   * @returns A program using the same source\n   */\n  static from(options) {\n    const key = `${options.vertex}:${options.fragment}`;\n    if (!programCache[key]) {\n      programCache[key] = new _GlProgram(options);\n      programCache[key]._cacheKey = key;\n    }\n    return programCache[key];\n  }\n};\n/** The default options used by the program. */\n_GlProgram.defaultOptions = {\n  preferredVertexPrecision: \"highp\",\n  preferredFragmentPrecision: \"mediump\"\n};\nlet GlProgram = _GlProgram;\n\nexport { GlProgram };\n//# sourceMappingURL=GlProgram.mjs.map\n","\"use strict\";\nconst attributeFormatData = {\n  uint8x2: { size: 2, stride: 2, normalised: false },\n  uint8x4: { size: 4, stride: 4, normalised: false },\n  sint8x2: { size: 2, stride: 2, normalised: false },\n  sint8x4: { size: 4, stride: 4, normalised: false },\n  unorm8x2: { size: 2, stride: 2, normalised: true },\n  unorm8x4: { size: 4, stride: 4, normalised: true },\n  snorm8x2: { size: 2, stride: 2, normalised: true },\n  snorm8x4: { size: 4, stride: 4, normalised: true },\n  uint16x2: { size: 2, stride: 4, normalised: false },\n  uint16x4: { size: 4, stride: 8, normalised: false },\n  sint16x2: { size: 2, stride: 4, normalised: false },\n  sint16x4: { size: 4, stride: 8, normalised: false },\n  unorm16x2: { size: 2, stride: 4, normalised: true },\n  unorm16x4: { size: 4, stride: 8, normalised: true },\n  snorm16x2: { size: 2, stride: 4, normalised: true },\n  snorm16x4: { size: 4, stride: 8, normalised: true },\n  float16x2: { size: 2, stride: 4, normalised: false },\n  float16x4: { size: 4, stride: 8, normalised: false },\n  float32: { size: 1, stride: 4, normalised: false },\n  float32x2: { size: 2, stride: 8, normalised: false },\n  float32x3: { size: 3, stride: 12, normalised: false },\n  float32x4: { size: 4, stride: 16, normalised: false },\n  uint32: { size: 1, stride: 4, normalised: false },\n  uint32x2: { size: 2, stride: 8, normalised: false },\n  uint32x3: { size: 3, stride: 12, normalised: false },\n  uint32x4: { size: 4, stride: 16, normalised: false },\n  sint32: { size: 1, stride: 4, normalised: false },\n  sint32x2: { size: 2, stride: 8, normalised: false },\n  sint32x3: { size: 3, stride: 12, normalised: false },\n  sint32x4: { size: 4, stride: 16, normalised: false }\n};\nfunction getAttributeInfoFromFormat(format) {\n  return attributeFormatData[format] ?? attributeFormatData.float32;\n}\n\nexport { getAttributeInfoFromFormat };\n//# sourceMappingURL=getAttributeInfoFromFormat.mjs.map\n","import { getAttributeInfoFromFormat } from '../../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\n\n\"use strict\";\nconst WGSL_TO_VERTEX_TYPES = {\n  f32: \"float32\",\n  \"vec2<f32>\": \"float32x2\",\n  \"vec3<f32>\": \"float32x3\",\n  \"vec4<f32>\": \"float32x4\",\n  vec2f: \"float32x2\",\n  vec3f: \"float32x3\",\n  vec4f: \"float32x4\",\n  i32: \"sint32\",\n  \"vec2<i32>\": \"sint32x2\",\n  \"vec3<i32>\": \"sint32x3\",\n  \"vec4<i32>\": \"sint32x4\",\n  u32: \"uint32\",\n  \"vec2<u32>\": \"uint32x2\",\n  \"vec3<u32>\": \"uint32x3\",\n  \"vec4<u32>\": \"uint32x4\",\n  bool: \"uint32\",\n  \"vec2<bool>\": \"uint32x2\",\n  \"vec3<bool>\": \"uint32x3\",\n  \"vec4<bool>\": \"uint32x4\"\n};\nfunction extractAttributesFromGpuProgram({ source, entryPoint }) {\n  const results = {};\n  const mainVertStart = source.indexOf(`fn ${entryPoint}`);\n  if (mainVertStart !== -1) {\n    const arrowFunctionStart = source.indexOf(\"->\", mainVertStart);\n    if (arrowFunctionStart !== -1) {\n      const functionArgsSubstring = source.substring(mainVertStart, arrowFunctionStart);\n      const inputsRegex = /@location\\((\\d+)\\)\\s+([a-zA-Z0-9_]+)\\s*:\\s*([a-zA-Z0-9_<>]+)(?:,|\\s|$)/g;\n      let match;\n      while ((match = inputsRegex.exec(functionArgsSubstring)) !== null) {\n        const format = WGSL_TO_VERTEX_TYPES[match[3]] ?? \"float32\";\n        results[match[2]] = {\n          location: parseInt(match[1], 10),\n          format,\n          stride: getAttributeInfoFromFormat(format).stride,\n          offset: 0,\n          instance: false,\n          start: 0\n        };\n      }\n    }\n  }\n  return results;\n}\n\nexport { extractAttributesFromGpuProgram };\n//# sourceMappingURL=extractAttributesFromGpuProgram.mjs.map\n","\"use strict\";\nfunction extractStructAndGroups(wgsl) {\n  const linePattern = /(^|[^/])@(group|binding)\\(\\d+\\)[^;]+;/g;\n  const groupPattern = /@group\\((\\d+)\\)/;\n  const bindingPattern = /@binding\\((\\d+)\\)/;\n  const namePattern = /var(<[^>]+>)? (\\w+)/;\n  const typePattern = /:\\s*(\\w+)/;\n  const structPattern = /struct\\s+(\\w+)\\s*{([^}]+)}/g;\n  const structMemberPattern = /(\\w+)\\s*:\\s*([\\w\\<\\>]+)/g;\n  const structName = /struct\\s+(\\w+)/;\n  const groups = wgsl.match(linePattern)?.map((item) => ({\n    group: parseInt(item.match(groupPattern)[1], 10),\n    binding: parseInt(item.match(bindingPattern)[1], 10),\n    name: item.match(namePattern)[2],\n    isUniform: item.match(namePattern)[1] === \"<uniform>\",\n    type: item.match(typePattern)[1]\n  }));\n  if (!groups) {\n    return {\n      groups: [],\n      structs: []\n    };\n  }\n  const structs = wgsl.match(structPattern)?.map((struct) => {\n    const name = struct.match(structName)[1];\n    const members = struct.match(structMemberPattern).reduce((acc, member) => {\n      const [name2, type] = member.split(\":\");\n      acc[name2.trim()] = type.trim();\n      return acc;\n    }, {});\n    if (!members) {\n      return null;\n    }\n    return { name, members };\n  }).filter(({ name }) => groups.some((group) => group.type === name)) ?? [];\n  return {\n    groups,\n    structs\n  };\n}\n\nexport { extractStructAndGroups };\n//# sourceMappingURL=extractStructAndGroups.mjs.map\n","\"use strict\";\nvar ShaderStage = /* @__PURE__ */ ((ShaderStage2) => {\n  ShaderStage2[ShaderStage2[\"VERTEX\"] = 1] = \"VERTEX\";\n  ShaderStage2[ShaderStage2[\"FRAGMENT\"] = 2] = \"FRAGMENT\";\n  ShaderStage2[ShaderStage2[\"COMPUTE\"] = 4] = \"COMPUTE\";\n  return ShaderStage2;\n})(ShaderStage || {});\n\nexport { ShaderStage };\n//# sourceMappingURL=const.mjs.map\n","import { ShaderStage } from '../../../shared/shader/const.mjs';\n\n\"use strict\";\nfunction generateGpuLayoutGroups({ groups }) {\n  const layout = [];\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i];\n    if (!layout[group.group]) {\n      layout[group.group] = [];\n    }\n    if (group.isUniform) {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.VERTEX | ShaderStage.FRAGMENT,\n        buffer: {\n          type: \"uniform\"\n        }\n      });\n    } else if (group.type === \"sampler\") {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.FRAGMENT,\n        sampler: {\n          type: \"filtering\"\n        }\n      });\n    } else if (group.type === \"texture_2d\") {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.FRAGMENT,\n        texture: {\n          sampleType: \"float\",\n          viewDimension: \"2d\",\n          multisampled: false\n        }\n      });\n    }\n  }\n  return layout;\n}\n\nexport { generateGpuLayoutGroups };\n//# sourceMappingURL=generateGpuLayoutGroups.mjs.map\n","\"use strict\";\nfunction generateLayoutHash({ groups }) {\n  const layout = [];\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i];\n    if (!layout[group.group]) {\n      layout[group.group] = {};\n    }\n    layout[group.group][group.name] = group.binding;\n  }\n  return layout;\n}\n\nexport { generateLayoutHash };\n//# sourceMappingURL=generateLayoutHash.mjs.map\n","\"use strict\";\nfunction removeStructAndGroupDuplicates(vertexStructsAndGroups, fragmentStructsAndGroups) {\n  const structNameSet = /* @__PURE__ */ new Set();\n  const dupeGroupKeySet = /* @__PURE__ */ new Set();\n  const structs = [...vertexStructsAndGroups.structs, ...fragmentStructsAndGroups.structs].filter((struct) => {\n    if (structNameSet.has(struct.name)) {\n      return false;\n    }\n    structNameSet.add(struct.name);\n    return true;\n  });\n  const groups = [...vertexStructsAndGroups.groups, ...fragmentStructsAndGroups.groups].filter((group) => {\n    const key = `${group.name}-${group.binding}`;\n    if (dupeGroupKeySet.has(key)) {\n      return false;\n    }\n    dupeGroupKeySet.add(key);\n    return true;\n  });\n  return { structs, groups };\n}\n\nexport { removeStructAndGroupDuplicates };\n//# sourceMappingURL=removeStructAndGroupDuplicates.mjs.map\n","import { createIdFromString } from '../../shared/utils/createIdFromString.mjs';\nimport { extractAttributesFromGpuProgram } from './utils/extractAttributesFromGpuProgram.mjs';\nimport { extractStructAndGroups } from './utils/extractStructAndGroups.mjs';\nimport { generateGpuLayoutGroups } from './utils/generateGpuLayoutGroups.mjs';\nimport { generateLayoutHash } from './utils/generateLayoutHash.mjs';\nimport { removeStructAndGroupDuplicates } from './utils/removeStructAndGroupDuplicates.mjs';\n\n\"use strict\";\nconst programCache = /* @__PURE__ */ Object.create(null);\nclass GpuProgram {\n  /**\n   * Create a new GpuProgram\n   * @param options - The options for the gpu program\n   */\n  constructor(options) {\n    /** @internal */\n    this._layoutKey = 0;\n    /** @internal */\n    this._attributeLocationsKey = 0;\n    const { fragment, vertex, layout, gpuLayout, name } = options;\n    this.name = name;\n    this.fragment = fragment;\n    this.vertex = vertex;\n    if (fragment.source === vertex.source) {\n      const structsAndGroups = extractStructAndGroups(fragment.source);\n      this.structsAndGroups = structsAndGroups;\n    } else {\n      const vertexStructsAndGroups = extractStructAndGroups(vertex.source);\n      const fragmentStructsAndGroups = extractStructAndGroups(fragment.source);\n      this.structsAndGroups = removeStructAndGroupDuplicates(vertexStructsAndGroups, fragmentStructsAndGroups);\n    }\n    this.layout = layout ?? generateLayoutHash(this.structsAndGroups);\n    this.gpuLayout = gpuLayout ?? generateGpuLayoutGroups(this.structsAndGroups);\n    this.autoAssignGlobalUniforms = !!(this.layout[0]?.globalUniforms !== void 0);\n    this.autoAssignLocalUniforms = !!(this.layout[1]?.localUniforms !== void 0);\n    this._generateProgramKey();\n  }\n  // TODO maker this pure\n  _generateProgramKey() {\n    const { vertex, fragment } = this;\n    const bigKey = vertex.source + fragment.source + vertex.entryPoint + fragment.entryPoint;\n    this._layoutKey = createIdFromString(bigKey, \"program\");\n  }\n  get attributeData() {\n    this._attributeData ?? (this._attributeData = extractAttributesFromGpuProgram(this.vertex));\n    return this._attributeData;\n  }\n  /** destroys the program */\n  destroy() {\n    this.gpuLayout = null;\n    this.layout = null;\n    this.structsAndGroups = null;\n    this.fragment = null;\n    this.vertex = null;\n    programCache[this._cacheKey] = null;\n  }\n  /**\n   * Helper function that creates a program for a given source.\n   * It will check the program cache if the program has already been created.\n   * If it has that one will be returned, if not a new one will be created and cached.\n   * @param options - The options for the program.\n   * @returns A program using the same source\n   */\n  static from(options) {\n    const key = `${options.vertex.source}:${options.fragment.source}:${options.fragment.entryPoint}:${options.vertex.entryPoint}`;\n    if (!programCache[key]) {\n      programCache[key] = new GpuProgram(options);\n      programCache[key]._cacheKey = key;\n    }\n    return programCache[key];\n  }\n}\n\nexport { GpuProgram };\n//# sourceMappingURL=GpuProgram.mjs.map\n","\"use strict\";\nconst UNIFORM_TYPES_VALUES = [\n  \"f32\",\n  \"i32\",\n  \"vec2<f32>\",\n  \"vec3<f32>\",\n  \"vec4<f32>\",\n  \"mat2x2<f32>\",\n  \"mat3x3<f32>\",\n  \"mat4x4<f32>\",\n  \"mat3x2<f32>\",\n  \"mat4x2<f32>\",\n  \"mat2x3<f32>\",\n  \"mat4x3<f32>\",\n  \"mat2x4<f32>\",\n  \"mat3x4<f32>\",\n  \"vec2<i32>\",\n  \"vec3<i32>\",\n  \"vec4<i32>\"\n];\nconst UNIFORM_TYPES_MAP = UNIFORM_TYPES_VALUES.reduce((acc, type) => {\n  acc[type] = true;\n  return acc;\n}, {});\n\nexport { UNIFORM_TYPES_MAP, UNIFORM_TYPES_VALUES };\n//# sourceMappingURL=types.mjs.map\n","\"use strict\";\nfunction getDefaultUniformValue(type, size) {\n  switch (type) {\n    case \"f32\":\n      return 0;\n    case \"vec2<f32>\":\n      return new Float32Array(2 * size);\n    case \"vec3<f32>\":\n      return new Float32Array(3 * size);\n    case \"vec4<f32>\":\n      return new Float32Array(4 * size);\n    case \"mat2x2<f32>\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case \"mat3x3<f32>\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case \"mat4x4<f32>\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\n\nexport { getDefaultUniformValue };\n//# sourceMappingURL=getDefaultUniformValue.mjs.map\n","import { uid } from '../../../../utils/data/uid.mjs';\nimport { createIdFromString } from '../utils/createIdFromString.mjs';\nimport { UNIFORM_TYPES_MAP, UNIFORM_TYPES_VALUES } from './types.mjs';\nimport { getDefaultUniformValue } from './utils/getDefaultUniformValue.mjs';\n\n\"use strict\";\nconst _UniformGroup = class _UniformGroup {\n  /**\n   * Create a new Uniform group\n   * @param uniformStructures - The structures of the uniform group\n   * @param options - The optional parameters of this uniform group\n   */\n  constructor(uniformStructures, options) {\n    /**\n     * used internally to know if a uniform group was used in the last render pass\n     * @internal\n     */\n    this._touched = 0;\n    /** a unique id for this uniform group used through the renderer */\n    this.uid = uid(\"uniform\");\n    /**\n     * a resource type, used to identify how to handle it when its in a bind group / shader resource\n     * @internal\n     */\n    this._resourceType = \"uniformGroup\";\n    /**\n     * the resource id used internally by the renderer to build bind group keys\n     * @internal\n     */\n    this._resourceId = uid(\"resource\");\n    /** used ito identify if this is a uniform group */\n    this.isUniformGroup = true;\n    /**\n     * used to flag if this Uniform groups data is different from what it has stored in its buffer / on the GPU\n     * @internal\n     */\n    this._dirtyId = 0;\n    // implementing the interface - UniformGroup are not destroyed\n    this.destroyed = false;\n    options = { ..._UniformGroup.defaultOptions, ...options };\n    this.uniformStructures = uniformStructures;\n    const uniforms = {};\n    for (const i in uniformStructures) {\n      const uniformData = uniformStructures[i];\n      uniformData.name = i;\n      uniformData.size = uniformData.size ?? 1;\n      if (!UNIFORM_TYPES_MAP[uniformData.type]) {\n        const arrayMatch = uniformData.type.match(/^array<(\\w+(?:<\\w+>)?),\\s*(\\d+)>$/);\n        if (arrayMatch) {\n          const [, innerType, size] = arrayMatch;\n          throw new Error(\n            `Uniform type ${uniformData.type} is not supported. Use type: '${innerType}', size: ${size} instead.`\n          );\n        }\n        throw new Error(`Uniform type ${uniformData.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(\", \")}`);\n      }\n      uniformData.value ?? (uniformData.value = getDefaultUniformValue(uniformData.type, uniformData.size));\n      uniforms[i] = uniformData.value;\n    }\n    this.uniforms = uniforms;\n    this._dirtyId = 1;\n    this.ubo = options.ubo;\n    this.isStatic = options.isStatic;\n    this._signature = createIdFromString(Object.keys(uniforms).map(\n      (i) => `${i}-${uniformStructures[i].type}`\n    ).join(\"-\"), \"uniform-group\");\n  }\n  /** Call this if you want the uniform groups data to be uploaded to the GPU only useful if `isStatic` is true. */\n  update() {\n    this._dirtyId++;\n  }\n};\n/** The default options used by the uniform group. */\n_UniformGroup.defaultOptions = {\n  /** if true the UniformGroup is handled as an Uniform buffer object. */\n  ubo: false,\n  /** if true, then you are responsible for when the data is uploaded to the GPU by calling `update()` */\n  isStatic: false\n};\nlet UniformGroup = _UniformGroup;\n\nexport { UniformGroup };\n//# sourceMappingURL=UniformGroup.mjs.map\n","\"use strict\";\nclass BindGroup {\n  /**\n   * Create a new instance eof the Bind Group.\n   * @param resources - The resources that are bound together for use by a shader.\n   */\n  constructor(resources) {\n    /** The resources that are bound together for use by a shader. */\n    this.resources = /* @__PURE__ */ Object.create(null);\n    this._dirty = true;\n    let index = 0;\n    for (const i in resources) {\n      const resource = resources[i];\n      this.setResource(resource, index++);\n    }\n    this._updateKey();\n  }\n  /**\n   * Updates the key if its flagged as dirty. This is used internally to\n   * match this bind group to a WebGPU BindGroup.\n   * @internal\n   */\n  _updateKey() {\n    if (!this._dirty)\n      return;\n    this._dirty = false;\n    const keyParts = [];\n    let index = 0;\n    for (const i in this.resources) {\n      keyParts[index++] = this.resources[i]._resourceId;\n    }\n    this._key = keyParts.join(\"|\");\n  }\n  /**\n   * Set a resource at a given index. this function will\n   * ensure that listeners will be removed from the current resource\n   * and added to the new resource.\n   * @param resource - The resource to set.\n   * @param index - The index to set the resource at.\n   */\n  setResource(resource, index) {\n    const currentResource = this.resources[index];\n    if (resource === currentResource)\n      return;\n    if (currentResource) {\n      resource.off?.(\"change\", this.onResourceChange, this);\n    }\n    resource.on?.(\"change\", this.onResourceChange, this);\n    this.resources[index] = resource;\n    this._dirty = true;\n  }\n  /**\n   * Returns the resource at the current specified index.\n   * @param index - The index of the resource to get.\n   * @returns - The resource at the specified index.\n   */\n  getResource(index) {\n    return this.resources[index];\n  }\n  /**\n   * Used internally to 'touch' each resource, to ensure that the GC\n   * knows that all resources in this bind group are still being used.\n   * @param tick - The current tick.\n   * @internal\n   */\n  _touch(tick) {\n    const resources = this.resources;\n    for (const i in resources) {\n      resources[i]._touched = tick;\n    }\n  }\n  /** Destroys this bind group and removes all listeners. */\n  destroy() {\n    const resources = this.resources;\n    for (const i in resources) {\n      const resource = resources[i];\n      resource?.off?.(\"change\", this.onResourceChange, this);\n    }\n    this.resources = null;\n  }\n  onResourceChange(resource) {\n    this._dirty = true;\n    if (resource.destroyed) {\n      const resources = this.resources;\n      for (const i in resources) {\n        if (resources[i] === resource) {\n          resources[i] = null;\n        }\n      }\n    } else {\n      this._updateKey();\n    }\n  }\n}\n\nexport { BindGroup };\n//# sourceMappingURL=BindGroup.mjs.map\n","\"use strict\";\nvar RendererType = /* @__PURE__ */ ((RendererType2) => {\n  RendererType2[RendererType2[\"WEBGL\"] = 1] = \"WEBGL\";\n  RendererType2[RendererType2[\"WEBGPU\"] = 2] = \"WEBGPU\";\n  RendererType2[RendererType2[\"BOTH\"] = 3] = \"BOTH\";\n  return RendererType2;\n})(RendererType || {});\n\nexport { RendererType };\n//# sourceMappingURL=types.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { GlProgram } from '../../gl/shader/GlProgram.mjs';\nimport { BindGroup } from '../../gpu/shader/BindGroup.mjs';\nimport { GpuProgram } from '../../gpu/shader/GpuProgram.mjs';\nimport { RendererType } from '../../types.mjs';\nimport { UniformGroup } from './UniformGroup.mjs';\n\n\"use strict\";\nclass Shader extends EventEmitter {\n  constructor(options) {\n    super();\n    /** A unique identifier for the shader */\n    this.uid = uid(\"shader\");\n    /**\n     * A record of the uniform groups and resources used by the shader.\n     * This is used by WebGL renderer to sync uniform data.\n     * @internal\n     */\n    this._uniformBindMap = /* @__PURE__ */ Object.create(null);\n    this._ownedBindGroups = [];\n    let {\n      gpuProgram,\n      glProgram,\n      groups,\n      resources,\n      compatibleRenderers,\n      groupMap\n    } = options;\n    this.gpuProgram = gpuProgram;\n    this.glProgram = glProgram;\n    if (compatibleRenderers === void 0) {\n      compatibleRenderers = 0;\n      if (gpuProgram)\n        compatibleRenderers |= RendererType.WEBGPU;\n      if (glProgram)\n        compatibleRenderers |= RendererType.WEBGL;\n    }\n    this.compatibleRenderers = compatibleRenderers;\n    const nameHash = {};\n    if (!resources && !groups) {\n      resources = {};\n    }\n    if (resources && groups) {\n      throw new Error(\"[Shader] Cannot have both resources and groups\");\n    } else if (!gpuProgram && groups && !groupMap) {\n      throw new Error(\"[Shader] No group map or WebGPU shader provided - consider using resources instead.\");\n    } else if (!gpuProgram && groups && groupMap) {\n      for (const i in groupMap) {\n        for (const j in groupMap[i]) {\n          const uniformName = groupMap[i][j];\n          nameHash[uniformName] = {\n            group: i,\n            binding: j,\n            name: uniformName\n          };\n        }\n      }\n    } else if (gpuProgram && groups && !groupMap) {\n      const groupData = gpuProgram.structsAndGroups.groups;\n      groupMap = {};\n      groupData.forEach((data) => {\n        groupMap[data.group] = groupMap[data.group] || {};\n        groupMap[data.group][data.binding] = data.name;\n        nameHash[data.name] = data;\n      });\n    } else if (resources) {\n      groups = {};\n      groupMap = {};\n      if (gpuProgram) {\n        const groupData = gpuProgram.structsAndGroups.groups;\n        groupData.forEach((data) => {\n          groupMap[data.group] = groupMap[data.group] || {};\n          groupMap[data.group][data.binding] = data.name;\n          nameHash[data.name] = data;\n        });\n      }\n      let bindTick = 0;\n      for (const i in resources) {\n        if (nameHash[i])\n          continue;\n        if (!groups[99]) {\n          groups[99] = new BindGroup();\n          this._ownedBindGroups.push(groups[99]);\n        }\n        nameHash[i] = { group: 99, binding: bindTick, name: i };\n        groupMap[99] = groupMap[99] || {};\n        groupMap[99][bindTick] = i;\n        bindTick++;\n      }\n      for (const i in resources) {\n        const name = i;\n        let value = resources[i];\n        if (!value.source && !value._resourceType) {\n          value = new UniformGroup(value);\n        }\n        const data = nameHash[name];\n        if (data) {\n          if (!groups[data.group]) {\n            groups[data.group] = new BindGroup();\n            this._ownedBindGroups.push(groups[data.group]);\n          }\n          groups[data.group].setResource(value, data.binding);\n        }\n      }\n    }\n    this.groups = groups;\n    this._uniformBindMap = groupMap;\n    this.resources = this._buildResourceAccessor(groups, nameHash);\n  }\n  /**\n   * Sometimes a resource group will be provided later (for example global uniforms)\n   * In such cases, this method can be used to let the shader know about the group.\n   * @param name - the name of the resource group\n   * @param groupIndex - the index of the group (should match the webGPU shader group location)\n   * @param bindIndex - the index of the bind point (should match the webGPU shader bind point)\n   */\n  addResource(name, groupIndex, bindIndex) {\n    var _a, _b;\n    (_a = this._uniformBindMap)[groupIndex] || (_a[groupIndex] = {});\n    (_b = this._uniformBindMap[groupIndex])[bindIndex] || (_b[bindIndex] = name);\n    if (!this.groups[groupIndex]) {\n      this.groups[groupIndex] = new BindGroup();\n      this._ownedBindGroups.push(this.groups[groupIndex]);\n    }\n  }\n  _buildResourceAccessor(groups, nameHash) {\n    const uniformsOut = {};\n    for (const i in nameHash) {\n      const data = nameHash[i];\n      Object.defineProperty(uniformsOut, data.name, {\n        get() {\n          return groups[data.group].getResource(data.binding);\n        },\n        set(value) {\n          groups[data.group].setResource(value, data.binding);\n        }\n      });\n    }\n    return uniformsOut;\n  }\n  /**\n   * Use to destroy the shader when its not longer needed.\n   * It will destroy the resources and remove listeners.\n   * @param destroyPrograms - if the programs should be destroyed as well.\n   * Make sure its not being used by other shaders!\n   */\n  destroy(destroyPrograms = false) {\n    this.emit(\"destroy\", this);\n    if (destroyPrograms) {\n      this.gpuProgram?.destroy();\n      this.glProgram?.destroy();\n    }\n    this.gpuProgram = null;\n    this.glProgram = null;\n    this.removeAllListeners();\n    this._uniformBindMap = null;\n    this._ownedBindGroups.forEach((bindGroup) => {\n      bindGroup.destroy();\n    });\n    this._ownedBindGroups = null;\n    this.resources = null;\n    this.groups = null;\n  }\n  static from(options) {\n    const { gpu, gl, ...rest } = options;\n    let gpuProgram;\n    let glProgram;\n    if (gpu) {\n      gpuProgram = GpuProgram.from(gpu);\n    }\n    if (gl) {\n      glProgram = GlProgram.from(gl);\n    }\n    return new Shader({\n      gpuProgram,\n      glProgram,\n      ...rest\n    });\n  }\n}\n\nexport { Shader };\n//# sourceMappingURL=Shader.mjs.map\n","\"use strict\";\nconst blendModeIds = {\n  normal: 0,\n  add: 1,\n  multiply: 2,\n  screen: 3,\n  overlay: 4,\n  erase: 5,\n  \"normal-npm\": 6,\n  \"add-npm\": 7,\n  \"screen-npm\": 8,\n  min: 9,\n  max: 10\n};\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nconst _State = class _State {\n  constructor() {\n    this.data = 0;\n    this.blendMode = \"normal\";\n    this.polygonOffset = 0;\n    this.blend = true;\n    this.depthMask = true;\n  }\n  /**\n   * Activates blending of the computed fragment color values.\n   * @default true\n   */\n  get blend() {\n    return !!(this.data & 1 << BLEND);\n  }\n  set blend(value) {\n    if (!!(this.data & 1 << BLEND) !== value) {\n      this.data ^= 1 << BLEND;\n    }\n  }\n  /**\n   * Activates adding an offset to depth values of polygon's fragments\n   * @default false\n   */\n  get offsets() {\n    return !!(this.data & 1 << OFFSET);\n  }\n  set offsets(value) {\n    if (!!(this.data & 1 << OFFSET) !== value) {\n      this.data ^= 1 << OFFSET;\n    }\n  }\n  /** The culling settings for this state none - No culling back - Back face culling front - Front face culling */\n  set cullMode(value) {\n    if (value === \"none\") {\n      this.culling = false;\n      return;\n    }\n    this.culling = true;\n    this.clockwiseFrontFace = value === \"front\";\n  }\n  get cullMode() {\n    if (!this.culling) {\n      return \"none\";\n    }\n    return this.clockwiseFrontFace ? \"front\" : \"back\";\n  }\n  /**\n   * Activates culling of polygons.\n   * @default false\n   */\n  get culling() {\n    return !!(this.data & 1 << CULLING);\n  }\n  set culling(value) {\n    if (!!(this.data & 1 << CULLING) !== value) {\n      this.data ^= 1 << CULLING;\n    }\n  }\n  /**\n   * Activates depth comparisons and updates to the depth buffer.\n   * @default false\n   */\n  get depthTest() {\n    return !!(this.data & 1 << DEPTH_TEST);\n  }\n  set depthTest(value) {\n    if (!!(this.data & 1 << DEPTH_TEST) !== value) {\n      this.data ^= 1 << DEPTH_TEST;\n    }\n  }\n  /**\n   * Enables or disables writing to the depth buffer.\n   * @default true\n   */\n  get depthMask() {\n    return !!(this.data & 1 << DEPTH_MASK);\n  }\n  set depthMask(value) {\n    if (!!(this.data & 1 << DEPTH_MASK) !== value) {\n      this.data ^= 1 << DEPTH_MASK;\n    }\n  }\n  /**\n   * Specifies whether or not front or back-facing polygons can be culled.\n   * @default false\n   */\n  get clockwiseFrontFace() {\n    return !!(this.data & 1 << WINDING);\n  }\n  set clockwiseFrontFace(value) {\n    if (!!(this.data & 1 << WINDING) !== value) {\n      this.data ^= 1 << WINDING;\n    }\n  }\n  /**\n   * The blend mode to be applied when this state is set. Apply a value of `normal` to reset the blend mode.\n   * Setting this mode to anything other than NO_BLEND will automatically switch blending on.\n   * @default 'normal'\n   */\n  get blendMode() {\n    return this._blendMode;\n  }\n  set blendMode(value) {\n    this.blend = value !== \"none\";\n    this._blendMode = value;\n    this._blendModeId = blendModeIds[value] || 0;\n  }\n  /**\n   * The polygon offset. Setting this property to anything other than 0 will automatically enable polygon offset fill.\n   * @default 0\n   */\n  get polygonOffset() {\n    return this._polygonOffset;\n  }\n  set polygonOffset(value) {\n    this.offsets = !!value;\n    this._polygonOffset = value;\n  }\n  toString() {\n    return `[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;\n  }\n  /**\n   * A quickly getting an instance of a State that is configured for 2d rendering.\n   * @returns a new State with values set for 2d rendering\n   */\n  static for2d() {\n    const state = new _State();\n    state.depthTest = false;\n    state.blend = true;\n    return state;\n  }\n};\n_State.default2d = _State.for2d();\nlet State = _State;\n\nexport { State };\n//# sourceMappingURL=State.mjs.map\n","import { GlProgram } from '../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { Shader } from '../rendering/renderers/shared/shader/Shader.mjs';\nimport { State } from '../rendering/renderers/shared/state/State.mjs';\n\n\"use strict\";\nconst _Filter = class _Filter extends Shader {\n  /**\n   * @param options - The optional parameters of this filter.\n   */\n  constructor(options) {\n    options = { ..._Filter.defaultOptions, ...options };\n    super(options);\n    /** If enabled is true the filter is applied, if false it will not. */\n    this.enabled = true;\n    /**\n     * The gpu state the filter requires to render.\n     * @internal\n     */\n    this._state = State.for2d();\n    this.blendMode = options.blendMode;\n    this.padding = options.padding;\n    if (typeof options.antialias === \"boolean\") {\n      this.antialias = options.antialias ? \"on\" : \"off\";\n    } else {\n      this.antialias = options.antialias;\n    }\n    this.resolution = options.resolution;\n    this.blendRequired = options.blendRequired;\n    this.clipToViewport = options.clipToViewport;\n    this.addResource(\"uTexture\", 0, 1);\n  }\n  /**\n   * Applies the filter\n   * @param filterManager - The renderer to retrieve the filter from\n   * @param input - The input render target.\n   * @param output - The target to output to.\n   * @param clearMode - Should the output be cleared before rendering to it\n   */\n  apply(filterManager, input, output, clearMode) {\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n  /**\n   * Get the blend mode of the filter.\n   * @default \"normal\"\n   */\n  get blendMode() {\n    return this._state.blendMode;\n  }\n  /** Sets the blend mode of the filter. */\n  set blendMode(value) {\n    this._state.blendMode = value;\n  }\n  /**\n   * A short hand function to create a filter based of a vertex and fragment shader src.\n   * @param options\n   * @returns A shiny new PixiJS filter!\n   */\n  static from(options) {\n    const { gpu, gl, ...rest } = options;\n    let gpuProgram;\n    let glProgram;\n    if (gpu) {\n      gpuProgram = GpuProgram.from(gpu);\n    }\n    if (gl) {\n      glProgram = GlProgram.from(gl);\n    }\n    return new _Filter({\n      gpuProgram,\n      glProgram,\n      ...rest\n    });\n  }\n};\n/** The default filter settings */\n_Filter.defaultOptions = {\n  blendMode: \"normal\",\n  resolution: 1,\n  padding: 0,\n  antialias: \"off\",\n  blendRequired: false,\n  clipToViewport: true\n};\nlet Filter = _Filter;\n\nexport { Filter };\n//# sourceMappingURL=Filter.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nconst environments = [];\nextensions.handleByNamedList(ExtensionType.Environment, environments);\nasync function loadEnvironmentExtensions(skip) {\n  if (skip)\n    return;\n  for (let i = 0; i < environments.length; i++) {\n    const env = environments[i];\n    if (env.value.test()) {\n      await env.value.load();\n      return;\n    }\n  }\n}\nasync function autoDetectEnvironment(add) {\n  return loadEnvironmentExtensions(!add);\n}\n\nexport { autoDetectEnvironment, loadEnvironmentExtensions };\n//# sourceMappingURL=autoDetectEnvironment.mjs.map\n","\"use strict\";\nlet unsafeEval;\nfunction unsafeEvalSupported() {\n  if (typeof unsafeEval === \"boolean\") {\n    return unsafeEval;\n  }\n  try {\n    const func = new Function(\"param1\", \"param2\", \"param3\", \"return param1[param2] === param3;\");\n    unsafeEval = func({ a: \"b\" }, \"a\", \"b\") === true;\n  } catch (_e) {\n    unsafeEval = false;\n  }\n  return unsafeEval;\n}\n\nexport { unsafeEvalSupported };\n//# sourceMappingURL=unsafeEvalSupported.mjs.map\n","\nexport default function earcut(data, holeIndices, dim = 2) {\n\n    const hasHoles = holeIndices && holeIndices.length;\n    const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n    let outerNode = linkedList(data, 0, outerLen, dim, true);\n    const triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    let minX, minY, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = data[0];\n        minY = data[1];\n        let maxX = minX;\n        let maxY = minY;\n\n        for (let i = dim; i < outerLen; i += dim) {\n            const x = data[i];\n            const y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    let last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (let i = start; i < end; i += dim) last = insertNode(i / dim | 0, data[i], data[i + 1], last);\n    } else {\n        for (let i = end - dim; i >= start; i -= dim) last = insertNode(i / dim | 0, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    let p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    let stop = ear;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        const prev = ear.prev;\n        const next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            triangles.push(prev.i, ear.i, next.i); // cut off the triangle\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    const a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    const ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox\n    const x0 = Math.min(ax, bx, cx),\n        y0 = Math.min(ay, by, cy),\n        x1 = Math.max(ax, bx, cx),\n        y1 = Math.max(ay, by, cy);\n\n    let p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    const a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    const ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox\n    const x0 = Math.min(ax, bx, cx),\n        y0 = Math.min(ay, by, cy),\n        x1 = Math.max(ax, bx, cx),\n        y1 = Math.max(ay, by, cy);\n\n    // z-order range for the current triangle bbox;\n    const minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    let p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles) {\n    let p = start;\n    do {\n        const a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i, p.i, b.i);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    let a = start;\n    do {\n        let b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                let c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    const queue = [];\n\n    for (let i = 0, len = holeIndices.length; i < len; i++) {\n        const start = holeIndices[i] * dim;\n        const end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        const list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareXYSlope);\n\n    // process holes from left to right\n    for (let i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareXYSlope(a, b) {\n    let result = a.x - b.x;\n    // when the left-most point of 2 holes meet at a vertex, sort the holes counterclockwise so that when we find\n    // the bridge to the outer shell is always the point that they meet at.\n    if (result === 0) {\n        result = a.y - b.y;\n        if (result === 0) {\n            const aSlope = (a.next.y - a.y) / (a.next.x - a.x);\n            const bSlope = (b.next.y - b.y) / (b.next.x - b.x);\n            result = aSlope - bSlope;\n        }\n    }\n    return result;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and link it\nfunction eliminateHole(hole, outerNode) {\n    const bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    const bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    let p = outerNode;\n    const hx = hole.x;\n    const hy = hole.y;\n    let qx = -Infinity;\n    let m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    // unless they intersect at a vertex, then choose the vertex\n    if (equals(hole, p)) return p;\n    do {\n        if (equals(hole, p.next)) return p.next;\n        else if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            const x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    const stop = m;\n    const mx = m.x;\n    const my = m.y;\n    let tanMin = Infinity;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            const tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    let p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    let numMerges;\n    let inSize = 1;\n\n    do {\n        let p = list;\n        let e;\n        list = null;\n        let tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            let q = p;\n            let pSize = 0;\n            for (let i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            let qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    let p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a point lies within a convex triangle but false if its equal to the first point of the triangle\nfunction pointInTriangleExceptFirst(ax, ay, bx, by, cx, cy, px, py) {\n    return !(ax === px && ay === py) && pointInTriangle(ax, ay, bx, by, cx, cy, px, py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // doesn't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    const o1 = sign(area(p1, q1, p2));\n    const o2 = sign(area(p1, q1, q2));\n    const o3 = sign(area(p2, q2, p1));\n    const o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    let p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    let p = a;\n    let inside = false;\n    const px = (a.x + b.x) / 2;\n    const py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    const a2 = createNode(a.i, a.x, a.y),\n        b2 = createNode(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    const p = createNode(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction createNode(i, x, y) {\n    return {\n        i, // vertex index in coordinates array\n        x, y, // vertex coordinates\n        prev: null, // previous and next vertex nodes in a polygon ring\n        next: null,\n        z: 0, // z-order curve value\n        prevZ: null, // previous and next nodes in z-order\n        nextZ: null,\n        steiner: false // indicates whether this is a steiner point\n    };\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nexport function deviation(data, holeIndices, dim, triangles) {\n    const hasHoles = holeIndices && holeIndices.length;\n    const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    let polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (let i = 0, len = holeIndices.length; i < len; i++) {\n            const start = holeIndices[i] * dim;\n            const end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    let trianglesArea = 0;\n    for (let i = 0; i < triangles.length; i += 3) {\n        const a = triangles[i] * dim;\n        const b = triangles[i + 1] * dim;\n        const c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n}\n\nfunction signedArea(data, start, end, dim) {\n    let sum = 0;\n    for (let i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nexport function flatten(data) {\n    const vertices = [];\n    const holes = [];\n    const dimensions = data[0][0].length;\n    let holeIndex = 0;\n    let prevLen = 0;\n\n    for (const ring of data) {\n        for (const p of ring) {\n            for (let d = 0; d < dimensions; d++) vertices.push(p[d]);\n        }\n        if (prevLen) {\n            holeIndex += prevLen;\n            holes.push(holeIndex);\n        }\n        prevLen = ring.length;\n    }\n    return {vertices, holes, dimensions};\n}\n","import earcutModule from 'earcut';\nexport { default as EventEmitter } from 'eventemitter3';\n\n\"use strict\";\nconst earcut = earcutModule.default || earcutModule;\n\nexport { earcut };\n//# sourceMappingURL=utils.mjs.map\n","\"use strict\";\nvar CLEAR = /* @__PURE__ */ ((CLEAR2) => {\n  CLEAR2[CLEAR2[\"NONE\"] = 0] = \"NONE\";\n  CLEAR2[CLEAR2[\"COLOR\"] = 16384] = \"COLOR\";\n  CLEAR2[CLEAR2[\"STENCIL\"] = 1024] = \"STENCIL\";\n  CLEAR2[CLEAR2[\"DEPTH\"] = 256] = \"DEPTH\";\n  CLEAR2[CLEAR2[\"COLOR_DEPTH\"] = 16640] = \"COLOR_DEPTH\";\n  CLEAR2[CLEAR2[\"COLOR_STENCIL\"] = 17408] = \"COLOR_STENCIL\";\n  CLEAR2[CLEAR2[\"DEPTH_STENCIL\"] = 1280] = \"DEPTH_STENCIL\";\n  CLEAR2[CLEAR2[\"ALL\"] = 17664] = \"ALL\";\n  return CLEAR2;\n})(CLEAR || {});\n\nexport { CLEAR };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nclass SystemRunner {\n  /**\n   * @param name - The function name that will be executed on the listeners added to this Runner.\n   */\n  constructor(name) {\n    this.items = [];\n    this._name = name;\n  }\n  /* jsdoc/check-param-names */\n  /**\n   * Dispatch/Broadcast Runner to all listeners added to the queue.\n   * @param {...any} params - (optional) parameters to pass to each listener\n   */\n  /* jsdoc/check-param-names */\n  emit(a0, a1, a2, a3, a4, a5, a6, a7) {\n    const { name, items } = this;\n    for (let i = 0, len = items.length; i < len; i++) {\n      items[i][name](a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    return this;\n  }\n  /**\n   * Add a listener to the Runner\n   *\n   * Runners do not need to have scope or functions passed to them.\n   * All that is required is to pass the listening object and ensure that it has contains a function that has the same name\n   * as the name provided to the Runner when it was created.\n   *\n   * Eg A listener passed to this Runner will require a 'complete' function.\n   *\n   * ```ts\n   * import { Runner } from 'pixi.js';\n   *\n   * const complete = new Runner('complete');\n   * ```\n   *\n   * The scope used will be the object itself.\n   * @param {any} item - The object that will be listening.\n   */\n  add(item) {\n    if (item[this._name]) {\n      this.remove(item);\n      this.items.push(item);\n    }\n    return this;\n  }\n  /**\n   * Remove a single listener from the dispatch queue.\n   * @param {any} item - The listener that you would like to remove.\n   */\n  remove(item) {\n    const index = this.items.indexOf(item);\n    if (index !== -1) {\n      this.items.splice(index, 1);\n    }\n    return this;\n  }\n  /**\n   * Check to see if the listener is already in the Runner\n   * @param {any} item - The listener that you would like to check.\n   */\n  contains(item) {\n    return this.items.indexOf(item) !== -1;\n  }\n  /** Remove all listeners from the Runner */\n  removeAll() {\n    this.items.length = 0;\n    return this;\n  }\n  /** Remove all references, don't use after this. */\n  destroy() {\n    this.removeAll();\n    this.items = null;\n    this._name = null;\n  }\n  /**\n   * `true` if there are no this Runner contains no listeners\n   * @readonly\n   */\n  get empty() {\n    return this.items.length === 0;\n  }\n  /**\n   * The name of the runner.\n   * @readonly\n   */\n  get name() {\n    return this._name;\n  }\n}\n\nexport { SystemRunner };\n//# sourceMappingURL=SystemRunner.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { loadEnvironmentExtensions } from '../../../../environment/autoDetectEnvironment.mjs';\nimport { Container } from '../../../../scene/container/Container.mjs';\nimport { unsafeEvalSupported } from '../../../../utils/browser/unsafeEvalSupported.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\nimport { GlobalResourceRegistry } from '../../../../utils/pool/GlobalResourceRegistry.mjs';\nimport '../../../../utils/utils.mjs';\nimport { CLEAR } from '../../gl/const.mjs';\nimport { SystemRunner } from './SystemRunner.mjs';\nimport EventEmitter from 'eventemitter3';\n\n\"use strict\";\nconst defaultRunners = [\n  \"init\",\n  \"destroy\",\n  \"contextChange\",\n  \"resolutionChange\",\n  \"resetState\",\n  \"renderEnd\",\n  \"renderStart\",\n  \"render\",\n  \"update\",\n  \"postrender\",\n  \"prerender\"\n];\nconst _AbstractRenderer = class _AbstractRenderer extends EventEmitter {\n  /**\n   * Set up a system with a collection of SystemClasses and runners.\n   * Systems are attached dynamically to this class when added.\n   * @param config - the config for the system manager\n   */\n  constructor(config) {\n    super();\n    /** @internal */\n    this.uid = uid(\"renderer\");\n    /** @internal */\n    this.runners = /* @__PURE__ */ Object.create(null);\n    /** @internal */\n    this.renderPipes = /* @__PURE__ */ Object.create(null);\n    this._initOptions = {};\n    this._systemsHash = /* @__PURE__ */ Object.create(null);\n    this.type = config.type;\n    this.name = config.name;\n    this.config = config;\n    const combinedRunners = [...defaultRunners, ...this.config.runners ?? []];\n    this._addRunners(...combinedRunners);\n    this._unsafeEvalCheck();\n  }\n  /**\n   * Initialize the renderer.\n   * @param options - The options to use to create the renderer.\n   */\n  async init(options = {}) {\n    const skip = options.skipExtensionImports === true ? true : options.manageImports === false;\n    await loadEnvironmentExtensions(skip);\n    this._addSystems(this.config.systems);\n    this._addPipes(this.config.renderPipes, this.config.renderPipeAdaptors);\n    for (const systemName in this._systemsHash) {\n      const system = this._systemsHash[systemName];\n      const defaultSystemOptions = system.constructor.defaultOptions;\n      options = { ...defaultSystemOptions, ...options };\n    }\n    options = { ..._AbstractRenderer.defaultOptions, ...options };\n    this._roundPixels = options.roundPixels ? 1 : 0;\n    for (let i = 0; i < this.runners.init.items.length; i++) {\n      await this.runners.init.items[i].init(options);\n    }\n    this._initOptions = options;\n  }\n  render(args, deprecated) {\n    let options = args;\n    if (options instanceof Container) {\n      options = { container: options };\n      if (deprecated) {\n        deprecation(v8_0_0, \"passing a second argument is deprecated, please use render options instead\");\n        options.target = deprecated.renderTexture;\n      }\n    }\n    options.target || (options.target = this.view.renderTarget);\n    if (options.target === this.view.renderTarget) {\n      this._lastObjectRendered = options.container;\n      options.clearColor ?? (options.clearColor = this.background.colorRgba);\n      options.clear ?? (options.clear = this.background.clearBeforeRender);\n    }\n    if (options.clearColor) {\n      const isRGBAArray = Array.isArray(options.clearColor) && options.clearColor.length === 4;\n      options.clearColor = isRGBAArray ? options.clearColor : Color.shared.setValue(options.clearColor).toArray();\n    }\n    if (!options.transform) {\n      options.container.updateLocalTransform();\n      options.transform = options.container.localTransform;\n    }\n    if (!options.container.visible) {\n      return;\n    }\n    options.container.enableRenderGroup();\n    this.runners.prerender.emit(options);\n    this.runners.renderStart.emit(options);\n    this.runners.render.emit(options);\n    this.runners.renderEnd.emit(options);\n    this.runners.postrender.emit(options);\n  }\n  /**\n   * Resizes the WebGL view to the specified width and height.\n   * @param desiredScreenWidth - The desired width of the screen.\n   * @param desiredScreenHeight - The desired height of the screen.\n   * @param resolution - The resolution / device pixel ratio of the renderer.\n   */\n  resize(desiredScreenWidth, desiredScreenHeight, resolution) {\n    const previousResolution = this.view.resolution;\n    this.view.resize(desiredScreenWidth, desiredScreenHeight, resolution);\n    this.emit(\"resize\", this.view.screen.width, this.view.screen.height, this.view.resolution);\n    if (resolution !== void 0 && resolution !== previousResolution) {\n      this.runners.resolutionChange.emit(resolution);\n    }\n  }\n  /**\n   * Clears the render target.\n   * @param options - The options to use when clearing the render target.\n   * @param options.target - The render target to clear.\n   * @param options.clearColor - The color to clear with.\n   * @param options.clear - The clear mode to use.\n   * @advanced\n   */\n  clear(options = {}) {\n    const renderer = this;\n    options.target || (options.target = renderer.renderTarget.renderTarget);\n    options.clearColor || (options.clearColor = this.background.colorRgba);\n    options.clear ?? (options.clear = CLEAR.ALL);\n    const { clear, clearColor, target } = options;\n    Color.shared.setValue(clearColor ?? this.background.colorRgba);\n    renderer.renderTarget.clear(target, clear, Color.shared.toArray());\n  }\n  /** The resolution / device pixel ratio of the renderer. */\n  get resolution() {\n    return this.view.resolution;\n  }\n  set resolution(value) {\n    this.view.resolution = value;\n    this.runners.resolutionChange.emit(value);\n  }\n  /**\n   * Same as view.width, actual number of pixels in the canvas by horizontal.\n   * @type {number}\n   * @readonly\n   * @default 800\n   */\n  get width() {\n    return this.view.texture.frame.width;\n  }\n  /**\n   * Same as view.height, actual number of pixels in the canvas by vertical.\n   * @default 600\n   */\n  get height() {\n    return this.view.texture.frame.height;\n  }\n  // NOTE: this was `view` in v7\n  /**\n   * The canvas element that everything is drawn to.\n   * @type {environment.ICanvas}\n   */\n  get canvas() {\n    return this.view.canvas;\n  }\n  /**\n   * the last object rendered by the renderer. Useful for other plugins like interaction managers\n   * @readonly\n   */\n  get lastObjectRendered() {\n    return this._lastObjectRendered;\n  }\n  /**\n   * Flag if we are rendering to the screen vs renderTexture\n   * @readonly\n   * @default true\n   */\n  get renderingToScreen() {\n    const renderer = this;\n    return renderer.renderTarget.renderingToScreen;\n  }\n  /**\n   * Measurements of the screen. (0, 0, screenWidth, screenHeight).\n   *\n   * Its safe to use as filterArea or hitArea for the whole stage.\n   */\n  get screen() {\n    return this.view.screen;\n  }\n  /**\n   * Create a bunch of runners based of a collection of ids\n   * @param runnerIds - the runner ids to add\n   */\n  _addRunners(...runnerIds) {\n    runnerIds.forEach((runnerId) => {\n      this.runners[runnerId] = new SystemRunner(runnerId);\n    });\n  }\n  _addSystems(systems) {\n    let i;\n    for (i in systems) {\n      const val = systems[i];\n      this._addSystem(val.value, val.name);\n    }\n  }\n  /**\n   * Add a new system to the renderer.\n   * @param ClassRef - Class reference\n   * @param name - Property name for system, if not specified\n   *        will use a static `name` property on the class itself. This\n   *        name will be assigned as s property on the Renderer so make\n   *        sure it doesn't collide with properties on Renderer.\n   * @returns Return instance of renderer\n   */\n  _addSystem(ClassRef, name) {\n    const system = new ClassRef(this);\n    if (this[name]) {\n      throw new Error(`Whoops! The name \"${name}\" is already in use`);\n    }\n    this[name] = system;\n    this._systemsHash[name] = system;\n    for (const i in this.runners) {\n      this.runners[i].add(system);\n    }\n    return this;\n  }\n  _addPipes(pipes, pipeAdaptors) {\n    const adaptors = pipeAdaptors.reduce((acc, adaptor) => {\n      acc[adaptor.name] = adaptor.value;\n      return acc;\n    }, {});\n    pipes.forEach((pipe) => {\n      const PipeClass = pipe.value;\n      const name = pipe.name;\n      const Adaptor = adaptors[name];\n      this.renderPipes[name] = new PipeClass(\n        this,\n        Adaptor ? new Adaptor() : null\n      );\n      this.runners.destroy.add(this.renderPipes[name]);\n    });\n  }\n  destroy(options = false) {\n    this.runners.destroy.items.reverse();\n    this.runners.destroy.emit(options);\n    Object.values(this.runners).forEach((runner) => {\n      runner.destroy();\n    });\n    if (options === true || typeof options === \"object\" && options.releaseGlobalResources) {\n      GlobalResourceRegistry.release();\n    }\n    this._systemsHash = null;\n    this.renderPipes = null;\n  }\n  /**\n   * Generate a texture from a container.\n   * @param options - options or container target to use when generating the texture\n   * @returns a texture\n   */\n  generateTexture(options) {\n    return this.textureGenerator.generateTexture(options);\n  }\n  /**\n   * Whether the renderer will round coordinates to whole pixels when rendering.\n   * Can be overridden on a per scene item basis.\n   */\n  get roundPixels() {\n    return !!this._roundPixels;\n  }\n  /**\n   * Overridable function by `pixi.js/unsafe-eval` to silence\n   * throwing an error if platform doesn't support unsafe-evals.\n   * @private\n   * @ignore\n   */\n  _unsafeEvalCheck() {\n    if (!unsafeEvalSupported()) {\n      throw new Error(\"Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.\");\n    }\n  }\n  /**\n   * Resets the rendering state of the renderer.\n   * This is useful when you want to use the WebGL context directly and need to ensure PixiJS's internal state\n   * stays synchronized. When modifying the WebGL context state externally, calling this method before the next Pixi\n   * render will reset all internal caches and ensure it executes correctly.\n   *\n   * This is particularly useful when combining PixiJS with other rendering engines like Three.js:\n   * ```js\n   * // Reset Three.js state\n   * threeRenderer.resetState();\n   *\n   * // Render a Three.js scene\n   * threeRenderer.render(threeScene, threeCamera);\n   *\n   * // Reset PixiJS state since Three.js modified the WebGL context\n   * pixiRenderer.resetState();\n   *\n   * // Now render Pixi content\n   * pixiRenderer.render(pixiScene);\n   * ```\n   * @advanced\n   */\n  resetState() {\n    this.runners.resetState.emit();\n  }\n};\n/** The default options for the renderer. */\n_AbstractRenderer.defaultOptions = {\n  /**\n   * Default resolution / device pixel ratio of the renderer.\n   * @default 1\n   */\n  resolution: 1,\n  /**\n   * Should the `failIfMajorPerformanceCaveat` flag be enabled as a context option used in the `isWebGLSupported`\n   * function. If set to true, a WebGL renderer can fail to be created if the browser thinks there could be\n   * performance issues when using WebGL.\n   *\n   * In PixiJS v6 this has changed from true to false by default, to allow WebGL to work in as many\n   * scenarios as possible. However, some users may have a poor experience, for example, if a user has a gpu or\n   * driver version blacklisted by the\n   * browser.\n   *\n   * If your application requires high performance rendering, you may wish to set this to false.\n   * We recommend one of two options if you decide to set this flag to false:\n   *\n   * 1: Use the Canvas renderer as a fallback in case high performance WebGL is\n   *    not supported.\n   *\n   * 2: Call `isWebGLSupported` (which if found in the utils package) in your code before attempting to create a\n   *    PixiJS renderer, and show an error message to the user if the function returns false, explaining that their\n   *    device & browser combination does not support high performance WebGL.\n   *    This is a much better strategy than trying to create a PixiJS renderer and finding it then fails.\n   * @default false\n   */\n  failIfMajorPerformanceCaveat: false,\n  /**\n   * Should round pixels be forced when rendering?\n   * @default false\n   */\n  roundPixels: false\n};\nlet AbstractRenderer = _AbstractRenderer;\n\nexport { AbstractRenderer };\n//# sourceMappingURL=AbstractRenderer.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\nimport { AbstractRenderer } from '../../rendering/renderers/shared/system/AbstractRenderer.mjs';\n\n\"use strict\";\nlet _isWebGLSupported;\nfunction isWebGLSupported(failIfMajorPerformanceCaveat) {\n  if (_isWebGLSupported !== void 0)\n    return _isWebGLSupported;\n  _isWebGLSupported = (() => {\n    const contextOptions = {\n      stencil: true,\n      failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n    };\n    try {\n      if (!DOMAdapter.get().getWebGLRenderingContext()) {\n        return false;\n      }\n      const canvas = DOMAdapter.get().createCanvas();\n      let gl = canvas.getContext(\"webgl\", contextOptions);\n      const success = !!gl?.getContextAttributes()?.stencil;\n      if (gl) {\n        const loseContext = gl.getExtension(\"WEBGL_lose_context\");\n        if (loseContext) {\n          loseContext.loseContext();\n        }\n      }\n      gl = null;\n      return success;\n    } catch (_e) {\n      return false;\n    }\n  })();\n  return _isWebGLSupported;\n}\n\nexport { isWebGLSupported };\n//# sourceMappingURL=isWebGLSupported.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\n\n\"use strict\";\nlet _isWebGPUSupported;\nasync function isWebGPUSupported(options = {}) {\n  if (_isWebGPUSupported !== void 0)\n    return _isWebGPUSupported;\n  _isWebGPUSupported = await (async () => {\n    const gpu = DOMAdapter.get().getNavigator().gpu;\n    if (!gpu) {\n      return false;\n    }\n    try {\n      const adapter = await gpu.requestAdapter(options);\n      await adapter.requestDevice();\n      return true;\n    } catch (_e) {\n      return false;\n    }\n  })();\n  return _isWebGPUSupported;\n}\n\nexport { isWebGPUSupported };\n//# sourceMappingURL=isWebGPUSupported.mjs.map\n","import { isWebGLSupported } from '../../utils/browser/isWebGLSupported.mjs';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported.mjs';\nimport { AbstractRenderer } from './shared/system/AbstractRenderer.mjs';\n\n\"use strict\";\nconst renderPriority = [\"webgl\", \"webgpu\", \"canvas\"];\nasync function autoDetectRenderer(options) {\n  let preferredOrder = [];\n  if (options.preference) {\n    preferredOrder.push(options.preference);\n    renderPriority.forEach((item) => {\n      if (item !== options.preference) {\n        preferredOrder.push(item);\n      }\n    });\n  } else {\n    preferredOrder = renderPriority.slice();\n  }\n  let RendererClass;\n  let finalOptions = {};\n  for (let i = 0; i < preferredOrder.length; i++) {\n    const rendererType = preferredOrder[i];\n    if (rendererType === \"webgpu\" && await isWebGPUSupported()) {\n      const { WebGPURenderer } = await import('./gpu/WebGPURenderer.mjs');\n      RendererClass = WebGPURenderer;\n      finalOptions = { ...options, ...options.webgpu };\n      break;\n    } else if (rendererType === \"webgl\" && isWebGLSupported(\n      options.failIfMajorPerformanceCaveat ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n    )) {\n      const { WebGLRenderer } = await import('./gl/WebGLRenderer.mjs');\n      RendererClass = WebGLRenderer;\n      finalOptions = { ...options, ...options.webgl };\n      break;\n    } else if (rendererType === \"canvas\") {\n      finalOptions = { ...options };\n      throw new Error(\"CanvasRenderer is not yet implemented\");\n    }\n  }\n  delete finalOptions.webgpu;\n  delete finalOptions.webgl;\n  if (!RendererClass) {\n    throw new Error(\"No available renderer for the current environment\");\n  }\n  const renderer = new RendererClass();\n  await renderer.init(finalOptions);\n  return renderer;\n}\n\nexport { autoDetectRenderer };\n//# sourceMappingURL=autoDetectRenderer.mjs.map\n","export { default as EventEmitter } from 'eventemitter3';\n\n\"use strict\";\nconst DATA_URI = /^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i;\nconst VERSION = \"8.13.2\";\n\nexport { DATA_URI, VERSION };\n//# sourceMappingURL=const.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { VERSION } from '../const.mjs';\n\n\"use strict\";\nclass ApplicationInitHook {\n  static init() {\n    globalThis.__PIXI_APP_INIT__?.(this, VERSION);\n  }\n  static destroy() {\n  }\n}\n/** @ignore */\nApplicationInitHook.extension = ExtensionType.Application;\nclass RendererInitHook {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  init() {\n    globalThis.__PIXI_RENDERER_INIT__?.(this._renderer, VERSION);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nRendererInitHook.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"initHook\",\n  priority: -10\n};\n\nexport { ApplicationInitHook, RendererInitHook };\n//# sourceMappingURL=globalHooks.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\nimport { autoDetectRenderer } from '../rendering/renderers/autoDetectRenderer.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { ApplicationInitHook } from '../utils/global/globalHooks.mjs';\nimport { deprecation, v8_0_0 } from '../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst _Application = class _Application {\n  constructor(...args) {\n    /**\n     * The root display container for your application.\n     * All visual elements should be added to this container or its children.\n     * @example\n     * ```js\n     * // Create a sprite and add it to the stage\n     * const sprite = Sprite.from('image.png');\n     * app.stage.addChild(sprite);\n     *\n     * // Create a container for grouping objects\n     * const container = new Container();\n     * app.stage.addChild(container);\n     * ```\n     */\n    this.stage = new Container();\n    if (args[0] !== void 0) {\n      deprecation(v8_0_0, \"Application constructor options are deprecated, please use Application.init() instead.\");\n    }\n  }\n  /**\n   * Initializes the PixiJS application with the specified options.\n   *\n   * This method must be called after creating a new Application instance.\n   * @param options - Configuration options for the application and renderer\n   * @returns A promise that resolves when initialization is complete\n   * @example\n   * ```js\n   * const app = new Application();\n   *\n   * // Initialize with custom options\n   * await app.init({\n   *     width: 800,\n   *     height: 600,\n   *     backgroundColor: 0x1099bb,\n   *     preference: 'webgl', // or 'webgpu'\n   * });\n   * ```\n   */\n  async init(options) {\n    options = { ...options };\n    this.renderer = await autoDetectRenderer(options);\n    _Application._plugins.forEach((plugin) => {\n      plugin.init.call(this, options);\n    });\n  }\n  /**\n   * Renders the current stage to the screen.\n   *\n   * When using the default setup with {@link TickerPlugin} (enabled by default), you typically don't need to call\n   * this method directly as rendering is handled automatically.\n   *\n   * Only use this method if you've disabled the {@link TickerPlugin} or need custom\n   * render timing control.\n   * @example\n   * ```js\n   * // Example 1: Default setup (TickerPlugin handles rendering)\n   * const app = new Application();\n   * await app.init();\n   * // No need to call render() - TickerPlugin handles it\n   *\n   * // Example 2: Custom rendering loop (if TickerPlugin is disabled)\n   * const app = new Application();\n   * await app.init({ autoStart: false }); // Disable automatic rendering\n   *\n   * function animate() {\n   *     app.render();\n   *     requestAnimationFrame(animate);\n   * }\n   * animate();\n   * ```\n   */\n  render() {\n    this.renderer.render({ container: this.stage });\n  }\n  /**\n   * Reference to the renderer's canvas element. This is the HTML element\n   * that displays your application's graphics.\n   * @readonly\n   * @type {HTMLCanvasElement}\n   * @example\n   * ```js\n   * // Create a new application\n   * const app = new Application();\n   * // Initialize the application\n   * await app.init({...});\n   * // Add canvas to the page\n   * document.body.appendChild(app.canvas);\n   *\n   * // Access the canvas directly\n   * console.log(app.canvas); // HTMLCanvasElement\n   * ```\n   */\n  get canvas() {\n    return this.renderer.canvas;\n  }\n  /**\n   * Reference to the renderer's canvas element.\n   * @type {HTMLCanvasElement}\n   * @deprecated since 8.0.0\n   * @see {@link Application#canvas}\n   */\n  get view() {\n    deprecation(v8_0_0, \"Application.view is deprecated, please use Application.canvas instead.\");\n    return this.renderer.canvas;\n  }\n  /**\n   * Reference to the renderer's screen rectangle. This represents the visible area of your application.\n   *\n   * It's commonly used for:\n   * - Setting filter areas for full-screen effects\n   * - Defining hit areas for screen-wide interaction\n   * - Determining the visible bounds of your application\n   * @readonly\n   * @example\n   * ```js\n   * // Use as filter area for a full-screen effect\n   * const blurFilter = new BlurFilter();\n   * sprite.filterArea = app.screen;\n   *\n   * // Use as hit area for screen-wide interaction\n   * const screenSprite = new Sprite();\n   * screenSprite.hitArea = app.screen;\n   *\n   * // Get screen dimensions\n   * console.log(app.screen.width, app.screen.height);\n   * ```\n   * @see {@link Rectangle} For all available properties and methods\n   */\n  get screen() {\n    return this.renderer.screen;\n  }\n  /**\n   * Destroys the application and all of its resources.\n   *\n   * This method should be called when you want to completely\n   * clean up the application and free all associated memory.\n   * @param rendererDestroyOptions - Options for destroying the renderer:\n   *  - `false` or `undefined`: Preserves the canvas element (default)\n   *  - `true`: Removes the canvas element\n   *  - `{ removeView: boolean }`: Object with removeView property to control canvas removal\n   * @param options - Options for destroying the application:\n   *  - `false` or `undefined`: Basic cleanup (default)\n   *  - `true`: Complete cleanup including children\n   *  - Detailed options object:\n   *    - `children`: Remove children\n   *    - `texture`: Destroy textures\n   *    - `textureSource`: Destroy texture sources\n   *    - `context`: Destroy WebGL context\n   * @example\n   * ```js\n   * // Basic cleanup\n   * app.destroy();\n   *\n   * // Remove canvas and do complete cleanup\n   * app.destroy(true, true);\n   *\n   * // Remove canvas with explicit options\n   * app.destroy({ removeView: true }, true);\n   *\n   * // Detailed cleanup with specific options\n   * app.destroy(\n   *     { removeView: true },\n   *     {\n   *         children: true,\n   *         texture: true,\n   *         textureSource: true,\n   *         context: true\n   *     }\n   * );\n   * ```\n   * > [!WARNING] After calling destroy, the application instance should no longer be used.\n   * > All properties will be null and further operations will throw errors.\n   */\n  destroy(rendererDestroyOptions = false, options = false) {\n    const plugins = _Application._plugins.slice(0);\n    plugins.reverse();\n    plugins.forEach((plugin) => {\n      plugin.destroy.call(this);\n    });\n    this.stage.destroy(options);\n    this.stage = null;\n    this.renderer.destroy(rendererDestroyOptions);\n    this.renderer = null;\n  }\n};\n/**\n * Collection of installed plugins.\n * @internal\n */\n_Application._plugins = [];\nlet Application = _Application;\nextensions.handleByList(ExtensionType.Application, Application._plugins);\nextensions.add(ApplicationInitHook);\n\nexport { Application };\n//# sourceMappingURL=Application.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nclass ResizePlugin {\n  /**\n   * Initialize the plugin with scope of application instance\n   * @private\n   * @param {object} [options] - See application options\n   */\n  static init(options) {\n    Object.defineProperty(\n      this,\n      \"resizeTo\",\n      {\n        set(dom) {\n          globalThis.removeEventListener(\"resize\", this.queueResize);\n          this._resizeTo = dom;\n          if (dom) {\n            globalThis.addEventListener(\"resize\", this.queueResize);\n            this.resize();\n          }\n        },\n        get() {\n          return this._resizeTo;\n        }\n      }\n    );\n    this.queueResize = () => {\n      if (!this._resizeTo) {\n        return;\n      }\n      this._cancelResize();\n      this._resizeId = requestAnimationFrame(() => this.resize());\n    };\n    this._cancelResize = () => {\n      if (this._resizeId) {\n        cancelAnimationFrame(this._resizeId);\n        this._resizeId = null;\n      }\n    };\n    this.resize = () => {\n      if (!this._resizeTo) {\n        return;\n      }\n      this._cancelResize();\n      let width;\n      let height;\n      if (this._resizeTo === globalThis.window) {\n        width = globalThis.innerWidth;\n        height = globalThis.innerHeight;\n      } else {\n        const { clientWidth, clientHeight } = this._resizeTo;\n        width = clientWidth;\n        height = clientHeight;\n      }\n      this.renderer.resize(width, height);\n      this.render();\n    };\n    this._resizeId = null;\n    this._resizeTo = null;\n    this.resizeTo = options.resizeTo || null;\n  }\n  /**\n   * Clean up the ticker, scoped to application\n   * @private\n   */\n  static destroy() {\n    globalThis.removeEventListener(\"resize\", this.queueResize);\n    this._cancelResize();\n    this._cancelResize = null;\n    this.queueResize = null;\n    this.resizeTo = null;\n    this.resize = null;\n  }\n}\n/** @ignore */\nResizePlugin.extension = ExtensionType.Application;\n\nexport { ResizePlugin };\n//# sourceMappingURL=ResizePlugin.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nclass TickerPlugin {\n  /**\n   * Initialize the plugin with scope of application instance\n   * @private\n   * @param {object} [options] - See application options\n   */\n  static init(options) {\n    options = Object.assign({\n      autoStart: true,\n      sharedTicker: false\n    }, options);\n    Object.defineProperty(\n      this,\n      \"ticker\",\n      {\n        set(ticker) {\n          if (this._ticker) {\n            this._ticker.remove(this.render, this);\n          }\n          this._ticker = ticker;\n          if (ticker) {\n            ticker.add(this.render, this, UPDATE_PRIORITY.LOW);\n          }\n        },\n        get() {\n          return this._ticker;\n        }\n      }\n    );\n    this.stop = () => {\n      this._ticker.stop();\n    };\n    this.start = () => {\n      this._ticker.start();\n    };\n    this._ticker = null;\n    this.ticker = options.sharedTicker ? Ticker.shared : new Ticker();\n    if (options.autoStart) {\n      this.start();\n    }\n  }\n  /**\n   * Clean up the ticker, scoped to application.\n   * @private\n   */\n  static destroy() {\n    if (this._ticker) {\n      const oldTicker = this._ticker;\n      this.ticker = null;\n      oldTicker.destroy();\n    }\n  }\n}\n/** @ignore */\nTickerPlugin.extension = ExtensionType.Application;\n\nexport { TickerPlugin };\n//# sourceMappingURL=TickerPlugin.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nclass AbstractBitmapFont extends EventEmitter {\n  constructor() {\n    super(...arguments);\n    /** The map of characters by character code. */\n    this.chars = /* @__PURE__ */ Object.create(null);\n    /**\n     * The line-height of the font face in pixels.\n     * @type {number}\n     */\n    this.lineHeight = 0;\n    /**\n     * The name of the font face\n     * @type {string}\n     */\n    this.fontFamily = \"\";\n    /** The metrics of the font face. */\n    this.fontMetrics = { fontSize: 0, ascent: 0, descent: 0 };\n    /**\n     * The offset of the font face from the baseline.\n     * @type {number}\n     */\n    this.baseLineOffset = 0;\n    /** The range and type of the distance field for this font. */\n    this.distanceField = { type: \"none\", range: 0 };\n    /** The map of base page textures (i.e., sheets of glyphs). */\n    this.pages = [];\n    /** should the fill for this font be applied as a tint to the text. */\n    this.applyFillAsTint = true;\n    /** The size of the font face in pixels. */\n    this.baseMeasurementFontSize = 100;\n    this.baseRenderedFontSize = 100;\n  }\n  /**\n   * The name of the font face.\n   * @deprecated since 8.0.0 Use `fontFamily` instead.\n   */\n  get font() {\n    deprecation(v8_0_0, \"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead.\");\n    return this.fontFamily;\n  }\n  /**\n   * The map of base page textures (i.e., sheets of glyphs).\n   * @deprecated since 8.0.0 Use `pages` instead.\n   */\n  get pageTextures() {\n    deprecation(v8_0_0, \"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.\");\n    return this.pages;\n  }\n  /**\n   * The size of the font face in pixels.\n   * @deprecated since 8.0.0 Use `fontMetrics.fontSize` instead.\n   */\n  get size() {\n    deprecation(v8_0_0, \"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead.\");\n    return this.fontMetrics.fontSize;\n  }\n  /**\n   * The kind of distance field for this font or \"none\".\n   * @deprecated since 8.0.0 Use `distanceField.type` instead.\n   */\n  get distanceFieldRange() {\n    deprecation(v8_0_0, \"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead.\");\n    return this.distanceField.range;\n  }\n  /**\n   * The range of the distance field in pixels.\n   * @deprecated since 8.0.0 Use `distanceField.range` instead.\n   */\n  get distanceFieldType() {\n    deprecation(v8_0_0, \"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead.\");\n    return this.distanceField.type;\n  }\n  destroy(destroyTextures = false) {\n    this.emit(\"destroy\", this);\n    this.removeAllListeners();\n    for (const i in this.chars) {\n      this.chars[i].texture?.destroy();\n    }\n    this.chars = null;\n    if (destroyTextures) {\n      this.pages.forEach((page) => page.texture.destroy(true));\n      this.pages = null;\n    }\n  }\n}\n\nexport { AbstractBitmapFont };\n//# sourceMappingURL=AbstractBitmapFont.mjs.map\n","/**\n * tiny-lru\n *\n * @copyright 2025 Jason Mulligan <jason.mulligan@avoidwork.com>\n * @license BSD-3-Clause\n * @version 11.4.5\n */\n/**\n * A high-performance Least Recently Used (LRU) cache implementation with optional TTL support.\n * Items are automatically evicted when the cache reaches its maximum size,\n * removing the least recently used items first. All core operations (get, set, delete) are O(1).\n *\n * @class LRU\n * @example\n * // Create a cache with max 100 items\n * const cache = new LRU(100);\n * cache.set('key1', 'value1');\n * console.log(cache.get('key1')); // 'value1'\n *\n * @example\n * // Create a cache with TTL\n * const cache = new LRU(100, 5000); // 5 second TTL\n * cache.set('key1', 'value1');\n * // After 5 seconds, key1 will be expired\n */\nclass LRU {\n\t/**\n\t * Creates a new LRU cache instance.\n\t * Note: Constructor does not validate parameters. Use lru() factory function for parameter validation.\n\t *\n\t * @constructor\n\t * @param {number} [max=0] - Maximum number of items to store. 0 means unlimited.\n\t * @param {number} [ttl=0] - Time to live in milliseconds. 0 means no expiration.\n\t * @param {boolean} [resetTtl=false] - Whether to reset TTL when accessing existing items via get().\n\t * @example\n\t * const cache = new LRU(1000, 60000, true); // 1000 items, 1 minute TTL, reset on access\n\t * @see {@link lru} For parameter validation\n\t * @since 1.0.0\n\t */\n\tconstructor (max = 0, ttl = 0, resetTtl = false) {\n\t\tthis.first = null;\n\t\tthis.items = Object.create(null);\n\t\tthis.last = null;\n\t\tthis.max = max;\n\t\tthis.resetTtl = resetTtl;\n\t\tthis.size = 0;\n\t\tthis.ttl = ttl;\n\t}\n\n\t/**\n\t * Removes all items from the cache.\n\t *\n\t * @method clear\n\t * @memberof LRU\n\t * @returns {LRU} The LRU instance for method chaining.\n\t * @example\n\t * cache.clear();\n\t * console.log(cache.size); // 0\n\t * @since 1.0.0\n\t */\n\tclear () {\n\t\tthis.first = null;\n\t\tthis.items = Object.create(null);\n\t\tthis.last = null;\n\t\tthis.size = 0;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes an item from the cache by key.\n\t *\n\t * @method delete\n\t * @memberof LRU\n\t * @param {string} key - The key of the item to delete.\n\t * @returns {LRU} The LRU instance for method chaining.\n\t * @example\n\t * cache.set('key1', 'value1');\n\t * cache.delete('key1');\n\t * console.log(cache.has('key1')); // false\n\t * @see {@link LRU#has}\n\t * @see {@link LRU#clear}\n\t * @since 1.0.0\n\t */\n\tdelete (key) {\n\t\tif (this.has(key)) {\n\t\t\tconst item = this.items[key];\n\n\t\t\tdelete this.items[key];\n\t\t\tthis.size--;\n\n\t\t\tif (item.prev !== null) {\n\t\t\t\titem.prev.next = item.next;\n\t\t\t}\n\n\t\t\tif (item.next !== null) {\n\t\t\t\titem.next.prev = item.prev;\n\t\t\t}\n\n\t\t\tif (this.first === item) {\n\t\t\t\tthis.first = item.next;\n\t\t\t}\n\n\t\t\tif (this.last === item) {\n\t\t\t\tthis.last = item.prev;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns an array of [key, value] pairs for the specified keys.\n\t * Order follows LRU order (least to most recently used).\n\t *\n\t * @method entries\n\t * @memberof LRU\n\t * @param {string[]} [keys=this.keys()] - Array of keys to get entries for. Defaults to all keys.\n\t * @returns {Array<Array<*>>} Array of [key, value] pairs in LRU order.\n\t * @example\n\t * cache.set('a', 1).set('b', 2);\n\t * console.log(cache.entries()); // [['a', 1], ['b', 2]]\n\t * console.log(cache.entries(['a'])); // [['a', 1]]\n\t * @see {@link LRU#keys}\n\t * @see {@link LRU#values}\n\t * @since 11.1.0\n\t */\n\tentries (keys = this.keys()) {\n\t\treturn keys.map(key => [key, this.get(key)]);\n\t}\n\n\t/**\n\t * Removes the least recently used item from the cache.\n\t *\n\t * @method evict\n\t * @memberof LRU\n\t * @param {boolean} [bypass=false] - Whether to force eviction even when cache is empty.\n\t * @returns {LRU} The LRU instance for method chaining.\n\t * @example\n\t * cache.set('old', 'value').set('new', 'value');\n\t * cache.evict(); // Removes 'old' item\n\t * @see {@link LRU#setWithEvicted}\n\t * @since 1.0.0\n\t */\n\tevict (bypass = false) {\n\t\tif (bypass || this.size > 0) {\n\t\t\tconst item = this.first;\n\n\t\t\tdelete this.items[item.key];\n\n\t\t\tif (--this.size === 0) {\n\t\t\t\tthis.first = null;\n\t\t\t\tthis.last = null;\n\t\t\t} else {\n\t\t\t\tthis.first = item.next;\n\t\t\t\tthis.first.prev = null;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the expiration timestamp for a given key.\n\t *\n\t * @method expiresAt\n\t * @memberof LRU\n\t * @param {string} key - The key to check expiration for.\n\t * @returns {number|undefined} The expiration timestamp in milliseconds, or undefined if key doesn't exist.\n\t * @example\n\t * const cache = new LRU(100, 5000); // 5 second TTL\n\t * cache.set('key1', 'value1');\n\t * console.log(cache.expiresAt('key1')); // timestamp 5 seconds from now\n\t * @see {@link LRU#get}\n\t * @see {@link LRU#has}\n\t * @since 1.0.0\n\t */\n\texpiresAt (key) {\n\t\tlet result;\n\n\t\tif (this.has(key)) {\n\t\t\tresult = this.items[key].expiry;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Retrieves a value from the cache by key. Updates the item's position to most recently used.\n\t *\n\t * @method get\n\t * @memberof LRU\n\t * @param {string} key - The key to retrieve.\n\t * @returns {*} The value associated with the key, or undefined if not found or expired.\n\t * @example\n\t * cache.set('key1', 'value1');\n\t * console.log(cache.get('key1')); // 'value1'\n\t * console.log(cache.get('nonexistent')); // undefined\n\t * @see {@link LRU#set}\n\t * @see {@link LRU#has}\n\t * @since 1.0.0\n\t */\n\tget (key) {\n\t\tconst item = this.items[key];\n\n\t\tif (item !== undefined) {\n\t\t\t// Check TTL only if enabled to avoid unnecessary Date.now() calls\n\t\t\tif (this.ttl > 0) {\n\t\t\t\tif (item.expiry <= Date.now()) {\n\t\t\t\t\tthis.delete(key);\n\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fast LRU update without full set() overhead\n\t\t\tthis.moveToEnd(item);\n\n\t\t\treturn item.value;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Checks if a key exists in the cache.\n\t *\n\t * @method has\n\t * @memberof LRU\n\t * @param {string} key - The key to check for.\n\t * @returns {boolean} True if the key exists, false otherwise.\n\t * @example\n\t * cache.set('key1', 'value1');\n\t * console.log(cache.has('key1')); // true\n\t * console.log(cache.has('nonexistent')); // false\n\t * @see {@link LRU#get}\n\t * @see {@link LRU#delete}\n\t * @since 9.0.0\n\t */\n\thas (key) {\n\t\treturn key in this.items;\n\t}\n\n\t/**\n\t * Efficiently moves an item to the end of the LRU list (most recently used position).\n\t * This is an internal optimization method that avoids the overhead of the full set() operation\n\t * when only LRU position needs to be updated.\n\t *\n\t * @method moveToEnd\n\t * @memberof LRU\n\t * @param {Object} item - The cache item with prev/next pointers to reposition.\n\t * @private\n\t * @since 11.3.5\n\t */\n\tmoveToEnd (item) {\n\t\t// If already at the end, nothing to do\n\t\tif (this.last === item) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove item from current position in the list\n\t\tif (item.prev !== null) {\n\t\t\titem.prev.next = item.next;\n\t\t}\n\n\t\tif (item.next !== null) {\n\t\t\titem.next.prev = item.prev;\n\t\t}\n\n\t\t// Update first pointer if this was the first item\n\t\tif (this.first === item) {\n\t\t\tthis.first = item.next;\n\t\t}\n\n\t\t// Add item to the end\n\t\titem.prev = this.last;\n\t\titem.next = null;\n\n\t\tif (this.last !== null) {\n\t\t\tthis.last.next = item;\n\t\t}\n\n\t\tthis.last = item;\n\n\t\t// Handle edge case: if this was the only item, it's also first\n\t\tif (this.first === null) {\n\t\t\tthis.first = item;\n\t\t}\n\t}\n\n\t/**\n\t * Returns an array of all keys in the cache, ordered from least to most recently used.\n\t *\n\t * @method keys\n\t * @memberof LRU\n\t * @returns {string[]} Array of keys in LRU order.\n\t * @example\n\t * cache.set('a', 1).set('b', 2);\n\t * cache.get('a'); // Move 'a' to most recent\n\t * console.log(cache.keys()); // ['b', 'a']\n\t * @see {@link LRU#values}\n\t * @see {@link LRU#entries}\n\t * @since 9.0.0\n\t */\n\tkeys () {\n\t\tconst result = [];\n\t\tlet x = this.first;\n\n\t\twhile (x !== null) {\n\t\t\tresult.push(x.key);\n\t\t\tx = x.next;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Sets a value in the cache and returns any evicted item.\n\t *\n\t * @method setWithEvicted\n\t * @memberof LRU\n\t * @param {string} key - The key to set.\n\t * @param {*} value - The value to store.\n\t * @param {boolean} [resetTtl=this.resetTtl] - Whether to reset the TTL for this operation.\n\t * @returns {Object|null} The evicted item (if any) with shape {key, value, expiry, prev, next}, or null.\n\t * @example\n\t * const cache = new LRU(2);\n\t * cache.set('a', 1).set('b', 2);\n\t * const evicted = cache.setWithEvicted('c', 3); // evicted = {key: 'a', value: 1, ...}\n\t * @see {@link LRU#set}\n\t * @see {@link LRU#evict}\n\t * @since 11.3.0\n\t */\n\tsetWithEvicted (key, value, resetTtl = this.resetTtl) {\n\t\tlet evicted = null;\n\n\t\tif (this.has(key)) {\n\t\t\tthis.set(key, value, true, resetTtl);\n\t\t} else {\n\t\t\tif (this.max > 0 && this.size === this.max) {\n\t\t\t\tevicted = {...this.first};\n\t\t\t\tthis.evict(true);\n\t\t\t}\n\n\t\t\tlet item = this.items[key] = {\n\t\t\t\texpiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n\t\t\t\tkey: key,\n\t\t\t\tprev: this.last,\n\t\t\t\tnext: null,\n\t\t\t\tvalue\n\t\t\t};\n\n\t\t\tif (++this.size === 1) {\n\t\t\t\tthis.first = item;\n\t\t\t} else {\n\t\t\t\tthis.last.next = item;\n\t\t\t}\n\n\t\t\tthis.last = item;\n\t\t}\n\n\t\treturn evicted;\n\t}\n\n\t/**\n\t * Sets a value in the cache. Updates the item's position to most recently used.\n\t *\n\t * @method set\n\t * @memberof LRU\n\t * @param {string} key - The key to set.\n\t * @param {*} value - The value to store.\n\t * @param {boolean} [bypass=false] - Internal parameter for setWithEvicted method.\n\t * @param {boolean} [resetTtl=this.resetTtl] - Whether to reset the TTL for this operation.\n\t * @returns {LRU} The LRU instance for method chaining.\n\t * @example\n\t * cache.set('key1', 'value1')\n\t *      .set('key2', 'value2')\n\t *      .set('key3', 'value3');\n\t * @see {@link LRU#get}\n\t * @see {@link LRU#setWithEvicted}\n\t * @since 1.0.0\n\t */\n\tset (key, value, bypass = false, resetTtl = this.resetTtl) {\n\t\tlet item = this.items[key];\n\n\t\tif (bypass || item !== undefined) {\n\t\t\t// Existing item: update value and position\n\t\t\titem.value = value;\n\n\t\t\tif (bypass === false && resetTtl) {\n\t\t\t\titem.expiry = this.ttl > 0 ? Date.now() + this.ttl : this.ttl;\n\t\t\t}\n\n\t\t\t// Always move to end, but the bypass parameter affects TTL reset behavior\n\t\t\tthis.moveToEnd(item);\n\t\t} else {\n\t\t\t// New item: check for eviction and create\n\t\t\tif (this.max > 0 && this.size === this.max) {\n\t\t\t\tthis.evict(true);\n\t\t\t}\n\n\t\t\titem = this.items[key] = {\n\t\t\t\texpiry: this.ttl > 0 ? Date.now() + this.ttl : this.ttl,\n\t\t\t\tkey: key,\n\t\t\t\tprev: this.last,\n\t\t\t\tnext: null,\n\t\t\t\tvalue\n\t\t\t};\n\n\t\t\tif (++this.size === 1) {\n\t\t\t\tthis.first = item;\n\t\t\t} else {\n\t\t\t\tthis.last.next = item;\n\t\t\t}\n\n\t\t\tthis.last = item;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns an array of all values in the cache for the specified keys.\n\t * Order follows LRU order (least to most recently used).\n\t *\n\t * @method values\n\t * @memberof LRU\n\t * @param {string[]} [keys=this.keys()] - Array of keys to get values for. Defaults to all keys.\n\t * @returns {Array<*>} Array of values corresponding to the keys in LRU order.\n\t * @example\n\t * cache.set('a', 1).set('b', 2);\n\t * console.log(cache.values()); // [1, 2]\n\t * console.log(cache.values(['a'])); // [1]\n\t * @see {@link LRU#keys}\n\t * @see {@link LRU#entries}\n\t * @since 11.1.0\n\t */\n\tvalues (keys = this.keys()) {\n\t\treturn keys.map(key => this.get(key));\n\t}\n}\n\n/**\n * Factory function to create a new LRU cache instance with parameter validation.\n *\n * @function lru\n * @param {number} [max=1000] - Maximum number of items to store. Must be >= 0. Use 0 for unlimited size.\n * @param {number} [ttl=0] - Time to live in milliseconds. Must be >= 0. Use 0 for no expiration.\n * @param {boolean} [resetTtl=false] - Whether to reset TTL when accessing existing items via get().\n * @returns {LRU} A new LRU cache instance.\n * @throws {TypeError} When parameters are invalid (negative numbers or wrong types).\n * @example\n * // Create cache with factory function\n * const cache = lru(100, 5000, true);\n * cache.set('key', 'value');\n *\n * @example\n * // Error handling\n * try {\n *   const cache = lru(-1); // Invalid max\n * } catch (error) {\n *   console.error(error.message); // \"Invalid max value\"\n * }\n * @see {@link LRU}\n * @since 1.0.0\n */\nfunction lru (max = 1000, ttl = 0, resetTtl = false) {\n\tif (isNaN(max) || max < 0) {\n\t\tthrow new TypeError(\"Invalid max value\");\n\t}\n\n\tif (isNaN(ttl) || ttl < 0) {\n\t\tthrow new TypeError(\"Invalid ttl value\");\n\t}\n\n\tif (typeof resetTtl !== \"boolean\") {\n\t\tthrow new TypeError(\"Invalid resetTtl value\");\n\t}\n\n\treturn new LRU(max, ttl, resetTtl);\n}export{LRU,lru};","\"use strict\";\nconst genericFontFamilies = [\n  \"serif\",\n  \"sans-serif\",\n  \"monospace\",\n  \"cursive\",\n  \"fantasy\",\n  \"system-ui\"\n];\nfunction fontStringFromTextStyle(style) {\n  const fontSizeString = typeof style.fontSize === \"number\" ? `${style.fontSize}px` : style.fontSize;\n  let fontFamilies = style.fontFamily;\n  if (!Array.isArray(style.fontFamily)) {\n    fontFamilies = style.fontFamily.split(\",\");\n  }\n  for (let i = fontFamilies.length - 1; i >= 0; i--) {\n    let fontFamily = fontFamilies[i].trim();\n    if (!/([\\\"\\'])[^\\'\\\"]+\\1/.test(fontFamily) && !genericFontFamilies.includes(fontFamily)) {\n      fontFamily = `\"${fontFamily}\"`;\n    }\n    fontFamilies[i] = fontFamily;\n  }\n  return `${style.fontStyle} ${style.fontVariant} ${style.fontWeight} ${fontSizeString} ${fontFamilies.join(\",\")}`;\n}\n\nexport { fontStringFromTextStyle };\n//# sourceMappingURL=fontStringFromTextStyle.mjs.map\n","import { lru } from 'tiny-lru';\nimport { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle.mjs';\n\n\"use strict\";\nconst contextSettings = {\n  // TextMetrics requires getImageData readback for measuring fonts.\n  willReadFrequently: true\n};\nconst _CanvasTextMetrics = class _CanvasTextMetrics {\n  /**\n   * Checking that we can use modern canvas 2D API.\n   *\n   * Note: This is an unstable API, Chrome < 94 use `textLetterSpacing`, later versions use `letterSpacing`.\n   * @see TextMetrics.experimentalLetterSpacing\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/ICanvasRenderingContext2D/letterSpacing\n   * @see https://developer.chrome.com/origintrials/#/view_trial/3585991203293757441\n   */\n  static get experimentalLetterSpacingSupported() {\n    let result = _CanvasTextMetrics._experimentalLetterSpacingSupported;\n    if (result === void 0) {\n      const proto = DOMAdapter.get().getCanvasRenderingContext2D().prototype;\n      result = _CanvasTextMetrics._experimentalLetterSpacingSupported = \"letterSpacing\" in proto || \"textLetterSpacing\" in proto;\n    }\n    return result;\n  }\n  /**\n   * @param text - the text that was measured\n   * @param style - the style that was measured\n   * @param width - the measured width of the text\n   * @param height - the measured height of the text\n   * @param lines - an array of the lines of text broken by new lines and wrapping if specified in style\n   * @param lineWidths - an array of the line widths for each line matched to `lines`\n   * @param lineHeight - the measured line height for this style\n   * @param maxLineWidth - the maximum line width for all measured lines\n   * @param {FontMetrics} fontProperties - the font properties object from TextMetrics.measureFont\n   */\n  constructor(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {\n    this.text = text;\n    this.style = style;\n    this.width = width;\n    this.height = height;\n    this.lines = lines;\n    this.lineWidths = lineWidths;\n    this.lineHeight = lineHeight;\n    this.maxLineWidth = maxLineWidth;\n    this.fontProperties = fontProperties;\n  }\n  /**\n   * Measures the supplied string of text and returns a Rectangle.\n   * @param text - The text to measure.\n   * @param style - The text style to use for measuring\n   * @param canvas - optional specification of the canvas to use for measuring.\n   * @param wordWrap\n   * @returns Measured width and height of the text.\n   */\n  static measureText(text = \" \", style, canvas = _CanvasTextMetrics._canvas, wordWrap = style.wordWrap) {\n    const textKey = `${text}-${style.styleKey}-wordWrap-${wordWrap}`;\n    if (_CanvasTextMetrics._measurementCache.has(textKey)) {\n      return _CanvasTextMetrics._measurementCache.get(textKey);\n    }\n    const font = fontStringFromTextStyle(style);\n    const fontProperties = _CanvasTextMetrics.measureFont(font);\n    if (fontProperties.fontSize === 0) {\n      fontProperties.fontSize = style.fontSize;\n      fontProperties.ascent = style.fontSize;\n    }\n    const context = _CanvasTextMetrics.__context;\n    context.font = font;\n    const outputText = wordWrap ? _CanvasTextMetrics._wordWrap(text, style, canvas) : text;\n    const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n    const lineWidths = new Array(lines.length);\n    let maxLineWidth = 0;\n    for (let i = 0; i < lines.length; i++) {\n      const lineWidth = _CanvasTextMetrics._measureText(lines[i], style.letterSpacing, context);\n      lineWidths[i] = lineWidth;\n      maxLineWidth = Math.max(maxLineWidth, lineWidth);\n    }\n    const strokeWidth = style._stroke?.width || 0;\n    let width = maxLineWidth + strokeWidth;\n    if (style.dropShadow) {\n      width += style.dropShadow.distance;\n    }\n    const lineHeight = style.lineHeight || fontProperties.fontSize;\n    let height = Math.max(lineHeight, fontProperties.fontSize + strokeWidth) + (lines.length - 1) * (lineHeight + style.leading);\n    if (style.dropShadow) {\n      height += style.dropShadow.distance;\n    }\n    const measurements = new _CanvasTextMetrics(\n      text,\n      style,\n      width,\n      height,\n      lines,\n      lineWidths,\n      lineHeight + style.leading,\n      maxLineWidth,\n      fontProperties\n    );\n    _CanvasTextMetrics._measurementCache.set(textKey, measurements);\n    return measurements;\n  }\n  static _measureText(text, letterSpacing, context) {\n    let useExperimentalLetterSpacing = false;\n    if (_CanvasTextMetrics.experimentalLetterSpacingSupported) {\n      if (_CanvasTextMetrics.experimentalLetterSpacing) {\n        context.letterSpacing = `${letterSpacing}px`;\n        context.textLetterSpacing = `${letterSpacing}px`;\n        useExperimentalLetterSpacing = true;\n      } else {\n        context.letterSpacing = \"0px\";\n        context.textLetterSpacing = \"0px\";\n      }\n    }\n    const metrics = context.measureText(text);\n    let metricWidth = metrics.width;\n    const actualBoundingBoxLeft = -metrics.actualBoundingBoxLeft;\n    const actualBoundingBoxRight = metrics.actualBoundingBoxRight;\n    let boundsWidth = actualBoundingBoxRight - actualBoundingBoxLeft;\n    if (metricWidth > 0) {\n      if (useExperimentalLetterSpacing) {\n        metricWidth -= letterSpacing;\n        boundsWidth -= letterSpacing;\n      } else {\n        const val = (_CanvasTextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;\n        metricWidth += val;\n        boundsWidth += val;\n      }\n    }\n    return Math.max(metricWidth, boundsWidth);\n  }\n  /**\n   * Applies newlines to a string to have it optimally fit into the horizontal\n   * bounds set by the Text object's wordWrapWidth property.\n   * @param text - String to apply word wrapping to\n   * @param style - the style to use when wrapping\n   * @param canvas - optional specification of the canvas to use for measuring.\n   * @returns New string with new lines applied where required\n   */\n  static _wordWrap(text, style, canvas = _CanvasTextMetrics._canvas) {\n    const context = canvas.getContext(\"2d\", contextSettings);\n    let width = 0;\n    let line = \"\";\n    let lines = \"\";\n    const cache = /* @__PURE__ */ Object.create(null);\n    const { letterSpacing, whiteSpace } = style;\n    const collapseSpaces = _CanvasTextMetrics._collapseSpaces(whiteSpace);\n    const collapseNewlines = _CanvasTextMetrics._collapseNewlines(whiteSpace);\n    let canPrependSpaces = !collapseSpaces;\n    const wordWrapWidth = style.wordWrapWidth + letterSpacing;\n    const tokens = _CanvasTextMetrics._tokenize(text);\n    for (let i = 0; i < tokens.length; i++) {\n      let token = tokens[i];\n      if (_CanvasTextMetrics._isNewline(token)) {\n        if (!collapseNewlines) {\n          lines += _CanvasTextMetrics._addLine(line);\n          canPrependSpaces = !collapseSpaces;\n          line = \"\";\n          width = 0;\n          continue;\n        }\n        token = \" \";\n      }\n      if (collapseSpaces) {\n        const currIsBreakingSpace = _CanvasTextMetrics.isBreakingSpace(token);\n        const lastIsBreakingSpace = _CanvasTextMetrics.isBreakingSpace(line[line.length - 1]);\n        if (currIsBreakingSpace && lastIsBreakingSpace) {\n          continue;\n        }\n      }\n      const tokenWidth = _CanvasTextMetrics._getFromCache(token, letterSpacing, cache, context);\n      if (tokenWidth > wordWrapWidth) {\n        if (line !== \"\") {\n          lines += _CanvasTextMetrics._addLine(line);\n          line = \"\";\n          width = 0;\n        }\n        if (_CanvasTextMetrics.canBreakWords(token, style.breakWords)) {\n          const characters = _CanvasTextMetrics.wordWrapSplit(token);\n          for (let j = 0; j < characters.length; j++) {\n            let char = characters[j];\n            let lastChar = char;\n            let k = 1;\n            while (characters[j + k]) {\n              const nextChar = characters[j + k];\n              if (!_CanvasTextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords)) {\n                char += nextChar;\n              } else {\n                break;\n              }\n              lastChar = nextChar;\n              k++;\n            }\n            j += k - 1;\n            const characterWidth = _CanvasTextMetrics._getFromCache(char, letterSpacing, cache, context);\n            if (characterWidth + width > wordWrapWidth) {\n              lines += _CanvasTextMetrics._addLine(line);\n              canPrependSpaces = false;\n              line = \"\";\n              width = 0;\n            }\n            line += char;\n            width += characterWidth;\n          }\n        } else {\n          if (line.length > 0) {\n            lines += _CanvasTextMetrics._addLine(line);\n            line = \"\";\n            width = 0;\n          }\n          const isLastToken = i === tokens.length - 1;\n          lines += _CanvasTextMetrics._addLine(token, !isLastToken);\n          canPrependSpaces = false;\n          line = \"\";\n          width = 0;\n        }\n      } else {\n        if (tokenWidth + width > wordWrapWidth) {\n          canPrependSpaces = false;\n          lines += _CanvasTextMetrics._addLine(line);\n          line = \"\";\n          width = 0;\n        }\n        if (line.length > 0 || !_CanvasTextMetrics.isBreakingSpace(token) || canPrependSpaces) {\n          line += token;\n          width += tokenWidth;\n        }\n      }\n    }\n    lines += _CanvasTextMetrics._addLine(line, false);\n    return lines;\n  }\n  /**\n   * Convenience function for logging each line added during the wordWrap method.\n   * @param line    - The line of text to add\n   * @param newLine - Add new line character to end\n   * @returns A formatted line\n   */\n  static _addLine(line, newLine = true) {\n    line = _CanvasTextMetrics._trimRight(line);\n    line = newLine ? `${line}\n` : line;\n    return line;\n  }\n  /**\n   * Gets & sets the widths of calculated characters in a cache object\n   * @param key            - The key\n   * @param letterSpacing  - The letter spacing\n   * @param cache          - The cache\n   * @param context        - The canvas context\n   * @returns The from cache.\n   */\n  static _getFromCache(key, letterSpacing, cache, context) {\n    let width = cache[key];\n    if (typeof width !== \"number\") {\n      width = _CanvasTextMetrics._measureText(key, letterSpacing, context) + letterSpacing;\n      cache[key] = width;\n    }\n    return width;\n  }\n  /**\n   * Determines whether we should collapse breaking spaces.\n   * @param whiteSpace - The TextStyle property whiteSpace\n   * @returns Should collapse\n   */\n  static _collapseSpaces(whiteSpace) {\n    return whiteSpace === \"normal\" || whiteSpace === \"pre-line\";\n  }\n  /**\n   * Determines whether we should collapse newLine chars.\n   * @param whiteSpace - The white space\n   * @returns should collapse\n   */\n  static _collapseNewlines(whiteSpace) {\n    return whiteSpace === \"normal\";\n  }\n  /**\n   * Trims breaking whitespaces from string.\n   * @param text - The text\n   * @returns Trimmed string\n   */\n  static _trimRight(text) {\n    if (typeof text !== \"string\") {\n      return \"\";\n    }\n    for (let i = text.length - 1; i >= 0; i--) {\n      const char = text[i];\n      if (!_CanvasTextMetrics.isBreakingSpace(char)) {\n        break;\n      }\n      text = text.slice(0, -1);\n    }\n    return text;\n  }\n  /**\n   * Determines if char is a newline.\n   * @param char - The character\n   * @returns True if newline, False otherwise.\n   */\n  static _isNewline(char) {\n    if (typeof char !== \"string\") {\n      return false;\n    }\n    return _CanvasTextMetrics._newlines.includes(char.charCodeAt(0));\n  }\n  /**\n   * Determines if char is a breaking whitespace.\n   *\n   * It allows one to determine whether char should be a breaking whitespace\n   * For example certain characters in CJK langs or numbers.\n   * It must return a boolean.\n   * @param char - The character\n   * @param [_nextChar] - The next character\n   * @returns True if whitespace, False otherwise.\n   */\n  static isBreakingSpace(char, _nextChar) {\n    if (typeof char !== \"string\") {\n      return false;\n    }\n    return _CanvasTextMetrics._breakingSpaces.includes(char.charCodeAt(0));\n  }\n  /**\n   * Splits a string into words, breaking-spaces and newLine characters\n   * @param text - The text\n   * @returns A tokenized array\n   */\n  static _tokenize(text) {\n    const tokens = [];\n    let token = \"\";\n    if (typeof text !== \"string\") {\n      return tokens;\n    }\n    for (let i = 0; i < text.length; i++) {\n      const char = text[i];\n      const nextChar = text[i + 1];\n      if (_CanvasTextMetrics.isBreakingSpace(char, nextChar) || _CanvasTextMetrics._isNewline(char)) {\n        if (token !== \"\") {\n          tokens.push(token);\n          token = \"\";\n        }\n        if (char === \"\\r\" && nextChar === \"\\n\") {\n          tokens.push(\"\\r\\n\");\n          i++;\n        } else {\n          tokens.push(char);\n        }\n        continue;\n      }\n      token += char;\n    }\n    if (token !== \"\") {\n      tokens.push(token);\n    }\n    return tokens;\n  }\n  /**\n   * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n   *\n   * It allows one to customise which words should break\n   * Examples are if the token is CJK or numbers.\n   * It must return a boolean.\n   * @param _token - The token\n   * @param breakWords - The style attr break words\n   * @returns Whether to break word or not\n   */\n  static canBreakWords(_token, breakWords) {\n    return breakWords;\n  }\n  /**\n   * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n   *\n   * It allows one to determine whether a pair of characters\n   * should be broken by newlines\n   * For example certain characters in CJK langs or numbers.\n   * It must return a boolean.\n   * @param _char - The character\n   * @param _nextChar - The next character\n   * @param _token - The token/word the characters are from\n   * @param _index - The index in the token of the char\n   * @param _breakWords - The style attr break words\n   * @returns whether to break word or not\n   */\n  static canBreakChars(_char, _nextChar, _token, _index, _breakWords) {\n    return true;\n  }\n  /**\n   * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n   *\n   * It is called when a token (usually a word) has to be split into separate pieces\n   * in order to determine the point to break a word.\n   * It must return an array of characters.\n   * @param token - The token to split\n   * @returns The characters of the token\n   * @see CanvasTextMetrics.graphemeSegmenter\n   */\n  static wordWrapSplit(token) {\n    return _CanvasTextMetrics.graphemeSegmenter(token);\n  }\n  /**\n   * Calculates the ascent, descent and fontSize of a given font-style\n   * @param font - String representing the style of the font\n   * @returns Font properties object\n   */\n  static measureFont(font) {\n    if (_CanvasTextMetrics._fonts[font]) {\n      return _CanvasTextMetrics._fonts[font];\n    }\n    const context = _CanvasTextMetrics._context;\n    context.font = font;\n    const metrics = context.measureText(_CanvasTextMetrics.METRICS_STRING + _CanvasTextMetrics.BASELINE_SYMBOL);\n    const properties = {\n      ascent: metrics.actualBoundingBoxAscent,\n      descent: metrics.actualBoundingBoxDescent,\n      fontSize: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n    };\n    _CanvasTextMetrics._fonts[font] = properties;\n    return properties;\n  }\n  /**\n   * Clear font metrics in metrics cache.\n   * @param {string} [font] - font name. If font name not set then clear cache for all fonts.\n   */\n  static clearMetrics(font = \"\") {\n    if (font) {\n      delete _CanvasTextMetrics._fonts[font];\n    } else {\n      _CanvasTextMetrics._fonts = {};\n    }\n  }\n  /**\n   * Cached canvas element for measuring text\n   * TODO: this should be private, but isn't because of backward compat, will fix later.\n   * @ignore\n   */\n  static get _canvas() {\n    if (!_CanvasTextMetrics.__canvas) {\n      let canvas;\n      try {\n        const c = new OffscreenCanvas(0, 0);\n        const context = c.getContext(\"2d\", contextSettings);\n        if (context?.measureText) {\n          _CanvasTextMetrics.__canvas = c;\n          return c;\n        }\n        canvas = DOMAdapter.get().createCanvas();\n      } catch (_cx) {\n        canvas = DOMAdapter.get().createCanvas();\n      }\n      canvas.width = canvas.height = 10;\n      _CanvasTextMetrics.__canvas = canvas;\n    }\n    return _CanvasTextMetrics.__canvas;\n  }\n  /**\n   * TODO: this should be private, but isn't because of backward compat, will fix later.\n   * @ignore\n   */\n  static get _context() {\n    if (!_CanvasTextMetrics.__context) {\n      _CanvasTextMetrics.__context = _CanvasTextMetrics._canvas.getContext(\"2d\", contextSettings);\n    }\n    return _CanvasTextMetrics.__context;\n  }\n};\n/**\n * String used for calculate font metrics.\n * These characters are all tall to help calculate the height required for text.\n */\n_CanvasTextMetrics.METRICS_STRING = \"|\\xC9q\\xC5\";\n/** Baseline symbol for calculate font metrics. */\n_CanvasTextMetrics.BASELINE_SYMBOL = \"M\";\n/** Baseline multiplier for calculate font metrics. */\n_CanvasTextMetrics.BASELINE_MULTIPLIER = 1.4;\n/** Height multiplier for setting height of canvas to calculate font metrics. */\n_CanvasTextMetrics.HEIGHT_MULTIPLIER = 2;\n/**\n * A Unicode \"character\", or \"grapheme cluster\", can be composed of multiple Unicode code points,\n * such as letters with diacritical marks (e.g. `'\\u0065\\u0301'`, letter e with acute)\n * or emojis with modifiers (e.g. `'\\uD83E\\uDDD1\\u200D\\uD83D\\uDCBB'`, technologist).\n * The new `Intl.Segmenter` API in ES2022 can split the string into grapheme clusters correctly. If it is not available,\n * PixiJS will fallback to use the iterator of String, which can only spilt the string into code points.\n * If you want to get full functionality in environments that don't support `Intl.Segmenter` (such as Firefox),\n * you can use other libraries such as [grapheme-splitter]{@link https://www.npmjs.com/package/grapheme-splitter}\n * or [graphemer]{@link https://www.npmjs.com/package/graphemer} to create a polyfill. Since these libraries can be\n * relatively large in size to handle various Unicode grapheme clusters properly, PixiJS won't use them directly.\n */\n_CanvasTextMetrics.graphemeSegmenter = (() => {\n  if (typeof Intl?.Segmenter === \"function\") {\n    const segmenter = new Intl.Segmenter();\n    return (s) => {\n      const segments = segmenter.segment(s);\n      const result = [];\n      let i = 0;\n      for (const segment of segments) {\n        result[i++] = segment.segment;\n      }\n      return result;\n    };\n  }\n  return (s) => [...s];\n})();\n/**\n * New rendering behavior for letter-spacing which uses Chrome's new native API. This will\n * lead to more accurate letter-spacing results because it does not try to manually draw\n * each character. However, this Chrome API is experimental and may not serve all cases yet.\n * @see TextMetrics.experimentalLetterSpacingSupported\n */\n_CanvasTextMetrics.experimentalLetterSpacing = false;\n/** Cache of {@link TextMetrics.FontMetrics} objects. */\n_CanvasTextMetrics._fonts = {};\n/** Cache of new line chars. */\n_CanvasTextMetrics._newlines = [\n  10,\n  // line feed\n  13\n  // carriage return\n];\n/** Cache of breaking spaces. */\n_CanvasTextMetrics._breakingSpaces = [\n  9,\n  // character tabulation\n  32,\n  // space\n  8192,\n  // en quad\n  8193,\n  // em quad\n  8194,\n  // en space\n  8195,\n  // em space\n  8196,\n  // three-per-em space\n  8197,\n  // four-per-em space\n  8198,\n  // six-per-em space\n  8200,\n  // punctuation space\n  8201,\n  // thin space\n  8202,\n  // hair space\n  8287,\n  // medium mathematical space\n  12288\n  // ideographic space\n];\n/** Cache for measured text metrics */\n_CanvasTextMetrics._measurementCache = lru(1e3);\nlet CanvasTextMetrics = _CanvasTextMetrics;\n\nexport { CanvasTextMetrics };\n//# sourceMappingURL=CanvasTextMetrics.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { deprecation } from '../../../../utils/logging/deprecation.mjs';\nimport { definedProps } from '../../../container/utils/definedProps.mjs';\n\n\"use strict\";\nconst emptyColorStops = [{ offset: 0, color: \"white\" }, { offset: 1, color: \"black\" }];\nconst _FillGradient = class _FillGradient {\n  constructor(...args) {\n    /**\n     * Unique identifier for this gradient instance\n     * @internal\n     */\n    this.uid = uid(\"fillGradient\");\n    /**\n     * Internal tick counter to track changes in the gradient.\n     * This is used to invalidate the gradient when the texture changes.\n     * @internal\n     */\n    this._tick = 0;\n    /** Type of gradient - currently only supports 'linear' */\n    this.type = \"linear\";\n    /** Array of color stops defining the gradient */\n    this.colorStops = [];\n    let options = ensureGradientOptions(args);\n    const defaults = options.type === \"radial\" ? _FillGradient.defaultRadialOptions : _FillGradient.defaultLinearOptions;\n    options = { ...defaults, ...definedProps(options) };\n    this._textureSize = options.textureSize;\n    this._wrapMode = options.wrapMode;\n    if (options.type === \"radial\") {\n      this.center = options.center;\n      this.outerCenter = options.outerCenter ?? this.center;\n      this.innerRadius = options.innerRadius;\n      this.outerRadius = options.outerRadius;\n      this.scale = options.scale;\n      this.rotation = options.rotation;\n    } else {\n      this.start = options.start;\n      this.end = options.end;\n    }\n    this.textureSpace = options.textureSpace;\n    this.type = options.type;\n    options.colorStops.forEach((stop) => {\n      this.addColorStop(stop.offset, stop.color);\n    });\n  }\n  /**\n   * Adds a color stop to the gradient\n   * @param offset - Position of the stop (0-1)\n   * @param color - Color of the stop\n   * @returns This gradient instance for chaining\n   */\n  addColorStop(offset, color) {\n    this.colorStops.push({ offset, color: Color.shared.setValue(color).toHexa() });\n    return this;\n  }\n  /**\n   * Builds the internal texture and transform for the gradient.\n   * Called automatically when the gradient is first used.\n   * @internal\n   */\n  buildLinearGradient() {\n    if (this.texture)\n      return;\n    let { x: x0, y: y0 } = this.start;\n    let { x: x1, y: y1 } = this.end;\n    let dx = x1 - x0;\n    let dy = y1 - y0;\n    const flip = dx < 0 || dy < 0;\n    if (this._wrapMode === \"clamp-to-edge\") {\n      if (dx < 0) {\n        const temp = x0;\n        x0 = x1;\n        x1 = temp;\n        dx *= -1;\n      }\n      if (dy < 0) {\n        const temp = y0;\n        y0 = y1;\n        y1 = temp;\n        dy *= -1;\n      }\n    }\n    const colorStops = this.colorStops.length ? this.colorStops : emptyColorStops;\n    const defaultSize = this._textureSize;\n    const { canvas, context } = getCanvas(defaultSize, 1);\n    const gradient = !flip ? context.createLinearGradient(0, 0, this._textureSize, 0) : context.createLinearGradient(this._textureSize, 0, 0, 0);\n    addColorStops(gradient, colorStops);\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, defaultSize, 1);\n    this.texture = new Texture({\n      source: new ImageSource({\n        resource: canvas,\n        addressMode: this._wrapMode\n      })\n    });\n    const dist = Math.sqrt(dx * dx + dy * dy);\n    const angle = Math.atan2(dy, dx);\n    const m = new Matrix();\n    m.scale(dist / defaultSize, 1);\n    m.rotate(angle);\n    m.translate(x0, y0);\n    if (this.textureSpace === \"local\") {\n      m.scale(defaultSize, defaultSize);\n    }\n    this.transform = m;\n  }\n  /**\n   * Builds the internal texture and transform for the gradient.\n   * Called automatically when the gradient is first used.\n   * @internal\n   */\n  buildGradient() {\n    if (!this.texture)\n      this._tick++;\n    if (this.type === \"linear\") {\n      this.buildLinearGradient();\n    } else {\n      this.buildRadialGradient();\n    }\n  }\n  /**\n   * Builds the internal texture and transform for the radial gradient.\n   * Called automatically when the gradient is first used.\n   * @internal\n   */\n  buildRadialGradient() {\n    if (this.texture)\n      return;\n    const colorStops = this.colorStops.length ? this.colorStops : emptyColorStops;\n    const defaultSize = this._textureSize;\n    const { canvas, context } = getCanvas(defaultSize, defaultSize);\n    const { x: x0, y: y0 } = this.center;\n    const { x: x1, y: y1 } = this.outerCenter;\n    const r0 = this.innerRadius;\n    const r1 = this.outerRadius;\n    const ox = x1 - r1;\n    const oy = y1 - r1;\n    const scale = defaultSize / (r1 * 2);\n    const cx = (x0 - ox) * scale;\n    const cy = (y0 - oy) * scale;\n    const gradient = context.createRadialGradient(\n      cx,\n      cy,\n      r0 * scale,\n      (x1 - ox) * scale,\n      (y1 - oy) * scale,\n      r1 * scale\n    );\n    addColorStops(gradient, colorStops);\n    context.fillStyle = colorStops[colorStops.length - 1].color;\n    context.fillRect(0, 0, defaultSize, defaultSize);\n    context.fillStyle = gradient;\n    context.translate(cx, cy);\n    context.rotate(this.rotation);\n    context.scale(1, this.scale);\n    context.translate(-cx, -cy);\n    context.fillRect(0, 0, defaultSize, defaultSize);\n    this.texture = new Texture({\n      source: new ImageSource({\n        resource: canvas,\n        addressMode: this._wrapMode\n      })\n    });\n    const m = new Matrix();\n    m.scale(1 / scale, 1 / scale);\n    m.translate(ox, oy);\n    if (this.textureSpace === \"local\") {\n      m.scale(defaultSize, defaultSize);\n    }\n    this.transform = m;\n  }\n  /** Destroys the gradient, releasing resources. This will also destroy the internal texture. */\n  destroy() {\n    this.texture?.destroy(true);\n    this.texture = null;\n    this.transform = null;\n    this.colorStops = [];\n    this.start = null;\n    this.end = null;\n    this.center = null;\n    this.outerCenter = null;\n  }\n  /**\n   * Returns a unique key for this gradient instance.\n   * This key is used for caching and texture management.\n   * @returns {string} Unique key for the gradient\n   */\n  get styleKey() {\n    return `fill-gradient-${this.uid}-${this._tick}`;\n  }\n};\n/** Default options for creating a gradient fill */\n_FillGradient.defaultLinearOptions = {\n  start: { x: 0, y: 0 },\n  end: { x: 0, y: 1 },\n  colorStops: [],\n  textureSpace: \"local\",\n  type: \"linear\",\n  textureSize: 256,\n  wrapMode: \"clamp-to-edge\"\n};\n/** Default options for creating a radial gradient fill */\n_FillGradient.defaultRadialOptions = {\n  center: { x: 0.5, y: 0.5 },\n  innerRadius: 0,\n  outerRadius: 0.5,\n  colorStops: [],\n  scale: 1,\n  textureSpace: \"local\",\n  type: \"radial\",\n  textureSize: 256,\n  wrapMode: \"clamp-to-edge\"\n};\nlet FillGradient = _FillGradient;\nfunction addColorStops(gradient, colorStops) {\n  for (let i = 0; i < colorStops.length; i++) {\n    const stop = colorStops[i];\n    gradient.addColorStop(stop.offset, stop.color);\n  }\n}\nfunction getCanvas(width, height) {\n  const canvas = DOMAdapter.get().createCanvas(width, height);\n  const context = canvas.getContext(\"2d\");\n  return { canvas, context };\n}\nfunction ensureGradientOptions(args) {\n  let options = args[0] ?? {};\n  if (typeof options === \"number\" || args[1]) {\n    deprecation(\"8.5.2\", `use options object instead`);\n    options = {\n      type: \"linear\",\n      start: { x: args[0], y: args[1] },\n      end: { x: args[2], y: args[3] },\n      textureSpace: args[4],\n      textureSize: args[5] ?? FillGradient.defaultLinearOptions.textureSize\n    };\n  }\n  return options;\n}\n\nexport { FillGradient };\n//# sourceMappingURL=FillGradient.mjs.map\n","import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\n\n\"use strict\";\nconst repetitionMap = {\n  repeat: {\n    addressModeU: \"repeat\",\n    addressModeV: \"repeat\"\n  },\n  \"repeat-x\": {\n    addressModeU: \"repeat\",\n    addressModeV: \"clamp-to-edge\"\n  },\n  \"repeat-y\": {\n    addressModeU: \"clamp-to-edge\",\n    addressModeV: \"repeat\"\n  },\n  \"no-repeat\": {\n    addressModeU: \"clamp-to-edge\",\n    addressModeV: \"clamp-to-edge\"\n  }\n};\nclass FillPattern {\n  constructor(texture, repetition) {\n    /**\n     * unique id for this fill pattern\n     * @internal\n     */\n    this.uid = uid(\"fillPattern\");\n    /**\n     * Internal tick counter to track changes in the pattern.\n     * This is used to invalidate the pattern when the texture or transform changes.\n     * @internal\n     */\n    this._tick = 0;\n    /** The transform matrix applied to the pattern */\n    this.transform = new Matrix();\n    this.texture = texture;\n    this.transform.scale(\n      1 / texture.frame.width,\n      1 / texture.frame.height\n    );\n    if (repetition) {\n      texture.source.style.addressModeU = repetitionMap[repetition].addressModeU;\n      texture.source.style.addressModeV = repetitionMap[repetition].addressModeV;\n    }\n  }\n  /**\n   * Sets the transform for the pattern\n   * @param transform - The transform matrix to apply to the pattern.\n   * If not provided, the pattern will use the default transform.\n   */\n  setTransform(transform) {\n    const texture = this.texture;\n    this.transform.copyFrom(transform);\n    this.transform.invert();\n    this.transform.scale(\n      1 / texture.frame.width,\n      1 / texture.frame.height\n    );\n    this._tick++;\n  }\n  /** Internal texture used to render the gradient */\n  get texture() {\n    return this._texture;\n  }\n  set texture(value) {\n    if (this._texture === value)\n      return;\n    this._texture = value;\n    this._tick++;\n  }\n  /**\n   * Returns a unique key for this instance.\n   * This key is used for caching.\n   * @returns {string} Unique key for the instance\n   */\n  get styleKey() {\n    return `fill-pattern-${this.uid}-${this._tick}`;\n  }\n  /** Destroys the fill pattern, releasing resources. This will also destroy the internal texture. */\n  destroy() {\n    this.texture.destroy(true);\n    this.texture = null;\n  }\n}\n\nexport { FillPattern };\n//# sourceMappingURL=FillPattern.mjs.map\n","\nmodule.exports = parse\n\n/**\n * expected argument lengths\n * @type {Object}\n */\n\nvar length = {a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0}\n\n/**\n * segment pattern\n * @type {RegExp}\n */\n\nvar segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig\n\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * @param {String} path\n * @return {Array}\n */\n\nfunction parse(path) {\n\tvar data = []\n\tpath.replace(segment, function(_, command, args){\n\t\tvar type = command.toLowerCase()\n\t\targs = parseValues(args)\n\n\t\t// overloaded moveTo\n\t\tif (type == 'm' && args.length > 2) {\n\t\t\tdata.push([command].concat(args.splice(0, 2)))\n\t\t\ttype = 'l'\n\t\t\tcommand = command == 'm' ? 'l' : 'L'\n\t\t}\n\n\t\twhile (true) {\n\t\t\tif (args.length == length[type]) {\n\t\t\t\targs.unshift(command)\n\t\t\t\treturn data.push(args)\n\t\t\t}\n\t\t\tif (args.length < length[type]) throw new Error('malformed path data')\n\t\t\tdata.push([command].concat(args.splice(0, length[type])))\n\t\t}\n\t})\n\treturn data\n}\n\nvar number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\n\nfunction parseValues(args) {\n\tvar numbers = args.match(number)\n\treturn numbers ? numbers.map(Number) : []\n}\n","import parse from 'parse-svg-path';\nimport { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nfunction parseSVGPath(svgPath, path) {\n  const commands = parse(svgPath);\n  const subpaths = [];\n  let currentSubPath = null;\n  let lastX = 0;\n  let lastY = 0;\n  for (let i = 0; i < commands.length; i++) {\n    const command = commands[i];\n    const type = command[0];\n    const data = command;\n    switch (type) {\n      case \"M\":\n        lastX = data[1];\n        lastY = data[2];\n        path.moveTo(lastX, lastY);\n        break;\n      case \"m\":\n        lastX += data[1];\n        lastY += data[2];\n        path.moveTo(lastX, lastY);\n        break;\n      case \"H\":\n        lastX = data[1];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"h\":\n        lastX += data[1];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"V\":\n        lastY = data[1];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"v\":\n        lastY += data[1];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"L\":\n        lastX = data[1];\n        lastY = data[2];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"l\":\n        lastX += data[1];\n        lastY += data[2];\n        path.lineTo(lastX, lastY);\n        break;\n      case \"C\":\n        lastX = data[5];\n        lastY = data[6];\n        path.bezierCurveTo(\n          data[1],\n          data[2],\n          // First control point\n          data[3],\n          data[4],\n          // Second control point\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"c\":\n        path.bezierCurveTo(\n          lastX + data[1],\n          lastY + data[2],\n          // First control point\n          lastX + data[3],\n          lastY + data[4],\n          // Second control point\n          lastX + data[5],\n          lastY + data[6]\n          // End point\n        );\n        lastX += data[5];\n        lastY += data[6];\n        break;\n      case \"S\":\n        lastX = data[3];\n        lastY = data[4];\n        path.bezierCurveToShort(\n          data[1],\n          data[2],\n          // Control point\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"s\":\n        path.bezierCurveToShort(\n          lastX + data[1],\n          lastY + data[2],\n          // Control point\n          lastX + data[3],\n          lastY + data[4]\n          // End point\n        );\n        lastX += data[3];\n        lastY += data[4];\n        break;\n      case \"Q\":\n        lastX = data[3];\n        lastY = data[4];\n        path.quadraticCurveTo(\n          data[1],\n          data[2],\n          // Control point\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"q\":\n        path.quadraticCurveTo(\n          lastX + data[1],\n          lastY + data[2],\n          // Control point\n          lastX + data[3],\n          lastY + data[4]\n          // End point\n        );\n        lastX += data[3];\n        lastY += data[4];\n        break;\n      case \"T\":\n        lastX = data[1];\n        lastY = data[2];\n        path.quadraticCurveToShort(\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"t\":\n        lastX += data[1];\n        lastY += data[2];\n        path.quadraticCurveToShort(\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"A\":\n        lastX = data[6];\n        lastY = data[7];\n        path.arcToSvg(\n          data[1],\n          // rx\n          data[2],\n          // ry\n          data[3],\n          // x-axis-rotation\n          data[4],\n          // large-arc-flag\n          data[5],\n          // sweep-flag\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"a\":\n        lastX += data[6];\n        lastY += data[7];\n        path.arcToSvg(\n          data[1],\n          // rx\n          data[2],\n          // ry\n          data[3],\n          // x-axis-rotation\n          data[4],\n          // large-arc-flag\n          data[5],\n          // sweep-flag\n          lastX,\n          lastY\n          // End point\n        );\n        break;\n      case \"Z\":\n      case \"z\":\n        path.closePath();\n        if (subpaths.length > 0) {\n          currentSubPath = subpaths.pop();\n          if (currentSubPath) {\n            lastX = currentSubPath.startX;\n            lastY = currentSubPath.startY;\n          } else {\n            lastX = 0;\n            lastY = 0;\n          }\n        }\n        currentSubPath = null;\n        break;\n      default:\n        warn(`Unknown SVG path command: ${type}`);\n    }\n    if (type !== \"Z\" && type !== \"z\") {\n      if (currentSubPath === null) {\n        currentSubPath = { startX: lastX, startY: lastY };\n        subpaths.push(currentSubPath);\n      }\n    }\n  }\n  return path;\n}\n\nexport { parseSVGPath };\n//# sourceMappingURL=parseSVGPath.mjs.map\n","import { Rectangle } from './Rectangle.mjs';\n\n\"use strict\";\nclass Circle {\n  /**\n   * @param x - The X coordinate of the center of this circle\n   * @param y - The Y coordinate of the center of this circle\n   * @param radius - The radius of the circle\n   */\n  constructor(x = 0, y = 0, radius = 0) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks.\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new Circle(0, 0, 50);\n     * console.log(shape.type); // 'circle'\n     *\n     * // Use in type guards\n     * if (shape.type === 'circle') {\n     *     console.log(shape.radius);\n     * }\n     * ```\n     * @remarks\n     * - Used for shape type checking\n     * - More efficient than instanceof\n     * - Read-only property\n     * @readonly\n     * @default 'circle'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     * @see {@link ShapePrimitive} For shape interface\n     */\n    this.type = \"circle\";\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n  }\n  /**\n   * Creates a clone of this Circle instance.\n   * @example\n   * ```ts\n   * // Basic circle cloning\n   * const original = new Circle(100, 100, 50);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.radius = 75;\n   *\n   * // Verify independence\n   * console.log(original.radius); // 50\n   * console.log(modified.radius); // 75\n   * ```\n   * @returns A copy of the Circle\n   * @see {@link Circle.copyFrom} For copying into existing circle\n   * @see {@link Circle.copyTo} For copying to another circle\n   */\n  clone() {\n    return new Circle(this.x, this.y, this.radius);\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this circle.\n   *\n   * Uses the distance formula to determine if a point is inside the circle's radius.\n   *\n   * Commonly used for hit testing in PixiJS events and graphics.\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const circle = new Circle(100, 100, 50);\n   * const isInside = circle.contains(120, 120);\n   *\n   * // Check mouse position\n   * const circle = new Circle(0, 0, 100);\n   * container.hitArea = circle;\n   * container.on('pointermove', (e) => {\n   *     // only called if pointer is within circle\n   * });\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coordinates are within this Circle\n   * @see {@link Circle.strokeContains} For checking stroke intersection\n   * @see {@link Circle.getBounds} For getting bounding box\n   */\n  contains(x, y) {\n    if (this.radius <= 0)\n      return false;\n    const r2 = this.radius * this.radius;\n    let dx = this.x - x;\n    let dy = this.y - y;\n    dx *= dx;\n    dy *= dy;\n    return dx + dy <= r2;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this circle including the stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const circle = new Circle(100, 100, 50);\n   * const isOnStroke = circle.strokeContains(150, 100, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = circle.strokeContains(150, 100, 4, 1);   // Inside\n   * const centerStroke = circle.strokeContains(150, 100, 4, 0.5); // Centered\n   * const outerStroke = circle.strokeContains(150, 100, 4, 0);   // Outside\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @param width - The width of the line to check\n   * @param alignment - The alignment of the stroke, 0.5 by default\n   * @returns Whether the x/y coordinates are within this Circle's stroke\n   * @see {@link Circle.contains} For checking fill containment\n   * @see {@link Circle.getBounds} For getting stroke bounds\n   */\n  strokeContains(x, y, width, alignment = 0.5) {\n    if (this.radius === 0)\n      return false;\n    const dx = this.x - x;\n    const dy = this.y - y;\n    const radius = this.radius;\n    const outerWidth = (1 - alignment) * width;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    return distance <= radius + outerWidth && distance > radius - (width - outerWidth);\n  }\n  /**\n   * Returns the framing rectangle of the circle as a Rectangle object.\n   * @example\n   * ```ts\n   * // Basic bounds calculation\n   * const circle = new Circle(100, 100, 50);\n   * const bounds = circle.getBounds();\n   * // bounds: x=50, y=50, width=100, height=100\n   *\n   * // Reuse existing rectangle\n   * const rect = new Rectangle();\n   * circle.getBounds(rect);\n   * ```\n   * @param out - Optional Rectangle object to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle} For rectangle properties\n   * @see {@link Circle.contains} For point containment\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    out.x = this.x - this.radius;\n    out.y = this.y - this.radius;\n    out.width = this.radius * 2;\n    out.height = this.radius * 2;\n    return out;\n  }\n  /**\n   * Copies another circle to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Circle(100, 100, 50);\n   * const target = new Circle();\n   * target.copyFrom(source);\n   * ```\n   * @param circle - The circle to copy from\n   * @returns Returns itself\n   * @see {@link Circle.copyTo} For copying to another circle\n   * @see {@link Circle.clone} For creating new circle copy\n   */\n  copyFrom(circle) {\n    this.x = circle.x;\n    this.y = circle.y;\n    this.radius = circle.radius;\n    return this;\n  }\n  /**\n   * Copies this circle to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Circle(100, 100, 50);\n   * const target = new Circle();\n   * source.copyTo(target);\n   * ```\n   * @param circle - The circle to copy to\n   * @returns Returns given parameter\n   * @see {@link Circle.copyFrom} For copying from another circle\n   * @see {@link Circle.clone} For creating new circle copy\n   */\n  copyTo(circle) {\n    circle.copyFrom(this);\n    return circle;\n  }\n  toString() {\n    return `[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;\n  }\n}\n\nexport { Circle };\n//# sourceMappingURL=Circle.mjs.map\n","import { Rectangle } from './Rectangle.mjs';\n\n\"use strict\";\nclass Ellipse {\n  /**\n   * @param x - The X coordinate of the center of this ellipse\n   * @param y - The Y coordinate of the center of this ellipse\n   * @param halfWidth - The half width of this ellipse\n   * @param halfHeight - The half height of this ellipse\n   */\n  constructor(x = 0, y = 0, halfWidth = 0, halfHeight = 0) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new Ellipse(0, 0, 50, 25);\n     * console.log(shape.type); // 'ellipse'\n     *\n     * // Use in type guards\n     * if (shape.type === 'ellipse') {\n     *     console.log(shape.halfWidth, shape.halfHeight);\n     * }\n     * ```\n     * @readonly\n     * @default 'ellipse'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     */\n    this.type = \"ellipse\";\n    this.x = x;\n    this.y = y;\n    this.halfWidth = halfWidth;\n    this.halfHeight = halfHeight;\n  }\n  /**\n   * Creates a clone of this Ellipse instance.\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const original = new Ellipse(100, 100, 50, 25);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.halfWidth *= 2;\n   * modified.halfHeight *= 2;\n   *\n   * // Verify independence\n   * console.log(original.halfWidth);  // 50\n   * console.log(modified.halfWidth);  // 100\n   * ```\n   * @returns A copy of the ellipse\n   * @see {@link Ellipse.copyFrom} For copying into existing ellipse\n   * @see {@link Ellipse.copyTo} For copying to another ellipse\n   */\n  clone() {\n    return new Ellipse(this.x, this.y, this.halfWidth, this.halfHeight);\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this ellipse.\n   * Uses normalized coordinates and the ellipse equation to determine containment.\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const ellipse = new Ellipse(100, 100, 50, 25);\n   * const isInside = ellipse.contains(120, 110);\n   * ```\n   * @remarks\n   * - Uses ellipse equation (x/a + y/b  1)\n   * - Returns false if dimensions are 0 or negative\n   * - Normalized to center (0,0) for calculation\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coords are within this ellipse\n   * @see {@link Ellipse.strokeContains} For checking stroke intersection\n   * @see {@link Ellipse.getBounds} For getting containing rectangle\n   */\n  contains(x, y) {\n    if (this.halfWidth <= 0 || this.halfHeight <= 0) {\n      return false;\n    }\n    let normx = (x - this.x) / this.halfWidth;\n    let normy = (y - this.y) / this.halfHeight;\n    normx *= normx;\n    normy *= normy;\n    return normx + normy <= 1;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this ellipse including stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const ellipse = new Ellipse(100, 100, 50, 25);\n   * const isOnStroke = ellipse.strokeContains(150, 100, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = ellipse.strokeContains(150, 100, 4, 1);   // Inside\n   * const centerStroke = ellipse.strokeContains(150, 100, 4, 0.5); // Centered\n   * const outerStroke = ellipse.strokeContains(150, 100, 4, 0);   // Outside\n   * ```\n   * @remarks\n   * - Uses normalized ellipse equations\n   * - Considers stroke alignment\n   * - Returns false if dimensions are 0\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @param strokeWidth - The width of the line to check\n   * @param alignment - The alignment of the stroke (1 = inner, 0.5 = centered, 0 = outer)\n   * @returns Whether the x/y coords are within this ellipse's stroke\n   * @see {@link Ellipse.contains} For checking fill containment\n   * @see {@link Ellipse.getBounds} For getting stroke bounds\n   */\n  strokeContains(x, y, strokeWidth, alignment = 0.5) {\n    const { halfWidth, halfHeight } = this;\n    if (halfWidth <= 0 || halfHeight <= 0) {\n      return false;\n    }\n    const strokeOuterWidth = strokeWidth * (1 - alignment);\n    const strokeInnerWidth = strokeWidth - strokeOuterWidth;\n    const innerHorizontal = halfWidth - strokeInnerWidth;\n    const innerVertical = halfHeight - strokeInnerWidth;\n    const outerHorizontal = halfWidth + strokeOuterWidth;\n    const outerVertical = halfHeight + strokeOuterWidth;\n    const normalizedX = x - this.x;\n    const normalizedY = y - this.y;\n    const innerEllipse = normalizedX * normalizedX / (innerHorizontal * innerHorizontal) + normalizedY * normalizedY / (innerVertical * innerVertical);\n    const outerEllipse = normalizedX * normalizedX / (outerHorizontal * outerHorizontal) + normalizedY * normalizedY / (outerVertical * outerVertical);\n    return innerEllipse > 1 && outerEllipse <= 1;\n  }\n  /**\n   * Returns the framing rectangle of the ellipse as a Rectangle object.\n   * @example\n   * ```ts\n   * // Basic bounds calculation\n   * const ellipse = new Ellipse(100, 100, 50, 25);\n   * const bounds = ellipse.getBounds();\n   * // bounds: x=50, y=75, width=100, height=50\n   *\n   * // Reuse existing rectangle\n   * const rect = new Rectangle();\n   * ellipse.getBounds(rect);\n   * ```\n   * @remarks\n   * - Creates Rectangle if none provided\n   * - Top-left is (x-halfWidth, y-halfHeight)\n   * - Width is halfWidth * 2\n   * - Height is halfHeight * 2\n   * @param out - Optional Rectangle object to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle} For rectangle properties\n   * @see {@link Ellipse.contains} For checking if a point is inside\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    out.x = this.x - this.halfWidth;\n    out.y = this.y - this.halfHeight;\n    out.width = this.halfWidth * 2;\n    out.height = this.halfHeight * 2;\n    return out;\n  }\n  /**\n   * Copies another ellipse to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Ellipse(100, 100, 50, 25);\n   * const target = new Ellipse();\n   * target.copyFrom(source);\n   * ```\n   * @param ellipse - The ellipse to copy from\n   * @returns Returns itself\n   * @see {@link Ellipse.copyTo} For copying to another ellipse\n   * @see {@link Ellipse.clone} For creating new ellipse copy\n   */\n  copyFrom(ellipse) {\n    this.x = ellipse.x;\n    this.y = ellipse.y;\n    this.halfWidth = ellipse.halfWidth;\n    this.halfHeight = ellipse.halfHeight;\n    return this;\n  }\n  /**\n   * Copies this ellipse to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Ellipse(100, 100, 50, 25);\n   * const target = new Ellipse();\n   * source.copyTo(target);\n   * ```\n   * @param ellipse - The ellipse to copy to\n   * @returns Returns given parameter\n   * @see {@link Ellipse.copyFrom} For copying from another ellipse\n   * @see {@link Ellipse.clone} For creating new ellipse copy\n   */\n  copyTo(ellipse) {\n    ellipse.copyFrom(this);\n    return ellipse;\n  }\n  toString() {\n    return `[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`;\n  }\n}\n\nexport { Ellipse };\n//# sourceMappingURL=Ellipse.mjs.map\n","\"use strict\";\nfunction squaredDistanceToLineSegment(x, y, x1, y1, x2, y2) {\n  const a = x - x1;\n  const b = y - y1;\n  const c = x2 - x1;\n  const d = y2 - y1;\n  const dot = a * c + b * d;\n  const lenSq = c * c + d * d;\n  let param = -1;\n  if (lenSq !== 0) {\n    param = dot / lenSq;\n  }\n  let xx;\n  let yy;\n  if (param < 0) {\n    xx = x1;\n    yy = y1;\n  } else if (param > 1) {\n    xx = x2;\n    yy = y2;\n  } else {\n    xx = x1 + param * c;\n    yy = y1 + param * d;\n  }\n  const dx = x - xx;\n  const dy = y - yy;\n  return dx * dx + dy * dy;\n}\n\nexport { squaredDistanceToLineSegment };\n//# sourceMappingURL=squaredDistanceToLineSegment.mjs.map\n","import { deprecation } from '../../utils/logging/deprecation.mjs';\nimport { squaredDistanceToLineSegment } from '../misc/squaredDistanceToLineSegment.mjs';\nimport { Rectangle } from './Rectangle.mjs';\n\n\"use strict\";\nlet tempRect;\nlet tempRect2;\nclass Polygon {\n  /**\n   * @param points - This can be an array of Points\n   *  that form the polygon, a flat array of numbers that will be interpreted as [x,y, x,y, ...], or\n   *  the arguments passed can be all the points of the polygon e.g.\n   *  `new Polygon(new Point(), new Point(), ...)`, or the arguments passed can be flat\n   *  x,y values e.g. `new Polygon(x,y, x,y, x,y, ...)` where `x` and `y` are Numbers.\n   */\n  constructor(...points) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new Polygon([0, 0, 100, 0, 50, 100]);\n     * console.log(shape.type); // 'polygon'\n     *\n     * // Use in type guards\n     * if (shape.type === 'polygon') {\n     *     // TypeScript knows this is a Polygon\n     *     console.log(shape.points.length);\n     * }\n     * ```\n     * @readonly\n     * @default 'polygon'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     */\n    this.type = \"polygon\";\n    let flat = Array.isArray(points[0]) ? points[0] : points;\n    if (typeof flat[0] !== \"number\") {\n      const p = [];\n      for (let i = 0, il = flat.length; i < il; i++) {\n        p.push(flat[i].x, flat[i].y);\n      }\n      flat = p;\n    }\n    this.points = flat;\n    this.closePath = true;\n  }\n  /**\n   * Determines whether the polygon's points are arranged in a clockwise direction.\n   * Uses the shoelace formula (surveyor's formula) to calculate the signed area.\n   *\n   * A positive area indicates clockwise winding, while negative indicates counter-clockwise.\n   *\n   * The formula sums up the cross products of adjacent vertices:\n   * For each pair of adjacent points (x1,y1) and (x2,y2), we calculate (x1*y2 - x2*y1)\n   * The final sum divided by 2 gives the signed area - positive for clockwise.\n   * @example\n   * ```ts\n   * // Check polygon winding\n   * const polygon = new Polygon([0, 0, 100, 0, 50, 100]);\n   * console.log(polygon.isClockwise()); // Check direction\n   *\n   * // Use in path construction\n   * const hole = new Polygon([25, 25, 75, 25, 75, 75, 25, 75]);\n   * if (hole.isClockwise() === shape.isClockwise()) {\n   *     hole.points.reverse(); // Reverse for proper hole winding\n   * }\n   * ```\n   * @returns `true` if the polygon's points are arranged clockwise, `false` if counter-clockwise\n   */\n  isClockwise() {\n    let area = 0;\n    const points = this.points;\n    const length = points.length;\n    for (let i = 0; i < length; i += 2) {\n      const x1 = points[i];\n      const y1 = points[i + 1];\n      const x2 = points[(i + 2) % length];\n      const y2 = points[(i + 3) % length];\n      area += (x2 - x1) * (y2 + y1);\n    }\n    return area < 0;\n  }\n  /**\n   * Checks if this polygon completely contains another polygon.\n   * Used for detecting holes in shapes, like when parsing SVG paths.\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const outerSquare = new Polygon([0,0, 100,0, 100,100, 0,100]); // A square\n   * const innerSquare = new Polygon([25,25, 75,25, 75,75, 25,75]); // A smaller square inside\n   *\n   * outerSquare.containsPolygon(innerSquare); // Returns true\n   * innerSquare.containsPolygon(outerSquare); // Returns false\n   * ```\n   * @remarks\n   * - Uses bounds check for quick rejection\n   * - Tests all points for containment\n   * @param polygon - The polygon to test for containment\n   * @returns True if this polygon completely contains the other polygon\n   * @see {@link Polygon.contains} For single point testing\n   * @see {@link Polygon.getBounds} For bounds calculation\n   */\n  containsPolygon(polygon) {\n    const thisBounds = this.getBounds(tempRect);\n    const otherBounds = polygon.getBounds(tempRect2);\n    if (!thisBounds.containsRect(otherBounds)) {\n      return false;\n    }\n    const points = polygon.points;\n    for (let i = 0; i < points.length; i += 2) {\n      const x = points[i];\n      const y = points[i + 1];\n      if (!this.contains(x, y)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  /**\n   * Creates a clone of this polygon.\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const original = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.points[0] = 10; // Modify first x coordinate\n   * ```\n   * @returns A copy of the polygon\n   * @see {@link Polygon.copyFrom} For copying into existing polygon\n   * @see {@link Polygon.copyTo} For copying to another polygon\n   */\n  clone() {\n    const points = this.points.slice();\n    const polygon = new Polygon(points);\n    polygon.closePath = this.closePath;\n    return polygon;\n  }\n  /**\n   * Checks whether the x and y coordinates passed to this function are contained within this polygon.\n   * Uses raycasting algorithm for point-in-polygon testing.\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const polygon = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const isInside = polygon.contains(25, 25); // true\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coordinates are within this polygon\n   * @see {@link Polygon.strokeContains} For checking stroke intersection\n   * @see {@link Polygon.containsPolygon} For polygon-in-polygon testing\n   */\n  contains(x, y) {\n    let inside = false;\n    const length = this.points.length / 2;\n    for (let i = 0, j = length - 1; i < length; j = i++) {\n      const xi = this.points[i * 2];\n      const yi = this.points[i * 2 + 1];\n      const xj = this.points[j * 2];\n      const yj = this.points[j * 2 + 1];\n      const intersect = yi > y !== yj > y && x < (xj - xi) * ((y - yi) / (yj - yi)) + xi;\n      if (intersect) {\n        inside = !inside;\n      }\n    }\n    return inside;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this polygon including the stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const polygon = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const isOnStroke = polygon.strokeContains(25, 25, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = polygon.strokeContains(25, 25, 4, 1);   // Inside\n   * const centerStroke = polygon.strokeContains(25, 25, 4, 0.5); // Centered\n   * const outerStroke = polygon.strokeContains(25, 25, 4, 0);   // Outside\n   * ```\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @param strokeWidth - The width of the line to check\n   * @param alignment - The alignment of the stroke (1 = inner, 0.5 = centered, 0 = outer)\n   * @returns Whether the x/y coordinates are within this polygon's stroke\n   * @see {@link Polygon.contains} For checking fill containment\n   * @see {@link Polygon.getBounds} For getting stroke bounds\n   */\n  strokeContains(x, y, strokeWidth, alignment = 0.5) {\n    const strokeWidthSquared = strokeWidth * strokeWidth;\n    const rightWidthSquared = strokeWidthSquared * (1 - alignment);\n    const leftWidthSquared = strokeWidthSquared - rightWidthSquared;\n    const { points } = this;\n    const iterationLength = points.length - (this.closePath ? 0 : 2);\n    for (let i = 0; i < iterationLength; i += 2) {\n      const x1 = points[i];\n      const y1 = points[i + 1];\n      const x2 = points[(i + 2) % points.length];\n      const y2 = points[(i + 3) % points.length];\n      const distanceSquared = squaredDistanceToLineSegment(x, y, x1, y1, x2, y2);\n      const sign = Math.sign((x2 - x1) * (y - y1) - (y2 - y1) * (x - x1));\n      if (distanceSquared <= (sign < 0 ? leftWidthSquared : rightWidthSquared)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Returns the framing rectangle of the polygon as a Rectangle object.\n   * @example\n   * ```ts\n   * // Basic bounds calculation\n   * const polygon = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const bounds = polygon.getBounds();\n   * // bounds: x=0, y=0, width=100, height=100\n   *\n   * // Reuse existing rectangle\n   * const rect = new Rectangle();\n   * polygon.getBounds(rect);\n   * ```\n   * @param out - Optional rectangle to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle} For rectangle properties\n   * @see {@link Polygon.contains} For checking if a point is inside\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    const points = this.points;\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i];\n      const y = points[i + 1];\n      minX = x < minX ? x : minX;\n      maxX = x > maxX ? x : maxX;\n      minY = y < minY ? y : minY;\n      maxY = y > maxY ? y : maxY;\n    }\n    out.x = minX;\n    out.width = maxX - minX;\n    out.y = minY;\n    out.height = maxY - minY;\n    return out;\n  }\n  /**\n   * Copies another polygon to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const target = new Polygon();\n   * target.copyFrom(source);\n   * ```\n   * @param polygon - The polygon to copy from\n   * @returns Returns itself\n   * @see {@link Polygon.copyTo} For copying to another polygon\n   * @see {@link Polygon.clone} For creating new polygon copy\n   */\n  copyFrom(polygon) {\n    this.points = polygon.points.slice();\n    this.closePath = polygon.closePath;\n    return this;\n  }\n  /**\n   * Copies this polygon to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Polygon([0, 0, 100, 0, 50, 100]);\n   * const target = new Polygon();\n   * source.copyTo(target);\n   * ```\n   * @param polygon - The polygon to copy to\n   * @returns Returns given parameter\n   * @see {@link Polygon.copyFrom} For copying from another polygon\n   * @see {@link Polygon.clone} For creating new polygon copy\n   */\n  copyTo(polygon) {\n    polygon.copyFrom(this);\n    return polygon;\n  }\n  toString() {\n    return `[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, \"\")}]`;\n  }\n  /**\n   * Get the last X coordinate of the polygon.\n   * @example\n   * ```ts\n   * // Basic coordinate access\n   * const polygon = new Polygon([0, 0, 100, 200, 300, 400]);\n   * console.log(polygon.lastX); // 300\n   * ```\n   * @readonly\n   * @returns The x-coordinate of the last vertex\n   * @see {@link Polygon.lastY} For last Y coordinate\n   * @see {@link Polygon.points} For raw points array\n   */\n  get lastX() {\n    return this.points[this.points.length - 2];\n  }\n  /**\n   * Get the last Y coordinate of the polygon.\n   * @example\n   * ```ts\n   * // Basic coordinate access\n   * const polygon = new Polygon([0, 0, 100, 200, 300, 400]);\n   * console.log(polygon.lastY); // 400\n   * ```\n   * @readonly\n   * @returns The y-coordinate of the last vertex\n   * @see {@link Polygon.lastX} For last X coordinate\n   * @see {@link Polygon.points} For raw points array\n   */\n  get lastY() {\n    return this.points[this.points.length - 1];\n  }\n  /**\n   * Get the last X coordinate of the polygon.\n   * @readonly\n   * @deprecated since 8.11.0, use {@link Polygon.lastX} instead.\n   */\n  get x() {\n    deprecation(\"8.11.0\", \"Polygon.lastX is deprecated, please use Polygon.lastX instead.\");\n    return this.points[this.points.length - 2];\n  }\n  /**\n   * Get the last Y coordinate of the polygon.\n   * @readonly\n   * @deprecated since 8.11.0, use {@link Polygon.lastY} instead.\n   */\n  get y() {\n    deprecation(\"8.11.0\", \"Polygon.y is deprecated, please use Polygon.lastY instead.\");\n    return this.points[this.points.length - 1];\n  }\n  /**\n   * Get the first X coordinate of the polygon.\n   * @example\n   * ```ts\n   * // Basic coordinate access\n   * const polygon = new Polygon([0, 0, 100, 200, 300, 400]);\n   * console.log(polygon.x); // 0\n   * ```\n   * @readonly\n   * @returns The x-coordinate of the first vertex\n   * @see {@link Polygon.startY} For first Y coordinate\n   * @see {@link Polygon.points} For raw points array\n   */\n  get startX() {\n    return this.points[0];\n  }\n  /**\n   * Get the first Y coordinate of the polygon.\n   * @example\n   * ```ts\n   * // Basic coordinate access\n   * const polygon = new Polygon([0, 0, 100, 200, 300, 400]);\n   * console.log(polygon.y); // 0\n   * ```\n   * @readonly\n   * @returns The y-coordinate of the first vertex\n   * @see {@link Polygon.startX} For first X coordinate\n   * @see {@link Polygon.points} For raw points array\n   */\n  get startY() {\n    return this.points[1];\n  }\n}\n\nexport { Polygon };\n//# sourceMappingURL=Polygon.mjs.map\n","import { Rectangle } from './Rectangle.mjs';\n\n\"use strict\";\nconst isCornerWithinStroke = (pX, pY, cornerX, cornerY, radius, strokeWidthInner, strokeWidthOuter) => {\n  const dx = pX - cornerX;\n  const dy = pY - cornerY;\n  const distance = Math.sqrt(dx * dx + dy * dy);\n  return distance >= radius - strokeWidthInner && distance <= radius + strokeWidthOuter;\n};\nclass RoundedRectangle {\n  /**\n   * @param x - The X coordinate of the upper-left corner of the rounded rectangle\n   * @param y - The Y coordinate of the upper-left corner of the rounded rectangle\n   * @param width - The overall width of this rounded rectangle\n   * @param height - The overall height of this rounded rectangle\n   * @param radius - Controls the radius of the rounded corners\n   */\n  constructor(x = 0, y = 0, width = 0, height = 0, radius = 20) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new RoundedRectangle(0, 0, 100, 100, 20);\n     * console.log(shape.type); // 'roundedRectangle'\n     *\n     * // Use in type guards\n     * if (shape.type === 'roundedRectangle') {\n     *     console.log(shape.radius);\n     * }\n     * ```\n     * @readonly\n     * @default 'roundedRectangle'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     */\n    this.type = \"roundedRectangle\";\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.radius = radius;\n  }\n  /**\n   * Returns the framing rectangle of the rounded rectangle as a Rectangle object\n   * @example\n   * ```ts\n   * // Basic bounds calculation\n   * const rect = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const bounds = rect.getBounds();\n   * // bounds: x=100, y=100, width=200, height=150\n   *\n   * // Reuse existing rectangle\n   * const out = new Rectangle();\n   * rect.getBounds(out);\n   * ```\n   * @remarks\n   * - Rectangle matches outer dimensions\n   * - Ignores corner radius\n   * @param out - Optional rectangle to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle} For rectangle properties\n   * @see {@link RoundedRectangle.contains} For checking if a point is inside\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    out.x = this.x;\n    out.y = this.y;\n    out.width = this.width;\n    out.height = this.height;\n    return out;\n  }\n  /**\n   * Creates a clone of this Rounded Rectangle.\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const original = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.radius = 30;\n   * modified.width *= 2;\n   *\n   * // Verify independence\n   * console.log(original.radius);  // 20\n   * console.log(modified.radius);  // 30\n   * ```\n   * @returns A copy of the rounded rectangle\n   * @see {@link RoundedRectangle.copyFrom} For copying into existing rectangle\n   * @see {@link RoundedRectangle.copyTo} For copying to another rectangle\n   */\n  clone() {\n    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);\n  }\n  /**\n   * Copies another rectangle to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const target = new RoundedRectangle();\n   * target.copyFrom(source);\n   *\n   * // Chain with other operations\n   * const rect = new RoundedRectangle()\n   *     .copyFrom(source)\n   *     .getBounds(rect);\n   * ```\n   * @param rectangle - The rectangle to copy from\n   * @returns Returns itself\n   * @see {@link RoundedRectangle.copyTo} For copying to another rectangle\n   * @see {@link RoundedRectangle.clone} For creating new rectangle copy\n   */\n  copyFrom(rectangle) {\n    this.x = rectangle.x;\n    this.y = rectangle.y;\n    this.width = rectangle.width;\n    this.height = rectangle.height;\n    return this;\n  }\n  /**\n   * Copies this rectangle to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const target = new RoundedRectangle();\n   * source.copyTo(target);\n   *\n   * // Chain with other operations\n   * const result = source\n   *     .copyTo(new RoundedRectangle())\n   *     .getBounds();\n   * ```\n   * @param rectangle - The rectangle to copy to\n   * @returns Returns given parameter\n   * @see {@link RoundedRectangle.copyFrom} For copying from another rectangle\n   * @see {@link RoundedRectangle.clone} For creating new rectangle copy\n   */\n  copyTo(rectangle) {\n    rectangle.copyFrom(this);\n    return rectangle;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this Rounded Rectangle\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const rect = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const isInside = rect.contains(150, 125); // true\n   * // Check corner radius\n   * const corner = rect.contains(100, 100); // false if within corner curve\n   * ```\n   * @remarks\n   * - Returns false if width/height is 0 or negative\n   * - Handles rounded corners with radius check\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coordinates are within this Rounded Rectangle\n   * @see {@link RoundedRectangle.strokeContains} For checking stroke intersection\n   * @see {@link RoundedRectangle.getBounds} For getting containing rectangle\n   */\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    if (x >= this.x && x <= this.x + this.width) {\n      if (y >= this.y && y <= this.y + this.height) {\n        const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));\n        if (y >= this.y + radius && y <= this.y + this.height - radius || x >= this.x + radius && x <= this.x + this.width - radius) {\n          return true;\n        }\n        let dx = x - (this.x + radius);\n        let dy = y - (this.y + radius);\n        const radius2 = radius * radius;\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + this.width - radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dy = y - (this.y + this.height - radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this rectangle including the stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const rect = new RoundedRectangle(100, 100, 200, 150, 20);\n   * const isOnStroke = rect.strokeContains(150, 100, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = rect.strokeContains(150, 100, 4, 1);   // Inside\n   * const centerStroke = rect.strokeContains(150, 100, 4, 0.5); // Centered\n   * const outerStroke = rect.strokeContains(150, 100, 4, 0);   // Outside\n   * ```\n   * @param pX - The X coordinate of the point to test\n   * @param pY - The Y coordinate of the point to test\n   * @param strokeWidth - The width of the line to check\n   * @param alignment - The alignment of the stroke (1 = inner, 0.5 = centered, 0 = outer)\n   * @returns Whether the x/y coordinates are within this rectangle's stroke\n   * @see {@link RoundedRectangle.contains} For checking fill containment\n   * @see {@link RoundedRectangle.getBounds} For getting stroke bounds\n   */\n  strokeContains(pX, pY, strokeWidth, alignment = 0.5) {\n    const { x, y, width, height, radius } = this;\n    const strokeWidthOuter = strokeWidth * (1 - alignment);\n    const strokeWidthInner = strokeWidth - strokeWidthOuter;\n    const innerX = x + radius;\n    const innerY = y + radius;\n    const innerWidth = width - radius * 2;\n    const innerHeight = height - radius * 2;\n    const rightBound = x + width;\n    const bottomBound = y + height;\n    if ((pX >= x - strokeWidthOuter && pX <= x + strokeWidthInner || pX >= rightBound - strokeWidthInner && pX <= rightBound + strokeWidthOuter) && pY >= innerY && pY <= innerY + innerHeight) {\n      return true;\n    }\n    if ((pY >= y - strokeWidthOuter && pY <= y + strokeWidthInner || pY >= bottomBound - strokeWidthInner && pY <= bottomBound + strokeWidthOuter) && pX >= innerX && pX <= innerX + innerWidth) {\n      return true;\n    }\n    return (\n      // Top-left\n      pX < innerX && pY < innerY && isCornerWithinStroke(\n        pX,\n        pY,\n        innerX,\n        innerY,\n        radius,\n        strokeWidthInner,\n        strokeWidthOuter\n      ) || pX > rightBound - radius && pY < innerY && isCornerWithinStroke(\n        pX,\n        pY,\n        rightBound - radius,\n        innerY,\n        radius,\n        strokeWidthInner,\n        strokeWidthOuter\n      ) || pX > rightBound - radius && pY > bottomBound - radius && isCornerWithinStroke(\n        pX,\n        pY,\n        rightBound - radius,\n        bottomBound - radius,\n        radius,\n        strokeWidthInner,\n        strokeWidthOuter\n      ) || pX < innerX && pY > bottomBound - radius && isCornerWithinStroke(\n        pX,\n        pY,\n        innerX,\n        bottomBound - radius,\n        radius,\n        strokeWidthInner,\n        strokeWidthOuter\n      )\n    );\n  }\n  toString() {\n    return `[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;\n  }\n}\n\nexport { RoundedRectangle };\n//# sourceMappingURL=RoundedRectangle.mjs.map\n","import { BindGroup } from '../../renderers/gpu/shader/BindGroup.mjs';\nimport { Texture } from '../../renderers/shared/texture/Texture.mjs';\n\n\"use strict\";\nconst cachedGroups = {};\nfunction getTextureBatchBindGroup(textures, size, maxTextures) {\n  let uid = 2166136261;\n  for (let i = 0; i < size; i++) {\n    uid ^= textures[i].uid;\n    uid = Math.imul(uid, 16777619);\n    uid >>>= 0;\n  }\n  return cachedGroups[uid] || generateTextureBatchBindGroup(textures, size, uid, maxTextures);\n}\nfunction generateTextureBatchBindGroup(textures, size, key, maxTextures) {\n  const bindGroupResources = {};\n  let bindIndex = 0;\n  for (let i = 0; i < maxTextures; i++) {\n    const texture = i < size ? textures[i] : Texture.EMPTY.source;\n    bindGroupResources[bindIndex++] = texture.source;\n    bindGroupResources[bindIndex++] = texture.style;\n  }\n  const bindGroup = new BindGroup(bindGroupResources);\n  cachedGroups[key] = bindGroup;\n  return bindGroup;\n}\n\nexport { getTextureBatchBindGroup };\n//# sourceMappingURL=getTextureBatchBindGroup.mjs.map\n","\"use strict\";\nclass ViewableBuffer {\n  constructor(sizeOrBuffer) {\n    if (typeof sizeOrBuffer === \"number\") {\n      this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);\n    } else if (sizeOrBuffer instanceof Uint8Array) {\n      this.rawBinaryData = sizeOrBuffer.buffer;\n    } else {\n      this.rawBinaryData = sizeOrBuffer;\n    }\n    this.uint32View = new Uint32Array(this.rawBinaryData);\n    this.float32View = new Float32Array(this.rawBinaryData);\n    this.size = this.rawBinaryData.byteLength;\n  }\n  /** View on the raw binary data as a `Int8Array`. */\n  get int8View() {\n    if (!this._int8View) {\n      this._int8View = new Int8Array(this.rawBinaryData);\n    }\n    return this._int8View;\n  }\n  /** View on the raw binary data as a `Uint8Array`. */\n  get uint8View() {\n    if (!this._uint8View) {\n      this._uint8View = new Uint8Array(this.rawBinaryData);\n    }\n    return this._uint8View;\n  }\n  /**  View on the raw binary data as a `Int16Array`. */\n  get int16View() {\n    if (!this._int16View) {\n      this._int16View = new Int16Array(this.rawBinaryData);\n    }\n    return this._int16View;\n  }\n  /** View on the raw binary data as a `Int32Array`. */\n  get int32View() {\n    if (!this._int32View) {\n      this._int32View = new Int32Array(this.rawBinaryData);\n    }\n    return this._int32View;\n  }\n  /** View on the raw binary data as a `Float64Array`. */\n  get float64View() {\n    if (!this._float64Array) {\n      this._float64Array = new Float64Array(this.rawBinaryData);\n    }\n    return this._float64Array;\n  }\n  /** View on the raw binary data as a `BigUint64Array`. */\n  get bigUint64View() {\n    if (!this._bigUint64Array) {\n      this._bigUint64Array = new BigUint64Array(this.rawBinaryData);\n    }\n    return this._bigUint64Array;\n  }\n  /**\n   * Returns the view of the given type.\n   * @param type - One of `int8`, `uint8`, `int16`,\n   *    `uint16`, `int32`, `uint32`, and `float32`.\n   * @returns - typed array of given type\n   */\n  view(type) {\n    return this[`${type}View`];\n  }\n  /** Destroys all buffer references. Do not use after calling this. */\n  destroy() {\n    this.rawBinaryData = null;\n    this._int8View = null;\n    this._uint8View = null;\n    this._int16View = null;\n    this.uint16View = null;\n    this._int32View = null;\n    this.uint32View = null;\n    this.float32View = null;\n  }\n  /**\n   * Returns the size of the given type in bytes.\n   * @param type - One of `int8`, `uint8`, `int16`,\n   *   `uint16`, `int32`, `uint32`, and `float32`.\n   * @returns - size of the type in bytes\n   */\n  static sizeOf(type) {\n    switch (type) {\n      case \"int8\":\n      case \"uint8\":\n        return 1;\n      case \"int16\":\n      case \"uint16\":\n        return 2;\n      case \"int32\":\n      case \"uint32\":\n      case \"float32\":\n        return 4;\n      default:\n        throw new Error(`${type} isn't a valid view type`);\n    }\n  }\n}\n\nexport { ViewableBuffer };\n//# sourceMappingURL=ViewableBuffer.mjs.map\n","\"use strict\";\nfunction fastCopy(sourceBuffer, destinationBuffer) {\n  const lengthDouble = sourceBuffer.byteLength / 8 | 0;\n  const sourceFloat64View = new Float64Array(sourceBuffer, 0, lengthDouble);\n  const destinationFloat64View = new Float64Array(destinationBuffer, 0, lengthDouble);\n  destinationFloat64View.set(sourceFloat64View);\n  const remainingBytes = sourceBuffer.byteLength - lengthDouble * 8;\n  if (remainingBytes > 0) {\n    const sourceUint8View = new Uint8Array(sourceBuffer, lengthDouble * 8, remainingBytes);\n    const destinationUint8View = new Uint8Array(destinationBuffer, lengthDouble * 8, remainingBytes);\n    destinationUint8View.set(sourceUint8View);\n  }\n}\n\nexport { fastCopy };\n//# sourceMappingURL=fastCopy.mjs.map\n","\"use strict\";\nconst BLEND_TO_NPM = {\n  normal: \"normal-npm\",\n  add: \"add-npm\",\n  screen: \"screen-npm\"\n};\nvar STENCIL_MODES = /* @__PURE__ */ ((STENCIL_MODES2) => {\n  STENCIL_MODES2[STENCIL_MODES2[\"DISABLED\"] = 0] = \"DISABLED\";\n  STENCIL_MODES2[STENCIL_MODES2[\"RENDERING_MASK_ADD\"] = 1] = \"RENDERING_MASK_ADD\";\n  STENCIL_MODES2[STENCIL_MODES2[\"MASK_ACTIVE\"] = 2] = \"MASK_ACTIVE\";\n  STENCIL_MODES2[STENCIL_MODES2[\"INVERSE_MASK_ACTIVE\"] = 3] = \"INVERSE_MASK_ACTIVE\";\n  STENCIL_MODES2[STENCIL_MODES2[\"RENDERING_MASK_REMOVE\"] = 4] = \"RENDERING_MASK_REMOVE\";\n  STENCIL_MODES2[STENCIL_MODES2[\"NONE\"] = 5] = \"NONE\";\n  return STENCIL_MODES2;\n})(STENCIL_MODES || {});\n\nexport { BLEND_TO_NPM, STENCIL_MODES };\n//# sourceMappingURL=const.mjs.map\n","import { BLEND_TO_NPM } from './const.mjs';\n\n\"use strict\";\nfunction getAdjustedBlendModeBlend(blendMode, textureSource) {\n  if (textureSource.alphaMode === \"no-premultiply-alpha\") {\n    return BLEND_TO_NPM[blendMode] || blendMode;\n  }\n  return blendMode;\n}\n\nexport { getAdjustedBlendModeBlend };\n//# sourceMappingURL=getAdjustedBlendModeBlend.mjs.map\n","\"use strict\";\nconst fragTemplate = [\n  \"precision mediump float;\",\n  \"void main(void){\",\n  \"float test = 0.1;\",\n  \"%forloop%\",\n  \"gl_FragColor = vec4(0.0);\",\n  \"}\"\n].join(\"\\n\");\nfunction generateIfTestSrc(maxIfs) {\n  let src = \"\";\n  for (let i = 0; i < maxIfs; ++i) {\n    if (i > 0) {\n      src += \"\\nelse \";\n    }\n    if (i < maxIfs - 1) {\n      src += `if(test == ${i}.0){}`;\n    }\n  }\n  return src;\n}\nfunction checkMaxIfStatementsInShader(maxIfs, gl) {\n  if (maxIfs === 0) {\n    throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");\n  }\n  const shader = gl.createShader(gl.FRAGMENT_SHADER);\n  try {\n    while (true) {\n      const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));\n      gl.shaderSource(shader, fragmentSrc);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        maxIfs = maxIfs / 2 | 0;\n      } else {\n        break;\n      }\n    }\n  } finally {\n    gl.deleteShader(shader);\n  }\n  return maxIfs;\n}\n\nexport { checkMaxIfStatementsInShader };\n//# sourceMappingURL=checkMaxIfStatementsInShader.mjs.map\n","import { getTestContext } from '../../../renderers/gl/shader/program/getTestContext.mjs';\nimport { checkMaxIfStatementsInShader } from './checkMaxIfStatementsInShader.mjs';\n\n\"use strict\";\nlet maxTexturesPerBatchCache = null;\nfunction getMaxTexturesPerBatch() {\n  if (maxTexturesPerBatchCache)\n    return maxTexturesPerBatchCache;\n  const gl = getTestContext();\n  maxTexturesPerBatchCache = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n  maxTexturesPerBatchCache = checkMaxIfStatementsInShader(\n    maxTexturesPerBatchCache,\n    gl\n  );\n  gl.getExtension(\"WEBGL_lose_context\")?.loseContext();\n  return maxTexturesPerBatchCache;\n}\n\nexport { getMaxTexturesPerBatch };\n//# sourceMappingURL=maxRecommendedTextures.mjs.map\n","\"use strict\";\nclass BatchTextureArray {\n  constructor() {\n    /** Respective locations for textures. */\n    this.ids = /* @__PURE__ */ Object.create(null);\n    this.textures = [];\n    this.count = 0;\n  }\n  /** Clear the textures and their locations. */\n  clear() {\n    for (let i = 0; i < this.count; i++) {\n      const t = this.textures[i];\n      this.textures[i] = null;\n      this.ids[t.uid] = null;\n    }\n    this.count = 0;\n  }\n}\n\nexport { BatchTextureArray };\n//# sourceMappingURL=BatchTextureArray.mjs.map\n","import { uid } from '../../../utils/data/uid.mjs';\nimport { ViewableBuffer } from '../../../utils/data/ViewableBuffer.mjs';\nimport { deprecation } from '../../../utils/logging/deprecation.mjs';\nimport { GlobalResourceRegistry } from '../../../utils/pool/GlobalResourceRegistry.mjs';\nimport { fastCopy } from '../../renderers/shared/buffer/utils/fastCopy.mjs';\nimport { getAdjustedBlendModeBlend } from '../../renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nimport { getMaxTexturesPerBatch } from '../gl/utils/maxRecommendedTextures.mjs';\nimport { BatchTextureArray } from './BatchTextureArray.mjs';\n\n\"use strict\";\nclass Batch {\n  constructor() {\n    this.renderPipeId = \"batch\";\n    this.action = \"startBatch\";\n    // TODO - eventually this could be useful for flagging batches as dirty and then only rebuilding those ones\n    // public elementStart = 0;\n    // public elementSize = 0;\n    // for drawing..\n    this.start = 0;\n    this.size = 0;\n    this.textures = new BatchTextureArray();\n    this.blendMode = \"normal\";\n    this.topology = \"triangle-strip\";\n    this.canBundle = true;\n  }\n  destroy() {\n    this.textures = null;\n    this.gpuBindGroup = null;\n    this.bindGroup = null;\n    this.batcher = null;\n  }\n}\nconst batchPool = [];\nlet batchPoolIndex = 0;\nGlobalResourceRegistry.register({\n  clear: () => {\n    if (batchPool.length > 0) {\n      for (const item of batchPool) {\n        if (item)\n          item.destroy();\n      }\n    }\n    batchPool.length = 0;\n    batchPoolIndex = 0;\n  }\n});\nfunction getBatchFromPool() {\n  return batchPoolIndex > 0 ? batchPool[--batchPoolIndex] : new Batch();\n}\nfunction returnBatchToPool(batch) {\n  batchPool[batchPoolIndex++] = batch;\n}\nlet BATCH_TICK = 0;\nconst _Batcher = class _Batcher {\n  constructor(options) {\n    /** unique id for this batcher */\n    this.uid = uid(\"batcher\");\n    /** Indicates whether the batch data has been modified and needs updating. */\n    this.dirty = true;\n    /** The current index of the batch being processed. */\n    this.batchIndex = 0;\n    /** An array of all batches created during the current rendering process. */\n    this.batches = [];\n    this._elements = [];\n    options = { ..._Batcher.defaultOptions, ...options };\n    if (!options.maxTextures) {\n      deprecation(\"v8.8.0\", \"maxTextures is a required option for Batcher now, please pass it in the options\");\n      options.maxTextures = getMaxTexturesPerBatch();\n    }\n    const { maxTextures, attributesInitialSize, indicesInitialSize } = options;\n    this.attributeBuffer = new ViewableBuffer(attributesInitialSize * 4);\n    this.indexBuffer = new Uint16Array(indicesInitialSize);\n    this.maxTextures = maxTextures;\n  }\n  begin() {\n    this.elementSize = 0;\n    this.elementStart = 0;\n    this.indexSize = 0;\n    this.attributeSize = 0;\n    for (let i = 0; i < this.batchIndex; i++) {\n      returnBatchToPool(this.batches[i]);\n    }\n    this.batchIndex = 0;\n    this._batchIndexStart = 0;\n    this._batchIndexSize = 0;\n    this.dirty = true;\n  }\n  add(batchableObject) {\n    this._elements[this.elementSize++] = batchableObject;\n    batchableObject._indexStart = this.indexSize;\n    batchableObject._attributeStart = this.attributeSize;\n    batchableObject._batcher = this;\n    this.indexSize += batchableObject.indexSize;\n    this.attributeSize += batchableObject.attributeSize * this.vertexSize;\n  }\n  checkAndUpdateTexture(batchableObject, texture) {\n    const textureId = batchableObject._batch.textures.ids[texture._source.uid];\n    if (!textureId && textureId !== 0)\n      return false;\n    batchableObject._textureId = textureId;\n    batchableObject.texture = texture;\n    return true;\n  }\n  updateElement(batchableObject) {\n    this.dirty = true;\n    const attributeBuffer = this.attributeBuffer;\n    if (batchableObject.packAsQuad) {\n      this.packQuadAttributes(\n        batchableObject,\n        attributeBuffer.float32View,\n        attributeBuffer.uint32View,\n        batchableObject._attributeStart,\n        batchableObject._textureId\n      );\n    } else {\n      this.packAttributes(\n        batchableObject,\n        attributeBuffer.float32View,\n        attributeBuffer.uint32View,\n        batchableObject._attributeStart,\n        batchableObject._textureId\n      );\n    }\n  }\n  /**\n   * breaks the batcher. This happens when a batch gets too big,\n   * or we need to switch to a different type of rendering (a filter for example)\n   * @param instructionSet\n   */\n  break(instructionSet) {\n    const elements = this._elements;\n    if (!elements[this.elementStart])\n      return;\n    let batch = getBatchFromPool();\n    let textureBatch = batch.textures;\n    textureBatch.clear();\n    const firstElement = elements[this.elementStart];\n    let blendMode = getAdjustedBlendModeBlend(firstElement.blendMode, firstElement.texture._source);\n    let topology = firstElement.topology;\n    if (this.attributeSize * 4 > this.attributeBuffer.size) {\n      this._resizeAttributeBuffer(this.attributeSize * 4);\n    }\n    if (this.indexSize > this.indexBuffer.length) {\n      this._resizeIndexBuffer(this.indexSize);\n    }\n    const f32 = this.attributeBuffer.float32View;\n    const u32 = this.attributeBuffer.uint32View;\n    const indexBuffer = this.indexBuffer;\n    let size = this._batchIndexSize;\n    let start = this._batchIndexStart;\n    let action = \"startBatch\";\n    const maxTextures = this.maxTextures;\n    for (let i = this.elementStart; i < this.elementSize; ++i) {\n      const element = elements[i];\n      elements[i] = null;\n      const texture = element.texture;\n      const source = texture._source;\n      const adjustedBlendMode = getAdjustedBlendModeBlend(element.blendMode, source);\n      const breakRequired = blendMode !== adjustedBlendMode || topology !== element.topology;\n      if (source._batchTick === BATCH_TICK && !breakRequired) {\n        element._textureId = source._textureBindLocation;\n        size += element.indexSize;\n        if (element.packAsQuad) {\n          this.packQuadAttributes(\n            element,\n            f32,\n            u32,\n            element._attributeStart,\n            element._textureId\n          );\n          this.packQuadIndex(\n            indexBuffer,\n            element._indexStart,\n            element._attributeStart / this.vertexSize\n          );\n        } else {\n          this.packAttributes(\n            element,\n            f32,\n            u32,\n            element._attributeStart,\n            element._textureId\n          );\n          this.packIndex(\n            element,\n            indexBuffer,\n            element._indexStart,\n            element._attributeStart / this.vertexSize\n          );\n        }\n        element._batch = batch;\n        continue;\n      }\n      source._batchTick = BATCH_TICK;\n      if (textureBatch.count >= maxTextures || breakRequired) {\n        this._finishBatch(\n          batch,\n          start,\n          size - start,\n          textureBatch,\n          blendMode,\n          topology,\n          instructionSet,\n          action\n        );\n        action = \"renderBatch\";\n        start = size;\n        blendMode = adjustedBlendMode;\n        topology = element.topology;\n        batch = getBatchFromPool();\n        textureBatch = batch.textures;\n        textureBatch.clear();\n        ++BATCH_TICK;\n      }\n      element._textureId = source._textureBindLocation = textureBatch.count;\n      textureBatch.ids[source.uid] = textureBatch.count;\n      textureBatch.textures[textureBatch.count++] = source;\n      element._batch = batch;\n      size += element.indexSize;\n      if (element.packAsQuad) {\n        this.packQuadAttributes(\n          element,\n          f32,\n          u32,\n          element._attributeStart,\n          element._textureId\n        );\n        this.packQuadIndex(\n          indexBuffer,\n          element._indexStart,\n          element._attributeStart / this.vertexSize\n        );\n      } else {\n        this.packAttributes(\n          element,\n          f32,\n          u32,\n          element._attributeStart,\n          element._textureId\n        );\n        this.packIndex(\n          element,\n          indexBuffer,\n          element._indexStart,\n          element._attributeStart / this.vertexSize\n        );\n      }\n    }\n    if (textureBatch.count > 0) {\n      this._finishBatch(\n        batch,\n        start,\n        size - start,\n        textureBatch,\n        blendMode,\n        topology,\n        instructionSet,\n        action\n      );\n      start = size;\n      ++BATCH_TICK;\n    }\n    this.elementStart = this.elementSize;\n    this._batchIndexStart = start;\n    this._batchIndexSize = size;\n  }\n  _finishBatch(batch, indexStart, indexSize, textureBatch, blendMode, topology, instructionSet, action) {\n    batch.gpuBindGroup = null;\n    batch.bindGroup = null;\n    batch.action = action;\n    batch.batcher = this;\n    batch.textures = textureBatch;\n    batch.blendMode = blendMode;\n    batch.topology = topology;\n    batch.start = indexStart;\n    batch.size = indexSize;\n    ++BATCH_TICK;\n    this.batches[this.batchIndex++] = batch;\n    instructionSet.add(batch);\n  }\n  finish(instructionSet) {\n    this.break(instructionSet);\n  }\n  /**\n   * Resizes the attribute buffer to the given size (1 = 1 float32)\n   * @param size - the size in vertices to ensure (not bytes!)\n   */\n  ensureAttributeBuffer(size) {\n    if (size * 4 <= this.attributeBuffer.size)\n      return;\n    this._resizeAttributeBuffer(size * 4);\n  }\n  /**\n   * Resizes the index buffer to the given size (1 = 1 float32)\n   * @param size - the size in vertices to ensure (not bytes!)\n   */\n  ensureIndexBuffer(size) {\n    if (size <= this.indexBuffer.length)\n      return;\n    this._resizeIndexBuffer(size);\n  }\n  _resizeAttributeBuffer(size) {\n    const newSize = Math.max(size, this.attributeBuffer.size * 2);\n    const newArrayBuffer = new ViewableBuffer(newSize);\n    fastCopy(this.attributeBuffer.rawBinaryData, newArrayBuffer.rawBinaryData);\n    this.attributeBuffer = newArrayBuffer;\n  }\n  _resizeIndexBuffer(size) {\n    const indexBuffer = this.indexBuffer;\n    let newSize = Math.max(size, indexBuffer.length * 1.5);\n    newSize += newSize % 2;\n    const newIndexBuffer = newSize > 65535 ? new Uint32Array(newSize) : new Uint16Array(newSize);\n    if (newIndexBuffer.BYTES_PER_ELEMENT !== indexBuffer.BYTES_PER_ELEMENT) {\n      for (let i = 0; i < indexBuffer.length; i++) {\n        newIndexBuffer[i] = indexBuffer[i];\n      }\n    } else {\n      fastCopy(indexBuffer.buffer, newIndexBuffer.buffer);\n    }\n    this.indexBuffer = newIndexBuffer;\n  }\n  packQuadIndex(indexBuffer, index, indicesOffset) {\n    indexBuffer[index] = indicesOffset + 0;\n    indexBuffer[index + 1] = indicesOffset + 1;\n    indexBuffer[index + 2] = indicesOffset + 2;\n    indexBuffer[index + 3] = indicesOffset + 0;\n    indexBuffer[index + 4] = indicesOffset + 2;\n    indexBuffer[index + 5] = indicesOffset + 3;\n  }\n  packIndex(element, indexBuffer, index, indicesOffset) {\n    const indices = element.indices;\n    const size = element.indexSize;\n    const indexOffset = element.indexOffset;\n    const attributeOffset = element.attributeOffset;\n    for (let i = 0; i < size; i++) {\n      indexBuffer[index++] = indicesOffset + indices[i + indexOffset] - attributeOffset;\n    }\n  }\n  destroy() {\n    if (this.batches === null)\n      return;\n    for (let i = 0; i < this.batches.length; i++) {\n      returnBatchToPool(this.batches[i]);\n    }\n    this.batches = null;\n    for (let i = 0; i < this._elements.length; i++) {\n      if (this._elements[i])\n        this._elements[i]._batch = null;\n    }\n    this._elements = null;\n    this.indexBuffer = null;\n    this.attributeBuffer.destroy();\n    this.attributeBuffer = null;\n  }\n};\n_Batcher.defaultOptions = {\n  maxTextures: null,\n  attributesInitialSize: 4,\n  indicesInitialSize: 6\n};\nlet Batcher = _Batcher;\n\nexport { Batch, Batcher };\n//# sourceMappingURL=Batcher.mjs.map\n","\"use strict\";\nvar BufferUsage = /* @__PURE__ */ ((BufferUsage2) => {\n  BufferUsage2[BufferUsage2[\"MAP_READ\"] = 1] = \"MAP_READ\";\n  BufferUsage2[BufferUsage2[\"MAP_WRITE\"] = 2] = \"MAP_WRITE\";\n  BufferUsage2[BufferUsage2[\"COPY_SRC\"] = 4] = \"COPY_SRC\";\n  BufferUsage2[BufferUsage2[\"COPY_DST\"] = 8] = \"COPY_DST\";\n  BufferUsage2[BufferUsage2[\"INDEX\"] = 16] = \"INDEX\";\n  BufferUsage2[BufferUsage2[\"VERTEX\"] = 32] = \"VERTEX\";\n  BufferUsage2[BufferUsage2[\"UNIFORM\"] = 64] = \"UNIFORM\";\n  BufferUsage2[BufferUsage2[\"STORAGE\"] = 128] = \"STORAGE\";\n  BufferUsage2[BufferUsage2[\"INDIRECT\"] = 256] = \"INDIRECT\";\n  BufferUsage2[BufferUsage2[\"QUERY_RESOLVE\"] = 512] = \"QUERY_RESOLVE\";\n  BufferUsage2[BufferUsage2[\"STATIC\"] = 1024] = \"STATIC\";\n  return BufferUsage2;\n})(BufferUsage || {});\n\nexport { BufferUsage };\n//# sourceMappingURL=const.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { BufferUsage } from './const.mjs';\n\n\"use strict\";\nclass Buffer extends EventEmitter {\n  /**\n   * Creates a new Buffer with the given options\n   * @param options - the options for the buffer\n   */\n  constructor(options) {\n    let { data, size } = options;\n    const { usage, label, shrinkToFit } = options;\n    super();\n    /**\n     * emits when the underlying buffer has changed shape (i.e. resized)\n     * letting the renderer know that it needs to discard the old buffer on the GPU and create a new one\n     * @event change\n     */\n    /**\n     * emits when the underlying buffer data has been updated. letting the renderer know\n     * that it needs to update the buffer on the GPU\n     * @event update\n     */\n    /**\n     * emits when the buffer is destroyed. letting the renderer know that it needs to destroy the buffer on the GPU\n     * @event destroy\n     */\n    /** a unique id for this uniform group used through the renderer */\n    this.uid = uid(\"buffer\");\n    /**\n     * a resource type, used to identify how to handle it when its in a bind group / shader resource\n     * @internal\n     */\n    this._resourceType = \"buffer\";\n    /**\n     * the resource id used internally by the renderer to build bind group keys\n     * @internal\n     */\n    this._resourceId = uid(\"resource\");\n    /**\n     * used internally to know if a uniform group was used in the last render pass\n     * @internal\n     */\n    this._touched = 0;\n    /** @internal */\n    this._updateID = 1;\n    this._dataInt32 = null;\n    /**\n     * should the GPU buffer be shrunk when the data becomes smaller?\n     * changing this will cause the buffer to be destroyed and a new one created on the GPU\n     * this can be expensive, especially if the buffer is already big enough!\n     * setting this to false will prevent the buffer from being shrunk. This will yield better performance\n     * if you are constantly setting data that is changing size often.\n     * @default true\n     */\n    this.shrinkToFit = true;\n    /**\n     * Has the buffer been destroyed?\n     * @readonly\n     */\n    this.destroyed = false;\n    if (data instanceof Array) {\n      data = new Float32Array(data);\n    }\n    this._data = data;\n    size ?? (size = data?.byteLength);\n    const mappedAtCreation = !!data;\n    this.descriptor = {\n      size,\n      usage,\n      mappedAtCreation,\n      label\n    };\n    this.shrinkToFit = shrinkToFit ?? true;\n  }\n  /** the data in the buffer */\n  get data() {\n    return this._data;\n  }\n  set data(value) {\n    this.setDataWithSize(value, value.length, true);\n  }\n  get dataInt32() {\n    if (!this._dataInt32) {\n      this._dataInt32 = new Int32Array(this.data.buffer);\n    }\n    return this._dataInt32;\n  }\n  /** whether the buffer is static or not */\n  get static() {\n    return !!(this.descriptor.usage & BufferUsage.STATIC);\n  }\n  set static(value) {\n    if (value) {\n      this.descriptor.usage |= BufferUsage.STATIC;\n    } else {\n      this.descriptor.usage &= ~BufferUsage.STATIC;\n    }\n  }\n  /**\n   * Sets the data in the buffer to the given value. This will immediately update the buffer on the GPU.\n   * If you only want to update a subset of the buffer, you can pass in the size of the data.\n   * @param value - the data to set\n   * @param size - the size of the data in bytes\n   * @param syncGPU - should the buffer be updated on the GPU immediately?\n   */\n  setDataWithSize(value, size, syncGPU) {\n    this._updateID++;\n    this._updateSize = size * value.BYTES_PER_ELEMENT;\n    if (this._data === value) {\n      if (syncGPU)\n        this.emit(\"update\", this);\n      return;\n    }\n    const oldData = this._data;\n    this._data = value;\n    this._dataInt32 = null;\n    if (!oldData || oldData.length !== value.length) {\n      if (!this.shrinkToFit && oldData && value.byteLength < oldData.byteLength) {\n        if (syncGPU)\n          this.emit(\"update\", this);\n      } else {\n        this.descriptor.size = value.byteLength;\n        this._resourceId = uid(\"resource\");\n        this.emit(\"change\", this);\n      }\n      return;\n    }\n    if (syncGPU)\n      this.emit(\"update\", this);\n  }\n  /**\n   * updates the buffer on the GPU to reflect the data in the buffer.\n   * By default it will update the entire buffer. If you only want to update a subset of the buffer,\n   * you can pass in the size of the buffer to update.\n   * @param sizeInBytes - the new size of the buffer in bytes\n   */\n  update(sizeInBytes) {\n    this._updateSize = sizeInBytes ?? this._updateSize;\n    this._updateID++;\n    this.emit(\"update\", this);\n  }\n  /** Destroys the buffer */\n  destroy() {\n    this.destroyed = true;\n    this.emit(\"destroy\", this);\n    this.emit(\"change\", this);\n    this._data = null;\n    this.descriptor = null;\n    this.removeAllListeners();\n  }\n}\n\nexport { Buffer };\n//# sourceMappingURL=Buffer.mjs.map\n","import { Buffer } from '../../buffer/Buffer.mjs';\nimport { BufferUsage } from '../../buffer/const.mjs';\n\n\"use strict\";\nfunction ensureIsBuffer(buffer, index) {\n  if (!(buffer instanceof Buffer)) {\n    let usage = index ? BufferUsage.INDEX : BufferUsage.VERTEX;\n    if (buffer instanceof Array) {\n      if (index) {\n        buffer = new Uint32Array(buffer);\n        usage = BufferUsage.INDEX | BufferUsage.COPY_DST;\n      } else {\n        buffer = new Float32Array(buffer);\n        usage = BufferUsage.VERTEX | BufferUsage.COPY_DST;\n      }\n    }\n    buffer = new Buffer({\n      data: buffer,\n      label: index ? \"index-mesh-buffer\" : \"vertex-mesh-buffer\",\n      usage\n    });\n  }\n  return buffer;\n}\n\nexport { ensureIsBuffer };\n//# sourceMappingURL=ensureIsBuffer.mjs.map\n","\"use strict\";\nfunction getGeometryBounds(geometry, attributeId, bounds) {\n  const attribute = geometry.getAttribute(attributeId);\n  if (!attribute) {\n    bounds.minX = 0;\n    bounds.minY = 0;\n    bounds.maxX = 0;\n    bounds.maxY = 0;\n    return bounds;\n  }\n  const data = attribute.buffer.data;\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n  const byteSize = data.BYTES_PER_ELEMENT;\n  const offset = (attribute.offset || 0) / byteSize;\n  const stride = (attribute.stride || 2 * 4) / byteSize;\n  for (let i = offset; i < data.length; i += stride) {\n    const x = data[i];\n    const y = data[i + 1];\n    if (x > maxX)\n      maxX = x;\n    if (y > maxY)\n      maxY = y;\n    if (x < minX)\n      minX = x;\n    if (y < minY)\n      minY = y;\n  }\n  bounds.minX = minX;\n  bounds.minY = minY;\n  bounds.maxX = maxX;\n  bounds.maxY = maxY;\n  return bounds;\n}\n\nexport { getGeometryBounds };\n//# sourceMappingURL=getGeometryBounds.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Bounds } from '../../../../scene/container/bounds/Bounds.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { Buffer } from '../buffer/Buffer.mjs';\nimport { ensureIsBuffer } from './utils/ensureIsBuffer.mjs';\nimport { getGeometryBounds } from './utils/getGeometryBounds.mjs';\n\n\"use strict\";\nfunction ensureIsAttribute(attribute) {\n  if (attribute instanceof Buffer || Array.isArray(attribute) || attribute.BYTES_PER_ELEMENT) {\n    attribute = {\n      buffer: attribute\n    };\n  }\n  attribute.buffer = ensureIsBuffer(attribute.buffer, false);\n  return attribute;\n}\nclass Geometry extends EventEmitter {\n  /**\n   * Create a new instance of a geometry\n   * @param options - The options for the geometry.\n   */\n  constructor(options = {}) {\n    super();\n    /** The unique id of the geometry. */\n    this.uid = uid(\"geometry\");\n    /**\n     * the layout key will be generated by WebGPU all geometries that have the same structure\n     * will have the same layout key. This is used to cache the pipeline layout\n     * @internal\n     */\n    this._layoutKey = 0;\n    /** the instance count of the geometry to draw */\n    this.instanceCount = 1;\n    this._bounds = new Bounds();\n    this._boundsDirty = true;\n    const { attributes, indexBuffer, topology } = options;\n    this.buffers = [];\n    this.attributes = {};\n    if (attributes) {\n      for (const i in attributes) {\n        this.addAttribute(i, attributes[i]);\n      }\n    }\n    this.instanceCount = options.instanceCount ?? 1;\n    if (indexBuffer) {\n      this.addIndex(indexBuffer);\n    }\n    this.topology = topology || \"triangle-list\";\n  }\n  onBufferUpdate() {\n    this._boundsDirty = true;\n    this.emit(\"update\", this);\n  }\n  /**\n   * Returns the requested attribute.\n   * @param id - The name of the attribute required\n   * @returns - The attribute requested.\n   */\n  getAttribute(id) {\n    return this.attributes[id];\n  }\n  /**\n   * Returns the index buffer\n   * @returns - The index buffer.\n   */\n  getIndex() {\n    return this.indexBuffer;\n  }\n  /**\n   * Returns the requested buffer.\n   * @param id - The name of the buffer required.\n   * @returns - The buffer requested.\n   */\n  getBuffer(id) {\n    return this.getAttribute(id).buffer;\n  }\n  /**\n   * Used to figure out how many vertices there are in this geometry\n   * @returns the number of vertices in the geometry\n   */\n  getSize() {\n    for (const i in this.attributes) {\n      const attribute = this.attributes[i];\n      const buffer = attribute.buffer;\n      return buffer.data.length / (attribute.stride / 4 || attribute.size);\n    }\n    return 0;\n  }\n  /**\n   * Adds an attribute to the geometry.\n   * @param name - The name of the attribute to add.\n   * @param attributeOption - The attribute option to add.\n   */\n  addAttribute(name, attributeOption) {\n    const attribute = ensureIsAttribute(attributeOption);\n    const bufferIndex = this.buffers.indexOf(attribute.buffer);\n    if (bufferIndex === -1) {\n      this.buffers.push(attribute.buffer);\n      attribute.buffer.on(\"update\", this.onBufferUpdate, this);\n      attribute.buffer.on(\"change\", this.onBufferUpdate, this);\n    }\n    this.attributes[name] = attribute;\n  }\n  /**\n   * Adds an index buffer to the geometry.\n   * @param indexBuffer - The index buffer to add. Can be a Buffer, TypedArray, or an array of numbers.\n   */\n  addIndex(indexBuffer) {\n    this.indexBuffer = ensureIsBuffer(indexBuffer, true);\n    this.buffers.push(this.indexBuffer);\n  }\n  /** Returns the bounds of the geometry. */\n  get bounds() {\n    if (!this._boundsDirty)\n      return this._bounds;\n    this._boundsDirty = false;\n    return getGeometryBounds(this, \"aPosition\", this._bounds);\n  }\n  /**\n   * destroys the geometry.\n   * @param destroyBuffers - destroy the buffers associated with this geometry\n   */\n  destroy(destroyBuffers = false) {\n    this.emit(\"destroy\", this);\n    this.removeAllListeners();\n    if (destroyBuffers) {\n      this.buffers.forEach((buffer) => buffer.destroy());\n    }\n    this.attributes = null;\n    this.buffers = null;\n    this.indexBuffer = null;\n    this._bounds = null;\n  }\n}\n\nexport { Geometry };\n//# sourceMappingURL=Geometry.mjs.map\n","import { Buffer } from '../../renderers/shared/buffer/Buffer.mjs';\nimport { BufferUsage } from '../../renderers/shared/buffer/const.mjs';\nimport { Geometry } from '../../renderers/shared/geometry/Geometry.mjs';\n\n\"use strict\";\nconst placeHolderBufferData = new Float32Array(1);\nconst placeHolderIndexData = new Uint32Array(1);\nclass BatchGeometry extends Geometry {\n  constructor() {\n    const vertexSize = 6;\n    const attributeBuffer = new Buffer({\n      data: placeHolderBufferData,\n      label: \"attribute-batch-buffer\",\n      usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n      shrinkToFit: false\n    });\n    const indexBuffer = new Buffer({\n      data: placeHolderIndexData,\n      label: \"index-batch-buffer\",\n      usage: BufferUsage.INDEX | BufferUsage.COPY_DST,\n      // | BufferUsage.STATIC,\n      shrinkToFit: false\n    });\n    const stride = vertexSize * 4;\n    super({\n      attributes: {\n        aPosition: {\n          buffer: attributeBuffer,\n          format: \"float32x2\",\n          stride,\n          offset: 0\n        },\n        aUV: {\n          buffer: attributeBuffer,\n          format: \"float32x2\",\n          stride,\n          offset: 2 * 4\n        },\n        aColor: {\n          buffer: attributeBuffer,\n          format: \"unorm8x4\",\n          stride,\n          offset: 4 * 4\n        },\n        aTextureIdAndRound: {\n          buffer: attributeBuffer,\n          format: \"uint16x2\",\n          stride,\n          offset: 5 * 4\n        }\n      },\n      indexBuffer\n    });\n  }\n}\n\nexport { BatchGeometry };\n//# sourceMappingURL=BatchGeometry.mjs.map\n","import { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nfunction addBits(srcParts, parts, name) {\n  if (srcParts) {\n    for (const i in srcParts) {\n      const id = i.toLocaleLowerCase();\n      const part = parts[id];\n      if (part) {\n        let sanitisedPart = srcParts[i];\n        if (i === \"header\") {\n          sanitisedPart = sanitisedPart.replace(/@in\\s+[^;]+;\\s*/g, \"\").replace(/@out\\s+[^;]+;\\s*/g, \"\");\n        }\n        if (name) {\n          part.push(`//----${name}----//`);\n        }\n        part.push(sanitisedPart);\n      } else {\n        warn(`${i} placement hook does not exist in shader`);\n      }\n    }\n  }\n}\n\nexport { addBits };\n//# sourceMappingURL=addBits.mjs.map\n","\"use strict\";\nconst findHooksRx = /\\{\\{(.*?)\\}\\}/g;\nfunction compileHooks(programSrc) {\n  const parts = {};\n  const partMatches = programSrc.match(findHooksRx)?.map((hook) => hook.replace(/[{()}]/g, \"\")) ?? [];\n  partMatches.forEach((hook) => {\n    parts[hook] = [];\n  });\n  return parts;\n}\n\nexport { compileHooks };\n//# sourceMappingURL=compileHooks.mjs.map\n","\"use strict\";\nfunction extractInputs(fragmentSource, out) {\n  let match;\n  const regex = /@in\\s+([^;]+);/g;\n  while ((match = regex.exec(fragmentSource)) !== null) {\n    out.push(match[1]);\n  }\n}\nfunction compileInputs(fragments, template, sort = false) {\n  const results = [];\n  extractInputs(template, results);\n  fragments.forEach((fragment) => {\n    if (fragment.header) {\n      extractInputs(fragment.header, results);\n    }\n  });\n  const mainInput = results;\n  if (sort) {\n    mainInput.sort();\n  }\n  const finalString = mainInput.map((inValue, i) => `       @location(${i}) ${inValue},`).join(\"\\n\");\n  let cleanedString = template.replace(/@in\\s+[^;]+;\\s*/g, \"\");\n  cleanedString = cleanedString.replace(\"{{in}}\", `\n${finalString}\n`);\n  return cleanedString;\n}\n\nexport { compileInputs };\n//# sourceMappingURL=compileInputs.mjs.map\n","\"use strict\";\nfunction extractOutputs(fragmentSource, out) {\n  let match;\n  const regex = /@out\\s+([^;]+);/g;\n  while ((match = regex.exec(fragmentSource)) !== null) {\n    out.push(match[1]);\n  }\n}\nfunction extractVariableName(value) {\n  const regex = /\\b(\\w+)\\s*:/g;\n  const match = regex.exec(value);\n  return match ? match[1] : \"\";\n}\nfunction stripVariable(value) {\n  const regex = /@.*?\\s+/g;\n  return value.replace(regex, \"\");\n}\nfunction compileOutputs(fragments, template) {\n  const results = [];\n  extractOutputs(template, results);\n  fragments.forEach((fragment) => {\n    if (fragment.header) {\n      extractOutputs(fragment.header, results);\n    }\n  });\n  let index = 0;\n  const mainStruct = results.sort().map((inValue) => {\n    if (inValue.indexOf(\"builtin\") > -1) {\n      return inValue;\n    }\n    return `@location(${index++}) ${inValue}`;\n  }).join(\",\\n\");\n  const mainStart = results.sort().map((inValue) => `       var ${stripVariable(inValue)};`).join(\"\\n\");\n  const mainEnd = `return VSOutput(\n            ${results.sort().map((inValue) => ` ${extractVariableName(inValue)}`).join(\",\\n\")});`;\n  let compiledCode = template.replace(/@out\\s+[^;]+;\\s*/g, \"\");\n  compiledCode = compiledCode.replace(\"{{struct}}\", `\n${mainStruct}\n`);\n  compiledCode = compiledCode.replace(\"{{start}}\", `\n${mainStart}\n`);\n  compiledCode = compiledCode.replace(\"{{return}}\", `\n${mainEnd}\n`);\n  return compiledCode;\n}\n\nexport { compileOutputs };\n//# sourceMappingURL=compileOutputs.mjs.map\n","\"use strict\";\nfunction injectBits(templateSrc, fragmentParts) {\n  let out = templateSrc;\n  for (const i in fragmentParts) {\n    const parts = fragmentParts[i];\n    const toInject = parts.join(\"\\n\");\n    if (toInject.length) {\n      out = out.replace(`{{${i}}}`, `//-----${i} START-----//\n${parts.join(\"\\n\")}\n//----${i} FINISH----//`);\n    } else {\n      out = out.replace(`{{${i}}}`, \"\");\n    }\n  }\n  return out;\n}\n\nexport { injectBits };\n//# sourceMappingURL=injectBits.mjs.map\n","import { addBits } from './utils/addBits.mjs';\nimport { compileHooks } from './utils/compileHooks.mjs';\nimport { compileInputs } from './utils/compileInputs.mjs';\nimport { compileOutputs } from './utils/compileOutputs.mjs';\nimport { injectBits } from './utils/injectBits.mjs';\n\n\"use strict\";\nconst cacheMap = /* @__PURE__ */ Object.create(null);\nconst bitCacheMap = /* @__PURE__ */ new Map();\nlet CACHE_UID = 0;\nfunction compileHighShader({\n  template,\n  bits\n}) {\n  const cacheId = generateCacheId(template, bits);\n  if (cacheMap[cacheId])\n    return cacheMap[cacheId];\n  const { vertex, fragment } = compileInputsAndOutputs(template, bits);\n  cacheMap[cacheId] = compileBits(vertex, fragment, bits);\n  return cacheMap[cacheId];\n}\nfunction compileHighShaderGl({\n  template,\n  bits\n}) {\n  const cacheId = generateCacheId(template, bits);\n  if (cacheMap[cacheId])\n    return cacheMap[cacheId];\n  cacheMap[cacheId] = compileBits(template.vertex, template.fragment, bits);\n  return cacheMap[cacheId];\n}\nfunction compileInputsAndOutputs(template, bits) {\n  const vertexFragments = bits.map((shaderBit) => shaderBit.vertex).filter((v) => !!v);\n  const fragmentFragments = bits.map((shaderBit) => shaderBit.fragment).filter((v) => !!v);\n  let compiledVertex = compileInputs(vertexFragments, template.vertex, true);\n  compiledVertex = compileOutputs(vertexFragments, compiledVertex);\n  const compiledFragment = compileInputs(fragmentFragments, template.fragment, true);\n  return {\n    vertex: compiledVertex,\n    fragment: compiledFragment\n  };\n}\nfunction generateCacheId(template, bits) {\n  return bits.map((highFragment) => {\n    if (!bitCacheMap.has(highFragment)) {\n      bitCacheMap.set(highFragment, CACHE_UID++);\n    }\n    return bitCacheMap.get(highFragment);\n  }).sort((a, b) => a - b).join(\"-\") + template.vertex + template.fragment;\n}\nfunction compileBits(vertex, fragment, bits) {\n  const vertexParts = compileHooks(vertex);\n  const fragmentParts = compileHooks(fragment);\n  bits.forEach((shaderBit) => {\n    addBits(shaderBit.vertex, vertexParts, shaderBit.name);\n    addBits(shaderBit.fragment, fragmentParts, shaderBit.name);\n  });\n  return {\n    vertex: injectBits(vertex, vertexParts),\n    fragment: injectBits(fragment, fragmentParts)\n  };\n}\n\nexport { compileHighShader, compileHighShaderGl };\n//# sourceMappingURL=compileHighShader.mjs.map\n","\"use strict\";\nconst vertexGPUTemplate = (\n  /* wgsl */\n  `\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n\n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n`\n);\nconst fragmentGPUTemplate = (\n  /* wgsl */\n  `\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n\n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n\n        {{start}}\n\n        var outColor:vec4<f32>;\n\n        {{main}}\n\n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n`\n);\nconst vertexGlTemplate = (\n  /* glsl */\n  `\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n\n        {{start}}\n\n        vColor = vec4(1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n`\n);\nconst fragmentGlTemplate = (\n  /* glsl */\n  `\n\n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n\n        {{start}}\n\n        vec4 outColor;\n\n        {{main}}\n\n        finalColor = outColor * vColor;\n\n        {{end}}\n    }\n`\n);\n\nexport { fragmentGPUTemplate, fragmentGlTemplate, vertexGPUTemplate, vertexGlTemplate };\n//# sourceMappingURL=defaultProgramTemplate.mjs.map\n","\"use strict\";\nconst globalUniformsBit = {\n  name: \"global-uniforms-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        `\n    )\n  }\n};\nconst globalUniformsUBOBitGl = {\n  name: \"global-uniforms-ubo-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n          uniform globalUniforms {\n            mat3 uProjectionMatrix;\n            mat3 uWorldTransformMatrix;\n            vec4 uWorldColorAlpha;\n            vec2 uResolution;\n          };\n        `\n    )\n  }\n};\nconst globalUniformsBitGl = {\n  name: \"global-uniforms-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        `\n    )\n  }\n};\n\nexport { globalUniformsBit, globalUniformsBitGl, globalUniformsUBOBitGl };\n//# sourceMappingURL=globalUniformsBit.mjs.map\n","import { GlProgram } from '../renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../renderers/gpu/shader/GpuProgram.mjs';\nimport { compileHighShader, compileHighShaderGl } from './compiler/compileHighShader.mjs';\nimport { fragmentGPUTemplate, vertexGPUTemplate, vertexGlTemplate, fragmentGlTemplate } from './defaultProgramTemplate.mjs';\nimport { globalUniformsBit, globalUniformsBitGl } from './shader-bits/globalUniformsBit.mjs';\n\n\"use strict\";\nfunction compileHighShaderGpuProgram({ bits, name }) {\n  const source = compileHighShader({\n    template: {\n      fragment: fragmentGPUTemplate,\n      vertex: vertexGPUTemplate\n    },\n    bits: [\n      globalUniformsBit,\n      ...bits\n    ]\n  });\n  return GpuProgram.from({\n    name,\n    vertex: {\n      source: source.vertex,\n      entryPoint: \"main\"\n    },\n    fragment: {\n      source: source.fragment,\n      entryPoint: \"main\"\n    }\n  });\n}\nfunction compileHighShaderGlProgram({ bits, name }) {\n  return new GlProgram({\n    name,\n    ...compileHighShaderGl({\n      template: {\n        vertex: vertexGlTemplate,\n        fragment: fragmentGlTemplate\n      },\n      bits: [\n        globalUniformsBitGl,\n        ...bits\n      ]\n    })\n  });\n}\n\nexport { compileHighShaderGlProgram, compileHighShaderGpuProgram };\n//# sourceMappingURL=compileHighShaderToProgram.mjs.map\n","\"use strict\";\nconst colorBit = {\n  name: \"color-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            @in aColor: vec4<f32>;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        `\n    )\n  }\n};\nconst colorBitGl = {\n  name: \"color-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            in vec4 aColor;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        `\n    )\n  }\n};\n\nexport { colorBit, colorBitGl };\n//# sourceMappingURL=colorBit.mjs.map\n","\"use strict\";\nconst textureBatchBitGpuCache = {};\nfunction generateBindingSrc(maxTextures) {\n  const src = [];\n  if (maxTextures === 1) {\n    src.push(\"@group(1) @binding(0) var textureSource1: texture_2d<f32>;\");\n    src.push(\"@group(1) @binding(1) var textureSampler1: sampler;\");\n  } else {\n    let bindingIndex = 0;\n    for (let i = 0; i < maxTextures; i++) {\n      src.push(`@group(1) @binding(${bindingIndex++}) var textureSource${i + 1}: texture_2d<f32>;`);\n      src.push(`@group(1) @binding(${bindingIndex++}) var textureSampler${i + 1}: sampler;`);\n    }\n  }\n  return src.join(\"\\n\");\n}\nfunction generateSampleSrc(maxTextures) {\n  const src = [];\n  if (maxTextures === 1) {\n    src.push(\"outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);\");\n  } else {\n    src.push(\"switch vTextureId {\");\n    for (let i = 0; i < maxTextures; i++) {\n      if (i === maxTextures - 1) {\n        src.push(`  default:{`);\n      } else {\n        src.push(`  case ${i}:{`);\n      }\n      src.push(`      outColor = textureSampleGrad(textureSource${i + 1}, textureSampler${i + 1}, vUV, uvDx, uvDy);`);\n      src.push(`      break;}`);\n    }\n    src.push(`}`);\n  }\n  return src.join(\"\\n\");\n}\nfunction generateTextureBatchBit(maxTextures) {\n  if (!textureBatchBitGpuCache[maxTextures]) {\n    textureBatchBitGpuCache[maxTextures] = {\n      name: \"texture-batch-bit\",\n      vertex: {\n        header: `\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            `,\n        main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n        end: `\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            `\n      },\n      fragment: {\n        header: `\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${generateBindingSrc(maxTextures)}\n            `,\n        main: `\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${generateSampleSrc(maxTextures)}\n            `\n      }\n    };\n  }\n  return textureBatchBitGpuCache[maxTextures];\n}\nconst textureBatchBitGlCache = {};\nfunction generateSampleGlSrc(maxTextures) {\n  const src = [];\n  for (let i = 0; i < maxTextures; i++) {\n    if (i > 0) {\n      src.push(\"else\");\n    }\n    if (i < maxTextures - 1) {\n      src.push(`if(vTextureId < ${i}.5)`);\n    }\n    src.push(\"{\");\n    src.push(`\toutColor = texture(uTextures[${i}], vUV);`);\n    src.push(\"}\");\n  }\n  return src.join(\"\\n\");\n}\nfunction generateTextureBatchBitGl(maxTextures) {\n  if (!textureBatchBitGlCache[maxTextures]) {\n    textureBatchBitGlCache[maxTextures] = {\n      name: \"texture-batch-bit\",\n      vertex: {\n        header: `\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            `,\n        main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n        end: `\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            `\n      },\n      fragment: {\n        header: `\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${maxTextures}];\n\n            `,\n        main: `\n\n                ${generateSampleGlSrc(maxTextures)}\n            `\n      }\n    };\n  }\n  return textureBatchBitGlCache[maxTextures];\n}\n\nexport { generateTextureBatchBit, generateTextureBatchBitGl };\n//# sourceMappingURL=generateTextureBatchBit.mjs.map\n","\"use strict\";\nconst roundPixelsBit = {\n  name: \"round-pixels-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    )\n  }\n};\nconst roundPixelsBitGl = {\n  name: \"round-pixels-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    )\n  }\n};\n\nexport { roundPixelsBit, roundPixelsBitGl };\n//# sourceMappingURL=roundPixelsBit.mjs.map\n","import { UniformGroup } from '../../shared/shader/UniformGroup.mjs';\n\n\"use strict\";\nconst batchSamplersUniformGroupHash = {};\nfunction getBatchSamplersUniformGroup(maxTextures) {\n  let batchSamplersUniformGroup = batchSamplersUniformGroupHash[maxTextures];\n  if (batchSamplersUniformGroup)\n    return batchSamplersUniformGroup;\n  const sampleValues = new Int32Array(maxTextures);\n  for (let i = 0; i < maxTextures; i++) {\n    sampleValues[i] = i;\n  }\n  batchSamplersUniformGroup = batchSamplersUniformGroupHash[maxTextures] = new UniformGroup({\n    uTextures: { value: sampleValues, type: `i32`, size: maxTextures }\n  }, { isStatic: true });\n  return batchSamplersUniformGroup;\n}\n\nexport { getBatchSamplersUniformGroup };\n//# sourceMappingURL=getBatchSamplersUniformGroup.mjs.map\n","import { compileHighShaderGlProgram, compileHighShaderGpuProgram } from '../../high-shader/compileHighShaderToProgram.mjs';\nimport { colorBitGl, colorBit } from '../../high-shader/shader-bits/colorBit.mjs';\nimport { generateTextureBatchBitGl, generateTextureBatchBit } from '../../high-shader/shader-bits/generateTextureBatchBit.mjs';\nimport { roundPixelsBitGl, roundPixelsBit } from '../../high-shader/shader-bits/roundPixelsBit.mjs';\nimport { getBatchSamplersUniformGroup } from '../../renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nimport { Shader } from '../../renderers/shared/shader/Shader.mjs';\n\n\"use strict\";\nclass DefaultShader extends Shader {\n  constructor(maxTextures) {\n    const glProgram = compileHighShaderGlProgram({\n      name: \"batch\",\n      bits: [\n        colorBitGl,\n        generateTextureBatchBitGl(maxTextures),\n        roundPixelsBitGl\n      ]\n    });\n    const gpuProgram = compileHighShaderGpuProgram({\n      name: \"batch\",\n      bits: [\n        colorBit,\n        generateTextureBatchBit(maxTextures),\n        roundPixelsBit\n      ]\n    });\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        batchSamplers: getBatchSamplersUniformGroup(maxTextures)\n      }\n    });\n  }\n}\n\nexport { DefaultShader };\n//# sourceMappingURL=DefaultShader.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Batcher } from './Batcher.mjs';\nimport { BatchGeometry } from './BatchGeometry.mjs';\nimport { DefaultShader } from './DefaultShader.mjs';\n\n\"use strict\";\nlet defaultShader = null;\nconst _DefaultBatcher = class _DefaultBatcher extends Batcher {\n  constructor(options) {\n    super(options);\n    this.geometry = new BatchGeometry();\n    this.name = _DefaultBatcher.extension.name;\n    /** The size of one attribute. 1 = 32 bit. x, y, u, v, color, textureIdAndRound -> total = 6 */\n    this.vertexSize = 6;\n    defaultShader ?? (defaultShader = new DefaultShader(options.maxTextures));\n    this.shader = defaultShader;\n  }\n  /**\n   * Packs the attributes of a DefaultBatchableMeshElement into the provided views.\n   * @param element - The DefaultBatchableMeshElement to pack.\n   * @param float32View - The Float32Array view to pack into.\n   * @param uint32View - The Uint32Array view to pack into.\n   * @param index - The starting index in the views.\n   * @param textureId - The texture ID to use.\n   */\n  packAttributes(element, float32View, uint32View, index, textureId) {\n    const textureIdAndRound = textureId << 16 | element.roundPixels & 65535;\n    const wt = element.transform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const { positions, uvs } = element;\n    const argb = element.color;\n    const offset = element.attributeOffset;\n    const end = offset + element.attributeSize;\n    for (let i = offset; i < end; i++) {\n      const i2 = i * 2;\n      const x = positions[i2];\n      const y = positions[i2 + 1];\n      float32View[index++] = a * x + c * y + tx;\n      float32View[index++] = d * y + b * x + ty;\n      float32View[index++] = uvs[i2];\n      float32View[index++] = uvs[i2 + 1];\n      uint32View[index++] = argb;\n      uint32View[index++] = textureIdAndRound;\n    }\n  }\n  /**\n   * Packs the attributes of a DefaultBatchableQuadElement into the provided views.\n   * @param element - The DefaultBatchableQuadElement to pack.\n   * @param float32View - The Float32Array view to pack into.\n   * @param uint32View - The Uint32Array view to pack into.\n   * @param index - The starting index in the views.\n   * @param textureId - The texture ID to use.\n   */\n  packQuadAttributes(element, float32View, uint32View, index, textureId) {\n    const texture = element.texture;\n    const wt = element.transform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const bounds = element.bounds;\n    const w0 = bounds.maxX;\n    const w1 = bounds.minX;\n    const h0 = bounds.maxY;\n    const h1 = bounds.minY;\n    const uvs = texture.uvs;\n    const argb = element.color;\n    const textureIdAndRound = textureId << 16 | element.roundPixels & 65535;\n    float32View[index + 0] = a * w1 + c * h1 + tx;\n    float32View[index + 1] = d * h1 + b * w1 + ty;\n    float32View[index + 2] = uvs.x0;\n    float32View[index + 3] = uvs.y0;\n    uint32View[index + 4] = argb;\n    uint32View[index + 5] = textureIdAndRound;\n    float32View[index + 6] = a * w0 + c * h1 + tx;\n    float32View[index + 7] = d * h1 + b * w0 + ty;\n    float32View[index + 8] = uvs.x1;\n    float32View[index + 9] = uvs.y1;\n    uint32View[index + 10] = argb;\n    uint32View[index + 11] = textureIdAndRound;\n    float32View[index + 12] = a * w0 + c * h0 + tx;\n    float32View[index + 13] = d * h0 + b * w0 + ty;\n    float32View[index + 14] = uvs.x2;\n    float32View[index + 15] = uvs.y2;\n    uint32View[index + 16] = argb;\n    uint32View[index + 17] = textureIdAndRound;\n    float32View[index + 18] = a * w1 + c * h0 + tx;\n    float32View[index + 19] = d * h0 + b * w1 + ty;\n    float32View[index + 20] = uvs.x3;\n    float32View[index + 21] = uvs.y3;\n    uint32View[index + 22] = argb;\n    uint32View[index + 23] = textureIdAndRound;\n  }\n};\n/** @ignore */\n_DefaultBatcher.extension = {\n  type: [\n    ExtensionType.Batcher\n  ],\n  name: \"default\"\n};\nlet DefaultBatcher = _DefaultBatcher;\n\nexport { DefaultBatcher };\n//# sourceMappingURL=DefaultBatcher.mjs.map\n","\"use strict\";\nfunction buildUvs(vertices, verticesStride, verticesOffset, uvs, uvsOffset, uvsStride, size, matrix = null) {\n  let index = 0;\n  verticesOffset *= verticesStride;\n  uvsOffset *= uvsStride;\n  const a = matrix.a;\n  const b = matrix.b;\n  const c = matrix.c;\n  const d = matrix.d;\n  const tx = matrix.tx;\n  const ty = matrix.ty;\n  while (index < size) {\n    const x = vertices[verticesOffset];\n    const y = vertices[verticesOffset + 1];\n    uvs[uvsOffset] = a * x + c * y + tx;\n    uvs[uvsOffset + 1] = b * x + d * y + ty;\n    uvsOffset += uvsStride;\n    verticesOffset += verticesStride;\n    index++;\n  }\n}\nfunction buildSimpleUvs(uvs, uvsOffset, uvsStride, size) {\n  let index = 0;\n  uvsOffset *= uvsStride;\n  while (index < size) {\n    uvs[uvsOffset] = 0;\n    uvs[uvsOffset + 1] = 0;\n    uvsOffset += uvsStride;\n    index++;\n  }\n}\n\nexport { buildSimpleUvs, buildUvs };\n//# sourceMappingURL=buildUvs.mjs.map\n","\"use strict\";\nfunction transformVertices(vertices, m, offset, stride, size) {\n  const a = m.a;\n  const b = m.b;\n  const c = m.c;\n  const d = m.d;\n  const tx = m.tx;\n  const ty = m.ty;\n  offset || (offset = 0);\n  stride || (stride = 2);\n  size || (size = vertices.length / stride - offset);\n  let index = offset * stride;\n  for (let i = 0; i < size; i++) {\n    const x = vertices[index];\n    const y = vertices[index + 1];\n    vertices[index] = a * x + c * y + tx;\n    vertices[index + 1] = b * x + d * y + ty;\n    index += stride;\n  }\n}\n\nexport { transformVertices };\n//# sourceMappingURL=transformVertices.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { multiplyHexColors } from '../../container/utils/multiplyHexColors.mjs';\n\n\"use strict\";\nconst identityMatrix = new Matrix();\nclass BatchableGraphics {\n  constructor() {\n    this.packAsQuad = false;\n    this.batcherName = \"default\";\n    this.topology = \"triangle-list\";\n    this.applyTransform = true;\n    this.roundPixels = 0;\n    this._batcher = null;\n    this._batch = null;\n  }\n  get uvs() {\n    return this.geometryData.uvs;\n  }\n  get positions() {\n    return this.geometryData.vertices;\n  }\n  get indices() {\n    return this.geometryData.indices;\n  }\n  get blendMode() {\n    if (this.renderable && this.applyTransform) {\n      return this.renderable.groupBlendMode;\n    }\n    return \"normal\";\n  }\n  get color() {\n    const rgb = this.baseColor;\n    const bgr = rgb >> 16 | rgb & 65280 | (rgb & 255) << 16;\n    const renderable = this.renderable;\n    if (renderable) {\n      return multiplyHexColors(bgr, renderable.groupColor) + (this.alpha * renderable.groupAlpha * 255 << 24);\n    }\n    return bgr + (this.alpha * 255 << 24);\n  }\n  get transform() {\n    return this.renderable?.groupTransform || identityMatrix;\n  }\n  copyTo(gpuBuffer) {\n    gpuBuffer.indexOffset = this.indexOffset;\n    gpuBuffer.indexSize = this.indexSize;\n    gpuBuffer.attributeOffset = this.attributeOffset;\n    gpuBuffer.attributeSize = this.attributeSize;\n    gpuBuffer.baseColor = this.baseColor;\n    gpuBuffer.alpha = this.alpha;\n    gpuBuffer.texture = this.texture;\n    gpuBuffer.geometryData = this.geometryData;\n    gpuBuffer.topology = this.topology;\n  }\n  reset() {\n    this.applyTransform = true;\n    this.renderable = null;\n    this.topology = \"triangle-list\";\n  }\n  destroy() {\n    this.renderable = null;\n    this.texture = null;\n    this.geometryData = null;\n    this._batcher = null;\n    this._batch = null;\n  }\n}\n\nexport { BatchableGraphics };\n//# sourceMappingURL=BatchableGraphics.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst buildCircle = {\n  extension: {\n    type: ExtensionType.ShapeBuilder,\n    name: \"circle\"\n  },\n  build(shape, points) {\n    let x;\n    let y;\n    let dx;\n    let dy;\n    let rx;\n    let ry;\n    if (shape.type === \"circle\") {\n      const circle = shape;\n      rx = ry = circle.radius;\n      if (rx <= 0) {\n        return false;\n      }\n      x = circle.x;\n      y = circle.y;\n      dx = dy = 0;\n    } else if (shape.type === \"ellipse\") {\n      const ellipse = shape;\n      rx = ellipse.halfWidth;\n      ry = ellipse.halfHeight;\n      if (rx <= 0 || ry <= 0) {\n        return false;\n      }\n      x = ellipse.x;\n      y = ellipse.y;\n      dx = dy = 0;\n    } else {\n      const roundedRect = shape;\n      const halfWidth = roundedRect.width / 2;\n      const halfHeight = roundedRect.height / 2;\n      x = roundedRect.x + halfWidth;\n      y = roundedRect.y + halfHeight;\n      rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));\n      dx = halfWidth - rx;\n      dy = halfHeight - ry;\n    }\n    if (dx < 0 || dy < 0) {\n      return false;\n    }\n    const n = Math.ceil(2.3 * Math.sqrt(rx + ry));\n    const m = n * 8 + (dx ? 4 : 0) + (dy ? 4 : 0);\n    if (m === 0) {\n      return false;\n    }\n    if (n === 0) {\n      points[0] = points[6] = x + dx;\n      points[1] = points[3] = y + dy;\n      points[2] = points[4] = x - dx;\n      points[5] = points[7] = y - dy;\n      return true;\n    }\n    let j1 = 0;\n    let j2 = n * 4 + (dx ? 2 : 0) + 2;\n    let j3 = j2;\n    let j4 = m;\n    let x0 = dx + rx;\n    let y0 = dy;\n    let x1 = x + x0;\n    let x2 = x - x0;\n    let y1 = y + y0;\n    points[j1++] = x1;\n    points[j1++] = y1;\n    points[--j2] = y1;\n    points[--j2] = x2;\n    if (dy) {\n      const y22 = y - y0;\n      points[j3++] = x2;\n      points[j3++] = y22;\n      points[--j4] = y22;\n      points[--j4] = x1;\n    }\n    for (let i = 1; i < n; i++) {\n      const a = Math.PI / 2 * (i / n);\n      const x02 = dx + Math.cos(a) * rx;\n      const y02 = dy + Math.sin(a) * ry;\n      const x12 = x + x02;\n      const x22 = x - x02;\n      const y12 = y + y02;\n      const y22 = y - y02;\n      points[j1++] = x12;\n      points[j1++] = y12;\n      points[--j2] = y12;\n      points[--j2] = x22;\n      points[j3++] = x22;\n      points[j3++] = y22;\n      points[--j4] = y22;\n      points[--j4] = x12;\n    }\n    x0 = dx;\n    y0 = dy + ry;\n    x1 = x + x0;\n    x2 = x - x0;\n    y1 = y + y0;\n    const y2 = y - y0;\n    points[j1++] = x1;\n    points[j1++] = y1;\n    points[--j4] = y2;\n    points[--j4] = x1;\n    if (dx) {\n      points[j1++] = x2;\n      points[j1++] = y1;\n      points[--j4] = y2;\n      points[--j4] = x2;\n    }\n    return true;\n  },\n  triangulate(points, vertices, verticesStride, verticesOffset, indices, indicesOffset) {\n    if (points.length === 0) {\n      return;\n    }\n    let centerX = 0;\n    let centerY = 0;\n    for (let i = 0; i < points.length; i += 2) {\n      centerX += points[i];\n      centerY += points[i + 1];\n    }\n    centerX /= points.length / 2;\n    centerY /= points.length / 2;\n    let count = verticesOffset;\n    vertices[count * verticesStride] = centerX;\n    vertices[count * verticesStride + 1] = centerY;\n    const centerIndex = count++;\n    for (let i = 0; i < points.length; i += 2) {\n      vertices[count * verticesStride] = points[i];\n      vertices[count * verticesStride + 1] = points[i + 1];\n      if (i > 0) {\n        indices[indicesOffset++] = count;\n        indices[indicesOffset++] = centerIndex;\n        indices[indicesOffset++] = count - 1;\n      }\n      count++;\n    }\n    indices[indicesOffset++] = centerIndex + 1;\n    indices[indicesOffset++] = centerIndex;\n    indices[indicesOffset++] = count - 1;\n  }\n};\nconst buildEllipse = { ...buildCircle, extension: { ...buildCircle.extension, name: \"ellipse\" } };\nconst buildRoundedRectangle = { ...buildCircle, extension: { ...buildCircle.extension, name: \"roundedRectangle\" } };\n\nexport { buildCircle, buildEllipse, buildRoundedRectangle };\n//# sourceMappingURL=buildCircle.mjs.map\n","\"use strict\";\nconst closePointEps = 1e-4;\nconst curveEps = 1e-4;\n\nexport { closePointEps, curveEps };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nfunction getOrientationOfPoints(points) {\n  const m = points.length;\n  if (m < 6) {\n    return 1;\n  }\n  let area = 0;\n  for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2) {\n    const x2 = points[i];\n    const y2 = points[i + 1];\n    area += (x2 - x1) * (y2 + y1);\n    x1 = x2;\n    y1 = y2;\n  }\n  if (area < 0) {\n    return -1;\n  }\n  return 1;\n}\n\nexport { getOrientationOfPoints };\n//# sourceMappingURL=getOrientationOfPoints.mjs.map\n","import { Point } from '../../../../maths/point/Point.mjs';\nimport { closePointEps, curveEps } from '../const.mjs';\nimport { getOrientationOfPoints } from '../utils/getOrientationOfPoints.mjs';\n\n\"use strict\";\nfunction square(x, y, nx, ny, innerWeight, outerWeight, clockwise, verts) {\n  const ix = x - nx * innerWeight;\n  const iy = y - ny * innerWeight;\n  const ox = x + nx * outerWeight;\n  const oy = y + ny * outerWeight;\n  let exx;\n  let eyy;\n  if (clockwise) {\n    exx = ny;\n    eyy = -nx;\n  } else {\n    exx = -ny;\n    eyy = nx;\n  }\n  const eix = ix + exx;\n  const eiy = iy + eyy;\n  const eox = ox + exx;\n  const eoy = oy + eyy;\n  verts.push(eix, eiy);\n  verts.push(eox, eoy);\n  return 2;\n}\nfunction round(cx, cy, sx, sy, ex, ey, verts, clockwise) {\n  const cx2p0x = sx - cx;\n  const cy2p0y = sy - cy;\n  let angle0 = Math.atan2(cx2p0x, cy2p0y);\n  let angle1 = Math.atan2(ex - cx, ey - cy);\n  if (clockwise && angle0 < angle1) {\n    angle0 += Math.PI * 2;\n  } else if (!clockwise && angle0 > angle1) {\n    angle1 += Math.PI * 2;\n  }\n  let startAngle = angle0;\n  const angleDiff = angle1 - angle0;\n  const absAngleDiff = Math.abs(angleDiff);\n  const radius = Math.sqrt(cx2p0x * cx2p0x + cy2p0y * cy2p0y);\n  const segCount = (15 * absAngleDiff * Math.sqrt(radius) / Math.PI >> 0) + 1;\n  const angleInc = angleDiff / segCount;\n  startAngle += angleInc;\n  if (clockwise) {\n    verts.push(cx, cy);\n    verts.push(sx, sy);\n    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {\n      verts.push(cx, cy);\n      verts.push(\n        cx + Math.sin(angle) * radius,\n        cy + Math.cos(angle) * radius\n      );\n    }\n    verts.push(cx, cy);\n    verts.push(ex, ey);\n  } else {\n    verts.push(sx, sy);\n    verts.push(cx, cy);\n    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {\n      verts.push(\n        cx + Math.sin(angle) * radius,\n        cy + Math.cos(angle) * radius\n      );\n      verts.push(cx, cy);\n    }\n    verts.push(ex, ey);\n    verts.push(cx, cy);\n  }\n  return segCount * 2;\n}\nfunction buildLine(points, lineStyle, flipAlignment, closed, vertices, indices) {\n  const eps = closePointEps;\n  if (points.length === 0) {\n    return;\n  }\n  const style = lineStyle;\n  let alignment = style.alignment;\n  if (lineStyle.alignment !== 0.5) {\n    let orientation = getOrientationOfPoints(points);\n    if (flipAlignment)\n      orientation *= -1;\n    alignment = (alignment - 0.5) * orientation + 0.5;\n  }\n  const firstPoint = new Point(points[0], points[1]);\n  const lastPoint = new Point(points[points.length - 2], points[points.length - 1]);\n  const closedShape = closed;\n  const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps && Math.abs(firstPoint.y - lastPoint.y) < eps;\n  if (closedShape) {\n    points = points.slice();\n    if (closedPath) {\n      points.pop();\n      points.pop();\n      lastPoint.set(points[points.length - 2], points[points.length - 1]);\n    }\n    const midPointX = (firstPoint.x + lastPoint.x) * 0.5;\n    const midPointY = (lastPoint.y + firstPoint.y) * 0.5;\n    points.unshift(midPointX, midPointY);\n    points.push(midPointX, midPointY);\n  }\n  const verts = vertices;\n  const length = points.length / 2;\n  let indexCount = points.length;\n  const indexStart = verts.length / 2;\n  const width = style.width / 2;\n  const widthSquared = width * width;\n  const miterLimitSquared = style.miterLimit * style.miterLimit;\n  let x0 = points[0];\n  let y0 = points[1];\n  let x1 = points[2];\n  let y1 = points[3];\n  let x2 = 0;\n  let y2 = 0;\n  let perpX = -(y0 - y1);\n  let perpY = x0 - x1;\n  let perp1x = 0;\n  let perp1y = 0;\n  let dist = Math.sqrt(perpX * perpX + perpY * perpY);\n  perpX /= dist;\n  perpY /= dist;\n  perpX *= width;\n  perpY *= width;\n  const ratio = alignment;\n  const innerWeight = (1 - ratio) * 2;\n  const outerWeight = ratio * 2;\n  if (!closedShape) {\n    if (style.cap === \"round\") {\n      indexCount += round(\n        x0 - perpX * (innerWeight - outerWeight) * 0.5,\n        y0 - perpY * (innerWeight - outerWeight) * 0.5,\n        x0 - perpX * innerWeight,\n        y0 - perpY * innerWeight,\n        x0 + perpX * outerWeight,\n        y0 + perpY * outerWeight,\n        verts,\n        true\n      ) + 2;\n    } else if (style.cap === \"square\") {\n      indexCount += square(x0, y0, perpX, perpY, innerWeight, outerWeight, true, verts);\n    }\n  }\n  verts.push(\n    x0 - perpX * innerWeight,\n    y0 - perpY * innerWeight\n  );\n  verts.push(\n    x0 + perpX * outerWeight,\n    y0 + perpY * outerWeight\n  );\n  for (let i = 1; i < length - 1; ++i) {\n    x0 = points[(i - 1) * 2];\n    y0 = points[(i - 1) * 2 + 1];\n    x1 = points[i * 2];\n    y1 = points[i * 2 + 1];\n    x2 = points[(i + 1) * 2];\n    y2 = points[(i + 1) * 2 + 1];\n    perpX = -(y0 - y1);\n    perpY = x0 - x1;\n    dist = Math.sqrt(perpX * perpX + perpY * perpY);\n    perpX /= dist;\n    perpY /= dist;\n    perpX *= width;\n    perpY *= width;\n    perp1x = -(y1 - y2);\n    perp1y = x1 - x2;\n    dist = Math.sqrt(perp1x * perp1x + perp1y * perp1y);\n    perp1x /= dist;\n    perp1y /= dist;\n    perp1x *= width;\n    perp1y *= width;\n    const dx0 = x1 - x0;\n    const dy0 = y0 - y1;\n    const dx1 = x1 - x2;\n    const dy1 = y2 - y1;\n    const dot = dx0 * dx1 + dy0 * dy1;\n    const cross = dy0 * dx1 - dy1 * dx0;\n    const clockwise = cross < 0;\n    if (Math.abs(cross) < 1e-3 * Math.abs(dot)) {\n      verts.push(\n        x1 - perpX * innerWeight,\n        y1 - perpY * innerWeight\n      );\n      verts.push(\n        x1 + perpX * outerWeight,\n        y1 + perpY * outerWeight\n      );\n      if (dot >= 0) {\n        if (style.join === \"round\") {\n          indexCount += round(\n            x1,\n            y1,\n            x1 - perpX * innerWeight,\n            y1 - perpY * innerWeight,\n            x1 - perp1x * innerWeight,\n            y1 - perp1y * innerWeight,\n            verts,\n            false\n          ) + 4;\n        } else {\n          indexCount += 2;\n        }\n        verts.push(\n          x1 - perp1x * outerWeight,\n          y1 - perp1y * outerWeight\n        );\n        verts.push(\n          x1 + perp1x * innerWeight,\n          y1 + perp1y * innerWeight\n        );\n      }\n      continue;\n    }\n    const c1 = (-perpX + x0) * (-perpY + y1) - (-perpX + x1) * (-perpY + y0);\n    const c2 = (-perp1x + x2) * (-perp1y + y1) - (-perp1x + x1) * (-perp1y + y2);\n    const px = (dx0 * c2 - dx1 * c1) / cross;\n    const py = (dy1 * c1 - dy0 * c2) / cross;\n    const pDist = (px - x1) * (px - x1) + (py - y1) * (py - y1);\n    const imx = x1 + (px - x1) * innerWeight;\n    const imy = y1 + (py - y1) * innerWeight;\n    const omx = x1 - (px - x1) * outerWeight;\n    const omy = y1 - (py - y1) * outerWeight;\n    const smallerInsideSegmentSq = Math.min(dx0 * dx0 + dy0 * dy0, dx1 * dx1 + dy1 * dy1);\n    const insideWeight = clockwise ? innerWeight : outerWeight;\n    const smallerInsideDiagonalSq = smallerInsideSegmentSq + insideWeight * insideWeight * widthSquared;\n    const insideMiterOk = pDist <= smallerInsideDiagonalSq;\n    if (insideMiterOk) {\n      if (style.join === \"bevel\" || pDist / widthSquared > miterLimitSquared) {\n        if (clockwise) {\n          verts.push(imx, imy);\n          verts.push(x1 + perpX * outerWeight, y1 + perpY * outerWeight);\n          verts.push(imx, imy);\n          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n        } else {\n          verts.push(x1 - perpX * innerWeight, y1 - perpY * innerWeight);\n          verts.push(omx, omy);\n          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n          verts.push(omx, omy);\n        }\n        indexCount += 2;\n      } else if (style.join === \"round\") {\n        if (clockwise) {\n          verts.push(imx, imy);\n          verts.push(x1 + perpX * outerWeight, y1 + perpY * outerWeight);\n          indexCount += round(\n            x1,\n            y1,\n            x1 + perpX * outerWeight,\n            y1 + perpY * outerWeight,\n            x1 + perp1x * outerWeight,\n            y1 + perp1y * outerWeight,\n            verts,\n            true\n          ) + 4;\n          verts.push(imx, imy);\n          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n        } else {\n          verts.push(x1 - perpX * innerWeight, y1 - perpY * innerWeight);\n          verts.push(omx, omy);\n          indexCount += round(\n            x1,\n            y1,\n            x1 - perpX * innerWeight,\n            y1 - perpY * innerWeight,\n            x1 - perp1x * innerWeight,\n            y1 - perp1y * innerWeight,\n            verts,\n            false\n          ) + 4;\n          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n          verts.push(omx, omy);\n        }\n      } else {\n        verts.push(imx, imy);\n        verts.push(omx, omy);\n      }\n    } else {\n      verts.push(x1 - perpX * innerWeight, y1 - perpY * innerWeight);\n      verts.push(x1 + perpX * outerWeight, y1 + perpY * outerWeight);\n      if (style.join === \"round\") {\n        if (clockwise) {\n          indexCount += round(\n            x1,\n            y1,\n            x1 + perpX * outerWeight,\n            y1 + perpY * outerWeight,\n            x1 + perp1x * outerWeight,\n            y1 + perp1y * outerWeight,\n            verts,\n            true\n          ) + 2;\n        } else {\n          indexCount += round(\n            x1,\n            y1,\n            x1 - perpX * innerWeight,\n            y1 - perpY * innerWeight,\n            x1 - perp1x * innerWeight,\n            y1 - perp1y * innerWeight,\n            verts,\n            false\n          ) + 2;\n        }\n      } else if (style.join === \"miter\" && pDist / widthSquared <= miterLimitSquared) {\n        if (clockwise) {\n          verts.push(omx, omy);\n          verts.push(omx, omy);\n        } else {\n          verts.push(imx, imy);\n          verts.push(imx, imy);\n        }\n        indexCount += 2;\n      }\n      verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n      verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n      indexCount += 2;\n    }\n  }\n  x0 = points[(length - 2) * 2];\n  y0 = points[(length - 2) * 2 + 1];\n  x1 = points[(length - 1) * 2];\n  y1 = points[(length - 1) * 2 + 1];\n  perpX = -(y0 - y1);\n  perpY = x0 - x1;\n  dist = Math.sqrt(perpX * perpX + perpY * perpY);\n  perpX /= dist;\n  perpY /= dist;\n  perpX *= width;\n  perpY *= width;\n  verts.push(x1 - perpX * innerWeight, y1 - perpY * innerWeight);\n  verts.push(x1 + perpX * outerWeight, y1 + perpY * outerWeight);\n  if (!closedShape) {\n    if (style.cap === \"round\") {\n      indexCount += round(\n        x1 - perpX * (innerWeight - outerWeight) * 0.5,\n        y1 - perpY * (innerWeight - outerWeight) * 0.5,\n        x1 - perpX * innerWeight,\n        y1 - perpY * innerWeight,\n        x1 + perpX * outerWeight,\n        y1 + perpY * outerWeight,\n        verts,\n        false\n      ) + 2;\n    } else if (style.cap === \"square\") {\n      indexCount += square(x1, y1, perpX, perpY, innerWeight, outerWeight, false, verts);\n    }\n  }\n  const eps2 = curveEps * curveEps;\n  for (let i = indexStart; i < indexCount + indexStart - 2; ++i) {\n    x0 = verts[i * 2];\n    y0 = verts[i * 2 + 1];\n    x1 = verts[(i + 1) * 2];\n    y1 = verts[(i + 1) * 2 + 1];\n    x2 = verts[(i + 2) * 2];\n    y2 = verts[(i + 2) * 2 + 1];\n    if (Math.abs(x0 * (y1 - y2) + x1 * (y2 - y0) + x2 * (y0 - y1)) < eps2) {\n      continue;\n    }\n    indices.push(i, i + 1, i + 2);\n  }\n}\n\nexport { buildLine };\n//# sourceMappingURL=buildLine.mjs.map\n","import { closePointEps } from '../const.mjs';\n\n\"use strict\";\nfunction buildPixelLine(points, closed, vertices, indices) {\n  const eps = closePointEps;\n  if (points.length === 0) {\n    return;\n  }\n  const fx = points[0];\n  const fy = points[1];\n  const lx = points[points.length - 2];\n  const ly = points[points.length - 1];\n  const closePath = closed || Math.abs(fx - lx) < eps && Math.abs(fy - ly) < eps;\n  const verts = vertices;\n  const length = points.length / 2;\n  const indexStart = verts.length / 2;\n  for (let i = 0; i < length; i++) {\n    verts.push(points[i * 2]);\n    verts.push(points[i * 2 + 1]);\n  }\n  for (let i = 0; i < length - 1; i++) {\n    indices.push(indexStart + i, indexStart + i + 1);\n  }\n  if (closePath) {\n    indices.push(indexStart + length - 1, indexStart);\n  }\n}\n\nexport { buildPixelLine };\n//# sourceMappingURL=buildPixelLine.mjs.map\n","import { earcut } from '../../../../utils/utils.mjs';\n\n\"use strict\";\nfunction triangulateWithHoles(points, holes, vertices, verticesStride, verticesOffset, indices, indicesOffset) {\n  const triangles = earcut(points, holes, 2);\n  if (!triangles) {\n    return;\n  }\n  for (let i = 0; i < triangles.length; i += 3) {\n    indices[indicesOffset++] = triangles[i] + verticesOffset;\n    indices[indicesOffset++] = triangles[i + 1] + verticesOffset;\n    indices[indicesOffset++] = triangles[i + 2] + verticesOffset;\n  }\n  let index = verticesOffset * verticesStride;\n  for (let i = 0; i < points.length; i += 2) {\n    vertices[index] = points[i];\n    vertices[index + 1] = points[i + 1];\n    index += verticesStride;\n  }\n}\n\nexport { triangulateWithHoles };\n//# sourceMappingURL=triangulateWithHoles.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { triangulateWithHoles } from '../utils/triangulateWithHoles.mjs';\n\n\"use strict\";\nconst emptyArray = [];\nconst buildPolygon = {\n  extension: {\n    type: ExtensionType.ShapeBuilder,\n    name: \"polygon\"\n  },\n  build(shape, points) {\n    for (let i = 0; i < shape.points.length; i++) {\n      points[i] = shape.points[i];\n    }\n    return true;\n  },\n  triangulate(points, vertices, verticesStride, verticesOffset, indices, indicesOffset) {\n    triangulateWithHoles(points, emptyArray, vertices, verticesStride, verticesOffset, indices, indicesOffset);\n  }\n};\n\nexport { buildPolygon };\n//# sourceMappingURL=buildPolygon.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst buildRectangle = {\n  extension: {\n    type: ExtensionType.ShapeBuilder,\n    name: \"rectangle\"\n  },\n  build(shape, points) {\n    const rectData = shape;\n    const x = rectData.x;\n    const y = rectData.y;\n    const width = rectData.width;\n    const height = rectData.height;\n    if (!(width > 0 && height > 0)) {\n      return false;\n    }\n    points[0] = x;\n    points[1] = y;\n    points[2] = x + width;\n    points[3] = y;\n    points[4] = x + width;\n    points[5] = y + height;\n    points[6] = x;\n    points[7] = y + height;\n    return true;\n  },\n  triangulate(points, vertices, verticesStride, verticesOffset, indices, indicesOffset) {\n    let count = 0;\n    verticesOffset *= verticesStride;\n    vertices[verticesOffset + count] = points[0];\n    vertices[verticesOffset + count + 1] = points[1];\n    count += verticesStride;\n    vertices[verticesOffset + count] = points[2];\n    vertices[verticesOffset + count + 1] = points[3];\n    count += verticesStride;\n    vertices[verticesOffset + count] = points[6];\n    vertices[verticesOffset + count + 1] = points[7];\n    count += verticesStride;\n    vertices[verticesOffset + count] = points[4];\n    vertices[verticesOffset + count + 1] = points[5];\n    count += verticesStride;\n    const verticesIndex = verticesOffset / verticesStride;\n    indices[indicesOffset++] = verticesIndex;\n    indices[indicesOffset++] = verticesIndex + 1;\n    indices[indicesOffset++] = verticesIndex + 2;\n    indices[indicesOffset++] = verticesIndex + 1;\n    indices[indicesOffset++] = verticesIndex + 3;\n    indices[indicesOffset++] = verticesIndex + 2;\n  }\n};\n\nexport { buildRectangle };\n//# sourceMappingURL=buildRectangle.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst buildTriangle = {\n  extension: {\n    type: ExtensionType.ShapeBuilder,\n    name: \"triangle\"\n  },\n  build(shape, points) {\n    points[0] = shape.x;\n    points[1] = shape.y;\n    points[2] = shape.x2;\n    points[3] = shape.y2;\n    points[4] = shape.x3;\n    points[5] = shape.y3;\n    return true;\n  },\n  triangulate(points, vertices, verticesStride, verticesOffset, indices, indicesOffset) {\n    let count = 0;\n    verticesOffset *= verticesStride;\n    vertices[verticesOffset + count] = points[0];\n    vertices[verticesOffset + count + 1] = points[1];\n    count += verticesStride;\n    vertices[verticesOffset + count] = points[2];\n    vertices[verticesOffset + count + 1] = points[3];\n    count += verticesStride;\n    vertices[verticesOffset + count] = points[4];\n    vertices[verticesOffset + count + 1] = points[5];\n    const verticesIndex = verticesOffset / verticesStride;\n    indices[indicesOffset++] = verticesIndex;\n    indices[indicesOffset++] = verticesIndex + 1;\n    indices[indicesOffset++] = verticesIndex + 2;\n  }\n};\n\nexport { buildTriangle };\n//# sourceMappingURL=buildTriangle.mjs.map\n","import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { FillGradient } from '../fill/FillGradient.mjs';\n\n\"use strict\";\nconst tempTextureMatrix = new Matrix();\nconst tempRect = new Rectangle();\nfunction generateTextureMatrix(out, style, shape, matrix) {\n  const textureMatrix = style.matrix ? out.copyFrom(style.matrix).invert() : out.identity();\n  if (style.textureSpace === \"local\") {\n    const bounds = shape.getBounds(tempRect);\n    if (style.width) {\n      bounds.pad(style.width);\n    }\n    const { x: tx, y: ty } = bounds;\n    const sx = 1 / bounds.width;\n    const sy = 1 / bounds.height;\n    const mTx = -tx * sx;\n    const mTy = -ty * sy;\n    const a1 = textureMatrix.a;\n    const b1 = textureMatrix.b;\n    const c1 = textureMatrix.c;\n    const d1 = textureMatrix.d;\n    textureMatrix.a *= sx;\n    textureMatrix.b *= sx;\n    textureMatrix.c *= sy;\n    textureMatrix.d *= sy;\n    textureMatrix.tx = mTx * a1 + mTy * c1 + textureMatrix.tx;\n    textureMatrix.ty = mTx * b1 + mTy * d1 + textureMatrix.ty;\n  } else {\n    textureMatrix.translate(style.texture.frame.x, style.texture.frame.y);\n    textureMatrix.scale(1 / style.texture.source.width, 1 / style.texture.source.height);\n  }\n  const sourceStyle = style.texture.source.style;\n  if (!(style.fill instanceof FillGradient) && sourceStyle.addressMode === \"clamp-to-edge\") {\n    sourceStyle.addressMode = \"repeat\";\n    sourceStyle.update();\n  }\n  if (matrix) {\n    textureMatrix.append(tempTextureMatrix.copyFrom(matrix).invert());\n  }\n  return textureMatrix;\n}\n\nexport { generateTextureMatrix };\n//# sourceMappingURL=generateTextureFillMatrix.mjs.map\n","import { extensions, ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { buildUvs, buildSimpleUvs } from '../../../../rendering/renderers/shared/geometry/utils/buildUvs.mjs';\nimport { transformVertices } from '../../../../rendering/renderers/shared/geometry/utils/transformVertices.mjs';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { BigPool } from '../../../../utils/pool/PoolGroup.mjs';\nimport { BatchableGraphics } from '../BatchableGraphics.mjs';\nimport { buildCircle, buildEllipse, buildRoundedRectangle } from '../buildCommands/buildCircle.mjs';\nimport { buildLine } from '../buildCommands/buildLine.mjs';\nimport { buildPixelLine } from '../buildCommands/buildPixelLine.mjs';\nimport { buildPolygon } from '../buildCommands/buildPolygon.mjs';\nimport { buildRectangle } from '../buildCommands/buildRectangle.mjs';\nimport { buildTriangle } from '../buildCommands/buildTriangle.mjs';\nimport { generateTextureMatrix } from './generateTextureFillMatrix.mjs';\nimport { triangulateWithHoles } from './triangulateWithHoles.mjs';\n\n\"use strict\";\nconst shapeBuilders = {};\nextensions.handleByMap(ExtensionType.ShapeBuilder, shapeBuilders);\nextensions.add(buildRectangle, buildPolygon, buildTriangle, buildCircle, buildEllipse, buildRoundedRectangle);\nconst tempRect = new Rectangle();\nconst tempTextureMatrix = new Matrix();\nfunction buildContextBatches(context, gpuContext) {\n  const { geometryData, batches } = gpuContext;\n  batches.length = 0;\n  geometryData.indices.length = 0;\n  geometryData.vertices.length = 0;\n  geometryData.uvs.length = 0;\n  for (let i = 0; i < context.instructions.length; i++) {\n    const instruction = context.instructions[i];\n    if (instruction.action === \"texture\") {\n      addTextureToGeometryData(instruction.data, batches, geometryData);\n    } else if (instruction.action === \"fill\" || instruction.action === \"stroke\") {\n      const isStroke = instruction.action === \"stroke\";\n      const shapePath = instruction.data.path.shapePath;\n      const style = instruction.data.style;\n      const hole = instruction.data.hole;\n      if (isStroke && hole) {\n        addShapePathToGeometryData(hole.shapePath, style, true, batches, geometryData);\n      }\n      if (hole) {\n        shapePath.shapePrimitives[shapePath.shapePrimitives.length - 1].holes = hole.shapePath.shapePrimitives;\n      }\n      addShapePathToGeometryData(shapePath, style, isStroke, batches, geometryData);\n    }\n  }\n}\nfunction addTextureToGeometryData(data, batches, geometryData) {\n  const points = [];\n  const build = shapeBuilders.rectangle;\n  const rect = tempRect;\n  rect.x = data.dx;\n  rect.y = data.dy;\n  rect.width = data.dw;\n  rect.height = data.dh;\n  const matrix = data.transform;\n  if (!build.build(rect, points)) {\n    return;\n  }\n  const { vertices, uvs, indices } = geometryData;\n  const indexOffset = indices.length;\n  const vertOffset = vertices.length / 2;\n  if (matrix) {\n    transformVertices(points, matrix);\n  }\n  build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n  const texture = data.image;\n  const textureUvs = texture.uvs;\n  uvs.push(\n    textureUvs.x0,\n    textureUvs.y0,\n    textureUvs.x1,\n    textureUvs.y1,\n    textureUvs.x3,\n    textureUvs.y3,\n    textureUvs.x2,\n    textureUvs.y2\n  );\n  const graphicsBatch = BigPool.get(BatchableGraphics);\n  graphicsBatch.indexOffset = indexOffset;\n  graphicsBatch.indexSize = indices.length - indexOffset;\n  graphicsBatch.attributeOffset = vertOffset;\n  graphicsBatch.attributeSize = vertices.length / 2 - vertOffset;\n  graphicsBatch.baseColor = data.style;\n  graphicsBatch.alpha = data.alpha;\n  graphicsBatch.texture = texture;\n  graphicsBatch.geometryData = geometryData;\n  batches.push(graphicsBatch);\n}\nfunction addShapePathToGeometryData(shapePath, style, isStroke, batches, geometryData) {\n  const { vertices, uvs, indices } = geometryData;\n  shapePath.shapePrimitives.forEach(({ shape, transform: matrix, holes }) => {\n    const points = [];\n    const build = shapeBuilders[shape.type];\n    if (!build.build(shape, points)) {\n      return;\n    }\n    const indexOffset = indices.length;\n    const vertOffset = vertices.length / 2;\n    let topology = \"triangle-list\";\n    if (matrix) {\n      transformVertices(points, matrix);\n    }\n    if (!isStroke) {\n      if (holes) {\n        const holeIndices = [];\n        const otherPoints = points.slice();\n        const holeArrays = getHoleArrays(holes);\n        holeArrays.forEach((holePoints) => {\n          holeIndices.push(otherPoints.length / 2);\n          otherPoints.push(...holePoints);\n        });\n        triangulateWithHoles(otherPoints, holeIndices, vertices, 2, vertOffset, indices, indexOffset);\n      } else {\n        build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n      }\n    } else {\n      const close = shape.closePath ?? true;\n      const lineStyle = style;\n      if (!lineStyle.pixelLine) {\n        buildLine(points, lineStyle, false, close, vertices, indices);\n      } else {\n        buildPixelLine(points, close, vertices, indices);\n        topology = \"line-list\";\n      }\n    }\n    const uvsOffset = uvs.length / 2;\n    const texture = style.texture;\n    if (texture !== Texture.WHITE) {\n      const textureMatrix = generateTextureMatrix(tempTextureMatrix, style, shape, matrix);\n      buildUvs(vertices, 2, vertOffset, uvs, uvsOffset, 2, vertices.length / 2 - vertOffset, textureMatrix);\n    } else {\n      buildSimpleUvs(uvs, uvsOffset, 2, vertices.length / 2 - vertOffset);\n    }\n    const graphicsBatch = BigPool.get(BatchableGraphics);\n    graphicsBatch.indexOffset = indexOffset;\n    graphicsBatch.indexSize = indices.length - indexOffset;\n    graphicsBatch.attributeOffset = vertOffset;\n    graphicsBatch.attributeSize = vertices.length / 2 - vertOffset;\n    graphicsBatch.baseColor = style.color;\n    graphicsBatch.alpha = style.alpha;\n    graphicsBatch.texture = texture;\n    graphicsBatch.geometryData = geometryData;\n    graphicsBatch.topology = topology;\n    batches.push(graphicsBatch);\n  });\n}\nfunction getHoleArrays(holePrimitives) {\n  const holeArrays = [];\n  for (let k = 0; k < holePrimitives.length; k++) {\n    const holePrimitive = holePrimitives[k].shape;\n    const holePoints = [];\n    const holeBuilder = shapeBuilders[holePrimitive.type];\n    if (holeBuilder.build(holePrimitive, holePoints)) {\n      holeArrays.push(holePoints);\n    }\n  }\n  return holeArrays;\n}\n\nexport { buildContextBatches, shapeBuilders };\n//# sourceMappingURL=buildContextBatches.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { getTextureBatchBindGroup } from '../../../rendering/batcher/gpu/getTextureBatchBindGroup.mjs';\nimport { DefaultBatcher } from '../../../rendering/batcher/shared/DefaultBatcher.mjs';\nimport { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet.mjs';\nimport { deprecation, v8_3_4 } from '../../../utils/logging/deprecation.mjs';\nimport { BigPool } from '../../../utils/pool/PoolGroup.mjs';\nimport { buildContextBatches } from './utils/buildContextBatches.mjs';\n\n\"use strict\";\nclass GpuGraphicsContext {\n  constructor() {\n    this.batches = [];\n    this.geometryData = {\n      vertices: [],\n      uvs: [],\n      indices: []\n    };\n  }\n}\nclass GraphicsContextRenderData {\n  constructor() {\n    this.instructions = new InstructionSet();\n  }\n  init(maxTextures) {\n    this.batcher = new DefaultBatcher({\n      maxTextures\n    });\n    this.instructions.reset();\n  }\n  /**\n   * @deprecated since version 8.0.0\n   * Use `batcher.geometry` instead.\n   * @see {Batcher#geometry}\n   */\n  get geometry() {\n    deprecation(v8_3_4, \"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead.\");\n    return this.batcher.geometry;\n  }\n  destroy() {\n    this.batcher.destroy();\n    this.instructions.destroy();\n    this.batcher = null;\n    this.instructions = null;\n  }\n}\nconst _GraphicsContextSystem = class _GraphicsContextSystem {\n  constructor(renderer) {\n    // the root context batches, used to either make a batch or geometry\n    // all graphics use this as a base\n    this._gpuContextHash = {};\n    // used for non-batchable graphics\n    this._graphicsDataContextHash = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    renderer.renderableGC.addManagedHash(this, \"_gpuContextHash\");\n    renderer.renderableGC.addManagedHash(this, \"_graphicsDataContextHash\");\n  }\n  /**\n   * Runner init called, update the default options\n   * @ignore\n   */\n  init(options) {\n    _GraphicsContextSystem.defaultOptions.bezierSmoothness = options?.bezierSmoothness ?? _GraphicsContextSystem.defaultOptions.bezierSmoothness;\n  }\n  /**\n   * Returns the render data for a given GraphicsContext.\n   * @param context - The GraphicsContext to get the render data for.\n   * @internal\n   */\n  getContextRenderData(context) {\n    return this._graphicsDataContextHash[context.uid] || this._initContextRenderData(context);\n  }\n  /**\n   * Updates the GPU context for a given GraphicsContext.\n   * If the context is dirty, it will rebuild the batches and geometry data.\n   * @param context - The GraphicsContext to update.\n   * @returns The updated GpuGraphicsContext.\n   * @internal\n   */\n  updateGpuContext(context) {\n    let gpuContext = this._gpuContextHash[context.uid] || this._initContext(context);\n    if (context.dirty) {\n      if (gpuContext) {\n        this._cleanGraphicsContextData(context);\n      } else {\n        gpuContext = this._initContext(context);\n      }\n      buildContextBatches(context, gpuContext);\n      const batchMode = context.batchMode;\n      if (context.customShader || batchMode === \"no-batch\") {\n        gpuContext.isBatchable = false;\n      } else if (batchMode === \"auto\") {\n        gpuContext.isBatchable = gpuContext.geometryData.vertices.length < 400;\n      } else {\n        gpuContext.isBatchable = true;\n      }\n      context.dirty = false;\n    }\n    return gpuContext;\n  }\n  /**\n   * Returns the GpuGraphicsContext for a given GraphicsContext.\n   * If it does not exist, it will initialize a new one.\n   * @param context - The GraphicsContext to get the GpuGraphicsContext for.\n   * @returns The GpuGraphicsContext for the given GraphicsContext.\n   * @internal\n   */\n  getGpuContext(context) {\n    return this._gpuContextHash[context.uid] || this._initContext(context);\n  }\n  _initContextRenderData(context) {\n    const graphicsData = BigPool.get(GraphicsContextRenderData, {\n      maxTextures: this._renderer.limits.maxBatchableTextures\n    });\n    const { batches, geometryData } = this._gpuContextHash[context.uid];\n    const vertexSize = geometryData.vertices.length;\n    const indexSize = geometryData.indices.length;\n    for (let i = 0; i < batches.length; i++) {\n      batches[i].applyTransform = false;\n    }\n    const batcher = graphicsData.batcher;\n    batcher.ensureAttributeBuffer(vertexSize);\n    batcher.ensureIndexBuffer(indexSize);\n    batcher.begin();\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches[i];\n      batcher.add(batch);\n    }\n    batcher.finish(graphicsData.instructions);\n    const geometry = batcher.geometry;\n    geometry.indexBuffer.setDataWithSize(batcher.indexBuffer, batcher.indexSize, true);\n    geometry.buffers[0].setDataWithSize(batcher.attributeBuffer.float32View, batcher.attributeSize, true);\n    const drawBatches = batcher.batches;\n    for (let i = 0; i < drawBatches.length; i++) {\n      const batch = drawBatches[i];\n      batch.bindGroup = getTextureBatchBindGroup(\n        batch.textures.textures,\n        batch.textures.count,\n        this._renderer.limits.maxBatchableTextures\n      );\n    }\n    this._graphicsDataContextHash[context.uid] = graphicsData;\n    return graphicsData;\n  }\n  _initContext(context) {\n    const gpuContext = new GpuGraphicsContext();\n    gpuContext.context = context;\n    this._gpuContextHash[context.uid] = gpuContext;\n    context.on(\"destroy\", this.onGraphicsContextDestroy, this);\n    return this._gpuContextHash[context.uid];\n  }\n  onGraphicsContextDestroy(context) {\n    this._cleanGraphicsContextData(context);\n    context.off(\"destroy\", this.onGraphicsContextDestroy, this);\n    this._gpuContextHash[context.uid] = null;\n  }\n  _cleanGraphicsContextData(context) {\n    const gpuContext = this._gpuContextHash[context.uid];\n    if (!gpuContext.isBatchable) {\n      if (this._graphicsDataContextHash[context.uid]) {\n        BigPool.return(this.getContextRenderData(context));\n        this._graphicsDataContextHash[context.uid] = null;\n      }\n    }\n    if (gpuContext.batches) {\n      gpuContext.batches.forEach((batch) => {\n        BigPool.return(batch);\n      });\n    }\n  }\n  destroy() {\n    for (const i in this._gpuContextHash) {\n      if (this._gpuContextHash[i]) {\n        this.onGraphicsContextDestroy(this._gpuContextHash[i].context);\n      }\n    }\n  }\n};\n/** @ignore */\n_GraphicsContextSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"graphicsContext\"\n};\n/** The default options for the GraphicsContextSystem. */\n_GraphicsContextSystem.defaultOptions = {\n  /**\n   * A value from 0 to 1 that controls the smoothness of bezier curves (the higher the smoother)\n   * @default 0.5\n   */\n  bezierSmoothness: 0.5\n};\nlet GraphicsContextSystem = _GraphicsContextSystem;\n\nexport { GpuGraphicsContext, GraphicsContextRenderData, GraphicsContextSystem };\n//# sourceMappingURL=GraphicsContextSystem.mjs.map\n","import { GraphicsContextSystem } from '../GraphicsContextSystem.mjs';\n\n\"use strict\";\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 11920929e-14;\nconst PATH_DISTANCE_EPSILON = 1;\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\nconst mCuspLimit = 0;\nfunction buildAdaptiveBezier(points, sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, smoothness) {\n  const scale = 1;\n  const smoothing = Math.min(\n    0.99,\n    // a value of 1.0 actually inverts smoothing, so we cap it at 0.99\n    Math.max(0, smoothness ?? GraphicsContextSystem.defaultOptions.bezierSmoothness)\n  );\n  let distanceTolerance = (PATH_DISTANCE_EPSILON - smoothing) / scale;\n  distanceTolerance *= distanceTolerance;\n  begin(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance);\n  return points;\n}\nfunction begin(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance) {\n  recursive(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance, 0);\n  points.push(eX, eY);\n}\nfunction recursive(x1, y1, x2, y2, x3, y3, x4, y4, points, distanceTolerance, level) {\n  if (level > RECURSION_LIMIT) {\n    return;\n  }\n  const pi = Math.PI;\n  const x12 = (x1 + x2) / 2;\n  const y12 = (y1 + y2) / 2;\n  const x23 = (x2 + x3) / 2;\n  const y23 = (y2 + y3) / 2;\n  const x34 = (x3 + x4) / 2;\n  const y34 = (y3 + y4) / 2;\n  const x123 = (x12 + x23) / 2;\n  const y123 = (y12 + y23) / 2;\n  const x234 = (x23 + x34) / 2;\n  const y234 = (y23 + y34) / 2;\n  const x1234 = (x123 + x234) / 2;\n  const y1234 = (y123 + y234) / 2;\n  if (level > 0) {\n    let dx = x4 - x1;\n    let dy = y4 - y1;\n    const d2 = Math.abs((x2 - x4) * dy - (y2 - y4) * dx);\n    const d3 = Math.abs((x3 - x4) * dy - (y3 - y4) * dx);\n    let da1;\n    let da2;\n    if (d2 > FLT_EPSILON && d3 > FLT_EPSILON) {\n      if ((d2 + d3) * (d2 + d3) <= distanceTolerance * (dx * dx + dy * dy)) {\n        if (mAngleTolerance < curveAngleToleranceEpsilon) {\n          points.push(x1234, y1234);\n          return;\n        }\n        const a23 = Math.atan2(y3 - y2, x3 - x2);\n        da1 = Math.abs(a23 - Math.atan2(y2 - y1, x2 - x1));\n        da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - a23);\n        if (da1 >= pi)\n          da1 = 2 * pi - da1;\n        if (da2 >= pi)\n          da2 = 2 * pi - da2;\n        if (da1 + da2 < mAngleTolerance) {\n          points.push(x1234, y1234);\n          return;\n        }\n        if (mCuspLimit !== 0) {\n          if (da1 > mCuspLimit) {\n            points.push(x2, y2);\n            return;\n          }\n          if (da2 > mCuspLimit) {\n            points.push(x3, y3);\n            return;\n          }\n        }\n      }\n    } else if (d2 > FLT_EPSILON) {\n      if (d2 * d2 <= distanceTolerance * (dx * dx + dy * dy)) {\n        if (mAngleTolerance < curveAngleToleranceEpsilon) {\n          points.push(x1234, y1234);\n          return;\n        }\n        da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n        if (da1 >= pi)\n          da1 = 2 * pi - da1;\n        if (da1 < mAngleTolerance) {\n          points.push(x2, y2);\n          points.push(x3, y3);\n          return;\n        }\n        if (mCuspLimit !== 0) {\n          if (da1 > mCuspLimit) {\n            points.push(x2, y2);\n            return;\n          }\n        }\n      }\n    } else if (d3 > FLT_EPSILON) {\n      if (d3 * d3 <= distanceTolerance * (dx * dx + dy * dy)) {\n        if (mAngleTolerance < curveAngleToleranceEpsilon) {\n          points.push(x1234, y1234);\n          return;\n        }\n        da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2));\n        if (da1 >= pi)\n          da1 = 2 * pi - da1;\n        if (da1 < mAngleTolerance) {\n          points.push(x2, y2);\n          points.push(x3, y3);\n          return;\n        }\n        if (mCuspLimit !== 0) {\n          if (da1 > mCuspLimit) {\n            points.push(x3, y3);\n            return;\n          }\n        }\n      }\n    } else {\n      dx = x1234 - (x1 + x4) / 2;\n      dy = y1234 - (y1 + y4) / 2;\n      if (dx * dx + dy * dy <= distanceTolerance) {\n        points.push(x1234, y1234);\n        return;\n      }\n    }\n  }\n  recursive(x1, y1, x12, y12, x123, y123, x1234, y1234, points, distanceTolerance, level + 1);\n  recursive(x1234, y1234, x234, y234, x34, y34, x4, y4, points, distanceTolerance, level + 1);\n}\n\nexport { buildAdaptiveBezier };\n//# sourceMappingURL=buildAdaptiveBezier.mjs.map\n","import { GraphicsContextSystem } from '../GraphicsContextSystem.mjs';\n\n\"use strict\";\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 11920929e-14;\nconst PATH_DISTANCE_EPSILON = 1;\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\nfunction buildAdaptiveQuadratic(points, sX, sY, cp1x, cp1y, eX, eY, smoothness) {\n  const scale = 1;\n  const smoothing = Math.min(\n    0.99,\n    // a value of 1.0 actually inverts smoothing, so we cap it at 0.99\n    Math.max(0, smoothness ?? GraphicsContextSystem.defaultOptions.bezierSmoothness)\n  );\n  let distanceTolerance = (PATH_DISTANCE_EPSILON - smoothing) / scale;\n  distanceTolerance *= distanceTolerance;\n  begin(sX, sY, cp1x, cp1y, eX, eY, points, distanceTolerance);\n  return points;\n}\nfunction begin(sX, sY, cp1x, cp1y, eX, eY, points, distanceTolerance) {\n  recursive(points, sX, sY, cp1x, cp1y, eX, eY, distanceTolerance, 0);\n  points.push(eX, eY);\n}\nfunction recursive(points, x1, y1, x2, y2, x3, y3, distanceTolerance, level) {\n  if (level > RECURSION_LIMIT) {\n    return;\n  }\n  const pi = Math.PI;\n  const x12 = (x1 + x2) / 2;\n  const y12 = (y1 + y2) / 2;\n  const x23 = (x2 + x3) / 2;\n  const y23 = (y2 + y3) / 2;\n  const x123 = (x12 + x23) / 2;\n  const y123 = (y12 + y23) / 2;\n  let dx = x3 - x1;\n  let dy = y3 - y1;\n  const d = Math.abs((x2 - x3) * dy - (y2 - y3) * dx);\n  if (d > FLT_EPSILON) {\n    if (d * d <= distanceTolerance * (dx * dx + dy * dy)) {\n      if (mAngleTolerance < curveAngleToleranceEpsilon) {\n        points.push(x123, y123);\n        return;\n      }\n      let da = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n      if (da >= pi)\n        da = 2 * pi - da;\n      if (da < mAngleTolerance) {\n        points.push(x123, y123);\n        return;\n      }\n    }\n  } else {\n    dx = x123 - (x1 + x3) / 2;\n    dy = y123 - (y1 + y3) / 2;\n    if (dx * dx + dy * dy <= distanceTolerance) {\n      points.push(x123, y123);\n      return;\n    }\n  }\n  recursive(points, x1, y1, x12, y12, x123, y123, distanceTolerance, level + 1);\n  recursive(points, x123, y123, x23, y23, x3, y3, distanceTolerance, level + 1);\n}\n\nexport { buildAdaptiveQuadratic };\n//# sourceMappingURL=buildAdaptiveQuadratic.mjs.map\n","\"use strict\";\nfunction buildArc(points, x, y, radius, start, end, clockwise, steps) {\n  let dist = Math.abs(start - end);\n  if (!clockwise && start > end) {\n    dist = 2 * Math.PI - dist;\n  } else if (clockwise && end > start) {\n    dist = 2 * Math.PI - dist;\n  }\n  steps || (steps = Math.max(6, Math.floor(6 * Math.pow(radius, 1 / 3) * (dist / Math.PI))));\n  steps = Math.max(steps, 3);\n  let f = dist / steps;\n  let t = start;\n  f *= clockwise ? -1 : 1;\n  for (let i = 0; i < steps + 1; i++) {\n    const cs = Math.cos(t);\n    const sn = Math.sin(t);\n    const nx = x + cs * radius;\n    const ny = y + sn * radius;\n    points.push(nx, ny);\n    t += f;\n  }\n}\n\nexport { buildArc };\n//# sourceMappingURL=buildArc.mjs.map\n","import { buildArc } from './buildArc.mjs';\n\n\"use strict\";\nfunction buildArcTo(points, x1, y1, x2, y2, radius) {\n  const fromX = points[points.length - 2];\n  const fromY = points[points.length - 1];\n  const a1 = fromY - y1;\n  const b1 = fromX - x1;\n  const a2 = y2 - y1;\n  const b2 = x2 - x1;\n  const mm = Math.abs(a1 * b2 - b1 * a2);\n  if (mm < 1e-8 || radius === 0) {\n    if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {\n      points.push(x1, y1);\n    }\n    return;\n  }\n  const dd = a1 * a1 + b1 * b1;\n  const cc = a2 * a2 + b2 * b2;\n  const tt = a1 * a2 + b1 * b2;\n  const k1 = radius * Math.sqrt(dd) / mm;\n  const k2 = radius * Math.sqrt(cc) / mm;\n  const j1 = k1 * tt / dd;\n  const j2 = k2 * tt / cc;\n  const cx = k1 * b2 + k2 * b1;\n  const cy = k1 * a2 + k2 * a1;\n  const px = b1 * (k2 + j1);\n  const py = a1 * (k2 + j1);\n  const qx = b2 * (k1 + j2);\n  const qy = a2 * (k1 + j2);\n  const startAngle = Math.atan2(py - cy, px - cx);\n  const endAngle = Math.atan2(qy - cy, qx - cx);\n  buildArc(\n    points,\n    cx + x1,\n    cy + y1,\n    radius,\n    startAngle,\n    endAngle,\n    b1 * a2 > b2 * a1\n  );\n}\n\nexport { buildArcTo };\n//# sourceMappingURL=buildArcTo.mjs.map\n","import { buildAdaptiveBezier } from './buildAdaptiveBezier.mjs';\n\n\"use strict\";\nconst TAU = Math.PI * 2;\nconst out = {\n  centerX: 0,\n  centerY: 0,\n  ang1: 0,\n  ang2: 0\n};\nconst mapToEllipse = ({ x, y }, rx, ry, cosPhi, sinPhi, centerX, centerY, out2) => {\n  x *= rx;\n  y *= ry;\n  const xp = cosPhi * x - sinPhi * y;\n  const yp = sinPhi * x + cosPhi * y;\n  out2.x = xp + centerX;\n  out2.y = yp + centerY;\n  return out2;\n};\nfunction approxUnitArc(ang1, ang2) {\n  const a1 = ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n  const a = ang2 === 1.5707963267948966 ? 0.551915024494 : a1;\n  const x1 = Math.cos(ang1);\n  const y1 = Math.sin(ang1);\n  const x2 = Math.cos(ang1 + ang2);\n  const y2 = Math.sin(ang1 + ang2);\n  return [\n    {\n      x: x1 - y1 * a,\n      y: y1 + x1 * a\n    },\n    {\n      x: x2 + y2 * a,\n      y: y2 - x2 * a\n    },\n    {\n      x: x2,\n      y: y2\n    }\n  ];\n}\nconst vectorAngle = (ux, uy, vx, vy) => {\n  const sign = ux * vy - uy * vx < 0 ? -1 : 1;\n  let dot = ux * vx + uy * vy;\n  if (dot > 1) {\n    dot = 1;\n  }\n  if (dot < -1) {\n    dot = -1;\n  }\n  return sign * Math.acos(dot);\n};\nconst getArcCenter = (px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinPhi, cosPhi, pxp, pyp, out2) => {\n  const rxSq = Math.pow(rx, 2);\n  const rySq = Math.pow(ry, 2);\n  const pxpSq = Math.pow(pxp, 2);\n  const pypSq = Math.pow(pyp, 2);\n  let radicant = rxSq * rySq - rxSq * pypSq - rySq * pxpSq;\n  if (radicant < 0) {\n    radicant = 0;\n  }\n  radicant /= rxSq * pypSq + rySq * pxpSq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n  const centerXp = radicant * rx / ry * pyp;\n  const centerYp = radicant * -ry / rx * pxp;\n  const centerX = cosPhi * centerXp - sinPhi * centerYp + (px + cx) / 2;\n  const centerY = sinPhi * centerXp + cosPhi * centerYp + (py + cy) / 2;\n  const vx1 = (pxp - centerXp) / rx;\n  const vy1 = (pyp - centerYp) / ry;\n  const vx2 = (-pxp - centerXp) / rx;\n  const vy2 = (-pyp - centerYp) / ry;\n  const ang1 = vectorAngle(1, 0, vx1, vy1);\n  let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n  out2.centerX = centerX;\n  out2.centerY = centerY;\n  out2.ang1 = ang1;\n  out2.ang2 = ang2;\n};\nfunction buildArcToSvg(points, px, py, cx, cy, rx, ry, xAxisRotation = 0, largeArcFlag = 0, sweepFlag = 0) {\n  if (rx === 0 || ry === 0) {\n    return;\n  }\n  const sinPhi = Math.sin(xAxisRotation * TAU / 360);\n  const cosPhi = Math.cos(xAxisRotation * TAU / 360);\n  const pxp = cosPhi * (px - cx) / 2 + sinPhi * (py - cy) / 2;\n  const pyp = -sinPhi * (px - cx) / 2 + cosPhi * (py - cy) / 2;\n  if (pxp === 0 && pyp === 0) {\n    return;\n  }\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  const lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n  getArcCenter(\n    px,\n    py,\n    cx,\n    cy,\n    rx,\n    ry,\n    largeArcFlag,\n    sweepFlag,\n    sinPhi,\n    cosPhi,\n    pxp,\n    pyp,\n    out\n  );\n  let { ang1, ang2 } = out;\n  const { centerX, centerY } = out;\n  let ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1 - ratio) < 1e-7) {\n    ratio = 1;\n  }\n  const segments = Math.max(Math.ceil(ratio), 1);\n  ang2 /= segments;\n  let lastX = points[points.length - 2];\n  let lastY = points[points.length - 1];\n  const outCurvePoint = { x: 0, y: 0 };\n  for (let i = 0; i < segments; i++) {\n    const curve = approxUnitArc(ang1, ang2);\n    const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n    const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n    const { x, y } = mapToEllipse(curve[2], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n    buildAdaptiveBezier(\n      points,\n      lastX,\n      lastY,\n      x1,\n      y1,\n      x2,\n      y2,\n      x,\n      y\n    );\n    lastX = x;\n    lastY = y;\n    ang1 += ang2;\n  }\n}\n\nexport { buildArcToSvg };\n//# sourceMappingURL=buildArcToSvg.mjs.map\n","\"use strict\";\nfunction roundedShapeArc(g, points, radius) {\n  const vecFrom = (p, pp) => {\n    const x = pp.x - p.x;\n    const y = pp.y - p.y;\n    const len = Math.sqrt(x * x + y * y);\n    const nx = x / len;\n    const ny = y / len;\n    return { len, nx, ny };\n  };\n  const sharpCorner = (i, p) => {\n    if (i === 0) {\n      g.moveTo(p.x, p.y);\n    } else {\n      g.lineTo(p.x, p.y);\n    }\n  };\n  let p1 = points[points.length - 1];\n  for (let i = 0; i < points.length; i++) {\n    const p2 = points[i % points.length];\n    const pRadius = p2.radius ?? radius;\n    if (pRadius <= 0) {\n      sharpCorner(i, p2);\n      p1 = p2;\n      continue;\n    }\n    const p3 = points[(i + 1) % points.length];\n    const v1 = vecFrom(p2, p1);\n    const v2 = vecFrom(p2, p3);\n    if (v1.len < 1e-4 || v2.len < 1e-4) {\n      sharpCorner(i, p2);\n      p1 = p2;\n      continue;\n    }\n    let angle = Math.asin(v1.nx * v2.ny - v1.ny * v2.nx);\n    let radDirection = 1;\n    let drawDirection = false;\n    if (v1.nx * v2.nx - v1.ny * -v2.ny < 0) {\n      if (angle < 0) {\n        angle = Math.PI + angle;\n      } else {\n        angle = Math.PI - angle;\n        radDirection = -1;\n        drawDirection = true;\n      }\n    } else if (angle > 0) {\n      radDirection = -1;\n      drawDirection = true;\n    }\n    const halfAngle = angle / 2;\n    let cRadius;\n    let lenOut = Math.abs(\n      Math.cos(halfAngle) * pRadius / Math.sin(halfAngle)\n    );\n    if (lenOut > Math.min(v1.len / 2, v2.len / 2)) {\n      lenOut = Math.min(v1.len / 2, v2.len / 2);\n      cRadius = Math.abs(lenOut * Math.sin(halfAngle) / Math.cos(halfAngle));\n    } else {\n      cRadius = pRadius;\n    }\n    const cX = p2.x + v2.nx * lenOut + -v2.ny * cRadius * radDirection;\n    const cY = p2.y + v2.ny * lenOut + v2.nx * cRadius * radDirection;\n    const startAngle = Math.atan2(v1.ny, v1.nx) + Math.PI / 2 * radDirection;\n    const endAngle = Math.atan2(v2.ny, v2.nx) - Math.PI / 2 * radDirection;\n    if (i === 0) {\n      g.moveTo(\n        cX + Math.cos(startAngle) * cRadius,\n        cY + Math.sin(startAngle) * cRadius\n      );\n    }\n    g.arc(cX, cY, cRadius, startAngle, endAngle, drawDirection);\n    p1 = p2;\n  }\n}\nfunction roundedShapeQuadraticCurve(g, points, radius, smoothness) {\n  const distance = (p1, p2) => Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);\n  const pointLerp = (p1, p2, t) => ({\n    x: p1.x + (p2.x - p1.x) * t,\n    y: p1.y + (p2.y - p1.y) * t\n  });\n  const numPoints = points.length;\n  for (let i = 0; i < numPoints; i++) {\n    const thisPoint = points[(i + 1) % numPoints];\n    const pRadius = thisPoint.radius ?? radius;\n    if (pRadius <= 0) {\n      if (i === 0) {\n        g.moveTo(thisPoint.x, thisPoint.y);\n      } else {\n        g.lineTo(thisPoint.x, thisPoint.y);\n      }\n      continue;\n    }\n    const lastPoint = points[i];\n    const nextPoint = points[(i + 2) % numPoints];\n    const lastEdgeLength = distance(lastPoint, thisPoint);\n    let start;\n    if (lastEdgeLength < 1e-4) {\n      start = thisPoint;\n    } else {\n      const lastOffsetDistance = Math.min(lastEdgeLength / 2, pRadius);\n      start = pointLerp(\n        thisPoint,\n        lastPoint,\n        lastOffsetDistance / lastEdgeLength\n      );\n    }\n    const nextEdgeLength = distance(nextPoint, thisPoint);\n    let end;\n    if (nextEdgeLength < 1e-4) {\n      end = thisPoint;\n    } else {\n      const nextOffsetDistance = Math.min(nextEdgeLength / 2, pRadius);\n      end = pointLerp(\n        thisPoint,\n        nextPoint,\n        nextOffsetDistance / nextEdgeLength\n      );\n    }\n    if (i === 0) {\n      g.moveTo(start.x, start.y);\n    } else {\n      g.lineTo(start.x, start.y);\n    }\n    g.quadraticCurveTo(thisPoint.x, thisPoint.y, end.x, end.y, smoothness);\n  }\n}\n\nexport { roundedShapeArc, roundedShapeQuadraticCurve };\n//# sourceMappingURL=roundShape.mjs.map\n","import { Circle } from '../../../../maths/shapes/Circle.mjs';\nimport { Ellipse } from '../../../../maths/shapes/Ellipse.mjs';\nimport { Polygon } from '../../../../maths/shapes/Polygon.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { RoundedRectangle } from '../../../../maths/shapes/RoundedRectangle.mjs';\nimport { Bounds } from '../../../container/bounds/Bounds.mjs';\nimport { buildAdaptiveBezier } from '../buildCommands/buildAdaptiveBezier.mjs';\nimport { buildAdaptiveQuadratic } from '../buildCommands/buildAdaptiveQuadratic.mjs';\nimport { buildArc } from '../buildCommands/buildArc.mjs';\nimport { buildArcTo } from '../buildCommands/buildArcTo.mjs';\nimport { buildArcToSvg } from '../buildCommands/buildArcToSvg.mjs';\nimport { roundedShapeQuadraticCurve, roundedShapeArc } from './roundShape.mjs';\n\n\"use strict\";\nconst tempRectangle = new Rectangle();\nclass ShapePath {\n  constructor(graphicsPath2D) {\n    /** The list of shape primitives that make up the path. */\n    this.shapePrimitives = [];\n    this._currentPoly = null;\n    this._bounds = new Bounds();\n    this._graphicsPath2D = graphicsPath2D;\n    this.signed = graphicsPath2D.checkForHoles;\n  }\n  /**\n   * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n   * @param x - The x-coordinate for the starting point.\n   * @param y - The y-coordinate for the starting point.\n   * @returns The instance of the current object for chaining.\n   */\n  moveTo(x, y) {\n    this.startPoly(x, y);\n    return this;\n  }\n  /**\n   * Connects the current point to a new point with a straight line. This method updates the current path.\n   * @param x - The x-coordinate of the new point to connect to.\n   * @param y - The y-coordinate of the new point to connect to.\n   * @returns The instance of the current object for chaining.\n   */\n  lineTo(x, y) {\n    this._ensurePoly();\n    const points = this._currentPoly.points;\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n    if (fromX !== x || fromY !== y) {\n      points.push(x, y);\n    }\n    return this;\n  }\n  /**\n   * Adds an arc to the path. The arc is centered at (x, y)\n   *  position with radius `radius` starting at `startAngle` and ending at `endAngle`.\n   * @param x - The x-coordinate of the arc's center.\n   * @param y - The y-coordinate of the arc's center.\n   * @param radius - The radius of the arc.\n   * @param startAngle - The starting angle of the arc, in radians.\n   * @param endAngle - The ending angle of the arc, in radians.\n   * @param counterclockwise - Specifies whether the arc should be drawn in the anticlockwise direction. False by default.\n   * @returns The instance of the current object for chaining.\n   */\n  arc(x, y, radius, startAngle, endAngle, counterclockwise) {\n    this._ensurePoly(false);\n    const points = this._currentPoly.points;\n    buildArc(points, x, y, radius, startAngle, endAngle, counterclockwise);\n    return this;\n  }\n  /**\n   * Adds an arc to the path with the arc tangent to the line joining two specified points.\n   * The arc radius is specified by `radius`.\n   * @param x1 - The x-coordinate of the first point.\n   * @param y1 - The y-coordinate of the first point.\n   * @param x2 - The x-coordinate of the second point.\n   * @param y2 - The y-coordinate of the second point.\n   * @param radius - The radius of the arc.\n   * @returns The instance of the current object for chaining.\n   */\n  arcTo(x1, y1, x2, y2, radius) {\n    this._ensurePoly();\n    const points = this._currentPoly.points;\n    buildArcTo(points, x1, y1, x2, y2, radius);\n    return this;\n  }\n  /**\n   * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n   * @param rx - The x-radius of the ellipse.\n   * @param ry - The y-radius of the ellipse.\n   * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n   * to the x-axis of the coordinate system, in degrees.\n   * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n   * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n   * @param x - The x-coordinate of the arc's end point.\n   * @param y - The y-coordinate of the arc's end point.\n   * @returns The instance of the current object for chaining.\n   */\n  arcToSvg(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y) {\n    const points = this._currentPoly.points;\n    buildArcToSvg(\n      points,\n      this._currentPoly.lastX,\n      this._currentPoly.lastY,\n      x,\n      y,\n      rx,\n      ry,\n      xAxisRotation,\n      largeArcFlag,\n      sweepFlag\n    );\n    return this;\n  }\n  /**\n   * Adds a cubic Bezier curve to the path.\n   * It requires three points: the first two are control points and the third one is the end point.\n   * The starting point is the last point in the current path.\n   * @param cp1x - The x-coordinate of the first control point.\n   * @param cp1y - The y-coordinate of the first control point.\n   * @param cp2x - The x-coordinate of the second control point.\n   * @param cp2y - The y-coordinate of the second control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y, smoothness) {\n    this._ensurePoly();\n    const currentPoly = this._currentPoly;\n    buildAdaptiveBezier(\n      this._currentPoly.points,\n      currentPoly.lastX,\n      currentPoly.lastY,\n      cp1x,\n      cp1y,\n      cp2x,\n      cp2y,\n      x,\n      y,\n      smoothness\n    );\n    return this;\n  }\n  /**\n   * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n   * The starting point is the last point in the current path.\n   * @param cp1x - The x-coordinate of the control point.\n   * @param cp1y - The y-coordinate of the control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothing - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  quadraticCurveTo(cp1x, cp1y, x, y, smoothing) {\n    this._ensurePoly();\n    const currentPoly = this._currentPoly;\n    buildAdaptiveQuadratic(\n      this._currentPoly.points,\n      currentPoly.lastX,\n      currentPoly.lastY,\n      cp1x,\n      cp1y,\n      x,\n      y,\n      smoothing\n    );\n    return this;\n  }\n  /**\n   * Closes the current path by drawing a straight line back to the start.\n   * If the shape is already closed or there are no points in the path, this method does nothing.\n   * @returns The instance of the current object for chaining.\n   */\n  closePath() {\n    this.endPoly(true);\n    return this;\n  }\n  /**\n   * Adds another path to the current path. This method allows for the combination of multiple paths into one.\n   * @param path - The `GraphicsPath` object representing the path to add.\n   * @param transform - An optional `Matrix` object to apply a transformation to the path before adding it.\n   * @returns The instance of the current object for chaining.\n   */\n  addPath(path, transform) {\n    this.endPoly();\n    if (transform && !transform.isIdentity()) {\n      path = path.clone(true);\n      path.transform(transform);\n    }\n    const shapePrimitives = this.shapePrimitives;\n    const start = shapePrimitives.length;\n    for (let i = 0; i < path.instructions.length; i++) {\n      const instruction = path.instructions[i];\n      this[instruction.action](...instruction.data);\n    }\n    if (path.checkForHoles && shapePrimitives.length - start > 1) {\n      let mainShape = null;\n      for (let i = start; i < shapePrimitives.length; i++) {\n        const shapePrimitive = shapePrimitives[i];\n        if (shapePrimitive.shape.type === \"polygon\") {\n          const polygon = shapePrimitive.shape;\n          const mainPolygon = mainShape?.shape;\n          if (mainPolygon && mainPolygon.containsPolygon(polygon)) {\n            mainShape.holes || (mainShape.holes = []);\n            mainShape.holes.push(shapePrimitive);\n            shapePrimitives.copyWithin(i, i + 1);\n            shapePrimitives.length--;\n            i--;\n          } else {\n            mainShape = shapePrimitive;\n          }\n        }\n      }\n    }\n    return this;\n  }\n  /**\n   * Finalizes the drawing of the current path. Optionally, it can close the path.\n   * @param closePath - A boolean indicating whether to close the path after finishing. False by default.\n   */\n  finish(closePath = false) {\n    this.endPoly(closePath);\n  }\n  /**\n   * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n   * @param x - The x-coordinate of the top-left corner of the rectangle.\n   * @param y - The y-coordinate of the top-left corner of the rectangle.\n   * @param w - The width of the rectangle.\n   * @param h - The height of the rectangle.\n   * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n   * @returns The instance of the current object for chaining.\n   */\n  rect(x, y, w, h, transform) {\n    this.drawShape(new Rectangle(x, y, w, h), transform);\n    return this;\n  }\n  /**\n   * Draws a circle shape. This method adds a new circle path to the current drawing.\n   * @param x - The x-coordinate of the center of the circle.\n   * @param y - The y-coordinate of the center of the circle.\n   * @param radius - The radius of the circle.\n   * @param transform - An optional `Matrix` object to apply a transformation to the circle.\n   * @returns The instance of the current object for chaining.\n   */\n  circle(x, y, radius, transform) {\n    this.drawShape(new Circle(x, y, radius), transform);\n    return this;\n  }\n  /**\n   * Draws a polygon shape. This method allows for the creation of complex polygons by specifying a sequence of points.\n   * @param points - An array of numbers, or or an array of PointData objects eg [{x,y}, {x,y}, {x,y}]\n   * representing the x and y coordinates of the polygon's vertices, in sequence.\n   * @param close - A boolean indicating whether to close the polygon path. True by default.\n   * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n   * @returns The instance of the current object for chaining.\n   */\n  poly(points, close, transform) {\n    const polygon = new Polygon(points);\n    polygon.closePath = close;\n    this.drawShape(polygon, transform);\n    return this;\n  }\n  /**\n   * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n   * @param x - The x-coordinate of the center of the polygon.\n   * @param y - The y-coordinate of the center of the polygon.\n   * @param radius - The radius of the circumscribed circle of the polygon.\n   * @param sides - The number of sides of the polygon. Must be 3 or more.\n   * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n   * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n   * @returns The instance of the current object for chaining.\n   */\n  regularPoly(x, y, radius, sides, rotation = 0, transform) {\n    sides = Math.max(sides | 0, 3);\n    const startAngle = -1 * Math.PI / 2 + rotation;\n    const delta = Math.PI * 2 / sides;\n    const polygon = [];\n    for (let i = 0; i < sides; i++) {\n      const angle = startAngle - i * delta;\n      polygon.push(\n        x + radius * Math.cos(angle),\n        y + radius * Math.sin(angle)\n      );\n    }\n    this.poly(polygon, true, transform);\n    return this;\n  }\n  /**\n   * Draws a polygon with rounded corners.\n   * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n   * @param x - The x-coordinate of the center of the polygon.\n   * @param y - The y-coordinate of the center of the polygon.\n   * @param radius - The radius of the circumscribed circle of the polygon.\n   * @param sides - The number of sides of the polygon. Must be 3 or more.\n   * @param corner - The radius of the rounding of the corners.\n   * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n   * @param smoothness - Optional parameter to adjust the smoothness of the rounding.\n   * @returns The instance of the current object for chaining.\n   */\n  roundPoly(x, y, radius, sides, corner, rotation = 0, smoothness) {\n    sides = Math.max(sides | 0, 3);\n    if (corner <= 0) {\n      return this.regularPoly(x, y, radius, sides, rotation);\n    }\n    const sideLength = radius * Math.sin(Math.PI / sides) - 1e-3;\n    corner = Math.min(corner, sideLength);\n    const startAngle = -1 * Math.PI / 2 + rotation;\n    const delta = Math.PI * 2 / sides;\n    const internalAngle = (sides - 2) * Math.PI / sides / 2;\n    for (let i = 0; i < sides; i++) {\n      const angle = i * delta + startAngle;\n      const x0 = x + radius * Math.cos(angle);\n      const y0 = y + radius * Math.sin(angle);\n      const a1 = angle + Math.PI + internalAngle;\n      const a2 = angle - Math.PI - internalAngle;\n      const x1 = x0 + corner * Math.cos(a1);\n      const y1 = y0 + corner * Math.sin(a1);\n      const x3 = x0 + corner * Math.cos(a2);\n      const y3 = y0 + corner * Math.sin(a2);\n      if (i === 0) {\n        this.moveTo(x1, y1);\n      } else {\n        this.lineTo(x1, y1);\n      }\n      this.quadraticCurveTo(x0, y0, x3, y3, smoothness);\n    }\n    return this.closePath();\n  }\n  /**\n   * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n   * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n   * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n   * A minimum of 3 points is required.\n   * @param radius - The default radius for the corners.\n   * This radius is applied to all corners unless overridden in `points`.\n   * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n   *  method instead of an arc method. Defaults to false.\n   * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n   * Higher values make the curve smoother.\n   * @returns The instance of the current object for chaining.\n   */\n  roundShape(points, radius, useQuadratic = false, smoothness) {\n    if (points.length < 3) {\n      return this;\n    }\n    if (useQuadratic) {\n      roundedShapeQuadraticCurve(this, points, radius, smoothness);\n    } else {\n      roundedShapeArc(this, points, radius);\n    }\n    return this.closePath();\n  }\n  /**\n   * Draw Rectangle with fillet corners. This is much like rounded rectangle\n   * however it support negative numbers as well for the corner radius.\n   * @param x - Upper left corner of rect\n   * @param y - Upper right corner of rect\n   * @param width - Width of rect\n   * @param height - Height of rect\n   * @param fillet - accept negative or positive values\n   */\n  filletRect(x, y, width, height, fillet) {\n    if (fillet === 0) {\n      return this.rect(x, y, width, height);\n    }\n    const maxFillet = Math.min(width, height) / 2;\n    const inset = Math.min(maxFillet, Math.max(-maxFillet, fillet));\n    const right = x + width;\n    const bottom = y + height;\n    const dir = inset < 0 ? -inset : 0;\n    const size = Math.abs(inset);\n    return this.moveTo(x, y + size).arcTo(x + dir, y + dir, x + size, y, size).lineTo(right - size, y).arcTo(right - dir, y + dir, right, y + size, size).lineTo(right, bottom - size).arcTo(right - dir, bottom - dir, x + width - size, bottom, size).lineTo(x + size, bottom).arcTo(x + dir, bottom - dir, x, bottom - size, size).closePath();\n  }\n  /**\n   * Draw Rectangle with chamfer corners. These are angled corners.\n   * @param x - Upper left corner of rect\n   * @param y - Upper right corner of rect\n   * @param width - Width of rect\n   * @param height - Height of rect\n   * @param chamfer - non-zero real number, size of corner cutout\n   * @param transform\n   */\n  chamferRect(x, y, width, height, chamfer, transform) {\n    if (chamfer <= 0) {\n      return this.rect(x, y, width, height);\n    }\n    const inset = Math.min(chamfer, Math.min(width, height) / 2);\n    const right = x + width;\n    const bottom = y + height;\n    const points = [\n      x + inset,\n      y,\n      right - inset,\n      y,\n      right,\n      y + inset,\n      right,\n      bottom - inset,\n      right - inset,\n      bottom,\n      x + inset,\n      bottom,\n      x,\n      bottom - inset,\n      x,\n      y + inset\n    ];\n    for (let i = points.length - 1; i >= 2; i -= 2) {\n      if (points[i] === points[i - 2] && points[i - 1] === points[i - 3]) {\n        points.splice(i - 1, 2);\n      }\n    }\n    return this.poly(points, true, transform);\n  }\n  /**\n   * Draws an ellipse at the specified location and with the given x and y radii.\n   * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n   * @param x - The x-coordinate of the center of the ellipse.\n   * @param y - The y-coordinate of the center of the ellipse.\n   * @param radiusX - The horizontal radius of the ellipse.\n   * @param radiusY - The vertical radius of the ellipse.\n   * @param transform - An optional `Matrix` object to apply a transformation to the ellipse. This can include rotations.\n   * @returns The instance of the current object for chaining.\n   */\n  ellipse(x, y, radiusX, radiusY, transform) {\n    this.drawShape(new Ellipse(x, y, radiusX, radiusY), transform);\n    return this;\n  }\n  /**\n   * Draws a rectangle with rounded corners.\n   * The corner radius can be specified to determine how rounded the corners should be.\n   * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n   * @param x - The x-coordinate of the top-left corner of the rectangle.\n   * @param y - The y-coordinate of the top-left corner of the rectangle.\n   * @param w - The width of the rectangle.\n   * @param h - The height of the rectangle.\n   * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n   * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n   * @returns The instance of the current object for chaining.\n   */\n  roundRect(x, y, w, h, radius, transform) {\n    this.drawShape(new RoundedRectangle(x, y, w, h, radius), transform);\n    return this;\n  }\n  /**\n   * Draws a given shape on the canvas.\n   * This is a generic method that can draw any type of shape specified by the `ShapePrimitive` parameter.\n   * An optional transformation matrix can be applied to the shape, allowing for complex transformations.\n   * @param shape - The shape to draw, defined as a `ShapePrimitive` object.\n   * @param matrix - An optional `Matrix` for transforming the shape. This can include rotations,\n   * scaling, and translations.\n   * @returns The instance of the current object for chaining.\n   */\n  drawShape(shape, matrix) {\n    this.endPoly();\n    this.shapePrimitives.push({ shape, transform: matrix });\n    return this;\n  }\n  /**\n   * Starts a new polygon path from the specified starting point.\n   * This method initializes a new polygon or ends the current one if it exists.\n   * @param x - The x-coordinate of the starting point of the new polygon.\n   * @param y - The y-coordinate of the starting point of the new polygon.\n   * @returns The instance of the current object for chaining.\n   */\n  startPoly(x, y) {\n    let currentPoly = this._currentPoly;\n    if (currentPoly) {\n      this.endPoly();\n    }\n    currentPoly = new Polygon();\n    currentPoly.points.push(x, y);\n    this._currentPoly = currentPoly;\n    return this;\n  }\n  /**\n   * Ends the current polygon path. If `closePath` is set to true,\n   * the path is closed by connecting the last point to the first one.\n   * This method finalizes the current polygon and prepares it for drawing or adding to the shape primitives.\n   * @param closePath - A boolean indicating whether to close the polygon by connecting the last point\n   *  back to the starting point. False by default.\n   * @returns The instance of the current object for chaining.\n   */\n  endPoly(closePath = false) {\n    const shape = this._currentPoly;\n    if (shape && shape.points.length > 2) {\n      shape.closePath = closePath;\n      this.shapePrimitives.push({ shape });\n    }\n    this._currentPoly = null;\n    return this;\n  }\n  _ensurePoly(start = true) {\n    if (this._currentPoly)\n      return;\n    this._currentPoly = new Polygon();\n    if (start) {\n      const lastShape = this.shapePrimitives[this.shapePrimitives.length - 1];\n      if (lastShape) {\n        let lx = lastShape.shape.x;\n        let ly = lastShape.shape.y;\n        if (lastShape.transform && !lastShape.transform.isIdentity()) {\n          const t = lastShape.transform;\n          const tempX = lx;\n          lx = t.a * lx + t.c * ly + t.tx;\n          ly = t.b * tempX + t.d * ly + t.ty;\n        }\n        this._currentPoly.points.push(lx, ly);\n      } else {\n        this._currentPoly.points.push(0, 0);\n      }\n    }\n  }\n  /** Builds the path. */\n  buildPath() {\n    const path = this._graphicsPath2D;\n    this.shapePrimitives.length = 0;\n    this._currentPoly = null;\n    for (let i = 0; i < path.instructions.length; i++) {\n      const instruction = path.instructions[i];\n      this[instruction.action](...instruction.data);\n    }\n    this.finish();\n  }\n  /** Gets the bounds of the path. */\n  get bounds() {\n    const bounds = this._bounds;\n    bounds.clear();\n    const shapePrimitives = this.shapePrimitives;\n    for (let i = 0; i < shapePrimitives.length; i++) {\n      const shapePrimitive = shapePrimitives[i];\n      const boundsRect = shapePrimitive.shape.getBounds(tempRectangle);\n      if (shapePrimitive.transform) {\n        bounds.addRect(boundsRect, shapePrimitive.transform);\n      } else {\n        bounds.addRect(boundsRect);\n      }\n    }\n    return bounds;\n  }\n}\n\nexport { ShapePath };\n//# sourceMappingURL=ShapePath.mjs.map\n","import { Point } from '../../../../maths/point/Point.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { parseSVGPath } from '../svg/parseSVGPath.mjs';\nimport { ShapePath } from './ShapePath.mjs';\n\n\"use strict\";\nclass GraphicsPath {\n  /**\n   * Creates a `GraphicsPath` instance optionally from an SVG path string or an array of `PathInstruction`.\n   * @param instructions - An SVG path string or an array of `PathInstruction` objects.\n   * @param signed\n   */\n  constructor(instructions, signed = false) {\n    this.instructions = [];\n    /** unique id for this graphics path */\n    this.uid = uid(\"graphicsPath\");\n    this._dirty = true;\n    this.checkForHoles = signed;\n    if (typeof instructions === \"string\") {\n      parseSVGPath(instructions, this);\n    } else {\n      this.instructions = instructions?.slice() ?? [];\n    }\n  }\n  /**\n   * Provides access to the internal shape path, ensuring it is up-to-date with the current instructions.\n   * @returns The `ShapePath` instance associated with this `GraphicsPath`.\n   */\n  get shapePath() {\n    if (!this._shapePath) {\n      this._shapePath = new ShapePath(this);\n    }\n    if (this._dirty) {\n      this._dirty = false;\n      this._shapePath.buildPath();\n    }\n    return this._shapePath;\n  }\n  /**\n   * Adds another `GraphicsPath` to this path, optionally applying a transformation.\n   * @param path - The `GraphicsPath` to add.\n   * @param transform - An optional transformation to apply to the added path.\n   * @returns The instance of the current object for chaining.\n   */\n  addPath(path, transform) {\n    path = path.clone();\n    this.instructions.push({ action: \"addPath\", data: [path, transform] });\n    this._dirty = true;\n    return this;\n  }\n  arc(...args) {\n    this.instructions.push({ action: \"arc\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  arcTo(...args) {\n    this.instructions.push({ action: \"arcTo\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  arcToSvg(...args) {\n    this.instructions.push({ action: \"arcToSvg\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  bezierCurveTo(...args) {\n    this.instructions.push({ action: \"bezierCurveTo\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Adds a cubic Bezier curve to the path.\n   * It requires two points: the second control point and the end point. The first control point is assumed to be\n   * The starting point is the last point in the current path.\n   * @param cp2x - The x-coordinate of the second control point.\n   * @param cp2y - The y-coordinate of the second control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  bezierCurveToShort(cp2x, cp2y, x, y, smoothness) {\n    const last = this.instructions[this.instructions.length - 1];\n    const lastPoint = this.getLastPoint(Point.shared);\n    let cp1x = 0;\n    let cp1y = 0;\n    if (!last || last.action !== \"bezierCurveTo\") {\n      cp1x = lastPoint.x;\n      cp1y = lastPoint.y;\n    } else {\n      cp1x = last.data[2];\n      cp1y = last.data[3];\n      const currentX = lastPoint.x;\n      const currentY = lastPoint.y;\n      cp1x = currentX + (currentX - cp1x);\n      cp1y = currentY + (currentY - cp1y);\n    }\n    this.instructions.push({ action: \"bezierCurveTo\", data: [cp1x, cp1y, cp2x, cp2y, x, y, smoothness] });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Closes the current path by drawing a straight line back to the start.\n   * If the shape is already closed or there are no points in the path, this method does nothing.\n   * @returns The instance of the current object for chaining.\n   */\n  closePath() {\n    this.instructions.push({ action: \"closePath\", data: [] });\n    this._dirty = true;\n    return this;\n  }\n  ellipse(...args) {\n    this.instructions.push({ action: \"ellipse\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  lineTo(...args) {\n    this.instructions.push({ action: \"lineTo\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  moveTo(...args) {\n    this.instructions.push({ action: \"moveTo\", data: args });\n    return this;\n  }\n  quadraticCurveTo(...args) {\n    this.instructions.push({ action: \"quadraticCurveTo\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Adds a quadratic curve to the path. It uses the previous point as the control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  quadraticCurveToShort(x, y, smoothness) {\n    const last = this.instructions[this.instructions.length - 1];\n    const lastPoint = this.getLastPoint(Point.shared);\n    let cpx1 = 0;\n    let cpy1 = 0;\n    if (!last || last.action !== \"quadraticCurveTo\") {\n      cpx1 = lastPoint.x;\n      cpy1 = lastPoint.y;\n    } else {\n      cpx1 = last.data[0];\n      cpy1 = last.data[1];\n      const currentX = lastPoint.x;\n      const currentY = lastPoint.y;\n      cpx1 = currentX + (currentX - cpx1);\n      cpy1 = currentY + (currentY - cpy1);\n    }\n    this.instructions.push({ action: \"quadraticCurveTo\", data: [cpx1, cpy1, x, y, smoothness] });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n   * @param x - The x-coordinate of the top-left corner of the rectangle.\n   * @param y - The y-coordinate of the top-left corner of the rectangle.\n   * @param w - The width of the rectangle.\n   * @param h - The height of the rectangle.\n   * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n   * @returns The instance of the current object for chaining.\n   */\n  rect(x, y, w, h, transform) {\n    this.instructions.push({ action: \"rect\", data: [x, y, w, h, transform] });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Draws a circle shape. This method adds a new circle path to the current drawing.\n   * @param x - The x-coordinate of the center of the circle.\n   * @param y - The y-coordinate of the center of the circle.\n   * @param radius - The radius of the circle.\n   * @param transform - An optional `Matrix` object to apply a transformation to the circle.\n   * @returns The instance of the current object for chaining.\n   */\n  circle(x, y, radius, transform) {\n    this.instructions.push({ action: \"circle\", data: [x, y, radius, transform] });\n    this._dirty = true;\n    return this;\n  }\n  roundRect(...args) {\n    this.instructions.push({ action: \"roundRect\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  poly(...args) {\n    this.instructions.push({ action: \"poly\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  regularPoly(...args) {\n    this.instructions.push({ action: \"regularPoly\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  roundPoly(...args) {\n    this.instructions.push({ action: \"roundPoly\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  roundShape(...args) {\n    this.instructions.push({ action: \"roundShape\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  filletRect(...args) {\n    this.instructions.push({ action: \"filletRect\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  chamferRect(...args) {\n    this.instructions.push({ action: \"chamferRect\", data: args });\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Draws a star shape centered at a specified location. This method allows for the creation\n   *  of stars with a variable number of points, outer radius, optional inner radius, and rotation.\n   * The star is drawn as a closed polygon with alternating outer and inner vertices to create the star's points.\n   * An optional transformation can be applied to scale, rotate, or translate the star as needed.\n   * @param x - The x-coordinate of the center of the star.\n   * @param y - The y-coordinate of the center of the star.\n   * @param points - The number of points of the star.\n   * @param radius - The outer radius of the star (distance from the center to the outer points).\n   * @param innerRadius - Optional. The inner radius of the star\n   * (distance from the center to the inner points between the outer points).\n   * If not provided, defaults to half of the `radius`.\n   * @param rotation - Optional. The rotation of the star in radians, where 0 is aligned with the y-axis.\n   * Defaults to 0, meaning one point is directly upward.\n   * @param transform - An optional `Matrix` object to apply a transformation to the star.\n   * This can include rotations, scaling, and translations.\n   * @returns The instance of the current object for chaining further drawing commands.\n   */\n  // eslint-disable-next-line max-len\n  star(x, y, points, radius, innerRadius, rotation, transform) {\n    innerRadius || (innerRadius = radius / 2);\n    const startAngle = -1 * Math.PI / 2 + rotation;\n    const len = points * 2;\n    const delta = Math.PI * 2 / len;\n    const polygon = [];\n    for (let i = 0; i < len; i++) {\n      const r = i % 2 ? innerRadius : radius;\n      const angle = i * delta + startAngle;\n      polygon.push(\n        x + r * Math.cos(angle),\n        y + r * Math.sin(angle)\n      );\n    }\n    this.poly(polygon, true, transform);\n    return this;\n  }\n  /**\n   * Creates a copy of the current `GraphicsPath` instance. This method supports both shallow and deep cloning.\n   * A shallow clone copies the reference of the instructions array, while a deep clone creates a new array and\n   * copies each instruction individually, ensuring that modifications to the instructions of the cloned `GraphicsPath`\n   * do not affect the original `GraphicsPath` and vice versa.\n   * @param deep - A boolean flag indicating whether the clone should be deep.\n   * @returns A new `GraphicsPath` instance that is a clone of the current instance.\n   */\n  clone(deep = false) {\n    const newGraphicsPath2D = new GraphicsPath();\n    newGraphicsPath2D.checkForHoles = this.checkForHoles;\n    if (!deep) {\n      newGraphicsPath2D.instructions = this.instructions.slice();\n    } else {\n      for (let i = 0; i < this.instructions.length; i++) {\n        const instruction = this.instructions[i];\n        newGraphicsPath2D.instructions.push({ action: instruction.action, data: instruction.data.slice() });\n      }\n    }\n    return newGraphicsPath2D;\n  }\n  clear() {\n    this.instructions.length = 0;\n    this._dirty = true;\n    return this;\n  }\n  /**\n   * Applies a transformation matrix to all drawing instructions within the `GraphicsPath`.\n   * This method enables the modification of the path's geometry according to the provided\n   * transformation matrix, which can include translations, rotations, scaling, and skewing.\n   *\n   * Each drawing instruction in the path is updated to reflect the transformation,\n   * ensuring the visual representation of the path is consistent with the applied matrix.\n   *\n   * Note: The transformation is applied directly to the coordinates and control points of the drawing instructions,\n   * not to the path as a whole. This means the transformation's effects are baked into the individual instructions,\n   * allowing for fine-grained control over the path's appearance.\n   * @param matrix - A `Matrix` object representing the transformation to apply.\n   * @returns The instance of the current object for chaining further operations.\n   */\n  transform(matrix) {\n    if (matrix.isIdentity())\n      return this;\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n    let x = 0;\n    let y = 0;\n    let cpx1 = 0;\n    let cpy1 = 0;\n    let cpx2 = 0;\n    let cpy2 = 0;\n    let rx = 0;\n    let ry = 0;\n    for (let i = 0; i < this.instructions.length; i++) {\n      const instruction = this.instructions[i];\n      const data = instruction.data;\n      switch (instruction.action) {\n        case \"moveTo\":\n        case \"lineTo\":\n          x = data[0];\n          y = data[1];\n          data[0] = a * x + c * y + tx;\n          data[1] = b * x + d * y + ty;\n          break;\n        case \"bezierCurveTo\":\n          cpx1 = data[0];\n          cpy1 = data[1];\n          cpx2 = data[2];\n          cpy2 = data[3];\n          x = data[4];\n          y = data[5];\n          data[0] = a * cpx1 + c * cpy1 + tx;\n          data[1] = b * cpx1 + d * cpy1 + ty;\n          data[2] = a * cpx2 + c * cpy2 + tx;\n          data[3] = b * cpx2 + d * cpy2 + ty;\n          data[4] = a * x + c * y + tx;\n          data[5] = b * x + d * y + ty;\n          break;\n        case \"quadraticCurveTo\":\n          cpx1 = data[0];\n          cpy1 = data[1];\n          x = data[2];\n          y = data[3];\n          data[0] = a * cpx1 + c * cpy1 + tx;\n          data[1] = b * cpx1 + d * cpy1 + ty;\n          data[2] = a * x + c * y + tx;\n          data[3] = b * x + d * y + ty;\n          break;\n        case \"arcToSvg\":\n          x = data[5];\n          y = data[6];\n          rx = data[0];\n          ry = data[1];\n          data[0] = a * rx + c * ry;\n          data[1] = b * rx + d * ry;\n          data[5] = a * x + c * y + tx;\n          data[6] = b * x + d * y + ty;\n          break;\n        case \"circle\":\n          data[4] = adjustTransform(data[3], matrix);\n          break;\n        case \"rect\":\n          data[4] = adjustTransform(data[4], matrix);\n          break;\n        case \"ellipse\":\n          data[8] = adjustTransform(data[8], matrix);\n          break;\n        case \"roundRect\":\n          data[5] = adjustTransform(data[5], matrix);\n          break;\n        case \"addPath\":\n          data[0].transform(matrix);\n          break;\n        case \"poly\":\n          data[2] = adjustTransform(data[2], matrix);\n          break;\n        default:\n          warn(\"unknown transform action\", instruction.action);\n          break;\n      }\n    }\n    this._dirty = true;\n    return this;\n  }\n  get bounds() {\n    return this.shapePath.bounds;\n  }\n  /**\n   * Retrieves the last point from the current drawing instructions in the `GraphicsPath`.\n   * This method is useful for operations that depend on the path's current endpoint,\n   * such as connecting subsequent shapes or paths. It supports various drawing instructions,\n   * ensuring the last point's position is accurately determined regardless of the path's complexity.\n   *\n   * If the last instruction is a `closePath`, the method iterates backward through the instructions\n   *  until it finds an actionable instruction that defines a point (e.g., `moveTo`, `lineTo`,\n   * `quadraticCurveTo`, etc.). For compound paths added via `addPath`, it recursively retrieves\n   * the last point from the nested path.\n   * @param out - A `Point` object where the last point's coordinates will be stored.\n   * This object is modified directly to contain the result.\n   * @returns The `Point` object containing the last point's coordinates.\n   */\n  getLastPoint(out) {\n    let index = this.instructions.length - 1;\n    let lastInstruction = this.instructions[index];\n    if (!lastInstruction) {\n      out.x = 0;\n      out.y = 0;\n      return out;\n    }\n    while (lastInstruction.action === \"closePath\") {\n      index--;\n      if (index < 0) {\n        out.x = 0;\n        out.y = 0;\n        return out;\n      }\n      lastInstruction = this.instructions[index];\n    }\n    switch (lastInstruction.action) {\n      case \"moveTo\":\n      case \"lineTo\":\n        out.x = lastInstruction.data[0];\n        out.y = lastInstruction.data[1];\n        break;\n      case \"quadraticCurveTo\":\n        out.x = lastInstruction.data[2];\n        out.y = lastInstruction.data[3];\n        break;\n      case \"bezierCurveTo\":\n        out.x = lastInstruction.data[4];\n        out.y = lastInstruction.data[5];\n        break;\n      case \"arc\":\n      case \"arcToSvg\":\n        out.x = lastInstruction.data[5];\n        out.y = lastInstruction.data[6];\n        break;\n      case \"addPath\":\n        lastInstruction.data[0].getLastPoint(out);\n        break;\n    }\n    return out;\n  }\n}\nfunction adjustTransform(currentMatrix, transform) {\n  if (currentMatrix) {\n    return currentMatrix.prepend(transform);\n  }\n  return transform.clone();\n}\n\nexport { GraphicsPath };\n//# sourceMappingURL=GraphicsPath.mjs.map\n","\"use strict\";\nfunction parseSVGFloatAttribute(svg, id, defaultValue) {\n  const value = svg.getAttribute(id);\n  return value ? Number(value) : defaultValue;\n}\n\nexport { parseSVGFloatAttribute };\n//# sourceMappingURL=parseSVGFloatAttribute.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { FillGradient } from '../fill/FillGradient.mjs';\nimport { parseSVGFloatAttribute } from './parseSVGFloatAttribute.mjs';\n\n\"use strict\";\nfunction parseSVGDefinitions(svg, session) {\n  const definitions = svg.querySelectorAll(\"defs\");\n  for (let i = 0; i < definitions.length; i++) {\n    const definition = definitions[i];\n    for (let j = 0; j < definition.children.length; j++) {\n      const child = definition.children[j];\n      switch (child.nodeName.toLowerCase()) {\n        case \"lineargradient\":\n          session.defs[child.id] = parseLinearGradient(child);\n          break;\n        case \"radialgradient\":\n          session.defs[child.id] = parseRadialGradient(child);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n}\nfunction parseLinearGradient(child) {\n  const x0 = parseSVGFloatAttribute(child, \"x1\", 0);\n  const y0 = parseSVGFloatAttribute(child, \"y1\", 0);\n  const x1 = parseSVGFloatAttribute(child, \"x2\", 1);\n  const y1 = parseSVGFloatAttribute(child, \"y2\", 0);\n  const gradientUnit = child.getAttribute(\"gradientUnits\") || \"objectBoundingBox\";\n  const gradient = new FillGradient(\n    x0,\n    y0,\n    x1,\n    y1,\n    gradientUnit === \"objectBoundingBox\" ? \"local\" : \"global\"\n  );\n  for (let k = 0; k < child.children.length; k++) {\n    const stop = child.children[k];\n    const offset = parseSVGFloatAttribute(stop, \"offset\", 0);\n    const color = Color.shared.setValue(stop.getAttribute(\"stop-color\")).toNumber();\n    gradient.addColorStop(offset, color);\n  }\n  return gradient;\n}\nfunction parseRadialGradient(_child) {\n  warn(\"[SVG Parser] Radial gradients are not yet supported\");\n  return new FillGradient(0, 0, 1, 0);\n}\n\nexport { parseSVGDefinitions };\n//# sourceMappingURL=parseSVGDefinitions.mjs.map\n","\"use strict\";\nfunction extractSvgUrlId(url) {\n  const match = url.match(/url\\s*\\(\\s*['\"]?\\s*#([^'\"\\s)]+)\\s*['\"]?\\s*\\)/i);\n  return match ? match[1] : \"\";\n}\n\nexport { extractSvgUrlId };\n//# sourceMappingURL=extractSvgUrlId.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { extractSvgUrlId } from './utils/extractSvgUrlId.mjs';\n\n\"use strict\";\nconst styleAttributes = {\n  // Fill properties\n  fill: { type: \"paint\", default: 0 },\n  // Fill color/gradient\n  \"fill-opacity\": { type: \"number\", default: 1 },\n  // Fill transparency\n  // Stroke properties\n  stroke: { type: \"paint\", default: 0 },\n  // Stroke color/gradient\n  \"stroke-width\": { type: \"number\", default: 1 },\n  // Width of stroke\n  \"stroke-opacity\": { type: \"number\", default: 1 },\n  // Stroke transparency\n  \"stroke-linecap\": { type: \"string\", default: \"butt\" },\n  // End cap style: butt, round, square\n  \"stroke-linejoin\": { type: \"string\", default: \"miter\" },\n  // Join style: miter, round, bevel\n  \"stroke-miterlimit\": { type: \"number\", default: 10 },\n  // Limit on miter join sharpness\n  \"stroke-dasharray\": { type: \"string\", default: \"none\" },\n  // Dash pattern\n  \"stroke-dashoffset\": { type: \"number\", default: 0 },\n  // Offset for dash pattern\n  // Global properties\n  opacity: { type: \"number\", default: 1 }\n  // Overall opacity\n};\nfunction parseSVGStyle(svg, session) {\n  const style = svg.getAttribute(\"style\");\n  const strokeStyle = {};\n  const fillStyle = {};\n  const result = {\n    strokeStyle,\n    fillStyle,\n    useFill: false,\n    useStroke: false\n  };\n  for (const key in styleAttributes) {\n    const attribute = svg.getAttribute(key);\n    if (attribute) {\n      parseAttribute(session, result, key, attribute.trim());\n    }\n  }\n  if (style) {\n    const styleParts = style.split(\";\");\n    for (let i = 0; i < styleParts.length; i++) {\n      const stylePart = styleParts[i].trim();\n      const [key, value] = stylePart.split(\":\");\n      if (styleAttributes[key]) {\n        parseAttribute(session, result, key, value.trim());\n      }\n    }\n  }\n  return {\n    strokeStyle: result.useStroke ? strokeStyle : null,\n    fillStyle: result.useFill ? fillStyle : null,\n    useFill: result.useFill,\n    useStroke: result.useStroke\n  };\n}\nfunction parseAttribute(session, result, id, value) {\n  switch (id) {\n    case \"stroke\":\n      if (value !== \"none\") {\n        if (value.startsWith(\"url(\")) {\n          const id2 = extractSvgUrlId(value);\n          result.strokeStyle.fill = session.defs[id2];\n        } else {\n          result.strokeStyle.color = Color.shared.setValue(value).toNumber();\n        }\n        result.useStroke = true;\n      }\n      break;\n    case \"stroke-width\":\n      result.strokeStyle.width = Number(value);\n      break;\n    case \"fill\":\n      if (value !== \"none\") {\n        if (value.startsWith(\"url(\")) {\n          const id2 = extractSvgUrlId(value);\n          result.fillStyle.fill = session.defs[id2];\n        } else {\n          result.fillStyle.color = Color.shared.setValue(value).toNumber();\n        }\n        result.useFill = true;\n      }\n      break;\n    case \"fill-opacity\":\n      result.fillStyle.alpha = Number(value);\n      break;\n    case \"stroke-opacity\":\n      result.strokeStyle.alpha = Number(value);\n      break;\n    case \"opacity\":\n      result.fillStyle.alpha = Number(value);\n      result.strokeStyle.alpha = Number(value);\n      break;\n  }\n}\n\nexport { parseSVGStyle, styleAttributes };\n//# sourceMappingURL=parseSVGStyle.mjs.map\n","\"use strict\";\nfunction checkForNestedPattern(subpathsWithArea) {\n  if (subpathsWithArea.length <= 2) {\n    return true;\n  }\n  const areas = subpathsWithArea.map((s) => s.area).sort((a, b) => b - a);\n  const [largestArea, secondArea] = areas;\n  const smallestArea = areas[areas.length - 1];\n  const largestToSecondRatio = largestArea / secondArea;\n  const secondToSmallestRatio = secondArea / smallestArea;\n  if (largestToSecondRatio > 3 && secondToSmallestRatio < 2) {\n    return false;\n  }\n  return true;\n}\nfunction getFillInstructionData(context, index = 0) {\n  const instruction = context.instructions[index];\n  if (!instruction || instruction.action !== \"fill\") {\n    throw new Error(`Expected fill instruction at index ${index}, got ${instruction?.action || \"undefined\"}`);\n  }\n  return instruction.data;\n}\n\nexport { checkForNestedPattern, getFillInstructionData };\n//# sourceMappingURL=fillOperations.mjs.map\n","import { GraphicsPath } from '../../path/GraphicsPath.mjs';\n\n\"use strict\";\nfunction extractSubpaths(pathData) {\n  const parts = pathData.split(/(?=[Mm])/);\n  const subpaths = parts.filter((part) => part.trim().length > 0);\n  return subpaths;\n}\nfunction calculatePathArea(pathData) {\n  const coords = pathData.match(/[-+]?[0-9]*\\.?[0-9]+/g);\n  if (!coords || coords.length < 4)\n    return 0;\n  const numbers = coords.map(Number);\n  const xs = [];\n  const ys = [];\n  for (let i = 0; i < numbers.length; i += 2) {\n    if (i + 1 < numbers.length) {\n      xs.push(numbers[i]);\n      ys.push(numbers[i + 1]);\n    }\n  }\n  if (xs.length === 0 || ys.length === 0)\n    return 0;\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const area = (maxX - minX) * (maxY - minY);\n  return area;\n}\nfunction appendSVGPath(pathData, graphicsPath) {\n  const tempPath = new GraphicsPath(pathData, false);\n  for (const instruction of tempPath.instructions) {\n    graphicsPath.instructions.push(instruction);\n  }\n}\n\nexport { appendSVGPath, calculatePathArea, extractSubpaths };\n//# sourceMappingURL=pathOperations.mjs.map\n","import { warn } from '../../../../utils/logging/warn.mjs';\nimport { GraphicsPath } from '../path/GraphicsPath.mjs';\nimport { parseSVGDefinitions } from './parseSVGDefinitions.mjs';\nimport { parseSVGFloatAttribute } from './parseSVGFloatAttribute.mjs';\nimport { parseSVGStyle } from './parseSVGStyle.mjs';\nimport { checkForNestedPattern } from './utils/fillOperations.mjs';\nimport { extractSubpaths, calculatePathArea, appendSVGPath } from './utils/pathOperations.mjs';\n\n\"use strict\";\nfunction SVGParser(svg, graphicsContext) {\n  if (typeof svg === \"string\") {\n    const div = document.createElement(\"div\");\n    div.innerHTML = svg.trim();\n    svg = div.querySelector(\"svg\");\n  }\n  const session = {\n    context: graphicsContext,\n    defs: {},\n    path: new GraphicsPath()\n  };\n  parseSVGDefinitions(svg, session);\n  const children = svg.children;\n  const { fillStyle, strokeStyle } = parseSVGStyle(svg, session);\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (child.nodeName.toLowerCase() === \"defs\")\n      continue;\n    renderChildren(child, session, fillStyle, strokeStyle);\n  }\n  return graphicsContext;\n}\nfunction renderChildren(svg, session, fillStyle, strokeStyle) {\n  const children = svg.children;\n  const { fillStyle: f1, strokeStyle: s1 } = parseSVGStyle(svg, session);\n  if (f1 && fillStyle) {\n    fillStyle = { ...fillStyle, ...f1 };\n  } else if (f1) {\n    fillStyle = f1;\n  }\n  if (s1 && strokeStyle) {\n    strokeStyle = { ...strokeStyle, ...s1 };\n  } else if (s1) {\n    strokeStyle = s1;\n  }\n  const noStyle = !fillStyle && !strokeStyle;\n  if (noStyle) {\n    fillStyle = { color: 0 };\n  }\n  let x;\n  let y;\n  let x1;\n  let y1;\n  let x2;\n  let y2;\n  let cx;\n  let cy;\n  let r;\n  let rx;\n  let ry;\n  let points;\n  let pointsString;\n  let d;\n  let graphicsPath;\n  let width;\n  let height;\n  switch (svg.nodeName.toLowerCase()) {\n    case \"path\": {\n      d = svg.getAttribute(\"d\");\n      const fillRule = svg.getAttribute(\"fill-rule\");\n      const subpaths = extractSubpaths(d);\n      const hasExplicitEvenodd = fillRule === \"evenodd\";\n      const hasMultipleSubpaths = subpaths.length > 1;\n      const shouldProcessHoles = hasExplicitEvenodd && hasMultipleSubpaths;\n      if (shouldProcessHoles) {\n        const subpathsWithArea = subpaths.map((subpath) => ({\n          path: subpath,\n          area: calculatePathArea(subpath)\n        }));\n        subpathsWithArea.sort((a, b) => b.area - a.area);\n        const useMultipleHolesApproach = subpaths.length > 3 || !checkForNestedPattern(subpathsWithArea);\n        if (useMultipleHolesApproach) {\n          for (let i = 0; i < subpathsWithArea.length; i++) {\n            const subpath = subpathsWithArea[i];\n            const isMainShape = i === 0;\n            session.context.beginPath();\n            const newPath = new GraphicsPath(void 0, true);\n            appendSVGPath(subpath.path, newPath);\n            session.context.path(newPath);\n            if (isMainShape) {\n              if (fillStyle)\n                session.context.fill(fillStyle);\n              if (strokeStyle)\n                session.context.stroke(strokeStyle);\n            } else {\n              session.context.cut();\n            }\n          }\n        } else {\n          for (let i = 0; i < subpathsWithArea.length; i++) {\n            const subpath = subpathsWithArea[i];\n            const isHole = i % 2 === 1;\n            session.context.beginPath();\n            const newPath = new GraphicsPath(void 0, true);\n            appendSVGPath(subpath.path, newPath);\n            session.context.path(newPath);\n            if (isHole) {\n              session.context.cut();\n            } else {\n              if (fillStyle)\n                session.context.fill(fillStyle);\n              if (strokeStyle)\n                session.context.stroke(strokeStyle);\n            }\n          }\n        }\n      } else {\n        const useEvenoddForGraphicsPath = fillRule ? fillRule === \"evenodd\" : true;\n        graphicsPath = new GraphicsPath(d, useEvenoddForGraphicsPath);\n        session.context.path(graphicsPath);\n        if (fillStyle)\n          session.context.fill(fillStyle);\n        if (strokeStyle)\n          session.context.stroke(strokeStyle);\n      }\n      break;\n    }\n    case \"circle\":\n      cx = parseSVGFloatAttribute(svg, \"cx\", 0);\n      cy = parseSVGFloatAttribute(svg, \"cy\", 0);\n      r = parseSVGFloatAttribute(svg, \"r\", 0);\n      session.context.ellipse(cx, cy, r, r);\n      if (fillStyle)\n        session.context.fill(fillStyle);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"rect\":\n      x = parseSVGFloatAttribute(svg, \"x\", 0);\n      y = parseSVGFloatAttribute(svg, \"y\", 0);\n      width = parseSVGFloatAttribute(svg, \"width\", 0);\n      height = parseSVGFloatAttribute(svg, \"height\", 0);\n      rx = parseSVGFloatAttribute(svg, \"rx\", 0);\n      ry = parseSVGFloatAttribute(svg, \"ry\", 0);\n      if (rx || ry) {\n        session.context.roundRect(x, y, width, height, rx || ry);\n      } else {\n        session.context.rect(x, y, width, height);\n      }\n      if (fillStyle)\n        session.context.fill(fillStyle);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"ellipse\":\n      cx = parseSVGFloatAttribute(svg, \"cx\", 0);\n      cy = parseSVGFloatAttribute(svg, \"cy\", 0);\n      rx = parseSVGFloatAttribute(svg, \"rx\", 0);\n      ry = parseSVGFloatAttribute(svg, \"ry\", 0);\n      session.context.beginPath();\n      session.context.ellipse(cx, cy, rx, ry);\n      if (fillStyle)\n        session.context.fill(fillStyle);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"line\":\n      x1 = parseSVGFloatAttribute(svg, \"x1\", 0);\n      y1 = parseSVGFloatAttribute(svg, \"y1\", 0);\n      x2 = parseSVGFloatAttribute(svg, \"x2\", 0);\n      y2 = parseSVGFloatAttribute(svg, \"y2\", 0);\n      session.context.beginPath();\n      session.context.moveTo(x1, y1);\n      session.context.lineTo(x2, y2);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"polygon\":\n      pointsString = svg.getAttribute(\"points\");\n      points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n      session.context.poly(points, true);\n      if (fillStyle)\n        session.context.fill(fillStyle);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"polyline\":\n      pointsString = svg.getAttribute(\"points\");\n      points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n      session.context.poly(points, false);\n      if (strokeStyle)\n        session.context.stroke(strokeStyle);\n      break;\n    case \"g\":\n    case \"svg\":\n      break;\n    default: {\n      warn(`[SVG parser] <${svg.nodeName}> elements unsupported`);\n      break;\n    }\n  }\n  if (noStyle) {\n    fillStyle = null;\n  }\n  for (let i = 0; i < children.length; i++) {\n    renderChildren(children[i], session, fillStyle, strokeStyle);\n  }\n}\n\nexport { SVGParser };\n//# sourceMappingURL=SVGParser.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { FillGradient } from '../fill/FillGradient.mjs';\nimport { FillPattern } from '../fill/FillPattern.mjs';\n\n\"use strict\";\nfunction isColorLike(value) {\n  return Color.isColorLike(value);\n}\nfunction isFillPattern(value) {\n  return value instanceof FillPattern;\n}\nfunction isFillGradient(value) {\n  return value instanceof FillGradient;\n}\nfunction isTexture(value) {\n  return value instanceof Texture;\n}\nfunction handleColorLike(fill, value, defaultStyle) {\n  const temp = Color.shared.setValue(value ?? 0);\n  fill.color = temp.toNumber();\n  fill.alpha = temp.alpha === 1 ? defaultStyle.alpha : temp.alpha;\n  fill.texture = Texture.WHITE;\n  return { ...defaultStyle, ...fill };\n}\nfunction handleTexture(fill, value, defaultStyle) {\n  fill.texture = value;\n  return { ...defaultStyle, ...fill };\n}\nfunction handleFillPattern(fill, value, defaultStyle) {\n  fill.fill = value;\n  fill.color = 16777215;\n  fill.texture = value.texture;\n  fill.matrix = value.transform;\n  return { ...defaultStyle, ...fill };\n}\nfunction handleFillGradient(fill, value, defaultStyle) {\n  value.buildGradient();\n  fill.fill = value;\n  fill.color = 16777215;\n  fill.texture = value.texture;\n  fill.matrix = value.transform;\n  fill.textureSpace = value.textureSpace;\n  return { ...defaultStyle, ...fill };\n}\nfunction handleFillObject(value, defaultStyle) {\n  const style = { ...defaultStyle, ...value };\n  const color = Color.shared.setValue(style.color);\n  style.alpha *= color.alpha;\n  style.color = color.toNumber();\n  return style;\n}\nfunction toFillStyle(value, defaultStyle) {\n  if (value === void 0 || value === null) {\n    return null;\n  }\n  const fill = {};\n  const objectStyle = value;\n  if (isColorLike(value)) {\n    return handleColorLike(fill, value, defaultStyle);\n  } else if (isTexture(value)) {\n    return handleTexture(fill, value, defaultStyle);\n  } else if (isFillPattern(value)) {\n    return handleFillPattern(fill, value, defaultStyle);\n  } else if (isFillGradient(value)) {\n    return handleFillGradient(fill, value, defaultStyle);\n  } else if (objectStyle.fill && isFillPattern(objectStyle.fill)) {\n    return handleFillPattern(objectStyle, objectStyle.fill, defaultStyle);\n  } else if (objectStyle.fill && isFillGradient(objectStyle.fill)) {\n    return handleFillGradient(objectStyle, objectStyle.fill, defaultStyle);\n  }\n  return handleFillObject(objectStyle, defaultStyle);\n}\nfunction toStrokeStyle(value, defaultStyle) {\n  const { width, alignment, miterLimit, cap, join, pixelLine, ...rest } = defaultStyle;\n  const fill = toFillStyle(value, rest);\n  if (!fill) {\n    return null;\n  }\n  return {\n    width,\n    alignment,\n    miterLimit,\n    cap,\n    join,\n    pixelLine,\n    ...fill\n  };\n}\n\nexport { toFillStyle, toStrokeStyle };\n//# sourceMappingURL=convertFillInputToFillStyle.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Color } from '../../../color/Color.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Point } from '../../../maths/point/Point.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { uid } from '../../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\nimport { Bounds } from '../../container/bounds/Bounds.mjs';\nimport { GraphicsPath } from './path/GraphicsPath.mjs';\nimport { SVGParser } from './svg/SVGParser.mjs';\nimport { toFillStyle, toStrokeStyle } from './utils/convertFillInputToFillStyle.mjs';\n\n\"use strict\";\nconst tmpPoint = new Point();\nconst tempMatrix = new Matrix();\nconst _GraphicsContext = class _GraphicsContext extends EventEmitter {\n  constructor() {\n    super(...arguments);\n    /**\n     * unique id for this graphics context\n     * @internal\n     */\n    this.uid = uid(\"graphicsContext\");\n    /**\n     * Indicates whether content is updated and have to be re-rendered.\n     * @internal\n     */\n    this.dirty = true;\n    /** The batch mode for this graphics context. It can be 'auto', 'batch', or 'no-batch'. */\n    this.batchMode = \"auto\";\n    /** @internal */\n    this.instructions = [];\n    this._activePath = new GraphicsPath();\n    this._transform = new Matrix();\n    this._fillStyle = { ..._GraphicsContext.defaultFillStyle };\n    this._strokeStyle = { ..._GraphicsContext.defaultStrokeStyle };\n    this._stateStack = [];\n    this._tick = 0;\n    this._bounds = new Bounds();\n    this._boundsDirty = true;\n  }\n  /**\n   * Creates a new GraphicsContext object that is a clone of this instance, copying all properties,\n   * including the current drawing state, transformations, styles, and instructions.\n   * @returns A new GraphicsContext instance with the same properties and state as this one.\n   */\n  clone() {\n    const clone = new _GraphicsContext();\n    clone.batchMode = this.batchMode;\n    clone.instructions = this.instructions.slice();\n    clone._activePath = this._activePath.clone();\n    clone._transform = this._transform.clone();\n    clone._fillStyle = { ...this._fillStyle };\n    clone._strokeStyle = { ...this._strokeStyle };\n    clone._stateStack = this._stateStack.slice();\n    clone._bounds = this._bounds.clone();\n    clone._boundsDirty = true;\n    return clone;\n  }\n  /**\n   * The current fill style of the graphics context. This can be a color, gradient, pattern, or a more complex style defined by a FillStyle object.\n   */\n  get fillStyle() {\n    return this._fillStyle;\n  }\n  set fillStyle(value) {\n    this._fillStyle = toFillStyle(value, _GraphicsContext.defaultFillStyle);\n  }\n  /**\n   * The current stroke style of the graphics context. Similar to fill styles, stroke styles can encompass colors, gradients, patterns, or more detailed configurations via a StrokeStyle object.\n   */\n  get strokeStyle() {\n    return this._strokeStyle;\n  }\n  set strokeStyle(value) {\n    this._strokeStyle = toStrokeStyle(value, _GraphicsContext.defaultStrokeStyle);\n  }\n  /**\n   * Sets the current fill style of the graphics context. The fill style can be a color, gradient,\n   * pattern, or a more complex style defined by a FillStyle object.\n   * @param style - The fill style to apply. This can be a simple color, a gradient or pattern object,\n   *                or a FillStyle or ConvertedFillStyle object.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  setFillStyle(style) {\n    this._fillStyle = toFillStyle(style, _GraphicsContext.defaultFillStyle);\n    return this;\n  }\n  /**\n   * Sets the current stroke style of the graphics context. Similar to fill styles, stroke styles can\n   * encompass colors, gradients, patterns, or more detailed configurations via a StrokeStyle object.\n   * @param style - The stroke style to apply. Can be defined as a color, a gradient or pattern,\n   *                or a StrokeStyle or ConvertedStrokeStyle object.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  setStrokeStyle(style) {\n    this._strokeStyle = toFillStyle(style, _GraphicsContext.defaultStrokeStyle);\n    return this;\n  }\n  texture(texture, tint, dx, dy, dw, dh) {\n    this.instructions.push({\n      action: \"texture\",\n      data: {\n        image: texture,\n        dx: dx || 0,\n        dy: dy || 0,\n        dw: dw || texture.frame.width,\n        dh: dh || texture.frame.height,\n        transform: this._transform.clone(),\n        alpha: this._fillStyle.alpha,\n        style: tint ? Color.shared.setValue(tint).toNumber() : 16777215\n      }\n    });\n    this.onUpdate();\n    return this;\n  }\n  /**\n   * Resets the current path. Any previous path and its commands are discarded and a new path is\n   * started. This is typically called before beginning a new shape or series of drawing commands.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  beginPath() {\n    this._activePath = new GraphicsPath();\n    return this;\n  }\n  fill(style, alpha) {\n    let path;\n    const lastInstruction = this.instructions[this.instructions.length - 1];\n    if (this._tick === 0 && lastInstruction && lastInstruction.action === \"stroke\") {\n      path = lastInstruction.data.path;\n    } else {\n      path = this._activePath.clone();\n    }\n    if (!path)\n      return this;\n    if (style != null) {\n      if (alpha !== void 0 && typeof style === \"number\") {\n        deprecation(v8_0_0, \"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead\");\n        style = { color: style, alpha };\n      }\n      this._fillStyle = toFillStyle(style, _GraphicsContext.defaultFillStyle);\n    }\n    this.instructions.push({\n      action: \"fill\",\n      // TODO copy fill style!\n      data: { style: this.fillStyle, path }\n    });\n    this.onUpdate();\n    this._initNextPathLocation();\n    this._tick = 0;\n    return this;\n  }\n  _initNextPathLocation() {\n    const { x, y } = this._activePath.getLastPoint(Point.shared);\n    this._activePath.clear();\n    this._activePath.moveTo(x, y);\n  }\n  /**\n   * Strokes the current path with the current stroke style. This method can take an optional\n   * FillInput parameter to define the stroke's appearance, including its color, width, and other properties.\n   * @param style - (Optional) The stroke style to apply. Can be defined as a simple color or a more complex style object. If omitted, uses the current stroke style.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  stroke(style) {\n    let path;\n    const lastInstruction = this.instructions[this.instructions.length - 1];\n    if (this._tick === 0 && lastInstruction && lastInstruction.action === \"fill\") {\n      path = lastInstruction.data.path;\n    } else {\n      path = this._activePath.clone();\n    }\n    if (!path)\n      return this;\n    if (style != null) {\n      this._strokeStyle = toStrokeStyle(style, _GraphicsContext.defaultStrokeStyle);\n    }\n    this.instructions.push({\n      action: \"stroke\",\n      // TODO copy fill style!\n      data: { style: this.strokeStyle, path }\n    });\n    this.onUpdate();\n    this._initNextPathLocation();\n    this._tick = 0;\n    return this;\n  }\n  /**\n   * Applies a cutout to the last drawn shape. This is used to create holes or complex shapes by\n   * subtracting a path from the previously drawn path. If a hole is not completely in a shape, it will\n   * fail to cut correctly!\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  cut() {\n    for (let i = 0; i < 2; i++) {\n      const lastInstruction = this.instructions[this.instructions.length - 1 - i];\n      const holePath = this._activePath.clone();\n      if (lastInstruction) {\n        if (lastInstruction.action === \"stroke\" || lastInstruction.action === \"fill\") {\n          if (lastInstruction.data.hole) {\n            lastInstruction.data.hole.addPath(holePath);\n          } else {\n            lastInstruction.data.hole = holePath;\n            break;\n          }\n        }\n      }\n    }\n    this._initNextPathLocation();\n    return this;\n  }\n  /**\n   * Adds an arc to the current path, which is centered at (x, y) with the specified radius,\n   * starting and ending angles, and direction.\n   * @param x - The x-coordinate of the arc's center.\n   * @param y - The y-coordinate of the arc's center.\n   * @param radius - The arc's radius.\n   * @param startAngle - The starting angle, in radians.\n   * @param endAngle - The ending angle, in radians.\n   * @param counterclockwise - (Optional) Specifies whether the arc is drawn counterclockwise (true) or clockwise (false). Defaults to false.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  arc(x, y, radius, startAngle, endAngle, counterclockwise) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.arc(\n      t.a * x + t.c * y + t.tx,\n      t.b * x + t.d * y + t.ty,\n      radius,\n      startAngle,\n      endAngle,\n      counterclockwise\n    );\n    return this;\n  }\n  /**\n   * Adds an arc to the current path with the given control points and radius, connected to the previous point\n   * by a straight line if necessary.\n   * @param x1 - The x-coordinate of the first control point.\n   * @param y1 - The y-coordinate of the first control point.\n   * @param x2 - The x-coordinate of the second control point.\n   * @param y2 - The y-coordinate of the second control point.\n   * @param radius - The arc's radius.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  arcTo(x1, y1, x2, y2, radius) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.arcTo(\n      t.a * x1 + t.c * y1 + t.tx,\n      t.b * x1 + t.d * y1 + t.ty,\n      t.a * x2 + t.c * y2 + t.tx,\n      t.b * x2 + t.d * y2 + t.ty,\n      radius\n    );\n    return this;\n  }\n  /**\n   * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n   * @param rx - The x-radius of the ellipse.\n   * @param ry - The y-radius of the ellipse.\n   * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n   * to the x-axis of the coordinate system, in degrees.\n   * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n   * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n   * @param x - The x-coordinate of the arc's end point.\n   * @param y - The y-coordinate of the arc's end point.\n   * @returns The instance of the current object for chaining.\n   */\n  arcToSvg(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.arcToSvg(\n      rx,\n      ry,\n      xAxisRotation,\n      // should we rotate this with transform??\n      largeArcFlag,\n      sweepFlag,\n      t.a * x + t.c * y + t.tx,\n      t.b * x + t.d * y + t.ty\n    );\n    return this;\n  }\n  /**\n   * Adds a cubic Bezier curve to the path.\n   * It requires three points: the first two are control points and the third one is the end point.\n   * The starting point is the last point in the current path.\n   * @param cp1x - The x-coordinate of the first control point.\n   * @param cp1y - The y-coordinate of the first control point.\n   * @param cp2x - The x-coordinate of the second control point.\n   * @param cp2y - The y-coordinate of the second control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y, smoothness) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.bezierCurveTo(\n      t.a * cp1x + t.c * cp1y + t.tx,\n      t.b * cp1x + t.d * cp1y + t.ty,\n      t.a * cp2x + t.c * cp2y + t.tx,\n      t.b * cp2x + t.d * cp2y + t.ty,\n      t.a * x + t.c * y + t.tx,\n      t.b * x + t.d * y + t.ty,\n      smoothness\n    );\n    return this;\n  }\n  /**\n   * Closes the current path by drawing a straight line back to the start.\n   * If the shape is already closed or there are no points in the path, this method does nothing.\n   * @returns The instance of the current object for chaining.\n   */\n  closePath() {\n    this._tick++;\n    this._activePath?.closePath();\n    return this;\n  }\n  /**\n   * Draws an ellipse at the specified location and with the given x and y radii.\n   * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n   * @param x - The x-coordinate of the center of the ellipse.\n   * @param y - The y-coordinate of the center of the ellipse.\n   * @param radiusX - The horizontal radius of the ellipse.\n   * @param radiusY - The vertical radius of the ellipse.\n   * @returns The instance of the current object for chaining.\n   */\n  ellipse(x, y, radiusX, radiusY) {\n    this._tick++;\n    this._activePath.ellipse(x, y, radiusX, radiusY, this._transform.clone());\n    return this;\n  }\n  /**\n   * Draws a circle shape. This method adds a new circle path to the current drawing.\n   * @param x - The x-coordinate of the center of the circle.\n   * @param y - The y-coordinate of the center of the circle.\n   * @param radius - The radius of the circle.\n   * @returns The instance of the current object for chaining.\n   */\n  circle(x, y, radius) {\n    this._tick++;\n    this._activePath.circle(x, y, radius, this._transform.clone());\n    return this;\n  }\n  /**\n   * Adds another `GraphicsPath` to this path, optionally applying a transformation.\n   * @param path - The `GraphicsPath` to add.\n   * @returns The instance of the current object for chaining.\n   */\n  path(path) {\n    this._tick++;\n    this._activePath.addPath(path, this._transform.clone());\n    return this;\n  }\n  /**\n   * Connects the current point to a new point with a straight line. This method updates the current path.\n   * @param x - The x-coordinate of the new point to connect to.\n   * @param y - The y-coordinate of the new point to connect to.\n   * @returns The instance of the current object for chaining.\n   */\n  lineTo(x, y) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.lineTo(\n      t.a * x + t.c * y + t.tx,\n      t.b * x + t.d * y + t.ty\n    );\n    return this;\n  }\n  /**\n   * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n   * @param x - The x-coordinate for the starting point.\n   * @param y - The y-coordinate for the starting point.\n   * @returns The instance of the current object for chaining.\n   */\n  moveTo(x, y) {\n    this._tick++;\n    const t = this._transform;\n    const instructions = this._activePath.instructions;\n    const transformedX = t.a * x + t.c * y + t.tx;\n    const transformedY = t.b * x + t.d * y + t.ty;\n    if (instructions.length === 1 && instructions[0].action === \"moveTo\") {\n      instructions[0].data[0] = transformedX;\n      instructions[0].data[1] = transformedY;\n      return this;\n    }\n    this._activePath.moveTo(\n      transformedX,\n      transformedY\n    );\n    return this;\n  }\n  /**\n   * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n   * The starting point is the last point in the current path.\n   * @param cpx - The x-coordinate of the control point.\n   * @param cpy - The y-coordinate of the control point.\n   * @param x - The x-coordinate of the end point.\n   * @param y - The y-coordinate of the end point.\n   * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n   * @returns The instance of the current object for chaining.\n   */\n  quadraticCurveTo(cpx, cpy, x, y, smoothness) {\n    this._tick++;\n    const t = this._transform;\n    this._activePath.quadraticCurveTo(\n      t.a * cpx + t.c * cpy + t.tx,\n      t.b * cpx + t.d * cpy + t.ty,\n      t.a * x + t.c * y + t.tx,\n      t.b * x + t.d * y + t.ty,\n      smoothness\n    );\n    return this;\n  }\n  /**\n   * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n   * @param x - The x-coordinate of the top-left corner of the rectangle.\n   * @param y - The y-coordinate of the top-left corner of the rectangle.\n   * @param w - The width of the rectangle.\n   * @param h - The height of the rectangle.\n   * @returns The instance of the current object for chaining.\n   */\n  rect(x, y, w, h) {\n    this._tick++;\n    this._activePath.rect(x, y, w, h, this._transform.clone());\n    return this;\n  }\n  /**\n   * Draws a rectangle with rounded corners.\n   * The corner radius can be specified to determine how rounded the corners should be.\n   * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n   * @param x - The x-coordinate of the top-left corner of the rectangle.\n   * @param y - The y-coordinate of the top-left corner of the rectangle.\n   * @param w - The width of the rectangle.\n   * @param h - The height of the rectangle.\n   * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n   * @returns The instance of the current object for chaining.\n   */\n  roundRect(x, y, w, h, radius) {\n    this._tick++;\n    this._activePath.roundRect(x, y, w, h, radius, this._transform.clone());\n    return this;\n  }\n  /**\n   * Draws a polygon shape by specifying a sequence of points. This method allows for the creation of complex polygons,\n   * which can be both open and closed. An optional transformation can be applied, enabling the polygon to be scaled,\n   * rotated, or translated as needed.\n   * @param points - An array of numbers, or an array of PointData objects eg [{x,y}, {x,y}, {x,y}]\n   * representing the x and y coordinates, of the polygon's vertices, in sequence.\n   * @param close - A boolean indicating whether to close the polygon path. True by default.\n   */\n  poly(points, close) {\n    this._tick++;\n    this._activePath.poly(points, close, this._transform.clone());\n    return this;\n  }\n  /**\n   * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n   * @param x - The x-coordinate of the center of the polygon.\n   * @param y - The y-coordinate of the center of the polygon.\n   * @param radius - The radius of the circumscribed circle of the polygon.\n   * @param sides - The number of sides of the polygon. Must be 3 or more.\n   * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n   * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n   * @returns The instance of the current object for chaining.\n   */\n  regularPoly(x, y, radius, sides, rotation = 0, transform) {\n    this._tick++;\n    this._activePath.regularPoly(x, y, radius, sides, rotation, transform);\n    return this;\n  }\n  /**\n   * Draws a polygon with rounded corners.\n   * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n   * @param x - The x-coordinate of the center of the polygon.\n   * @param y - The y-coordinate of the center of the polygon.\n   * @param radius - The radius of the circumscribed circle of the polygon.\n   * @param sides - The number of sides of the polygon. Must be 3 or more.\n   * @param corner - The radius of the rounding of the corners.\n   * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n   * @returns The instance of the current object for chaining.\n   */\n  roundPoly(x, y, radius, sides, corner, rotation) {\n    this._tick++;\n    this._activePath.roundPoly(x, y, radius, sides, corner, rotation);\n    return this;\n  }\n  /**\n   * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n   * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n   * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n   * A minimum of 3 points is required.\n   * @param radius - The default radius for the corners.\n   * This radius is applied to all corners unless overridden in `points`.\n   * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n   *  method instead of an arc method. Defaults to false.\n   * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n   * Higher values make the curve smoother.\n   * @returns The instance of the current object for chaining.\n   */\n  roundShape(points, radius, useQuadratic, smoothness) {\n    this._tick++;\n    this._activePath.roundShape(points, radius, useQuadratic, smoothness);\n    return this;\n  }\n  /**\n   * Draw Rectangle with fillet corners. This is much like rounded rectangle\n   * however it support negative numbers as well for the corner radius.\n   * @param x - Upper left corner of rect\n   * @param y - Upper right corner of rect\n   * @param width - Width of rect\n   * @param height - Height of rect\n   * @param fillet - accept negative or positive values\n   */\n  filletRect(x, y, width, height, fillet) {\n    this._tick++;\n    this._activePath.filletRect(x, y, width, height, fillet);\n    return this;\n  }\n  /**\n   * Draw Rectangle with chamfer corners. These are angled corners.\n   * @param x - Upper left corner of rect\n   * @param y - Upper right corner of rect\n   * @param width - Width of rect\n   * @param height - Height of rect\n   * @param chamfer - non-zero real number, size of corner cutout\n   * @param transform\n   */\n  chamferRect(x, y, width, height, chamfer, transform) {\n    this._tick++;\n    this._activePath.chamferRect(x, y, width, height, chamfer, transform);\n    return this;\n  }\n  /**\n   * Draws a star shape centered at a specified location. This method allows for the creation\n   *  of stars with a variable number of points, outer radius, optional inner radius, and rotation.\n   * The star is drawn as a closed polygon with alternating outer and inner vertices to create the star's points.\n   * An optional transformation can be applied to scale, rotate, or translate the star as needed.\n   * @param x - The x-coordinate of the center of the star.\n   * @param y - The y-coordinate of the center of the star.\n   * @param points - The number of points of the star.\n   * @param radius - The outer radius of the star (distance from the center to the outer points).\n   * @param innerRadius - Optional. The inner radius of the star\n   * (distance from the center to the inner points between the outer points).\n   * If not provided, defaults to half of the `radius`.\n   * @param rotation - Optional. The rotation of the star in radians, where 0 is aligned with the y-axis.\n   * Defaults to 0, meaning one point is directly upward.\n   * @returns The instance of the current object for chaining further drawing commands.\n   */\n  star(x, y, points, radius, innerRadius = 0, rotation = 0) {\n    this._tick++;\n    this._activePath.star(x, y, points, radius, innerRadius, rotation, this._transform.clone());\n    return this;\n  }\n  /**\n   * Parses and renders an SVG string into the graphics context. This allows for complex shapes and paths\n   * defined in SVG format to be drawn within the graphics context.\n   * @param svg - The SVG string to be parsed and rendered.\n   */\n  svg(svg) {\n    this._tick++;\n    SVGParser(svg, this);\n    return this;\n  }\n  /**\n   * Restores the most recently saved graphics state by popping the top of the graphics state stack.\n   * This includes transformations, fill styles, and stroke styles.\n   */\n  restore() {\n    const state = this._stateStack.pop();\n    if (state) {\n      this._transform = state.transform;\n      this._fillStyle = state.fillStyle;\n      this._strokeStyle = state.strokeStyle;\n    }\n    return this;\n  }\n  /** Saves the current graphics state, including transformations, fill styles, and stroke styles, onto a stack. */\n  save() {\n    this._stateStack.push({\n      transform: this._transform.clone(),\n      fillStyle: { ...this._fillStyle },\n      strokeStyle: { ...this._strokeStyle }\n    });\n    return this;\n  }\n  /**\n   * Returns the current transformation matrix of the graphics context.\n   * @returns The current transformation matrix.\n   */\n  getTransform() {\n    return this._transform;\n  }\n  /**\n   * Resets the current transformation matrix to the identity matrix, effectively removing any transformations (rotation, scaling, translation) previously applied.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  resetTransform() {\n    this._transform.identity();\n    return this;\n  }\n  /**\n   * Applies a rotation transformation to the graphics context around the current origin.\n   * @param angle - The angle of rotation in radians.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  rotate(angle) {\n    this._transform.rotate(angle);\n    return this;\n  }\n  /**\n   * Applies a scaling transformation to the graphics context, scaling drawings by x horizontally and by y vertically.\n   * @param x - The scale factor in the horizontal direction.\n   * @param y - (Optional) The scale factor in the vertical direction. If not specified, the x value is used for both directions.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  scale(x, y = x) {\n    this._transform.scale(x, y);\n    return this;\n  }\n  setTransform(a, b, c, d, dx, dy) {\n    if (a instanceof Matrix) {\n      this._transform.set(a.a, a.b, a.c, a.d, a.tx, a.ty);\n      return this;\n    }\n    this._transform.set(a, b, c, d, dx, dy);\n    return this;\n  }\n  transform(a, b, c, d, dx, dy) {\n    if (a instanceof Matrix) {\n      this._transform.append(a);\n      return this;\n    }\n    tempMatrix.set(a, b, c, d, dx, dy);\n    this._transform.append(tempMatrix);\n    return this;\n  }\n  /**\n   * Applies a translation transformation to the graphics context, moving the origin by the specified amounts.\n   * @param x - The amount to translate in the horizontal direction.\n   * @param y - (Optional) The amount to translate in the vertical direction. If not specified, the x value is used for both directions.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  translate(x, y = x) {\n    this._transform.translate(x, y);\n    return this;\n  }\n  /**\n   * Clears all drawing commands from the graphics context, effectively resetting it. This includes clearing the path,\n   * and optionally resetting transformations to the identity matrix.\n   * @returns The instance of the current GraphicsContext for method chaining.\n   */\n  clear() {\n    this._activePath.clear();\n    this.instructions.length = 0;\n    this.resetTransform();\n    this.onUpdate();\n    return this;\n  }\n  onUpdate() {\n    this._boundsDirty = true;\n    if (this.dirty)\n      return;\n    this.emit(\"update\", this, 16);\n    this.dirty = true;\n  }\n  /** The bounds of the graphic shape. */\n  get bounds() {\n    if (!this._boundsDirty)\n      return this._bounds;\n    this._boundsDirty = false;\n    const bounds = this._bounds;\n    bounds.clear();\n    for (let i = 0; i < this.instructions.length; i++) {\n      const instruction = this.instructions[i];\n      const action = instruction.action;\n      if (action === \"fill\") {\n        const data = instruction.data;\n        bounds.addBounds(data.path.bounds);\n      } else if (action === \"texture\") {\n        const data = instruction.data;\n        bounds.addFrame(data.dx, data.dy, data.dx + data.dw, data.dy + data.dh, data.transform);\n      }\n      if (action === \"stroke\") {\n        const data = instruction.data;\n        const alignment = data.style.alignment;\n        const outerPadding = data.style.width * (1 - alignment);\n        const _bounds = data.path.bounds;\n        bounds.addFrame(\n          _bounds.minX - outerPadding,\n          _bounds.minY - outerPadding,\n          _bounds.maxX + outerPadding,\n          _bounds.maxY + outerPadding\n        );\n      }\n    }\n    return bounds;\n  }\n  /**\n   * Check to see if a point is contained within this geometry.\n   * @param point - Point to check if it's contained.\n   * @returns {boolean} `true` if the point is contained within geometry.\n   */\n  containsPoint(point) {\n    if (!this.bounds.containsPoint(point.x, point.y))\n      return false;\n    const instructions = this.instructions;\n    let hasHit = false;\n    for (let k = 0; k < instructions.length; k++) {\n      const instruction = instructions[k];\n      const data = instruction.data;\n      const path = data.path;\n      if (!instruction.action || !path)\n        continue;\n      const style = data.style;\n      const shapes = path.shapePath.shapePrimitives;\n      for (let i = 0; i < shapes.length; i++) {\n        const shape = shapes[i].shape;\n        if (!style || !shape)\n          continue;\n        const transform = shapes[i].transform;\n        const transformedPoint = transform ? transform.applyInverse(point, tmpPoint) : point;\n        if (instruction.action === \"fill\") {\n          hasHit = shape.contains(transformedPoint.x, transformedPoint.y);\n        } else {\n          const strokeStyle = style;\n          hasHit = shape.strokeContains(transformedPoint.x, transformedPoint.y, strokeStyle.width, strokeStyle.alignment);\n        }\n        const holes = data.hole;\n        if (holes) {\n          const holeShapes = holes.shapePath?.shapePrimitives;\n          if (holeShapes) {\n            for (let j = 0; j < holeShapes.length; j++) {\n              if (holeShapes[j].shape.contains(transformedPoint.x, transformedPoint.y)) {\n                hasHit = false;\n              }\n            }\n          }\n        }\n        if (hasHit) {\n          return true;\n        }\n      }\n    }\n    return hasHit;\n  }\n  /**\n   * Destroys the GraphicsData object.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * context.destroy();\n   * context.destroy(true);\n   * context.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options = false) {\n    this._stateStack.length = 0;\n    this._transform = null;\n    this.emit(\"destroy\", this);\n    this.removeAllListeners();\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      if (this._fillStyle.texture) {\n        this._fillStyle.fill && \"uid\" in this._fillStyle.fill ? this._fillStyle.fill.destroy() : this._fillStyle.texture.destroy(destroyTextureSource);\n      }\n      if (this._strokeStyle.texture) {\n        this._strokeStyle.fill && \"uid\" in this._strokeStyle.fill ? this._strokeStyle.fill.destroy() : this._strokeStyle.texture.destroy(destroyTextureSource);\n      }\n    }\n    this._fillStyle = null;\n    this._strokeStyle = null;\n    this.instructions = null;\n    this._activePath = null;\n    this._bounds = null;\n    this._stateStack = null;\n    this.customShader = null;\n    this._transform = null;\n  }\n};\n/** The default fill style to use when none is provided. */\n_GraphicsContext.defaultFillStyle = {\n  /** The color to use for the fill. */\n  color: 16777215,\n  /** The alpha value to use for the fill. */\n  alpha: 1,\n  /** The texture to use for the fill. */\n  texture: Texture.WHITE,\n  /** The matrix to apply. */\n  matrix: null,\n  /** The fill pattern to use. */\n  fill: null,\n  /** Whether coordinates are 'global' or 'local' */\n  textureSpace: \"local\"\n};\n/** The default stroke style to use when none is provided. */\n_GraphicsContext.defaultStrokeStyle = {\n  /** The width of the stroke. */\n  width: 1,\n  /** The color to use for the stroke. */\n  color: 16777215,\n  /** The alpha value to use for the stroke. */\n  alpha: 1,\n  /** The alignment of the stroke. */\n  alignment: 0.5,\n  /** The miter limit to use. */\n  miterLimit: 10,\n  /** The line cap style to use. */\n  cap: \"butt\",\n  /** The line join style to use. */\n  join: \"miter\",\n  /** The texture to use for the fill. */\n  texture: Texture.WHITE,\n  /** The matrix to apply. */\n  matrix: null,\n  /** The fill pattern to use. */\n  fill: null,\n  /** Whether coordinates are 'global' or 'local' */\n  textureSpace: \"local\",\n  /** If the stroke is a pixel line. */\n  pixelLine: false\n};\nlet GraphicsContext = _GraphicsContext;\n\nexport { GraphicsContext };\n//# sourceMappingURL=GraphicsContext.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Color } from '../../color/Color.mjs';\nimport { uid } from '../../utils/data/uid.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { warn } from '../../utils/logging/warn.mjs';\nimport { FillGradient } from '../graphics/shared/fill/FillGradient.mjs';\nimport { FillPattern } from '../graphics/shared/fill/FillPattern.mjs';\nimport { GraphicsContext } from '../graphics/shared/GraphicsContext.mjs';\nimport { toFillStyle, toStrokeStyle } from '../graphics/shared/utils/convertFillInputToFillStyle.mjs';\n\n\"use strict\";\nconst _TextStyle = class _TextStyle extends EventEmitter {\n  constructor(style = {}) {\n    super();\n    /**\n     * Unique identifier for the TextStyle class.\n     * This is used to track instances and ensure uniqueness.\n     * @internal\n     */\n    this.uid = uid(\"textStyle\");\n    /**\n     * Internal tick counter used to track updates and changes.\n     * This is incremented whenever the style is modified, allowing for efficient change detection.\n     * @internal\n     */\n    this._tick = 0;\n    convertV7Tov8Style(style);\n    const fullStyle = { ..._TextStyle.defaultTextStyle, ...style };\n    for (const key in fullStyle) {\n      const thisKey = key;\n      this[thisKey] = fullStyle[key];\n    }\n    this.update();\n    this._tick = 0;\n  }\n  /**\n   * Alignment for multiline text, does not affect single line text.\n   * @type {'left'|'center'|'right'|'justify'}\n   */\n  get align() {\n    return this._align;\n  }\n  set align(value) {\n    this._align = value;\n    this.update();\n  }\n  /** Indicates if lines can be wrapped within words, it needs wordWrap to be set to true. */\n  get breakWords() {\n    return this._breakWords;\n  }\n  set breakWords(value) {\n    this._breakWords = value;\n    this.update();\n  }\n  /** Set a drop shadow for the text. */\n  get dropShadow() {\n    return this._dropShadow;\n  }\n  set dropShadow(value) {\n    if (value !== null && typeof value === \"object\") {\n      this._dropShadow = this._createProxy({ ..._TextStyle.defaultDropShadow, ...value });\n    } else {\n      this._dropShadow = value ? this._createProxy({ ..._TextStyle.defaultDropShadow }) : null;\n    }\n    this.update();\n  }\n  /** The font family, can be a single font name, or a list of names where the first is the preferred font. */\n  get fontFamily() {\n    return this._fontFamily;\n  }\n  set fontFamily(value) {\n    this._fontFamily = value;\n    this.update();\n  }\n  /** The font size (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em') */\n  get fontSize() {\n    return this._fontSize;\n  }\n  set fontSize(value) {\n    if (typeof value === \"string\") {\n      this._fontSize = parseInt(value, 10);\n    } else {\n      this._fontSize = value;\n    }\n    this.update();\n  }\n  /**\n   * The font style.\n   * @type {'normal'|'italic'|'oblique'}\n   */\n  get fontStyle() {\n    return this._fontStyle;\n  }\n  set fontStyle(value) {\n    this._fontStyle = value.toLowerCase();\n    this.update();\n  }\n  /**\n   * The font variant.\n   * @type {'normal'|'small-caps'}\n   */\n  get fontVariant() {\n    return this._fontVariant;\n  }\n  set fontVariant(value) {\n    this._fontVariant = value;\n    this.update();\n  }\n  /**\n   * The font weight.\n   * @type {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n   */\n  get fontWeight() {\n    return this._fontWeight;\n  }\n  set fontWeight(value) {\n    this._fontWeight = value;\n    this.update();\n  }\n  /** The space between lines. */\n  get leading() {\n    return this._leading;\n  }\n  set leading(value) {\n    this._leading = value;\n    this.update();\n  }\n  /** The amount of spacing between letters, default is 0. */\n  get letterSpacing() {\n    return this._letterSpacing;\n  }\n  set letterSpacing(value) {\n    this._letterSpacing = value;\n    this.update();\n  }\n  /** The line height, a number that represents the vertical space that a letter uses. */\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  set lineHeight(value) {\n    this._lineHeight = value;\n    this.update();\n  }\n  /**\n   * Occasionally some fonts are cropped. Adding some padding will prevent this from happening\n   * by adding padding to all sides of the text.\n   * > [!NOTE] This will NOT affect the positioning or bounds of the text.\n   */\n  get padding() {\n    return this._padding;\n  }\n  set padding(value) {\n    this._padding = value;\n    this.update();\n  }\n  /**\n   * An optional filter or array of filters to apply to the text, allowing for advanced visual effects.\n   * These filters will be applied to the text as it is created, resulting in faster rendering for static text\n   * compared to applying the filter directly to the text object (which would be applied at run time).\n   * @default null\n   */\n  get filters() {\n    return this._filters;\n  }\n  set filters(value) {\n    this._filters = Object.freeze(value);\n    this.update();\n  }\n  /**\n   * Trim transparent borders from the text texture.\n   * > [!IMPORTANT] PERFORMANCE WARNING:\n   * > This is a costly operation as it requires scanning pixel alpha values.\n   * > Avoid using `trim: true` for dynamic text, as it could significantly impact performance.\n   */\n  get trim() {\n    return this._trim;\n  }\n  set trim(value) {\n    this._trim = value;\n    this.update();\n  }\n  /**\n   * The baseline of the text that is rendered.\n   * @type {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n   */\n  get textBaseline() {\n    return this._textBaseline;\n  }\n  set textBaseline(value) {\n    this._textBaseline = value;\n    this.update();\n  }\n  /**\n   * How newlines and spaces should be handled.\n   * Default is 'pre' (preserve, preserve).\n   *\n   *  value       | New lines     |   Spaces\n   *  ---         | ---           |   ---\n   * 'normal'     | Collapse      |   Collapse\n   * 'pre'        | Preserve      |   Preserve\n   * 'pre-line'   | Preserve      |   Collapse\n   * @type {'normal'|'pre'|'pre-line'}\n   */\n  get whiteSpace() {\n    return this._whiteSpace;\n  }\n  set whiteSpace(value) {\n    this._whiteSpace = value;\n    this.update();\n  }\n  /** Indicates if word wrap should be used. */\n  get wordWrap() {\n    return this._wordWrap;\n  }\n  set wordWrap(value) {\n    this._wordWrap = value;\n    this.update();\n  }\n  /** The width at which text will wrap, it needs wordWrap to be set to true. */\n  get wordWrapWidth() {\n    return this._wordWrapWidth;\n  }\n  set wordWrapWidth(value) {\n    this._wordWrapWidth = value;\n    this.update();\n  }\n  /**\n   * The fill style that will be used to color the text.\n   * This can be:\n   * - A color string like 'red', '#00FF00', or 'rgba(255,0,0,0.5)'\n   * - A hex number like 0xff0000 for red\n   * - A FillStyle object with properties like { color: 0xff0000, alpha: 0.5 }\n   * - A FillGradient for gradient fills\n   * - A FillPattern for pattern/texture fills\n   *\n   * When using a FillGradient, vertical gradients (angle of 90 degrees) are applied per line of text,\n   * while gradients at any other angle are spread across the entire text body as a whole.\n   * @example\n   * // Vertical gradient applied per line\n   * const verticalGradient = new FillGradient(0, 0, 0, 1)\n   *     .addColorStop(0, 0xff0000)\n   *     .addColorStop(1, 0x0000ff);\n   *\n   * const text = new Text({\n   *     text: 'Line 1\\nLine 2',\n   *     style: { fill: verticalGradient }\n   * });\n   *\n   * To manage the gradient in a global scope, set the textureSpace property of the FillGradient to 'global'.\n   * @type {string|number|FillStyle|FillGradient|FillPattern}\n   */\n  get fill() {\n    return this._originalFill;\n  }\n  set fill(value) {\n    if (value === this._originalFill)\n      return;\n    this._originalFill = value;\n    if (this._isFillStyle(value)) {\n      this._originalFill = this._createProxy({ ...GraphicsContext.defaultFillStyle, ...value }, () => {\n        this._fill = toFillStyle(\n          { ...this._originalFill },\n          GraphicsContext.defaultFillStyle\n        );\n      });\n    }\n    this._fill = toFillStyle(\n      value === 0 ? \"black\" : value,\n      GraphicsContext.defaultFillStyle\n    );\n    this.update();\n  }\n  /** A fillstyle that will be used on the text stroke, e.g., 'blue', '#FCFF00'. */\n  get stroke() {\n    return this._originalStroke;\n  }\n  set stroke(value) {\n    if (value === this._originalStroke)\n      return;\n    this._originalStroke = value;\n    if (this._isFillStyle(value)) {\n      this._originalStroke = this._createProxy({ ...GraphicsContext.defaultStrokeStyle, ...value }, () => {\n        this._stroke = toStrokeStyle(\n          { ...this._originalStroke },\n          GraphicsContext.defaultStrokeStyle\n        );\n      });\n    }\n    this._stroke = toStrokeStyle(value, GraphicsContext.defaultStrokeStyle);\n    this.update();\n  }\n  update() {\n    this._tick++;\n    this.emit(\"update\", this);\n  }\n  /** Resets all properties to the default values */\n  reset() {\n    const defaultStyle = _TextStyle.defaultTextStyle;\n    for (const key in defaultStyle) {\n      this[key] = defaultStyle[key];\n    }\n  }\n  /**\n   * Returns a unique key for this instance.\n   * This key is used for caching.\n   * @returns {string} Unique key for the instance\n   */\n  get styleKey() {\n    return `${this.uid}-${this._tick}`;\n  }\n  /**\n   * Creates a new TextStyle object with the same values as this one.\n   * @returns New cloned TextStyle object\n   */\n  clone() {\n    return new _TextStyle({\n      align: this.align,\n      breakWords: this.breakWords,\n      dropShadow: this._dropShadow ? { ...this._dropShadow } : null,\n      fill: this._fill,\n      fontFamily: this.fontFamily,\n      fontSize: this.fontSize,\n      fontStyle: this.fontStyle,\n      fontVariant: this.fontVariant,\n      fontWeight: this.fontWeight,\n      leading: this.leading,\n      letterSpacing: this.letterSpacing,\n      lineHeight: this.lineHeight,\n      padding: this.padding,\n      stroke: this._stroke,\n      textBaseline: this.textBaseline,\n      whiteSpace: this.whiteSpace,\n      wordWrap: this.wordWrap,\n      wordWrapWidth: this.wordWrapWidth,\n      filters: this._filters ? [...this._filters] : void 0\n    });\n  }\n  /**\n   * Returns the final padding for the text style, taking into account any filters applied.\n   * Used internally for correct measurements\n   * @internal\n   * @returns {number} The final padding for the text style.\n   */\n  _getFinalPadding() {\n    let filterPadding = 0;\n    if (this._filters) {\n      for (let i = 0; i < this._filters.length; i++) {\n        filterPadding += this._filters[i].padding;\n      }\n    }\n    return Math.max(this._padding, filterPadding);\n  }\n  /**\n   * Destroys this text style.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * // Destroy the text style and its textures\n   * textStyle.destroy({ texture: true, textureSource: true });\n   * textStyle.destroy(true);\n   */\n  destroy(options = false) {\n    this.removeAllListeners();\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      if (this._fill?.texture) {\n        this._fill.texture.destroy(destroyTextureSource);\n      }\n      if (this._originalFill?.texture) {\n        this._originalFill.texture.destroy(destroyTextureSource);\n      }\n      if (this._stroke?.texture) {\n        this._stroke.texture.destroy(destroyTextureSource);\n      }\n      if (this._originalStroke?.texture) {\n        this._originalStroke.texture.destroy(destroyTextureSource);\n      }\n    }\n    this._fill = null;\n    this._stroke = null;\n    this.dropShadow = null;\n    this._originalStroke = null;\n    this._originalFill = null;\n  }\n  _createProxy(value, cb) {\n    return new Proxy(value, {\n      set: (target, property, newValue) => {\n        target[property] = newValue;\n        cb?.(property, newValue);\n        this.update();\n        return true;\n      }\n    });\n  }\n  _isFillStyle(value) {\n    return (value ?? null) !== null && !(Color.isColorLike(value) || value instanceof FillGradient || value instanceof FillPattern);\n  }\n};\n/**\n * Default drop shadow settings used when enabling drop shadows on text.\n * These values are used as the base configuration when drop shadows are enabled without specific settings.\n * @example\n * ```ts\n * // Customize default settings globally\n * TextStyle.defaultDropShadow.alpha = 0.5;    // 50% opacity for all shadows\n * TextStyle.defaultDropShadow.blur = 2;       // 2px blur for all shadows\n * TextStyle.defaultDropShadow.color = 'blue'; // Blue shadows by default\n * ```\n */\n_TextStyle.defaultDropShadow = {\n  alpha: 1,\n  angle: Math.PI / 6,\n  blur: 0,\n  color: \"black\",\n  distance: 5\n};\n/**\n * Default text style settings used when creating new text objects.\n * These values serve as the base configuration and can be customized globally.\n * @example\n * ```ts\n * // Customize default text style globally\n * TextStyle.defaultTextStyle.fontSize = 16;\n * TextStyle.defaultTextStyle.fill = 0x333333;\n * TextStyle.defaultTextStyle.fontFamily = ['Arial', 'Helvetica', 'sans-serif'];\n * ```\n */\n_TextStyle.defaultTextStyle = {\n  align: \"left\",\n  breakWords: false,\n  dropShadow: null,\n  fill: \"black\",\n  fontFamily: \"Arial\",\n  fontSize: 26,\n  fontStyle: \"normal\",\n  fontVariant: \"normal\",\n  fontWeight: \"normal\",\n  leading: 0,\n  letterSpacing: 0,\n  lineHeight: 0,\n  padding: 0,\n  stroke: null,\n  textBaseline: \"alphabetic\",\n  trim: false,\n  whiteSpace: \"pre\",\n  wordWrap: false,\n  wordWrapWidth: 100\n};\nlet TextStyle = _TextStyle;\nfunction convertV7Tov8Style(style) {\n  const oldStyle = style;\n  if (typeof oldStyle.dropShadow === \"boolean\" && oldStyle.dropShadow) {\n    const defaults = TextStyle.defaultDropShadow;\n    style.dropShadow = {\n      alpha: oldStyle.dropShadowAlpha ?? defaults.alpha,\n      angle: oldStyle.dropShadowAngle ?? defaults.angle,\n      blur: oldStyle.dropShadowBlur ?? defaults.blur,\n      color: oldStyle.dropShadowColor ?? defaults.color,\n      distance: oldStyle.dropShadowDistance ?? defaults.distance\n    };\n  }\n  if (oldStyle.strokeThickness !== void 0) {\n    deprecation(v8_0_0, \"strokeThickness is now a part of stroke\");\n    const color = oldStyle.stroke;\n    let obj = {};\n    if (Color.isColorLike(color)) {\n      obj.color = color;\n    } else if (color instanceof FillGradient || color instanceof FillPattern) {\n      obj.fill = color;\n    } else if (Object.hasOwnProperty.call(color, \"color\") || Object.hasOwnProperty.call(color, \"fill\")) {\n      obj = color;\n    } else {\n      throw new Error(\"Invalid stroke value.\");\n    }\n    style.stroke = {\n      ...obj,\n      width: oldStyle.strokeThickness\n    };\n  }\n  if (Array.isArray(oldStyle.fillGradientStops)) {\n    deprecation(v8_0_0, \"gradient fill is now a fill pattern: `new FillGradient(...)`\");\n    if (!Array.isArray(oldStyle.fill) || oldStyle.fill.length === 0) {\n      throw new Error(\"Invalid fill value. Expected an array of colors for gradient fill.\");\n    }\n    if (oldStyle.fill.length !== oldStyle.fillGradientStops.length) {\n      warn(\"The number of fill colors must match the number of fill gradient stops.\");\n    }\n    const gradientFill = new FillGradient({\n      start: { x: 0, y: 0 },\n      end: { x: 0, y: 1 },\n      textureSpace: \"local\"\n    });\n    const fillGradientStops = oldStyle.fillGradientStops.slice();\n    const fills = oldStyle.fill.map((color) => Color.shared.setValue(color).toNumber());\n    fillGradientStops.forEach((stop, index) => {\n      gradientFill.addColorStop(stop, fills[index]);\n    });\n    style.fill = {\n      fill: gradientFill\n    };\n  }\n}\n\nexport { TextStyle };\n//# sourceMappingURL=TextStyle.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { nextPow2 } from '../../../../maths/misc/pow2.mjs';\nimport { GlobalResourceRegistry } from '../../../../utils/pool/GlobalResourceRegistry.mjs';\n\n\"use strict\";\nclass CanvasPoolClass {\n  constructor(canvasOptions) {\n    this._canvasPool = /* @__PURE__ */ Object.create(null);\n    this.canvasOptions = canvasOptions || {};\n    this.enableFullScreen = false;\n  }\n  /**\n   * Creates texture with params that were specified in pool constructor.\n   * @param pixelWidth - Width of texture in pixels.\n   * @param pixelHeight - Height of texture in pixels.\n   */\n  _createCanvasAndContext(pixelWidth, pixelHeight) {\n    const canvas = DOMAdapter.get().createCanvas();\n    canvas.width = pixelWidth;\n    canvas.height = pixelHeight;\n    const context = canvas.getContext(\"2d\");\n    return { canvas, context };\n  }\n  /**\n   * Gets a Power-of-Two render texture or fullScreen texture\n   * @param minWidth - The minimum width of the render texture.\n   * @param minHeight - The minimum height of the render texture.\n   * @param resolution - The resolution of the render texture.\n   * @returns The new render texture.\n   */\n  getOptimalCanvasAndContext(minWidth, minHeight, resolution = 1) {\n    minWidth = Math.ceil(minWidth * resolution - 1e-6);\n    minHeight = Math.ceil(minHeight * resolution - 1e-6);\n    minWidth = nextPow2(minWidth);\n    minHeight = nextPow2(minHeight);\n    const key = (minWidth << 17) + (minHeight << 1);\n    if (!this._canvasPool[key]) {\n      this._canvasPool[key] = [];\n    }\n    let canvasAndContext = this._canvasPool[key].pop();\n    if (!canvasAndContext) {\n      canvasAndContext = this._createCanvasAndContext(minWidth, minHeight);\n    }\n    return canvasAndContext;\n  }\n  /**\n   * Place a render texture back into the pool.\n   * @param canvasAndContext\n   */\n  returnCanvasAndContext(canvasAndContext) {\n    const canvas = canvasAndContext.canvas;\n    const { width, height } = canvas;\n    const key = (width << 17) + (height << 1);\n    canvasAndContext.context.resetTransform();\n    canvasAndContext.context.clearRect(0, 0, width, height);\n    this._canvasPool[key].push(canvasAndContext);\n  }\n  clear() {\n    this._canvasPool = {};\n  }\n}\nconst CanvasPool = new CanvasPoolClass();\nGlobalResourceRegistry.register(CanvasPool);\n\nexport { CanvasPool, CanvasPoolClass };\n//# sourceMappingURL=CanvasPool.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { FillGradient } from '../../../graphics/shared/fill/FillGradient.mjs';\nimport { FillPattern } from '../../../graphics/shared/fill/FillPattern.mjs';\n\n\"use strict\";\nconst PRECISION = 1e5;\nfunction getCanvasFillStyle(fillStyle, context, textMetrics, padding = 0) {\n  if (fillStyle.texture === Texture.WHITE && !fillStyle.fill) {\n    return Color.shared.setValue(fillStyle.color).setAlpha(fillStyle.alpha ?? 1).toHexa();\n  } else if (!fillStyle.fill) {\n    const pattern = context.createPattern(fillStyle.texture.source.resource, \"repeat\");\n    const tempMatrix = fillStyle.matrix.copyTo(Matrix.shared);\n    tempMatrix.scale(fillStyle.texture.frame.width, fillStyle.texture.frame.height);\n    pattern.setTransform(tempMatrix);\n    return pattern;\n  } else if (fillStyle.fill instanceof FillPattern) {\n    const fillPattern = fillStyle.fill;\n    const pattern = context.createPattern(fillPattern.texture.source.resource, \"repeat\");\n    const tempMatrix = fillPattern.transform.copyTo(Matrix.shared);\n    tempMatrix.scale(\n      fillPattern.texture.frame.width,\n      fillPattern.texture.frame.height\n    );\n    pattern.setTransform(tempMatrix);\n    return pattern;\n  } else if (fillStyle.fill instanceof FillGradient) {\n    const fillGradient = fillStyle.fill;\n    const isLinear = fillGradient.type === \"linear\";\n    const isLocal = fillGradient.textureSpace === \"local\";\n    let width = 1;\n    let height = 1;\n    if (isLocal && textMetrics) {\n      width = textMetrics.width + padding;\n      height = textMetrics.height + padding;\n    }\n    let gradient;\n    let isNearlyVertical = false;\n    if (isLinear) {\n      const { start, end } = fillGradient;\n      gradient = context.createLinearGradient(\n        start.x * width,\n        start.y * height,\n        end.x * width,\n        end.y * height\n      );\n      isNearlyVertical = Math.abs(end.x - start.x) < Math.abs((end.y - start.y) * 0.1);\n    } else {\n      const { center, innerRadius, outerCenter, outerRadius } = fillGradient;\n      gradient = context.createRadialGradient(\n        center.x * width,\n        center.y * height,\n        innerRadius * width,\n        outerCenter.x * width,\n        outerCenter.y * height,\n        outerRadius * width\n      );\n    }\n    if (isNearlyVertical && isLocal && textMetrics) {\n      const ratio = textMetrics.lineHeight / height;\n      for (let i = 0; i < textMetrics.lines.length; i++) {\n        const start = (i * textMetrics.lineHeight + padding / 2) / height;\n        fillGradient.colorStops.forEach((stop) => {\n          const globalStop = start + stop.offset * ratio;\n          gradient.addColorStop(\n            // fix to 5 decimal places to avoid floating point precision issues\n            Math.floor(globalStop * PRECISION) / PRECISION,\n            Color.shared.setValue(stop.color).toHex()\n          );\n        });\n      }\n    } else {\n      fillGradient.colorStops.forEach((stop) => {\n        gradient.addColorStop(stop.offset, Color.shared.setValue(stop.color).toHex());\n      });\n    }\n    return gradient;\n  }\n  warn(\"FillStyle not recognised\", fillStyle);\n  return \"red\";\n}\n\nexport { getCanvasFillStyle };\n//# sourceMappingURL=getCanvasFillStyle.mjs.map\n","import { Color } from '../../color/Color.mjs';\nimport { Rectangle } from '../../maths/shapes/Rectangle.mjs';\nimport { CanvasPool } from '../../rendering/renderers/shared/texture/CanvasPool.mjs';\nimport { ImageSource } from '../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { CanvasTextMetrics } from '../text/canvas/CanvasTextMetrics.mjs';\nimport { fontStringFromTextStyle } from '../text/canvas/utils/fontStringFromTextStyle.mjs';\nimport { getCanvasFillStyle } from '../text/canvas/utils/getCanvasFillStyle.mjs';\nimport { TextStyle } from '../text/TextStyle.mjs';\nimport { AbstractBitmapFont } from './AbstractBitmapFont.mjs';\n\n\"use strict\";\nconst _DynamicBitmapFont = class _DynamicBitmapFont extends AbstractBitmapFont {\n  /**\n   * @param options - The options for the dynamic bitmap font.\n   */\n  constructor(options) {\n    super();\n    /**\n     * this is a resolution modifier for the font size..\n     * texture resolution will also be used to scale texture according to its font size also\n     */\n    this.resolution = 1;\n    /** The pages of the font. */\n    this.pages = [];\n    this._padding = 0;\n    this._measureCache = /* @__PURE__ */ Object.create(null);\n    this._currentChars = [];\n    this._currentX = 0;\n    this._currentY = 0;\n    this._currentMaxCharHeight = 0;\n    this._currentPageIndex = -1;\n    this._skipKerning = false;\n    const dynamicOptions = { ..._DynamicBitmapFont.defaultOptions, ...options };\n    this._textureSize = dynamicOptions.textureSize;\n    this._mipmap = dynamicOptions.mipmap;\n    const style = dynamicOptions.style.clone();\n    if (dynamicOptions.overrideFill) {\n      style._fill.color = 16777215;\n      style._fill.alpha = 1;\n      style._fill.texture = Texture.WHITE;\n      style._fill.fill = null;\n    }\n    this.applyFillAsTint = dynamicOptions.overrideFill;\n    const requestedFontSize = style.fontSize;\n    style.fontSize = this.baseMeasurementFontSize;\n    const font = fontStringFromTextStyle(style);\n    if (dynamicOptions.overrideSize) {\n      if (style._stroke) {\n        style._stroke.width *= this.baseRenderedFontSize / requestedFontSize;\n      }\n    } else {\n      style.fontSize = this.baseRenderedFontSize = requestedFontSize;\n    }\n    this._style = style;\n    this._skipKerning = dynamicOptions.skipKerning ?? false;\n    this.resolution = dynamicOptions.resolution ?? 1;\n    this._padding = dynamicOptions.padding ?? 4;\n    if (dynamicOptions.textureStyle) {\n      this._textureStyle = dynamicOptions.textureStyle instanceof TextureStyle ? dynamicOptions.textureStyle : new TextureStyle(dynamicOptions.textureStyle);\n    }\n    this.fontMetrics = CanvasTextMetrics.measureFont(font);\n    this.lineHeight = style.lineHeight || this.fontMetrics.fontSize || style.fontSize;\n  }\n  ensureCharacters(chars) {\n    const charList = CanvasTextMetrics.graphemeSegmenter(chars).filter((char) => !this._currentChars.includes(char)).filter((char, index, self) => self.indexOf(char) === index);\n    if (!charList.length)\n      return;\n    this._currentChars = [...this._currentChars, ...charList];\n    let pageData;\n    if (this._currentPageIndex === -1) {\n      pageData = this._nextPage();\n    } else {\n      pageData = this.pages[this._currentPageIndex];\n    }\n    let { canvas, context } = pageData.canvasAndContext;\n    let textureSource = pageData.texture.source;\n    const style = this._style;\n    let currentX = this._currentX;\n    let currentY = this._currentY;\n    let currentMaxCharHeight = this._currentMaxCharHeight;\n    const fontScale = this.baseRenderedFontSize / this.baseMeasurementFontSize;\n    const padding = this._padding * fontScale;\n    let skipTexture = false;\n    const maxTextureWidth = canvas.width / this.resolution;\n    const maxTextureHeight = canvas.height / this.resolution;\n    for (let i = 0; i < charList.length; i++) {\n      const char = charList[i];\n      const metrics = CanvasTextMetrics.measureText(char, style, canvas, false);\n      metrics.lineHeight = metrics.height;\n      const width = metrics.width * fontScale;\n      const textureGlyphWidth = Math.ceil((style.fontStyle === \"italic\" ? 2 : 1) * width);\n      const height = metrics.height * fontScale;\n      const paddedWidth = textureGlyphWidth + padding * 2;\n      const paddedHeight = height + padding * 2;\n      skipTexture = false;\n      if (char !== \"\\n\" && char !== \"\\r\" && char !== \"\t\" && char !== \" \") {\n        skipTexture = true;\n        currentMaxCharHeight = Math.ceil(Math.max(paddedHeight, currentMaxCharHeight));\n      }\n      if (currentX + paddedWidth > maxTextureWidth) {\n        currentY += currentMaxCharHeight;\n        currentMaxCharHeight = paddedHeight;\n        currentX = 0;\n        if (currentY + currentMaxCharHeight > maxTextureHeight) {\n          textureSource.update();\n          const pageData2 = this._nextPage();\n          canvas = pageData2.canvasAndContext.canvas;\n          context = pageData2.canvasAndContext.context;\n          textureSource = pageData2.texture.source;\n          currentX = 0;\n          currentY = 0;\n          currentMaxCharHeight = 0;\n        }\n      }\n      const xAdvance = width / fontScale - (style.dropShadow?.distance ?? 0) - (style._stroke?.width ?? 0);\n      this.chars[char] = {\n        id: char.codePointAt(0),\n        xOffset: -this._padding,\n        yOffset: -this._padding,\n        xAdvance,\n        kerning: {}\n      };\n      if (skipTexture) {\n        this._drawGlyph(\n          context,\n          metrics,\n          currentX + padding,\n          currentY + padding,\n          fontScale,\n          style\n        );\n        const px = textureSource.width * fontScale;\n        const py = textureSource.height * fontScale;\n        const frame = new Rectangle(\n          currentX / px * textureSource.width,\n          currentY / py * textureSource.height,\n          paddedWidth / px * textureSource.width,\n          paddedHeight / py * textureSource.height\n        );\n        this.chars[char].texture = new Texture({\n          source: textureSource,\n          frame\n        });\n        currentX += Math.ceil(paddedWidth);\n      }\n    }\n    textureSource.update();\n    this._currentX = currentX;\n    this._currentY = currentY;\n    this._currentMaxCharHeight = currentMaxCharHeight;\n    this._skipKerning && this._applyKerning(charList, context);\n  }\n  /**\n   * @deprecated since 8.0.0\n   * The map of base page textures (i.e., sheets of glyphs).\n   */\n  get pageTextures() {\n    deprecation(v8_0_0, \"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.\");\n    return this.pages;\n  }\n  _applyKerning(newChars, context) {\n    const measureCache = this._measureCache;\n    for (let i = 0; i < newChars.length; i++) {\n      const first = newChars[i];\n      for (let j = 0; j < this._currentChars.length; j++) {\n        const second = this._currentChars[j];\n        let c1 = measureCache[first];\n        if (!c1)\n          c1 = measureCache[first] = context.measureText(first).width;\n        let c2 = measureCache[second];\n        if (!c2)\n          c2 = measureCache[second] = context.measureText(second).width;\n        let total = context.measureText(first + second).width;\n        let amount = total - (c1 + c2);\n        if (amount) {\n          this.chars[first].kerning[second] = amount;\n        }\n        total = context.measureText(first + second).width;\n        amount = total - (c1 + c2);\n        if (amount) {\n          this.chars[second].kerning[first] = amount;\n        }\n      }\n    }\n  }\n  _nextPage() {\n    this._currentPageIndex++;\n    const textureResolution = this.resolution;\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n      this._textureSize,\n      this._textureSize,\n      textureResolution\n    );\n    this._setupContext(canvasAndContext.context, this._style, textureResolution);\n    const resolution = textureResolution * (this.baseRenderedFontSize / this.baseMeasurementFontSize);\n    const texture = new Texture({\n      source: new ImageSource({\n        resource: canvasAndContext.canvas,\n        resolution,\n        alphaMode: \"premultiply-alpha-on-upload\",\n        autoGenerateMipmaps: this._mipmap\n      })\n    });\n    if (this._textureStyle) {\n      texture.source.style = this._textureStyle;\n    }\n    const pageData = {\n      canvasAndContext,\n      texture\n    };\n    this.pages[this._currentPageIndex] = pageData;\n    return pageData;\n  }\n  // canvas style!\n  _setupContext(context, style, resolution) {\n    style.fontSize = this.baseRenderedFontSize;\n    context.scale(resolution, resolution);\n    context.font = fontStringFromTextStyle(style);\n    style.fontSize = this.baseMeasurementFontSize;\n    context.textBaseline = style.textBaseline;\n    const stroke = style._stroke;\n    const strokeThickness = stroke?.width ?? 0;\n    if (stroke) {\n      context.lineWidth = strokeThickness;\n      context.lineJoin = stroke.join;\n      context.miterLimit = stroke.miterLimit;\n      context.strokeStyle = getCanvasFillStyle(stroke, context);\n    }\n    if (style._fill) {\n      context.fillStyle = getCanvasFillStyle(style._fill, context);\n    }\n    if (style.dropShadow) {\n      const shadowOptions = style.dropShadow;\n      const rgb = Color.shared.setValue(shadowOptions.color).toArray();\n      const dropShadowBlur = shadowOptions.blur * resolution;\n      const dropShadowDistance = shadowOptions.distance * resolution;\n      context.shadowColor = `rgba(${rgb[0] * 255},${rgb[1] * 255},${rgb[2] * 255},${shadowOptions.alpha})`;\n      context.shadowBlur = dropShadowBlur;\n      context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n      context.shadowOffsetY = Math.sin(shadowOptions.angle) * dropShadowDistance;\n    } else {\n      context.shadowColor = \"black\";\n      context.shadowBlur = 0;\n      context.shadowOffsetX = 0;\n      context.shadowOffsetY = 0;\n    }\n  }\n  _drawGlyph(context, metrics, x, y, fontScale, style) {\n    const char = metrics.text;\n    const fontProperties = metrics.fontProperties;\n    const stroke = style._stroke;\n    const strokeThickness = (stroke?.width ?? 0) * fontScale;\n    const tx = x + strokeThickness / 2;\n    const ty = y - strokeThickness / 2;\n    const descent = fontProperties.descent * fontScale;\n    const lineHeight = metrics.lineHeight * fontScale;\n    let removeShadow = false;\n    if (style.stroke && strokeThickness) {\n      removeShadow = true;\n      context.strokeText(char, tx, ty + lineHeight - descent);\n    }\n    const { shadowBlur, shadowOffsetX, shadowOffsetY } = context;\n    if (style._fill) {\n      if (removeShadow) {\n        context.shadowBlur = 0;\n        context.shadowOffsetX = 0;\n        context.shadowOffsetY = 0;\n      }\n      context.fillText(char, tx, ty + lineHeight - descent);\n    }\n    if (removeShadow) {\n      context.shadowBlur = shadowBlur;\n      context.shadowOffsetX = shadowOffsetX;\n      context.shadowOffsetY = shadowOffsetY;\n    }\n  }\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.pages.length; i++) {\n      const { canvasAndContext, texture } = this.pages[i];\n      CanvasPool.returnCanvasAndContext(canvasAndContext);\n      texture.destroy(true);\n    }\n    this.pages = null;\n  }\n};\n_DynamicBitmapFont.defaultOptions = {\n  textureSize: 512,\n  style: new TextStyle(),\n  mipmap: true\n};\nlet DynamicBitmapFont = _DynamicBitmapFont;\n\nexport { DynamicBitmapFont };\n//# sourceMappingURL=DynamicBitmapFont.mjs.map\n","\"use strict\";\nfunction getBitmapTextLayout(chars, style, font, trimEnd) {\n  const layoutData = {\n    width: 0,\n    height: 0,\n    offsetY: 0,\n    scale: style.fontSize / font.baseMeasurementFontSize,\n    lines: [{\n      width: 0,\n      charPositions: [],\n      spaceWidth: 0,\n      spacesIndex: [],\n      chars: []\n    }]\n  };\n  layoutData.offsetY = font.baseLineOffset;\n  let currentLine = layoutData.lines[0];\n  let previousChar = null;\n  let firstWord = true;\n  const currentWord = {\n    spaceWord: false,\n    width: 0,\n    start: 0,\n    index: 0,\n    // use index to not modify the array as we use it a lot!\n    positions: [],\n    chars: []\n  };\n  const scale = font.baseMeasurementFontSize / style.fontSize;\n  const adjustedLetterSpacing = style.letterSpacing * scale;\n  const adjustedWordWrapWidth = style.wordWrapWidth * scale;\n  const adjustedLineHeight = style.lineHeight ? style.lineHeight * scale : font.lineHeight;\n  const breakWords = style.wordWrap && style.breakWords;\n  const nextWord = (word) => {\n    const start = currentLine.width;\n    for (let j = 0; j < currentWord.index; j++) {\n      const position = word.positions[j];\n      currentLine.chars.push(word.chars[j]);\n      currentLine.charPositions.push(position + start);\n    }\n    currentLine.width += word.width;\n    firstWord = false;\n    currentWord.width = 0;\n    currentWord.index = 0;\n    currentWord.chars.length = 0;\n  };\n  const nextLine = () => {\n    let index = currentLine.chars.length - 1;\n    if (trimEnd) {\n      let lastChar = currentLine.chars[index];\n      while (lastChar === \" \") {\n        currentLine.width -= font.chars[lastChar].xAdvance;\n        lastChar = currentLine.chars[--index];\n      }\n    }\n    layoutData.width = Math.max(layoutData.width, currentLine.width);\n    currentLine = {\n      width: 0,\n      charPositions: [],\n      chars: [],\n      spaceWidth: 0,\n      spacesIndex: []\n    };\n    firstWord = true;\n    layoutData.lines.push(currentLine);\n    layoutData.height += adjustedLineHeight;\n  };\n  const checkIsOverflow = (lineWidth) => lineWidth - adjustedLetterSpacing > adjustedWordWrapWidth;\n  for (let i = 0; i < chars.length + 1; i++) {\n    let char;\n    const isEnd = i === chars.length;\n    if (!isEnd) {\n      char = chars[i];\n    }\n    const charData = font.chars[char] || font.chars[\" \"];\n    const isSpace = /(?:\\s)/.test(char);\n    const isWordBreak = isSpace || char === \"\\r\" || char === \"\\n\" || isEnd;\n    if (isWordBreak) {\n      const addWordToNextLine = !firstWord && style.wordWrap && checkIsOverflow(currentLine.width + currentWord.width);\n      if (addWordToNextLine) {\n        nextLine();\n        nextWord(currentWord);\n        if (!isEnd) {\n          currentLine.charPositions.push(0);\n        }\n      } else {\n        currentWord.start = currentLine.width;\n        nextWord(currentWord);\n        if (!isEnd) {\n          currentLine.charPositions.push(0);\n        }\n      }\n      if (char === \"\\r\" || char === \"\\n\") {\n        nextLine();\n      } else if (!isEnd) {\n        const spaceWidth = charData.xAdvance + (charData.kerning[previousChar] || 0) + adjustedLetterSpacing;\n        currentLine.width += spaceWidth;\n        currentLine.spaceWidth = spaceWidth;\n        currentLine.spacesIndex.push(currentLine.charPositions.length);\n        currentLine.chars.push(char);\n      }\n    } else {\n      const kerning = charData.kerning[previousChar] || 0;\n      const nextCharWidth = charData.xAdvance + kerning + adjustedLetterSpacing;\n      const addWordToNextLine = breakWords && checkIsOverflow(currentLine.width + currentWord.width + nextCharWidth);\n      if (addWordToNextLine) {\n        nextWord(currentWord);\n        nextLine();\n      }\n      currentWord.positions[currentWord.index++] = currentWord.width + kerning;\n      currentWord.chars.push(char);\n      currentWord.width += nextCharWidth;\n    }\n    previousChar = char;\n  }\n  nextLine();\n  if (style.align === \"center\") {\n    alignCenter(layoutData);\n  } else if (style.align === \"right\") {\n    alignRight(layoutData);\n  } else if (style.align === \"justify\") {\n    alignJustify(layoutData);\n  }\n  return layoutData;\n}\nfunction alignCenter(measurementData) {\n  for (let i = 0; i < measurementData.lines.length; i++) {\n    const line = measurementData.lines[i];\n    const offset = measurementData.width / 2 - line.width / 2;\n    for (let j = 0; j < line.charPositions.length; j++) {\n      line.charPositions[j] += offset;\n    }\n  }\n}\nfunction alignRight(measurementData) {\n  for (let i = 0; i < measurementData.lines.length; i++) {\n    const line = measurementData.lines[i];\n    const offset = measurementData.width - line.width;\n    for (let j = 0; j < line.charPositions.length; j++) {\n      line.charPositions[j] += offset;\n    }\n  }\n}\nfunction alignJustify(measurementData) {\n  const width = measurementData.width;\n  for (let i = 0; i < measurementData.lines.length; i++) {\n    const line = measurementData.lines[i];\n    let indy = 0;\n    let spaceIndex = line.spacesIndex[indy++];\n    let offset = 0;\n    const totalSpaces = line.spacesIndex.length;\n    const newSpaceWidth = (width - line.width) / totalSpaces;\n    const spaceWidth = newSpaceWidth;\n    for (let j = 0; j < line.charPositions.length; j++) {\n      if (j === spaceIndex) {\n        spaceIndex = line.spacesIndex[indy++];\n        offset += spaceWidth;\n      }\n      line.charPositions[j] += offset;\n    }\n  }\n}\n\nexport { getBitmapTextLayout };\n//# sourceMappingURL=getBitmapTextLayout.mjs.map\n","\"use strict\";\nfunction resolveCharacters(chars) {\n  if (chars === \"\") {\n    return [];\n  }\n  if (typeof chars === \"string\") {\n    chars = [chars];\n  }\n  const result = [];\n  for (let i = 0, j = chars.length; i < j; i++) {\n    const item = chars[i];\n    if (Array.isArray(item)) {\n      if (item.length !== 2) {\n        throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);\n      }\n      if (item[0].length === 0 || item[1].length === 0) {\n        throw new Error(\"[BitmapFont]: Invalid character delimiter.\");\n      }\n      const startCode = item[0].charCodeAt(0);\n      const endCode = item[1].charCodeAt(0);\n      if (endCode < startCode) {\n        throw new Error(\"[BitmapFont]: Invalid character range.\");\n      }\n      for (let i2 = startCode, j2 = endCode; i2 <= j2; i2++) {\n        result.push(String.fromCharCode(i2));\n      }\n    } else {\n      result.push(...Array.from(item));\n    }\n  }\n  if (result.length === 0) {\n    throw new Error(\"[BitmapFont]: Empty set when resolving characters.\");\n  }\n  return result;\n}\n\nexport { resolveCharacters };\n//# sourceMappingURL=resolveCharacters.mjs.map\n","import { lru } from 'tiny-lru';\nimport { Cache } from '../../assets/cache/Cache.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { warn } from '../../utils/logging/warn.mjs';\nimport { CanvasTextMetrics } from '../text/canvas/CanvasTextMetrics.mjs';\nimport { TextStyle } from '../text/TextStyle.mjs';\nimport { DynamicBitmapFont } from './DynamicBitmapFont.mjs';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout.mjs';\nimport { resolveCharacters } from './utils/resolveCharacters.mjs';\n\n\"use strict\";\nlet fontCount = 0;\nclass BitmapFontManagerClass {\n  constructor() {\n    /**\n     * This character set includes all the letters in the alphabet (both lower- and upper- case).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.ALPHA })\n     */\n    this.ALPHA = [[\"a\", \"z\"], [\"A\", \"Z\"], \" \"];\n    /**\n     * This character set includes all decimal digits (from 0 to 9).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.NUMERIC })\n     */\n    this.NUMERIC = [[\"0\", \"9\"]];\n    /**\n     * This character set is the union of `BitmapFont.ALPHA` and `BitmapFont.NUMERIC`.\n     * @type {string[][]}\n     */\n    this.ALPHANUMERIC = [[\"a\", \"z\"], [\"A\", \"Z\"], [\"0\", \"9\"], \" \"];\n    /**\n     * This character set consists of all the ASCII table.\n     * @type {string[][]}\n     * @see http://www.asciitable.com/\n     */\n    this.ASCII = [[\" \", \"~\"]];\n    /** Default options for installing a new BitmapFont. */\n    this.defaultOptions = {\n      chars: this.ALPHANUMERIC,\n      resolution: 1,\n      padding: 4,\n      skipKerning: false,\n      textureStyle: null\n    };\n    /** Cache for measured text layouts to avoid recalculating them multiple times. */\n    this.measureCache = lru(1e3);\n  }\n  /**\n   * Get a font for the specified text and style.\n   * @param text - The text to get the font for\n   * @param style - The style to use\n   */\n  getFont(text, style) {\n    let fontFamilyKey = `${style.fontFamily}-bitmap`;\n    let overrideFill = true;\n    if (style._fill.fill && !style._stroke) {\n      fontFamilyKey += style._fill.fill.styleKey;\n      overrideFill = false;\n    } else if (style._stroke || style.dropShadow) {\n      fontFamilyKey = `${style.styleKey}-bitmap`;\n      overrideFill = false;\n    }\n    if (!Cache.has(fontFamilyKey)) {\n      const styleCopy = Object.create(style);\n      styleCopy.lineHeight = 0;\n      const fnt = new DynamicBitmapFont({\n        style: styleCopy,\n        overrideFill,\n        overrideSize: true,\n        ...this.defaultOptions\n      });\n      fontCount++;\n      if (fontCount > 50) {\n        warn(\"BitmapText\", `You have dynamically created ${fontCount} bitmap fonts, this can be inefficient. Try pre installing your font styles using \\`BitmapFont.install({name:\"style1\", style})\\``);\n      }\n      fnt.once(\"destroy\", () => {\n        fontCount--;\n        Cache.remove(fontFamilyKey);\n      });\n      Cache.set(\n        fontFamilyKey,\n        fnt\n      );\n    }\n    const dynamicFont = Cache.get(fontFamilyKey);\n    dynamicFont.ensureCharacters?.(text);\n    return dynamicFont;\n  }\n  /**\n   * Get the layout of a text for the specified style.\n   * @param text - The text to get the layout for\n   * @param style - The style to use\n   * @param trimEnd - Whether to ignore whitespaces at the end of each line\n   */\n  getLayout(text, style, trimEnd = true) {\n    const bitmapFont = this.getFont(text, style);\n    const id = `${text}-${style.styleKey}-${trimEnd}`;\n    if (this.measureCache.has(id)) {\n      return this.measureCache.get(id);\n    }\n    const segments = CanvasTextMetrics.graphemeSegmenter(text);\n    const layoutData = getBitmapTextLayout(segments, style, bitmapFont, trimEnd);\n    this.measureCache.set(id, layoutData);\n    return layoutData;\n  }\n  /**\n   * Measure the text using the specified style.\n   * @param text - The text to measure\n   * @param style - The style to use\n   * @param trimEnd - Whether to ignore whitespaces at the end of each line\n   */\n  measureText(text, style, trimEnd = true) {\n    return this.getLayout(text, style, trimEnd);\n  }\n  // eslint-disable-next-line max-len\n  install(...args) {\n    let options = args[0];\n    if (typeof options === \"string\") {\n      options = {\n        name: options,\n        style: args[1],\n        chars: args[2]?.chars,\n        resolution: args[2]?.resolution,\n        padding: args[2]?.padding,\n        skipKerning: args[2]?.skipKerning\n      };\n      deprecation(v8_0_0, \"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})\");\n    }\n    const name = options?.name;\n    if (!name) {\n      throw new Error(\"[BitmapFontManager] Property `name` is required.\");\n    }\n    options = { ...this.defaultOptions, ...options };\n    const textStyle = options.style;\n    const style = textStyle instanceof TextStyle ? textStyle : new TextStyle(textStyle);\n    const overrideFill = options.dynamicFill ?? this._canUseTintForStyle(style);\n    const font = new DynamicBitmapFont({\n      style,\n      overrideFill,\n      skipKerning: options.skipKerning,\n      padding: options.padding,\n      resolution: options.resolution,\n      overrideSize: false,\n      textureStyle: options.textureStyle\n    });\n    const flatChars = resolveCharacters(options.chars);\n    font.ensureCharacters(flatChars.join(\"\"));\n    Cache.set(`${name}-bitmap`, font);\n    font.once(\"destroy\", () => Cache.remove(`${name}-bitmap`));\n    return font;\n  }\n  /**\n   * Uninstalls a bitmap font from the cache.\n   * @param {string} name - The name of the bitmap font to uninstall.\n   */\n  uninstall(name) {\n    const cacheKey = `${name}-bitmap`;\n    const font = Cache.get(cacheKey);\n    if (font) {\n      font.destroy();\n    }\n  }\n  /**\n   * Determines if a style can use tinting instead of baking colors into the bitmap.\n   * Tinting is more efficient as it allows reusing the same bitmap with different colors.\n   * @param style - The text style to evaluate\n   * @returns true if the style can use tinting, false if colors must be baked in\n   * @private\n   */\n  _canUseTintForStyle(style) {\n    return !style._stroke && (!style.dropShadow || style.dropShadow.color === 0) && !style._fill.fill && style._fill.color === 16777215;\n  }\n}\nconst BitmapFontManager = new BitmapFontManagerClass();\n\nexport { BitmapFontManager };\n//# sourceMappingURL=BitmapFontManager.mjs.map\n","import { groupD8 } from '../../maths/matrix/groupD8.mjs';\nimport { Rectangle } from '../../maths/shapes/Rectangle.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { AbstractBitmapFont } from './AbstractBitmapFont.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\n\n\"use strict\";\nclass BitmapFont extends AbstractBitmapFont {\n  constructor(options, url) {\n    super();\n    const { textures, data } = options;\n    Object.keys(data.pages).forEach((key) => {\n      const pageData = data.pages[parseInt(key, 10)];\n      const texture = textures[pageData.id];\n      this.pages.push({ texture });\n    });\n    Object.keys(data.chars).forEach((key) => {\n      const charData = data.chars[key];\n      const {\n        frame: textureFrame,\n        source: textureSource,\n        rotate: textureRotate\n      } = textures[charData.page];\n      const frame = groupD8.transformRectCoords(\n        charData,\n        textureFrame,\n        textureRotate,\n        new Rectangle()\n      );\n      const texture = new Texture({\n        frame,\n        orig: new Rectangle(0, 0, charData.width, charData.height),\n        source: textureSource,\n        rotate: textureRotate\n      });\n      this.chars[key] = {\n        id: key.codePointAt(0),\n        xOffset: charData.xOffset,\n        yOffset: charData.yOffset,\n        xAdvance: charData.xAdvance,\n        kerning: charData.kerning ?? {},\n        texture\n      };\n    });\n    this.baseRenderedFontSize = data.fontSize;\n    this.baseMeasurementFontSize = data.fontSize;\n    this.fontMetrics = {\n      ascent: 0,\n      descent: 0,\n      fontSize: data.fontSize\n    };\n    this.baseLineOffset = data.baseLineOffset;\n    this.lineHeight = data.lineHeight;\n    this.fontFamily = data.fontFamily;\n    this.distanceField = data.distanceField ?? {\n      type: \"none\",\n      range: 0\n    };\n    this.url = url;\n  }\n  /** Destroys the BitmapFont object. */\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.pages.length; i++) {\n      const { texture } = this.pages[i];\n      texture.destroy(true);\n    }\n    this.pages = null;\n  }\n  /**\n   * Generates and installs a bitmap font with the specified options.\n   * The font will be cached and available for use in BitmapText objects.\n   * @param options - Setup options for font generation\n   * @returns Installed font instance\n   * @example\n   * ```ts\n   * // Install a basic font\n   * BitmapFont.install({\n   *     name: 'Title',\n   *     style: {\n   *         fontFamily: 'Arial',\n   *         fontSize: 32,\n   *         fill: '#ffffff'\n   *     }\n   * });\n   *\n   * // Install with advanced options\n   * BitmapFont.install({\n   *     name: 'Custom',\n   *     style: {\n   *         fontFamily: 'Arial',\n   *         fontSize: 24,\n   *         fill: '#00ff00',\n   *         stroke: { color: '#000000', width: 2 }\n   *     },\n   *     chars: [['a', 'z'], ['A', 'Z'], ['0', '9']],\n   *     resolution: 2,\n   *     padding: 4,\n   *     textureStyle: {\n   *         scaleMode: 'nearest'\n   *     }\n   * });\n   * ```\n   */\n  static install(options) {\n    BitmapFontManager.install(options);\n  }\n  /**\n   * Uninstalls a bitmap font from the cache.\n   * This frees up memory and resources associated with the font.\n   * @param name - The name of the bitmap font to uninstall\n   * @example\n   * ```ts\n   * // Remove a font when it's no longer needed\n   * BitmapFont.uninstall('MyCustomFont');\n   *\n   * // Clear multiple fonts\n   * ['Title', 'Heading', 'Body'].forEach(BitmapFont.uninstall);\n   * ```\n   */\n  static uninstall(name) {\n    BitmapFontManager.uninstall(name);\n  }\n}\n\nexport { BitmapFont };\n//# sourceMappingURL=BitmapFont.mjs.map\n","\"use strict\";\nconst bitmapFontTextParser = {\n  test(data) {\n    return typeof data === \"string\" && data.startsWith(\"info face=\");\n  },\n  parse(txt) {\n    const items = txt.match(/^[a-z]+\\s+.+$/gm);\n    const rawData = {\n      info: [],\n      common: [],\n      page: [],\n      char: [],\n      chars: [],\n      kerning: [],\n      kernings: [],\n      distanceField: []\n    };\n    for (const i in items) {\n      const name = items[i].match(/^[a-z]+/gm)[0];\n      const attributeList = items[i].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm);\n      const itemData = {};\n      for (const i2 in attributeList) {\n        const split = attributeList[i2].split(\"=\");\n        const key = split[0];\n        const strValue = split[1].replace(/\"/gm, \"\");\n        const floatValue = parseFloat(strValue);\n        const value = isNaN(floatValue) ? strValue : floatValue;\n        itemData[key] = value;\n      }\n      rawData[name].push(itemData);\n    }\n    const font = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const [info] = rawData.info;\n    const [common] = rawData.common;\n    const [distanceField] = rawData.distanceField ?? [];\n    if (distanceField) {\n      font.distanceField = {\n        range: parseInt(distanceField.distanceRange, 10),\n        type: distanceField.fieldType\n      };\n    }\n    font.fontSize = parseInt(info.size, 10);\n    font.fontFamily = info.face;\n    font.lineHeight = parseInt(common.lineHeight, 10);\n    const page = rawData.page;\n    for (let i = 0; i < page.length; i++) {\n      font.pages.push({\n        id: parseInt(page[i].id, 10) || 0,\n        file: page[i].file\n      });\n    }\n    const map = {};\n    font.baseLineOffset = font.lineHeight - parseInt(common.base, 10);\n    const char = rawData.char;\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.id, 10);\n      let letter = charNode.letter ?? charNode.char ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      font.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.page, 10) || 0,\n        x: parseInt(charNode.x, 10),\n        y: parseInt(charNode.y, 10),\n        width: parseInt(charNode.width, 10),\n        height: parseInt(charNode.height, 10),\n        xOffset: parseInt(charNode.xoffset, 10),\n        yOffset: parseInt(charNode.yoffset, 10),\n        xAdvance: parseInt(charNode.xadvance, 10),\n        kerning: {}\n      };\n    }\n    const kerning = rawData.kerning || [];\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].first, 10);\n      const second = parseInt(kerning[i].second, 10);\n      const amount = parseInt(kerning[i].amount, 10);\n      font.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return font;\n  }\n};\n\nexport { bitmapFontTextParser };\n//# sourceMappingURL=bitmapFontTextParser.mjs.map\n","\"use strict\";\nconst bitmapFontXMLParser = {\n  test(data) {\n    const xml = data;\n    return typeof xml !== \"string\" && \"getElementsByTagName\" in xml && xml.getElementsByTagName(\"page\").length && xml.getElementsByTagName(\"info\")[0].getAttribute(\"face\") !== null;\n  },\n  parse(xml) {\n    const data = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const info = xml.getElementsByTagName(\"info\")[0];\n    const common = xml.getElementsByTagName(\"common\")[0];\n    const distanceField = xml.getElementsByTagName(\"distanceField\")[0];\n    if (distanceField) {\n      data.distanceField = {\n        type: distanceField.getAttribute(\"fieldType\"),\n        range: parseInt(distanceField.getAttribute(\"distanceRange\"), 10)\n      };\n    }\n    const page = xml.getElementsByTagName(\"page\");\n    const char = xml.getElementsByTagName(\"char\");\n    const kerning = xml.getElementsByTagName(\"kerning\");\n    data.fontSize = parseInt(info.getAttribute(\"size\"), 10);\n    data.fontFamily = info.getAttribute(\"face\");\n    data.lineHeight = parseInt(common.getAttribute(\"lineHeight\"), 10);\n    for (let i = 0; i < page.length; i++) {\n      data.pages.push({\n        id: parseInt(page[i].getAttribute(\"id\"), 10) || 0,\n        file: page[i].getAttribute(\"file\")\n      });\n    }\n    const map = {};\n    data.baseLineOffset = data.lineHeight - parseInt(common.getAttribute(\"base\"), 10);\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.getAttribute(\"id\"), 10);\n      let letter = charNode.getAttribute(\"letter\") ?? charNode.getAttribute(\"char\") ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      data.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.getAttribute(\"page\"), 10) || 0,\n        x: parseInt(charNode.getAttribute(\"x\"), 10),\n        y: parseInt(charNode.getAttribute(\"y\"), 10),\n        width: parseInt(charNode.getAttribute(\"width\"), 10),\n        height: parseInt(charNode.getAttribute(\"height\"), 10),\n        // render deets..\n        xOffset: parseInt(charNode.getAttribute(\"xoffset\"), 10),\n        yOffset: parseInt(charNode.getAttribute(\"yoffset\"), 10),\n        // + baseLineOffset,\n        xAdvance: parseInt(charNode.getAttribute(\"xadvance\"), 10),\n        kerning: {}\n      };\n    }\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].getAttribute(\"first\"), 10);\n      const second = parseInt(kerning[i].getAttribute(\"second\"), 10);\n      const amount = parseInt(kerning[i].getAttribute(\"amount\"), 10);\n      data.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return data;\n  }\n};\n\nexport { bitmapFontXMLParser };\n//# sourceMappingURL=bitmapFontXMLParser.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { bitmapFontXMLParser } from './bitmapFontXMLParser.mjs';\n\n\"use strict\";\nconst bitmapFontXMLStringParser = {\n  test(data) {\n    if (typeof data === \"string\" && data.includes(\"<font>\")) {\n      return bitmapFontXMLParser.test(DOMAdapter.get().parseXML(data));\n    }\n    return false;\n  },\n  parse(data) {\n    return bitmapFontXMLParser.parse(DOMAdapter.get().parseXML(data));\n  }\n};\n\nexport { bitmapFontXMLStringParser };\n//# sourceMappingURL=bitmapFontXMLStringParser.mjs.map\n","import { LoaderParserPriority } from '../../../assets/loader/parsers/LoaderParser.mjs';\nimport { copySearchParams } from '../../../assets/utils/copySearchParams.mjs';\nimport { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { BitmapFont } from '../BitmapFont.mjs';\nimport { bitmapFontTextParser } from './bitmapFontTextParser.mjs';\nimport { bitmapFontXMLStringParser } from './bitmapFontXMLStringParser.mjs';\n\n\"use strict\";\nconst validExtensions = [\".xml\", \".fnt\"];\nconst bitmapFontCachePlugin = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheBitmapFont\"\n  },\n  test: (asset) => asset instanceof BitmapFont,\n  getCacheableAssets(keys, asset) {\n    const out = {};\n    keys.forEach((key) => {\n      out[key] = asset;\n      out[`${key}-bitmap`] = asset;\n    });\n    out[`${asset.fontFamily}-bitmap`] = asset;\n    return out;\n  }\n};\nconst loadBitmapFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Normal\n  },\n  /** used for deprecation purposes */\n  name: \"loadBitmapFont\",\n  id: \"bitmap-font\",\n  test(url) {\n    return validExtensions.includes(path.extname(url).toLowerCase());\n  },\n  async testParse(data) {\n    return bitmapFontTextParser.test(data) || bitmapFontXMLStringParser.test(data);\n  },\n  async parse(asset, data, loader) {\n    const bitmapFontData = bitmapFontTextParser.test(asset) ? bitmapFontTextParser.parse(asset) : bitmapFontXMLStringParser.parse(asset);\n    const { src } = data;\n    const { pages } = bitmapFontData;\n    const textureUrls = [];\n    const textureOptions = bitmapFontData.distanceField ? {\n      scaleMode: \"linear\",\n      alphaMode: \"premultiply-alpha-on-upload\",\n      autoGenerateMipmaps: false,\n      resolution: 1\n    } : {};\n    for (let i = 0; i < pages.length; ++i) {\n      const pageFile = pages[i].file;\n      let imagePath = path.join(path.dirname(src), pageFile);\n      imagePath = copySearchParams(imagePath, src);\n      textureUrls.push({\n        src: imagePath,\n        data: textureOptions\n      });\n    }\n    const loadedTextures = await loader.load(textureUrls);\n    const textures = textureUrls.map((url) => loadedTextures[url.src]);\n    const bitmapFont = new BitmapFont({\n      data: bitmapFontData,\n      textures\n    }, src);\n    return bitmapFont;\n  },\n  async load(url, _options) {\n    const response = await DOMAdapter.get().fetch(url);\n    return await response.text();\n  },\n  async unload(bitmapFont, _resolvedAsset, loader) {\n    await Promise.all(bitmapFont.pages.map((page) => loader.unload(page.texture.source._sourceOrigin)));\n    bitmapFont.destroy();\n  }\n};\n\nexport { bitmapFontCachePlugin, loadBitmapFont };\n//# sourceMappingURL=loadBitmapFont.mjs.map\n","\"use strict\";\nclass BackgroundLoader {\n  /**\n   * @param loader\n   * @param verbose - should the loader log to the console\n   */\n  constructor(loader, verbose = false) {\n    this._loader = loader;\n    this._assetList = [];\n    this._isLoading = false;\n    this._maxConcurrent = 1;\n    this.verbose = verbose;\n  }\n  /**\n   * Adds assets to the background loading queue. Assets are loaded one at a time to minimize\n   * performance impact.\n   * @param assetUrls - Array of resolved assets to load in the background\n   * @example\n   * ```ts\n   * // Add assets to background load queue\n   * backgroundLoader.add([\n   *     { src: 'images/level1/bg.png' },\n   *     { src: 'images/level1/characters.json' }\n   * ]);\n   *\n   * // Assets will load sequentially in the background\n   * // The loader automatically pauses when high-priority loads occur\n   * // e.g. Assets.load() is called\n   * ```\n   * @remarks\n   * - Assets are loaded one at a time to minimize performance impact\n   * - Loading automatically pauses when Assets.load() is called\n   * - No progress tracking is available for background loading\n   * - Assets are cached as they complete loading\n   * @internal\n   */\n  add(assetUrls) {\n    assetUrls.forEach((a) => {\n      this._assetList.push(a);\n    });\n    if (this.verbose) {\n      console.log(\"[BackgroundLoader] assets: \", this._assetList);\n    }\n    if (this._isActive && !this._isLoading) {\n      void this._next();\n    }\n  }\n  /**\n   * Loads the next set of assets. Will try to load as many assets as it can at the same time.\n   *\n   * The max assets it will try to load at one time will be 4.\n   */\n  async _next() {\n    if (this._assetList.length && this._isActive) {\n      this._isLoading = true;\n      const toLoad = [];\n      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);\n      for (let i = 0; i < toLoadAmount; i++) {\n        toLoad.push(this._assetList.pop());\n      }\n      await this._loader.load(toLoad);\n      this._isLoading = false;\n      void this._next();\n    }\n  }\n  /**\n   * Controls the active state of the background loader. When active, the loader will\n   * continue processing its queue. When inactive, loading is paused.\n   * @returns Whether the background loader is currently active\n   * @example\n   * ```ts\n   * // Pause background loading\n   * backgroundLoader.active = false;\n   *\n   * // Resume background loading\n   * backgroundLoader.active = true;\n   *\n   * // Check current state\n   * console.log(backgroundLoader.active); // true/false\n   *\n   * // Common use case: Pause during intensive operations\n   * backgroundLoader.active = false;  // Pause background loading\n   * ... // Perform high-priority tasks\n   * backgroundLoader.active = true;   // Resume background loading\n   * ```\n   * @remarks\n   * - Setting to true resumes loading immediately\n   * - Setting to false pauses after current asset completes\n   * - Background loading is automatically paused during `Assets.load()`\n   * - Assets already being loaded will complete even when set to false\n   */\n  get active() {\n    return this._isActive;\n  }\n  set active(value) {\n    if (this._isActive === value)\n      return;\n    this._isActive = value;\n    if (value && !this._isLoading) {\n      void this._next();\n    }\n  }\n}\n\nexport { BackgroundLoader };\n//# sourceMappingURL=BackgroundLoader.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\n\n\"use strict\";\nconst cacheTextureArray = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheTextureArray\"\n  },\n  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof Texture),\n  getCacheableAssets: (keys, asset) => {\n    const out = {};\n    keys.forEach((key) => {\n      asset.forEach((item, i) => {\n        out[key + (i === 0 ? \"\" : i + 1)] = item;\n      });\n    });\n    return out;\n  }\n};\n\nexport { cacheTextureArray };\n//# sourceMappingURL=cacheTextureArray.mjs.map\n","\"use strict\";\nasync function testImageFormat(imageData) {\n  if (\"Image\" in globalThis) {\n    return new Promise((resolve) => {\n      const image = new Image();\n      image.onload = () => {\n        resolve(true);\n      };\n      image.onerror = () => {\n        resolve(false);\n      };\n      image.src = imageData;\n    });\n  }\n  if (\"createImageBitmap\" in globalThis && \"fetch\" in globalThis) {\n    try {\n      const blob = await (await fetch(imageData)).blob();\n      await createImageBitmap(blob);\n    } catch (_e) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport { testImageFormat };\n//# sourceMappingURL=testImageFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectAvif = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 1\n  },\n  test: async () => testImageFormat(\n    // eslint-disable-next-line max-len\n    \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=\"\n  ),\n  add: async (formats) => [...formats, \"avif\"],\n  remove: async (formats) => formats.filter((f) => f !== \"avif\")\n};\n\nexport { detectAvif };\n//# sourceMappingURL=detectAvif.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst imageFormats = [\"png\", \"jpg\", \"jpeg\"];\nconst detectDefaults = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: -1\n  },\n  test: () => Promise.resolve(true),\n  add: async (formats) => [...formats, ...imageFormats],\n  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))\n};\n\nexport { detectDefaults };\n//# sourceMappingURL=detectDefaults.mjs.map\n","\"use strict\";\nconst inWorker = \"WorkerGlobalScope\" in globalThis && globalThis instanceof globalThis.WorkerGlobalScope;\nfunction testVideoFormat(mimeType) {\n  if (inWorker) {\n    return false;\n  }\n  const video = document.createElement(\"video\");\n  return video.canPlayType(mimeType) !== \"\";\n}\n\nexport { testVideoFormat };\n//# sourceMappingURL=testVideoFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectMp4 = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/mp4\"),\n  add: async (formats) => [...formats, \"mp4\", \"m4v\"],\n  remove: async (formats) => formats.filter((f) => f !== \"mp4\" && f !== \"m4v\")\n};\n\nexport { detectMp4 };\n//# sourceMappingURL=detectMp4.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectOgv = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/ogg\"),\n  add: async (formats) => [...formats, \"ogv\"],\n  remove: async (formats) => formats.filter((f) => f !== \"ogv\")\n};\n\nexport { detectOgv };\n//# sourceMappingURL=detectOgv.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectWebm = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/webm\"),\n  add: async (formats) => [...formats, \"webm\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webm\")\n};\n\nexport { detectWebm };\n//# sourceMappingURL=detectWebm.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectWebp = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testImageFormat(\n    \"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\"\n  ),\n  add: async (formats) => [...formats, \"webp\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webp\")\n};\n\nexport { detectWebp };\n//# sourceMappingURL=detectWebp.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { path } from '../../utils/path.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\n\n\"use strict\";\nclass Loader {\n  constructor() {\n    this._parsers = [];\n    this._parsersValidated = false;\n    /**\n     * All loader parsers registered\n     * @type {assets.LoaderParser[]}\n     */\n    this.parsers = new Proxy(this._parsers, {\n      set: (target, key, value) => {\n        this._parsersValidated = false;\n        target[key] = value;\n        return true;\n      }\n    });\n    /** Cache loading promises that ae currently active */\n    this.promiseCache = {};\n  }\n  /** function used for testing */\n  reset() {\n    this._parsersValidated = false;\n    this.promiseCache = {};\n  }\n  /**\n   * Used internally to generate a promise for the asset to be loaded.\n   * @param url - The URL to be loaded\n   * @param data - any custom additional information relevant to the asset being loaded\n   * @returns - a promise that will resolve to an Asset for example a Texture of a JSON object\n   */\n  _getLoadPromiseAndParser(url, data) {\n    const result = {\n      promise: null,\n      parser: null\n    };\n    result.promise = (async () => {\n      let asset = null;\n      let parser = null;\n      if (data.parser || data.loadParser) {\n        parser = this._parserHash[data.parser || data.loadParser];\n        if (data.loadParser) {\n          warn(\n            `[Assets] \"loadParser\" is deprecated, use \"parser\" instead for ${url}`\n          );\n        }\n        if (!parser) {\n          warn(\n            `[Assets] specified load parser \"${data.parser || data.loadParser}\" not found while loading ${url}`\n          );\n        }\n      }\n      if (!parser) {\n        for (let i = 0; i < this.parsers.length; i++) {\n          const parserX = this.parsers[i];\n          if (parserX.load && parserX.test?.(url, data, this)) {\n            parser = parserX;\n            break;\n          }\n        }\n        if (!parser) {\n          warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);\n          return null;\n        }\n      }\n      asset = await parser.load(url, data, this);\n      result.parser = parser;\n      for (let i = 0; i < this.parsers.length; i++) {\n        const parser2 = this.parsers[i];\n        if (parser2.parse) {\n          if (parser2.parse && await parser2.testParse?.(asset, data, this)) {\n            asset = await parser2.parse(asset, data, this) || asset;\n            result.parser = parser2;\n          }\n        }\n      }\n      return asset;\n    })();\n    return result;\n  }\n  async load(assetsToLoadIn, onProgress) {\n    if (!this._parsersValidated) {\n      this._validateParsers();\n    }\n    let count = 0;\n    const assets = {};\n    const singleAsset = isSingleItem(assetsToLoadIn);\n    const assetsToLoad = convertToList(assetsToLoadIn, (item) => ({\n      alias: [item],\n      src: item,\n      data: {}\n    }));\n    const total = assetsToLoad.length;\n    const promises = assetsToLoad.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      if (!assets[asset.src]) {\n        try {\n          if (!this.promiseCache[url]) {\n            this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);\n          }\n          assets[asset.src] = await this.promiseCache[url].promise;\n          if (onProgress)\n            onProgress(++count / total);\n        } catch (e) {\n          delete this.promiseCache[url];\n          delete assets[asset.src];\n          throw new Error(`[Loader.load] Failed to load ${url}.\n${e}`);\n        }\n      }\n    });\n    await Promise.all(promises);\n    return singleAsset ? assets[assetsToLoad[0].src] : assets;\n  }\n  /**\n   * Unloads one or more assets. Any unloaded assets will be destroyed, freeing up memory for your app.\n   * The parser that created the asset, will be the one that unloads it.\n   * @example\n   * // Single asset:\n   * const asset = await Loader.load('cool.png');\n   *\n   * await Loader.unload('cool.png');\n   *\n   * console.log(asset.destroyed); // true\n   * @param assetsToUnloadIn - urls that you want to unload, or a single one!\n   */\n  async unload(assetsToUnloadIn) {\n    const assetsToUnload = convertToList(assetsToUnloadIn, (item) => ({\n      alias: [item],\n      src: item\n    }));\n    const promises = assetsToUnload.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      const loadPromise = this.promiseCache[url];\n      if (loadPromise) {\n        const loadedAsset = await loadPromise.promise;\n        delete this.promiseCache[url];\n        await loadPromise.parser?.unload?.(loadedAsset, asset, this);\n      }\n    });\n    await Promise.all(promises);\n  }\n  /** validates our parsers, right now it only checks for name conflicts but we can add more here as required! */\n  _validateParsers() {\n    this._parsersValidated = true;\n    this._parserHash = this._parsers.filter((parser) => parser.name || parser.id).reduce((hash, parser) => {\n      if (!parser.name && !parser.id) {\n        warn(`[Assets] parser should have an id`);\n      } else if (hash[parser.name] || hash[parser.id]) {\n        warn(`[Assets] parser id conflict \"${parser.id}\"`);\n      }\n      hash[parser.name] = parser;\n      if (parser.id)\n        hash[parser.id] = parser;\n      return hash;\n    }, {});\n  }\n}\n\nexport { Loader };\n//# sourceMappingURL=Loader.mjs.map\n","\"use strict\";\nfunction checkDataUrl(url, mimes) {\n  if (Array.isArray(mimes)) {\n    for (const mime of mimes) {\n      if (url.startsWith(`data:${mime}`))\n        return true;\n    }\n    return false;\n  }\n  return url.startsWith(`data:${mimes}`);\n}\n\nexport { checkDataUrl };\n//# sourceMappingURL=checkDataUrl.mjs.map\n","import { path } from '../../utils/path.mjs';\n\n\"use strict\";\nfunction checkExtension(url, extension) {\n  const tempURL = url.split(\"?\")[0];\n  const ext = path.extname(tempURL).toLowerCase();\n  if (Array.isArray(extension)) {\n    return extension.includes(ext);\n  }\n  return ext === extension;\n}\n\nexport { checkExtension };\n//# sourceMappingURL=checkExtension.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validJSONExtension = \".json\";\nconst validJSONMIME = \"application/json\";\nconst loadJson = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  /** used for deprecation purposes */\n  name: \"loadJson\",\n  id: \"json\",\n  test(url) {\n    return checkDataUrl(url, validJSONMIME) || checkExtension(url, validJSONExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const json = await response.json();\n    return json;\n  }\n};\n\nexport { loadJson };\n//# sourceMappingURL=loadJson.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validTXTExtension = \".txt\";\nconst validTXTMIME = \"text/plain\";\nconst loadTxt = {\n  /** used for deprecation purposes */\n  name: \"loadTxt\",\n  id: \"text\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadTxt\"\n  },\n  test(url) {\n    return checkDataUrl(url, validTXTMIME) || checkExtension(url, validTXTExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const txt = await response.text();\n    return txt;\n  }\n};\n\nexport { loadTxt };\n//# sourceMappingURL=loadTxt.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { Cache } from '../../cache/Cache.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validWeights = [\n  \"normal\",\n  \"bold\",\n  \"100\",\n  \"200\",\n  \"300\",\n  \"400\",\n  \"500\",\n  \"600\",\n  \"700\",\n  \"800\",\n  \"900\"\n];\nconst validFontExtensions = [\".ttf\", \".otf\", \".woff\", \".woff2\"];\nconst validFontMIMEs = [\n  \"font/ttf\",\n  \"font/otf\",\n  \"font/woff\",\n  \"font/woff2\"\n];\nconst CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;\nfunction getFontFamilyName(url) {\n  const ext = path.extname(url);\n  const name = path.basename(url, ext);\n  const nameWithSpaces = name.replace(/(-|_)/g, \" \");\n  const nameTokens = nameWithSpaces.toLowerCase().split(\" \").map((word) => word.charAt(0).toUpperCase() + word.slice(1));\n  let valid = nameTokens.length > 0;\n  for (const token of nameTokens) {\n    if (!token.match(CSS_IDENT_TOKEN_REGEX)) {\n      valid = false;\n      break;\n    }\n  }\n  let fontFamilyName = nameTokens.join(\" \");\n  if (!valid) {\n    fontFamilyName = `\"${fontFamilyName.replace(/[\\\\\"]/g, \"\\\\$&\")}\"`;\n  }\n  return fontFamilyName;\n}\nconst validURICharactersRegex = /^[0-9A-Za-z%:/?#\\[\\]@!\\$&'()\\*\\+,;=\\-._~]*$/;\nfunction encodeURIWhenNeeded(uri) {\n  if (validURICharactersRegex.test(uri)) {\n    return uri;\n  }\n  return encodeURI(uri);\n}\nconst loadWebFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  /** used for deprecation purposes */\n  name: \"loadWebFont\",\n  id: \"web-font\",\n  test(url) {\n    return checkDataUrl(url, validFontMIMEs) || checkExtension(url, validFontExtensions);\n  },\n  async load(url, options) {\n    const fonts = DOMAdapter.get().getFontFaceSet();\n    if (fonts) {\n      const fontFaces = [];\n      const name = options.data?.family ?? getFontFamilyName(url);\n      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? [\"normal\"];\n      const data = options.data ?? {};\n      for (let i = 0; i < weights.length; i++) {\n        const weight = weights[i];\n        const font = new FontFace(name, `url(${encodeURIWhenNeeded(url)})`, {\n          ...data,\n          weight\n        });\n        await font.load();\n        fonts.add(font);\n        fontFaces.push(font);\n      }\n      if (Cache.has(`${name}-and-url`)) {\n        const cached = Cache.get(`${name}-and-url`);\n        cached.entries.push({ url, faces: fontFaces });\n      } else {\n        Cache.set(`${name}-and-url`, {\n          entries: [{ url, faces: fontFaces }]\n        });\n      }\n      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;\n    }\n    warn(\"[loadWebFont] FontFace API is not supported. Skipping loading font\");\n    return null;\n  },\n  unload(font) {\n    const fonts = Array.isArray(font) ? font : [font];\n    const fontFamily = fonts[0].family;\n    const cached = Cache.get(`${fontFamily}-and-url`);\n    const entry = cached.entries.find((f) => f.faces.some((t) => fonts.indexOf(t) !== -1));\n    entry.faces = entry.faces.filter((f) => fonts.indexOf(f) === -1);\n    if (entry.faces.length === 0) {\n      cached.entries = cached.entries.filter((f) => f !== entry);\n    }\n    fonts.forEach((t) => {\n      DOMAdapter.get().getFontFaceSet().delete(t);\n    });\n    if (cached.entries.length === 0) {\n      Cache.remove(`${fontFamily}-and-url`);\n    }\n  }\n};\n\nexport { getFontFamilyName, loadWebFont };\n//# sourceMappingURL=loadWebFont.mjs.map\n","import { Resolver } from '../../assets/resolver/Resolver.mjs';\n\n\"use strict\";\nfunction getResolutionOfUrl(url, defaultValue = 1) {\n  const resolution = Resolver.RETINA_PREFIX?.exec(url);\n  if (resolution) {\n    return parseFloat(resolution[1]);\n  }\n  return defaultValue;\n}\n\nexport { getResolutionOfUrl };\n//# sourceMappingURL=getResolutionOfUrl.mjs.map\n","import { Texture } from '../../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../../../utils/logging/warn.mjs';\nimport { Cache } from '../../../../cache/Cache.mjs';\n\n\"use strict\";\nfunction createTexture(source, loader, url) {\n  source.label = url;\n  source._sourceOrigin = url;\n  const texture = new Texture({\n    source,\n    label: url\n  });\n  const unload = () => {\n    delete loader.promiseCache[url];\n    if (Cache.has(url)) {\n      Cache.remove(url);\n    }\n  };\n  texture.source.once(\"destroy\", () => {\n    if (loader.promiseCache[url]) {\n      warn(\"[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource.\");\n      unload();\n    }\n  });\n  texture.once(\"destroy\", () => {\n    if (!source.destroyed) {\n      warn(\"[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture.\");\n      unload();\n    }\n  });\n  return texture;\n}\n\nexport { createTexture };\n//# sourceMappingURL=createTexture.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { GraphicsContext } from '../../../../scene/graphics/shared/GraphicsContext.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validSVGExtension = \".svg\";\nconst validSVGMIME = \"image/svg+xml\";\nconst loadSvg = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadSVG\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadSVG\",\n  id: \"svg\",\n  config: {\n    crossOrigin: \"anonymous\",\n    parseAsGraphicsContext: false\n  },\n  test(url) {\n    return checkDataUrl(url, validSVGMIME) || checkExtension(url, validSVGExtension);\n  },\n  async load(url, asset, loader) {\n    if (asset.data?.parseAsGraphicsContext ?? this.config.parseAsGraphicsContext) {\n      return loadAsGraphics(url);\n    }\n    return loadAsTexture(url, asset, loader, this.config.crossOrigin);\n  },\n  unload(asset) {\n    asset.destroy(true);\n  }\n};\nasync function loadAsTexture(url, asset, loader, crossOrigin) {\n  const response = await DOMAdapter.get().fetch(url);\n  const image = DOMAdapter.get().createImage();\n  image.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(await response.text())}`;\n  image.crossOrigin = crossOrigin;\n  await image.decode();\n  const width = asset.data?.width ?? image.width;\n  const height = asset.data?.height ?? image.height;\n  const resolution = asset.data?.resolution || getResolutionOfUrl(url);\n  const canvasWidth = Math.ceil(width * resolution);\n  const canvasHeight = Math.ceil(height * resolution);\n  const canvas = DOMAdapter.get().createCanvas(canvasWidth, canvasHeight);\n  const context = canvas.getContext(\"2d\");\n  context.imageSmoothingEnabled = true;\n  context.imageSmoothingQuality = \"high\";\n  context.drawImage(image, 0, 0, width * resolution, height * resolution);\n  const { parseAsGraphicsContext: _p, ...rest } = asset.data ?? {};\n  const base = new ImageSource({\n    resource: canvas,\n    alphaMode: \"premultiply-alpha-on-upload\",\n    resolution,\n    ...rest\n  });\n  return createTexture(base, loader, url);\n}\nasync function loadAsGraphics(url) {\n  const response = await DOMAdapter.get().fetch(url);\n  const svgSource = await response.text();\n  const context = new GraphicsContext();\n  context.svg(svgSource);\n  return context;\n}\n\nexport { loadSvg };\n//# sourceMappingURL=loadSVG.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    const WHITE_PNG = \\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=\\\";\\n    async function checkImageBitmap() {\\n      try {\\n        if (typeof createImageBitmap !== \\\"function\\\")\\n          return false;\\n        const response = await fetch(WHITE_PNG);\\n        const imageBlob = await response.blob();\\n        const imageBitmap = await createImageBitmap(imageBlob);\\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\\n      } catch (_e) {\\n        return false;\\n      }\\n    }\\n    void checkImageBitmap().then((result) => {\\n      self.postMessage(result);\\n    });\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=checkImageBitmap.worker.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    async function loadImageBitmap(url, alphaMode) {\\n      const response = await fetch(url);\\n      if (!response.ok) {\\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\\n      }\\n      const imageBlob = await response.blob();\\n      return alphaMode === \\\"premultiplied-alpha\\\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \\\"none\\\" }) : createImageBitmap(imageBlob);\\n    }\\n    self.onmessage = async (event) => {\\n      try {\\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\\n        self.postMessage({\\n          data: imageBitmap,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        }, [imageBitmap]);\\n      } catch (e) {\\n        self.postMessage({\\n          error: e,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        });\\n      }\\n    };\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=loadImageBitmap.worker.mjs.map\n","import WorkerInstance from '../../../_virtual/checkImageBitmap.worker.mjs';\nimport WorkerInstance$1 from '../../../_virtual/loadImageBitmap.worker.mjs';\n\n\"use strict\";\nlet UUID = 0;\nlet MAX_WORKERS;\nclass WorkerManagerClass {\n  constructor() {\n    /** Whether the worker manager has been initialized */\n    this._initialized = false;\n    /** Current number of created workers (used to enforce MAX_WORKERS limit) */\n    this._createdWorkers = 0;\n    this._workerPool = [];\n    this._queue = [];\n    this._resolveHash = {};\n  }\n  /**\n   * Checks if ImageBitmap is supported in the current environment.\n   *\n   * This method uses a dedicated worker to test ImageBitmap support\n   * and caches the result for subsequent calls.\n   * @returns Promise that resolves to true if ImageBitmap is supported, false otherwise\n   */\n  isImageBitmapSupported() {\n    if (this._isImageBitmapSupported !== void 0)\n      return this._isImageBitmapSupported;\n    this._isImageBitmapSupported = new Promise((resolve) => {\n      const { worker } = new WorkerInstance();\n      worker.addEventListener(\"message\", (event) => {\n        worker.terminate();\n        WorkerInstance.revokeObjectURL();\n        resolve(event.data);\n      });\n    });\n    return this._isImageBitmapSupported;\n  }\n  /**\n   * Loads an image as an ImageBitmap using a web worker.\n   * @param src - The source URL or path of the image to load\n   * @param asset - Optional resolved asset containing additional texture source options\n   * @returns Promise that resolves to the loaded ImageBitmap\n   * @example\n   * ```typescript\n   * const bitmap = await WorkerManager.loadImageBitmap('image.png');\n   * const bitmapWithOptions = await WorkerManager.loadImageBitmap('image.png', asset);\n   * ```\n   */\n  loadImageBitmap(src, asset) {\n    return this._run(\"loadImageBitmap\", [src, asset?.data?.alphaMode]);\n  }\n  /**\n   * Initializes the worker pool if not already initialized.\n   * Currently a no-op but reserved for future initialization logic.\n   */\n  async _initWorkers() {\n    if (this._initialized)\n      return;\n    this._initialized = true;\n  }\n  /**\n   * Gets an available worker from the pool or creates a new one if needed.\n   *\n   * Workers are created up to the MAX_WORKERS limit (based on navigator.hardwareConcurrency).\n   * Each worker is configured with a message handler for processing results.\n   * @returns Available worker or undefined if pool is at capacity and no workers are free\n   */\n  _getWorker() {\n    if (MAX_WORKERS === void 0) {\n      MAX_WORKERS = navigator.hardwareConcurrency || 4;\n    }\n    let worker = this._workerPool.pop();\n    if (!worker && this._createdWorkers < MAX_WORKERS) {\n      this._createdWorkers++;\n      worker = new WorkerInstance$1().worker;\n      worker.addEventListener(\"message\", (event) => {\n        this._complete(event.data);\n        this._returnWorker(event.target);\n        this._next();\n      });\n    }\n    return worker;\n  }\n  /**\n   * Returns a worker to the pool after completing a task.\n   * @param worker - The worker to return to the pool\n   */\n  _returnWorker(worker) {\n    this._workerPool.push(worker);\n  }\n  /**\n   * Handles completion of a worker task by resolving or rejecting the corresponding promise.\n   * @param data - Result data from the worker containing uuid, data, and optional error\n   */\n  _complete(data) {\n    if (data.error !== void 0) {\n      this._resolveHash[data.uuid].reject(data.error);\n    } else {\n      this._resolveHash[data.uuid].resolve(data.data);\n    }\n    this._resolveHash[data.uuid] = null;\n  }\n  /**\n   * Executes a task using the worker pool system.\n   *\n   * Queues the task and processes it when a worker becomes available.\n   * @param id - Identifier for the type of task to run\n   * @param args - Arguments to pass to the worker\n   * @returns Promise that resolves with the worker's result\n   */\n  async _run(id, args) {\n    await this._initWorkers();\n    const promise = new Promise((resolve, reject) => {\n      this._queue.push({ id, arguments: args, resolve, reject });\n    });\n    this._next();\n    return promise;\n  }\n  /**\n   * Processes the next item in the queue if workers are available.\n   *\n   * This method is called after worker initialization and when workers\n   * complete tasks to continue processing the queue.\n   */\n  _next() {\n    if (!this._queue.length)\n      return;\n    const worker = this._getWorker();\n    if (!worker) {\n      return;\n    }\n    const toDo = this._queue.pop();\n    const id = toDo.id;\n    this._resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };\n    worker.postMessage({\n      data: toDo.arguments,\n      uuid: UUID++,\n      id\n    });\n  }\n  /**\n   * Resets the worker manager, terminating all workers and clearing the queue.\n   *\n   * This method:\n   * - Terminates all active workers\n   * - Rejects all pending promises with an error\n   * - Clears all internal state\n   * - Resets initialization flags\n   *\n   * This should be called when the worker manager is no longer needed\n   * to prevent memory leaks and ensure proper cleanup.\n   * @example\n   * ```typescript\n   * // Clean up when shutting down\n   * WorkerManager.reset();\n   * ```\n   */\n  reset() {\n    this._workerPool.forEach((worker) => worker.terminate());\n    this._workerPool.length = 0;\n    Object.values(this._resolveHash).forEach(({ reject }) => {\n      reject?.(new Error(\"WorkerManager destroyed\"));\n    });\n    this._resolveHash = {};\n    this._queue.length = 0;\n    this._initialized = false;\n    this._createdWorkers = 0;\n  }\n}\nconst WorkerManager = new WorkerManagerClass();\n\nexport { WorkerManager };\n//# sourceMappingURL=WorkerManager.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { WorkerManager } from '../../workers/WorkerManager.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validImageExtensions = [\".jpeg\", \".jpg\", \".png\", \".webp\", \".avif\"];\nconst validImageMIMEs = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/webp\",\n  \"image/avif\"\n];\nasync function loadImageBitmap(url, asset) {\n  const response = await DOMAdapter.get().fetch(url);\n  if (!response.ok) {\n    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n  }\n  const imageBlob = await response.blob();\n  return asset?.data?.alphaMode === \"premultiplied-alpha\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \"none\" }) : createImageBitmap(imageBlob);\n}\nconst loadTextures = {\n  /** used for deprecation purposes */\n  name: \"loadTextures\",\n  id: \"texture\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadTextures\"\n  },\n  config: {\n    preferWorkers: true,\n    preferCreateImageBitmap: true,\n    crossOrigin: \"anonymous\"\n  },\n  test(url) {\n    return checkDataUrl(url, validImageMIMEs) || checkExtension(url, validImageExtensions);\n  },\n  async load(url, asset, loader) {\n    let src = null;\n    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {\n      if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported()) {\n        src = await WorkerManager.loadImageBitmap(url, asset);\n      } else {\n        src = await loadImageBitmap(url, asset);\n      }\n    } else {\n      src = await new Promise((resolve, reject) => {\n        src = DOMAdapter.get().createImage();\n        src.crossOrigin = this.config.crossOrigin;\n        src.src = url;\n        if (src.complete) {\n          resolve(src);\n        } else {\n          src.onload = () => {\n            resolve(src);\n          };\n          src.onerror = reject;\n        }\n      });\n    }\n    const base = new ImageSource({\n      resource: src,\n      alphaMode: \"premultiply-alpha-on-upload\",\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      ...asset.data\n    });\n    return createTexture(base, loader, url);\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { loadImageBitmap, loadTextures };\n//# sourceMappingURL=loadTextures.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { VideoSource } from '../../../../rendering/renderers/shared/texture/sources/VideoSource.mjs';\nimport { detectVideoAlphaMode } from '../../../../utils/browser/detectVideoAlphaMode.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { testVideoFormat } from '../../../detections/utils/testVideoFormat.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst potentialVideoExtensions = [\".mp4\", \".m4v\", \".webm\", \".ogg\", \".ogv\", \".h264\", \".avi\", \".mov\"];\nlet validVideoExtensions;\nlet validVideoMIMEs;\nfunction crossOrigin(element, url, crossorigin) {\n  if (crossorigin === void 0 && !url.startsWith(\"data:\")) {\n    element.crossOrigin = determineCrossOrigin(url);\n  } else if (crossorigin !== false) {\n    element.crossOrigin = typeof crossorigin === \"string\" ? crossorigin : \"anonymous\";\n  }\n}\nfunction preloadVideo(element) {\n  return new Promise((resolve, reject) => {\n    element.addEventListener(\"canplaythrough\", loaded);\n    element.addEventListener(\"error\", error);\n    element.load();\n    function loaded() {\n      cleanup();\n      resolve();\n    }\n    function error(err) {\n      cleanup();\n      reject(err);\n    }\n    function cleanup() {\n      element.removeEventListener(\"canplaythrough\", loaded);\n      element.removeEventListener(\"error\", error);\n    }\n  });\n}\nfunction determineCrossOrigin(url, loc = globalThis.location) {\n  if (url.startsWith(\"data:\")) {\n    return \"\";\n  }\n  loc || (loc = globalThis.location);\n  const parsedUrl = new URL(url, document.baseURI);\n  if (parsedUrl.hostname !== loc.hostname || parsedUrl.port !== loc.port || parsedUrl.protocol !== loc.protocol) {\n    return \"anonymous\";\n  }\n  return \"\";\n}\nfunction getBrowserSupportedVideoExtensions() {\n  const supportedExtensions = [];\n  const supportedMimes = [];\n  for (const ext of potentialVideoExtensions) {\n    const mimeType = VideoSource.MIME_TYPES[ext.substring(1)] || `video/${ext.substring(1)}`;\n    if (testVideoFormat(mimeType)) {\n      supportedExtensions.push(ext);\n      if (!supportedMimes.includes(mimeType)) {\n        supportedMimes.push(mimeType);\n      }\n    }\n  }\n  return {\n    validVideoExtensions: supportedExtensions,\n    validVideoMime: supportedMimes\n  };\n}\nconst loadVideoTextures = {\n  /** used for deprecation purposes */\n  name: \"loadVideo\",\n  id: \"video\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    name: \"loadVideo\"\n  },\n  test(url) {\n    if (!validVideoExtensions || !validVideoMIMEs) {\n      const { validVideoExtensions: ve, validVideoMime: vm } = getBrowserSupportedVideoExtensions();\n      validVideoExtensions = ve;\n      validVideoMIMEs = vm;\n    }\n    const isValidDataUrl = checkDataUrl(url, validVideoMIMEs);\n    const isValidExtension = checkExtension(url, validVideoExtensions);\n    return isValidDataUrl || isValidExtension;\n  },\n  async load(url, asset, loader) {\n    const options = {\n      ...VideoSource.defaultOptions,\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      alphaMode: asset.data?.alphaMode || await detectVideoAlphaMode(),\n      ...asset.data\n    };\n    const videoElement = document.createElement(\"video\");\n    const attributeMap = {\n      preload: options.autoLoad !== false ? \"auto\" : void 0,\n      \"webkit-playsinline\": options.playsinline !== false ? \"\" : void 0,\n      playsinline: options.playsinline !== false ? \"\" : void 0,\n      muted: options.muted === true ? \"\" : void 0,\n      loop: options.loop === true ? \"\" : void 0,\n      autoplay: options.autoPlay !== false ? \"\" : void 0\n    };\n    Object.keys(attributeMap).forEach((key) => {\n      const value = attributeMap[key];\n      if (value !== void 0)\n        videoElement.setAttribute(key, value);\n    });\n    if (options.muted === true) {\n      videoElement.muted = true;\n    }\n    crossOrigin(videoElement, url, options.crossorigin);\n    const sourceElement = document.createElement(\"source\");\n    let mime;\n    if (options.mime) {\n      mime = options.mime;\n    } else if (url.startsWith(\"data:\")) {\n      mime = url.slice(5, url.indexOf(\";\"));\n    } else if (!url.startsWith(\"blob:\")) {\n      const ext = url.split(\"?\")[0].slice(url.lastIndexOf(\".\") + 1).toLowerCase();\n      mime = VideoSource.MIME_TYPES[ext] || `video/${ext}`;\n    }\n    sourceElement.src = url;\n    if (mime) {\n      sourceElement.type = mime;\n    }\n    return new Promise((resolve) => {\n      const onCanPlay = async () => {\n        const base = new VideoSource({ ...options, resource: videoElement });\n        videoElement.removeEventListener(\"canplay\", onCanPlay);\n        if (asset.data.preload) {\n          await preloadVideo(videoElement);\n        }\n        resolve(createTexture(base, loader, url));\n      };\n      if (options.preload && !options.autoPlay) {\n        videoElement.load();\n      }\n      videoElement.addEventListener(\"canplay\", onCanPlay);\n      videoElement.appendChild(sourceElement);\n    });\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { crossOrigin, determineCrossOrigin, loadVideoTextures, preloadVideo };\n//# sourceMappingURL=loadVideoTextures.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { loadTextures } from '../../loader/parsers/textures/loadTextures.mjs';\nimport { Resolver } from '../Resolver.mjs';\n\n\"use strict\";\nconst resolveTextureUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    name: \"resolveTexture\"\n  },\n  test: loadTextures.test,\n  parse: (value) => ({\n    resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n    format: value.split(\".\").pop(),\n    src: value\n  })\n};\n\nexport { resolveTextureUrl };\n//# sourceMappingURL=resolveTextureUrl.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Resolver } from '../Resolver.mjs';\nimport { resolveTextureUrl } from './resolveTextureUrl.mjs';\n\n\"use strict\";\nconst resolveJsonUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    priority: -2,\n    name: \"resolveJson\"\n  },\n  test: (value) => Resolver.RETINA_PREFIX.test(value) && value.endsWith(\".json\"),\n  parse: resolveTextureUrl.parse\n};\n\nexport { resolveJsonUrl };\n//# sourceMappingURL=resolveJsonUrl.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\nimport { loadBitmapFont, bitmapFontCachePlugin } from '../scene/text-bitmap/asset/loadBitmapFont.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\nimport { BackgroundLoader } from './BackgroundLoader.mjs';\nimport { Cache } from './cache/Cache.mjs';\nimport { cacheTextureArray } from './cache/parsers/cacheTextureArray.mjs';\nimport { detectAvif } from './detections/parsers/detectAvif.mjs';\nimport { detectDefaults } from './detections/parsers/detectDefaults.mjs';\nimport { detectMp4 } from './detections/parsers/detectMp4.mjs';\nimport { detectOgv } from './detections/parsers/detectOgv.mjs';\nimport { detectWebm } from './detections/parsers/detectWebm.mjs';\nimport { detectWebp } from './detections/parsers/detectWebp.mjs';\nimport { Loader } from './loader/Loader.mjs';\nimport { loadJson } from './loader/parsers/loadJson.mjs';\nimport { loadTxt } from './loader/parsers/loadTxt.mjs';\nimport { loadWebFont } from './loader/parsers/loadWebFont.mjs';\nimport { loadSvg } from './loader/parsers/textures/loadSVG.mjs';\nimport { loadTextures } from './loader/parsers/textures/loadTextures.mjs';\nimport { loadVideoTextures } from './loader/parsers/textures/loadVideoTextures.mjs';\nimport { resolveJsonUrl } from './resolver/parsers/resolveJsonUrl.mjs';\nimport { resolveTextureUrl } from './resolver/parsers/resolveTextureUrl.mjs';\nimport { Resolver } from './resolver/Resolver.mjs';\nimport { convertToList } from './utils/convertToList.mjs';\nimport { isSingleItem } from './utils/isSingleItem.mjs';\n\n\"use strict\";\nclass AssetsClass {\n  constructor() {\n    this._detections = [];\n    this._initialized = false;\n    this.resolver = new Resolver();\n    this.loader = new Loader();\n    this.cache = Cache;\n    this._backgroundLoader = new BackgroundLoader(this.loader);\n    this._backgroundLoader.active = true;\n    this.reset();\n  }\n  /**\n   * Initializes the Assets class with configuration options. While not required,\n   * calling this before loading assets is recommended to set up default behaviors.\n   * @param options - Configuration options for the Assets system\n   * @example\n   * ```ts\n   * // Basic initialization (optional as Assets.load will call this automatically)\n   * await Assets.init();\n   *\n   * // With CDN configuration\n   * await Assets.init({\n   *     basePath: 'https://my-cdn.com/assets/',\n   *     defaultSearchParams: { version: '1.0.0' }\n   * });\n   *\n   * // With manifest and preferences\n   * await Assets.init({\n   *     manifest: {\n   *         bundles: [{\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'hero',\n   *                     src: 'hero.{png,webp}',\n   *                     data: { scaleMode: SCALE_MODES.NEAREST }\n   *                 },\n   *                 {\n   *                     alias: 'map',\n   *                     src: 'map.json'\n   *                 }\n   *             ]\n   *         }]\n   *     },\n   *     // Optimize for device capabilities\n   *     texturePreference: {\n   *         resolution: window.devicePixelRatio,\n   *         format: ['webp', 'png']\n   *     },\n   *     // Set global preferences\n   *     preferences: {\n   *         crossOrigin: 'anonymous',\n   *     }\n   * });\n   *\n   * // Load assets after initialization\n   * const heroTexture = await Assets.load('hero');\n   * ```\n   * @remarks\n   * - Can be called only once; subsequent calls will be ignored with a warning\n   * - Format detection runs automatically unless `skipDetections` is true\n   * - The manifest can be a URL to a JSON file or an inline object\n   * @see {@link AssetInitOptions} For all available initialization options\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async init(options = {}) {\n    if (this._initialized) {\n      warn(\"[Assets]AssetManager already initialized, did you load before calling this Assets.init()?\");\n      return;\n    }\n    this._initialized = true;\n    if (options.defaultSearchParams) {\n      this.resolver.setDefaultSearchParams(options.defaultSearchParams);\n    }\n    if (options.basePath) {\n      this.resolver.basePath = options.basePath;\n    }\n    if (options.bundleIdentifier) {\n      this.resolver.setBundleIdentifier(options.bundleIdentifier);\n    }\n    if (options.manifest) {\n      let manifest = options.manifest;\n      if (typeof manifest === \"string\") {\n        manifest = await this.load(manifest);\n      }\n      this.resolver.addManifest(manifest);\n    }\n    const resolutionPref = options.texturePreference?.resolution ?? 1;\n    const resolution = typeof resolutionPref === \"number\" ? [resolutionPref] : resolutionPref;\n    const formats = await this._detectFormats({\n      preferredFormats: options.texturePreference?.format,\n      skipDetections: options.skipDetections,\n      detections: this._detections\n    });\n    this.resolver.prefer({\n      params: {\n        format: formats,\n        resolution\n      }\n    });\n    if (options.preferences) {\n      this.setPreferences(options.preferences);\n    }\n  }\n  /**\n   * Registers assets with the Assets resolver. This method maps keys (aliases) to asset sources,\n   * allowing you to load assets using friendly names instead of direct URLs.\n   * @param assets - The unresolved assets to add to the resolver\n   * @example\n   * ```ts\n   * // Basic usage - single asset\n   * Assets.add({\n   *     alias: 'myTexture',\n   *     src: 'assets/texture.png'\n   * });\n   * const texture = await Assets.load('myTexture');\n   *\n   * // Multiple aliases for the same asset\n   * Assets.add({\n   *     alias: ['hero', 'player'],\n   *     src: 'hero.png'\n   * });\n   * const hero1 = await Assets.load('hero');\n   * const hero2 = await Assets.load('player'); // Same texture\n   *\n   * // Multiple format support\n   * Assets.add({\n   *     alias: 'character',\n   *     src: 'character.{webp,png}' // Will choose best format\n   * });\n   * Assets.add({\n   *     alias: 'character',\n   *     src: ['character.webp', 'character.png'], // Explicitly specify formats\n   * });\n   *\n   * // With texture options\n   * Assets.add({\n   *     alias: 'sprite',\n   *     src: 'sprite.png',\n   *     data: { scaleMode: 'nearest' }\n   * });\n   *\n   * // Multiple assets at once\n   * Assets.add([\n   *     { alias: 'bg', src: 'background.png' },\n   *     { alias: 'music', src: 'music.mp3' },\n   *     { alias: 'spritesheet', src: 'sheet.json', data: { ignoreMultiPack: false } }\n   * ]);\n   * ```\n   * @remarks\n   * - Assets are resolved when loaded, not when added\n   * - Multiple formats use the best available format for the browser\n   * - Adding with same alias overwrites previous definition\n   * - The `data` property is passed to the asset loader\n   * @see {@link Resolver} For details on asset resolution\n   * @see {@link LoaderParser} For asset-specific data options\n   * @advanced\n   */\n  add(assets) {\n    this.resolver.add(assets);\n  }\n  async load(urls, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const singleAsset = isSingleItem(urls);\n    const urlArray = convertToList(urls).map((url) => {\n      if (typeof url !== \"string\") {\n        const aliases = this.resolver.getAlias(url);\n        if (aliases.some((alias) => !this.resolver.hasKey(alias))) {\n          this.add(url);\n        }\n        return Array.isArray(aliases) ? aliases[0] : aliases;\n      }\n      if (!this.resolver.hasKey(url))\n        this.add({ alias: url, src: url });\n      return url;\n    });\n    const resolveResults = this.resolver.resolve(urlArray);\n    const out = await this._mapLoadToResolve(resolveResults, onProgress);\n    return singleAsset ? out[urlArray[0]] : out;\n  }\n  /**\n   * Registers a bundle of assets that can be loaded as a group. Bundles are useful for organizing\n   * assets into logical groups, such as game levels or UI screens.\n   * @param bundleId - Unique identifier for the bundle\n   * @param assets - Assets to include in the bundle\n   * @example\n   * ```ts\n   * // Add a bundle using array format\n   * Assets.addBundle('animals', [\n   *     { alias: 'bunny', src: 'bunny.png' },\n   *     { alias: 'chicken', src: 'chicken.png' },\n   *     { alias: 'thumper', src: 'thumper.png' },\n   * ]);\n   *\n   * // Add a bundle using object format\n   * Assets.addBundle('animals', {\n   *     bunny: 'bunny.png',\n   *     chicken: 'chicken.png',\n   *     thumper: 'thumper.png',\n   * });\n   *\n   * // Add a bundle with advanced options\n   * Assets.addBundle('ui', [\n   *     {\n   *         alias: 'button',\n   *         src: 'button.{webp,png}',\n   *         data: { scaleMode: 'nearest' }\n   *     },\n   *     {\n   *         alias: ['logo', 'brand'],  // Multiple aliases\n   *         src: 'logo.svg',\n   *         data: { resolution: 2 }\n   *     }\n   * ]);\n   *\n   * // Load the bundle\n   * await Assets.loadBundle('animals');\n   *\n   * // Use the loaded assets\n   * const bunny = Sprite.from('bunny');\n   * const chicken = Sprite.from('chicken');\n   * ```\n   * @remarks\n   * - Bundle IDs must be unique\n   * - Assets in bundles are not loaded until `loadBundle` is called\n   * - Bundles can be background loaded using `backgroundLoadBundle`\n   * - Assets in bundles can be loaded individually using their aliases\n   * @see {@link Assets.loadBundle} For loading bundles\n   * @see {@link Assets.backgroundLoadBundle} For background loading bundles\n   * @see {@link Assets.unloadBundle} For unloading bundles\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  addBundle(bundleId, assets) {\n    this.resolver.addBundle(bundleId, assets);\n  }\n  /**\n   * Loads a bundle or multiple bundles of assets. Bundles are collections of related assets\n   * that can be loaded together.\n   * @param bundleIds - Single bundle ID or array of bundle IDs to load\n   * @param onProgress - Optional callback for load progress (0.0 to 1.0)\n   * @returns Promise that resolves with the loaded bundle assets\n   * @example\n   * ```ts\n   * // Define bundles in your manifest\n   * const manifest = {\n   *     bundles: [\n   *         {\n   *             name: 'load-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'sunset.png',\n   *                 },\n   *                 {\n   *                     alias: 'bar',\n   *                     src: 'load-bar.{png,webp}', // use an array of individual assets\n   *                 },\n   *             ],\n   *         },\n   *         {\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'character',\n   *                     src: 'robot.png',\n   *                 },\n   *                 {\n   *                     alias: 'enemy',\n   *                     src: 'bad-guy.png',\n   *                 },\n   *             ],\n   *         },\n   *     ]\n   * };\n   *\n   * // Initialize with manifest\n   * await Assets.init({ manifest });\n   *\n   * // Or add bundles programmatically\n   * Assets.addBundle('load-screen', [...]);\n   * Assets.loadBundle('load-screen');\n   *\n   * // Load a single bundle\n   * await Assets.loadBundle('load-screen');\n   * const bg = Sprite.from('background'); // Uses alias from bundle\n   *\n   * // Load multiple bundles\n   * await Assets.loadBundle([\n   *     'load-screen',\n   *     'game-screen'\n   * ]);\n   *\n   * // Load with progress tracking\n   * await Assets.loadBundle('game-screen', (progress) => {\n   *     console.log(`Loading: ${Math.round(progress * 100)}%`);\n   * });\n   * ```\n   * @remarks\n   * - Bundle assets are cached automatically\n   * - Bundles can be pre-loaded using `backgroundLoadBundle`\n   * - Assets in bundles can be accessed by their aliases\n   * - Progress callback receives values from 0.0 to 1.0\n   * @throws {Error} If the bundle ID doesn't exist in the manifest\n   * @see {@link Assets.addBundle} For adding bundles programmatically\n   * @see {@link Assets.backgroundLoadBundle} For background loading bundles\n   * @see {@link Assets.unloadBundle} For unloading bundles\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async loadBundle(bundleIds, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    let singleAsset = false;\n    if (typeof bundleIds === \"string\") {\n      singleAsset = true;\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const out = {};\n    const keys = Object.keys(resolveResults);\n    let count = 0;\n    let total = 0;\n    const _onProgress = () => {\n      onProgress?.(++count / total);\n    };\n    const promises = keys.map((bundleId) => {\n      const resolveResult = resolveResults[bundleId];\n      const values = Object.values(resolveResult);\n      const totalAssetsToLoad = [...new Set(values.flat())];\n      total += totalAssetsToLoad.length;\n      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {\n        out[bundleId] = resolveResult2;\n      });\n    });\n    await Promise.all(promises);\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  /**\n   * Initiates background loading of assets. This allows assets to be loaded passively while other operations\n   * continue, making them instantly available when needed later.\n   *\n   * Background loading is useful for:\n   * - Preloading game levels while in a menu\n   * - Loading non-critical assets during gameplay\n   * - Reducing visible loading screens\n   * @param urls - Single URL/alias or array of URLs/aliases to load in the background\n   * @example\n   * ```ts\n   * // Basic background loading\n   * Assets.backgroundLoad('images/level2-assets.png');\n   *\n   * // Background load multiple assets\n   * Assets.backgroundLoad([\n   *     'images/sprite1.png',\n   *     'images/sprite2.png',\n   *     'images/background.png'\n   * ]);\n   *\n   * // Later, when you need the assets\n   * const textures = await Assets.load([\n   *     'images/sprite1.png',\n   *     'images/sprite2.png'\n   * ]); // Resolves immediately if background loading completed\n   * ```\n   * @remarks\n   * - Background loading happens one asset at a time to avoid blocking the main thread\n   * - Loading can be interrupted safely by calling `Assets.load()`\n   * - Assets are cached as they complete loading\n   * - No progress tracking is available for background loading\n   */\n  async backgroundLoad(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof urls === \"string\") {\n      urls = [urls];\n    }\n    const resolveResults = this.resolver.resolve(urls);\n    this._backgroundLoader.add(Object.values(resolveResults));\n  }\n  /**\n   * Initiates background loading of asset bundles. Similar to backgroundLoad but works with\n   * predefined bundles of assets.\n   *\n   * Perfect for:\n   * - Preloading level bundles during gameplay\n   * - Loading UI assets during splash screens\n   * - Preparing assets for upcoming game states\n   * @param bundleIds - Single bundle ID or array of bundle IDs to load in the background\n   * @example\n   * ```ts\n   * // Define bundles in your manifest\n   * await Assets.init({\n   *     manifest: {\n   *         bundles: [\n   *             {\n   *               name: 'home',\n   *               assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'images/home-bg.png',\n   *                 },\n   *                 {\n   *                     alias: 'logo',\n   *                     src: 'images/logo.png',\n   *                 }\n   *              ]\n   *            },\n   *            {\n   *             name: 'level-1',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'images/level1/bg.png',\n   *                 },\n   *                 {\n   *                     alias: 'sprites',\n   *                     src: 'images/level1/sprites.json'\n   *                 }\n   *             ]\n   *         }]\n   *     }\n   * });\n   *\n   * // Load the home screen assets right away\n   * await Assets.loadBundle('home');\n   * showHomeScreen();\n   *\n   * // Start background loading while showing home screen\n   * Assets.backgroundLoadBundle('level-1');\n   *\n   * // When player starts level, load completes faster\n   * await Assets.loadBundle('level-1');\n   * hideHomeScreen();\n   * startLevel();\n   * ```\n   * @remarks\n   * - Bundle assets are loaded one at a time\n   * - Loading can be interrupted safely by calling `Assets.loadBundle()`\n   * - Assets are cached as they complete loading\n   * - Requires bundles to be registered via manifest or `addBundle`\n   * @see {@link Assets.addBundle} For adding bundles programmatically\n   * @see {@link Assets.loadBundle} For immediate bundle loading\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async backgroundLoadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof bundleIds === \"string\") {\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    Object.values(resolveResults).forEach((resolveResult) => {\n      this._backgroundLoader.add(Object.values(resolveResult));\n    });\n  }\n  /**\n   * Only intended for development purposes.\n   * This will wipe the resolver and caches.\n   * You will need to reinitialize the Asset\n   * @internal\n   */\n  reset() {\n    this.resolver.reset();\n    this.loader.reset();\n    this.cache.reset();\n    this._initialized = false;\n  }\n  get(keys) {\n    if (typeof keys === \"string\") {\n      return Cache.get(keys);\n    }\n    const assets = {};\n    for (let i = 0; i < keys.length; i++) {\n      assets[i] = Cache.get(keys[i]);\n    }\n    return assets;\n  }\n  /**\n   * helper function to map resolved assets back to loaded assets\n   * @param resolveResults - the resolve results from the resolver\n   * @param onProgress - the progress callback\n   */\n  async _mapLoadToResolve(resolveResults, onProgress) {\n    const resolveArray = [...new Set(Object.values(resolveResults))];\n    this._backgroundLoader.active = false;\n    const loadedAssets = await this.loader.load(resolveArray, onProgress);\n    this._backgroundLoader.active = true;\n    const out = {};\n    resolveArray.forEach((resolveResult) => {\n      const asset = loadedAssets[resolveResult.src];\n      const keys = [resolveResult.src];\n      if (resolveResult.alias) {\n        keys.push(...resolveResult.alias);\n      }\n      keys.forEach((key) => {\n        out[key] = asset;\n      });\n      Cache.set(keys, asset);\n    });\n    return out;\n  }\n  /**\n   * Unloads assets and releases them from memory. This method ensures proper cleanup of\n   * loaded assets when they're no longer needed.\n   * @param urls - Single URL/alias or array of URLs/aliases to unload\n   * @example\n   * ```ts\n   * // Unload a single asset\n   * await Assets.unload('images/sprite.png');\n   *\n   * // Unload using an alias\n   * await Assets.unload('hero'); // Unloads the asset registered with 'hero' alias\n   *\n   * // Unload multiple assets\n   * await Assets.unload([\n   *     'images/background.png',\n   *     'images/character.png',\n   *     'hero'\n   * ]);\n   *\n   * // Unload and handle creation of new instances\n   * await Assets.unload('hero');\n   * const newHero = await Assets.load('hero'); // Will load fresh from source\n   * ```\n   * @remarks\n   * > [!WARNING]\n   * > Make sure assets aren't being used before unloading:\n   * > - Remove sprites using the texture\n   * > - Clear any references to the asset\n   * > - Textures will be destroyed and can't be used after unloading\n   * @throws {Error} If the asset is not found in cache\n   */\n  async unload(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const urlArray = convertToList(urls).map((url) => typeof url !== \"string\" ? url.src : url);\n    const resolveResults = this.resolver.resolve(urlArray);\n    await this._unloadFromResolved(resolveResults);\n  }\n  /**\n   * Unloads all assets in a bundle. Use this to free memory when a bundle's assets\n   * are no longer needed, such as when switching game levels.\n   * @param bundleIds - Single bundle ID or array of bundle IDs to unload\n   * @example\n   * ```ts\n   * // Define and load a bundle\n   * Assets.addBundle('level-1', {\n   *     background: 'level1/bg.png',\n   *     sprites: 'level1/sprites.json',\n   *     music: 'level1/music.mp3'\n   * });\n   *\n   * // Load the bundle\n   * const level1 = await Assets.loadBundle('level-1');\n   *\n   * // Use the assets\n   * const background = Sprite.from(level1.background);\n   *\n   * // When done with the level, unload everything\n   * await Assets.unloadBundle('level-1');\n   * // background sprite is now invalid!\n   *\n   * // Unload multiple bundles\n   * await Assets.unloadBundle([\n   *     'level-1',\n   *     'level-2',\n   *     'ui-elements'\n   * ]);\n   * ```\n   * @remarks\n   * > [!WARNING]\n   * > - All assets in the bundle will be destroyed\n   * > - Bundle needs to be reloaded to use assets again\n   * > - Make sure no sprites or other objects are using the assets\n   * @throws {Error} If the bundle is not found\n   * @see {@link Assets.addBundle} For adding bundles\n   * @see {@link Assets.loadBundle} For loading bundles\n   */\n  async unloadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    bundleIds = convertToList(bundleIds);\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));\n    await Promise.all(promises);\n  }\n  async _unloadFromResolved(resolveResult) {\n    const resolveArray = Object.values(resolveResult);\n    resolveArray.forEach((resolveResult2) => {\n      Cache.remove(resolveResult2.src);\n    });\n    await this.loader.unload(resolveArray);\n  }\n  /**\n   * Detects the supported formats for the browser, and returns an array of supported formats, respecting\n   * the users preferred formats order.\n   * @param options - the options to use when detecting formats\n   * @param options.preferredFormats - the preferred formats to use\n   * @param options.skipDetections - if we should skip the detections altogether\n   * @param options.detections - the detections to use\n   * @returns - the detected formats\n   */\n  async _detectFormats(options) {\n    let formats = [];\n    if (options.preferredFormats) {\n      formats = Array.isArray(options.preferredFormats) ? options.preferredFormats : [options.preferredFormats];\n    }\n    for (const detection of options.detections) {\n      if (options.skipDetections || await detection.test()) {\n        formats = await detection.add(formats);\n      } else if (!options.skipDetections) {\n        formats = await detection.remove(formats);\n      }\n    }\n    formats = formats.filter((format, index) => formats.indexOf(format) === index);\n    return formats;\n  }\n  /**\n   * All the detection parsers currently added to the Assets class.\n   * @advanced\n   */\n  get detections() {\n    return this._detections;\n  }\n  /**\n   * Sets global preferences for asset loading behavior. This method configures how assets\n   * are loaded and processed across all parsers.\n   * @param preferences - Asset loading preferences\n   * @example\n   * ```ts\n   * // Basic preferences\n   * Assets.setPreferences({\n   *     crossOrigin: 'anonymous',\n   *     parseAsGraphicsContext: false\n   * });\n   * ```\n   * @remarks\n   * Preferences are applied to all compatible parsers and affect future asset loading.\n   * Common preferences include:\n   * - `crossOrigin`: CORS setting for loaded assets\n   * - `preferWorkers`: Whether to use web workers for loading textures\n   * - `preferCreateImageBitmap`: Use `createImageBitmap` for texture creation. Turning this off will use the `Image` constructor instead.\n   * @see {@link AssetsPreferences} For all available preferences\n   */\n  setPreferences(preferences) {\n    this.loader.parsers.forEach((parser) => {\n      if (!parser.config)\n        return;\n      Object.keys(parser.config).filter((key) => key in preferences).forEach((key) => {\n        parser.config[key] = preferences[key];\n      });\n    });\n  }\n}\nconst Assets = new AssetsClass();\nextensions.handleByList(ExtensionType.LoadParser, Assets.loader.parsers).handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(ExtensionType.CacheParser, Assets.cache.parsers).handleByList(ExtensionType.DetectionParser, Assets.detections);\nextensions.add(\n  cacheTextureArray,\n  detectDefaults,\n  detectAvif,\n  detectWebp,\n  detectMp4,\n  detectOgv,\n  detectWebm,\n  loadJson,\n  loadTxt,\n  loadWebFont,\n  loadSvg,\n  loadTextures,\n  loadVideoTextures,\n  loadBitmapFont,\n  bitmapFontCachePlugin,\n  resolveTextureUrl,\n  resolveJsonUrl\n);\nconst assetKeyMap = {\n  loader: ExtensionType.LoadParser,\n  resolver: ExtensionType.ResolveParser,\n  cache: ExtensionType.CacheParser,\n  detection: ExtensionType.DetectionParser\n};\nextensions.handle(ExtensionType.Asset, (extension) => {\n  const ref = extension.ref;\n  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => extensions.add(Object.assign(\n    ref[key],\n    // Allow the function to optionally define it's own\n    // ExtensionMetadata, the use cases here is priority for LoaderParsers\n    { extension: ref[key].extension ?? type }\n  )));\n}, (extension) => {\n  const ref = extension.ref;\n  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => extensions.remove(ref[key]));\n});\n\nexport { Assets, AssetsClass };\n//# sourceMappingURL=Assets.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { CanvasObserver } from './CanvasObserver.mjs';\n\n\"use strict\";\nclass DOMPipe {\n  /**\n   * Constructor for the DOMPipe class.\n   * @param renderer - The renderer instance that this DOMPipe will be associated with.\n   */\n  constructor(renderer) {\n    /** Array to keep track of attached DOM elements */\n    this._attachedDomElements = [];\n    this._renderer = renderer;\n    this._renderer.runners.postrender.add(this);\n    this._renderer.runners.init.add(this);\n    this._domElement = document.createElement(\"div\");\n    this._domElement.style.position = \"absolute\";\n    this._domElement.style.top = \"0\";\n    this._domElement.style.left = \"0\";\n    this._domElement.style.pointerEvents = \"none\";\n    this._domElement.style.zIndex = \"1000\";\n  }\n  /** Initializes the DOMPipe, setting up the main DOM element and adding it to the document body. */\n  init() {\n    this._canvasObserver = new CanvasObserver({\n      domElement: this._domElement,\n      renderer: this._renderer\n    });\n  }\n  /**\n   * Adds a renderable DOM container to the list of attached elements.\n   * @param domContainer - The DOM container to be added.\n   * @param _instructionSet - The instruction set (unused).\n   */\n  addRenderable(domContainer, _instructionSet) {\n    if (!this._attachedDomElements.includes(domContainer)) {\n      this._attachedDomElements.push(domContainer);\n    }\n  }\n  /**\n   * Updates a renderable DOM container.\n   * @param _domContainer - The DOM container to be updated (unused).\n   */\n  updateRenderable(_domContainer) {\n  }\n  /**\n   * Validates a renderable DOM container.\n   * @param _domContainer - The DOM container to be validated (unused).\n   * @returns Always returns true as validation is not required.\n   */\n  validateRenderable(_domContainer) {\n    return true;\n  }\n  /** Handles the post-rendering process, ensuring DOM elements are correctly positioned and visible. */\n  postrender() {\n    const attachedDomElements = this._attachedDomElements;\n    if (attachedDomElements.length === 0) {\n      this._domElement.remove();\n      return;\n    }\n    this._canvasObserver.ensureAttached();\n    for (let i = 0; i < attachedDomElements.length; i++) {\n      const domContainer = attachedDomElements[i];\n      const element = domContainer.element;\n      if (!domContainer.parent || domContainer.globalDisplayStatus < 7) {\n        element?.remove();\n        attachedDomElements.splice(i, 1);\n        i--;\n      } else {\n        if (!this._domElement.contains(element)) {\n          element.style.position = \"absolute\";\n          element.style.pointerEvents = \"auto\";\n          this._domElement.appendChild(element);\n        }\n        const wt = domContainer.worldTransform;\n        const anchor = domContainer._anchor;\n        const ax = domContainer.width * anchor.x;\n        const ay = domContainer.height * anchor.y;\n        element.style.transformOrigin = `${ax}px ${ay}px`;\n        element.style.transform = `matrix(${wt.a}, ${wt.b}, ${wt.c}, ${wt.d}, ${wt.tx - ax}, ${wt.ty - ay})`;\n        element.style.opacity = domContainer.groupAlpha.toString();\n      }\n    }\n  }\n  /** Destroys the DOMPipe, removing all attached DOM elements and cleaning up resources. */\n  destroy() {\n    this._renderer.runners.postrender.remove(this);\n    for (let i = 0; i < this._attachedDomElements.length; i++) {\n      const domContainer = this._attachedDomElements[i];\n      domContainer.element?.remove();\n    }\n    this._attachedDomElements.length = 0;\n    this._domElement.remove();\n    this._canvasObserver.destroy();\n    this._renderer = null;\n  }\n}\n/**\n * Static property defining the extension type and name for the DOMPipe.\n * This is used to register the DOMPipe with different rendering pipelines.\n */\nDOMPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"dom\"\n};\n\nexport { DOMPipe };\n//# sourceMappingURL=DOMPipe.mjs.map\n","import { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nclass EventsTickerClass {\n  constructor() {\n    /** The frequency that fake events will be fired. */\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  /**\n   * Initializes the event ticker.\n   * @param events - The event system.\n   */\n  init(events) {\n    this.removeTickerListener();\n    this.events = events;\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  /** Whether to pause the update checks or not. */\n  get pauseUpdate() {\n    return this._pauseUpdate;\n  }\n  set pauseUpdate(paused) {\n    this._pauseUpdate = paused;\n  }\n  /** Adds the ticker listener. */\n  addTickerListener() {\n    if (this._tickerAdded || !this.domElement) {\n      return;\n    }\n    Ticker.system.add(this._tickerUpdate, this, UPDATE_PRIORITY.INTERACTION);\n    this._tickerAdded = true;\n  }\n  /** Removes the ticker listener. */\n  removeTickerListener() {\n    if (!this._tickerAdded) {\n      return;\n    }\n    Ticker.system.remove(this._tickerUpdate, this);\n    this._tickerAdded = false;\n  }\n  /** Sets flag to not fire extra events when the user has already moved there mouse */\n  pointerMoved() {\n    this._didMove = true;\n  }\n  /** Updates the state of interactive objects. */\n  _update() {\n    if (!this.domElement || this._pauseUpdate) {\n      return;\n    }\n    if (this._didMove) {\n      this._didMove = false;\n      return;\n    }\n    const rootPointerEvent = this.events[\"_rootPointerEvent\"];\n    if (this.events.supportsTouchEvents && rootPointerEvent.pointerType === \"touch\") {\n      return;\n    }\n    globalThis.document.dispatchEvent(this.events.supportsPointerEvents ? new PointerEvent(\"pointermove\", {\n      clientX: rootPointerEvent.clientX,\n      clientY: rootPointerEvent.clientY,\n      pointerType: rootPointerEvent.pointerType,\n      pointerId: rootPointerEvent.pointerId\n    }) : new MouseEvent(\"mousemove\", {\n      clientX: rootPointerEvent.clientX,\n      clientY: rootPointerEvent.clientY\n    }));\n  }\n  /**\n   * Updates the state of interactive objects if at least {@link interactionFrequency}\n   * milliseconds have passed since the last invocation.\n   *\n   * Invoked by a throttled ticker update from {@link Ticker.system}.\n   * @param ticker - The throttled ticker.\n   */\n  _tickerUpdate(ticker) {\n    this._deltaTime += ticker.deltaTime;\n    if (this._deltaTime < this.interactionFrequency) {\n      return;\n    }\n    this._deltaTime = 0;\n    this._update();\n  }\n  /** Destroys the event ticker. */\n  destroy() {\n    this.removeTickerListener();\n    this.events = null;\n    this.domElement = null;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n}\nconst EventsTicker = new EventsTickerClass();\n\nexport { EventsTicker };\n//# sourceMappingURL=EventTicker.mjs.map\n","import { Point } from '../maths/point/Point.mjs';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\n\"use strict\";\nclass FederatedMouseEvent extends FederatedEvent {\n  constructor() {\n    super(...arguments);\n    /** The coordinates of the mouse event relative to the canvas. */\n    this.client = new Point();\n    /** The movement in this pointer relative to the last `mousemove` event. */\n    this.movement = new Point();\n    /** The offset of the pointer coordinates w.r.t. target Container in world space. This is not supported at the moment. */\n    this.offset = new Point();\n    /** The pointer coordinates in world space. */\n    this.global = new Point();\n    /**\n     * The pointer coordinates in the renderer's {@link AbstractRenderer.screen screen}. This has slightly\n     * different semantics than native PointerEvent screenX/screenY.\n     */\n    this.screen = new Point();\n  }\n  /** @readonly */\n  get clientX() {\n    return this.client.x;\n  }\n  /** @readonly */\n  get clientY() {\n    return this.client.y;\n  }\n  /**\n   * Alias for {@link FederatedMouseEvent.clientX this.clientX}.\n   * @readonly\n   */\n  get x() {\n    return this.clientX;\n  }\n  /**\n   * Alias for {@link FederatedMouseEvent.clientY this.clientY}.\n   * @readonly\n   */\n  get y() {\n    return this.clientY;\n  }\n  /** @readonly */\n  get movementX() {\n    return this.movement.x;\n  }\n  /** @readonly */\n  get movementY() {\n    return this.movement.y;\n  }\n  /** @readonly */\n  get offsetX() {\n    return this.offset.x;\n  }\n  /** @readonly */\n  get offsetY() {\n    return this.offset.y;\n  }\n  /** @readonly */\n  get globalX() {\n    return this.global.x;\n  }\n  /** @readonly */\n  get globalY() {\n    return this.global.y;\n  }\n  /**\n   * The pointer coordinates in the renderer's screen. Alias for `screen.x`.\n   * @readonly\n   */\n  get screenX() {\n    return this.screen.x;\n  }\n  /**\n   * The pointer coordinates in the renderer's screen. Alias for `screen.y`.\n   * @readonly\n   */\n  get screenY() {\n    return this.screen.y;\n  }\n  /**\n   * Converts global coordinates into container-local coordinates.\n   *\n   * This method transforms coordinates from world space to a container's local space,\n   * useful for precise positioning and hit testing.\n   * @param container - The Container to get local coordinates for\n   * @param point - Optional Point object to store the result. If not provided, a new Point will be created\n   * @param globalPos - Optional custom global coordinates. If not provided, the event's global position is used\n   * @returns The local coordinates as a Point object\n   * @example\n   * ```ts\n   * // Basic usage - get local coordinates relative to a container\n   * sprite.on('pointermove', (event: FederatedMouseEvent) => {\n   *     // Get position relative to the sprite\n   *     const localPos = event.getLocalPosition(sprite);\n   *     console.log('Local position:', localPos.x, localPos.y);\n   * });\n   * // Using custom global coordinates\n   * const customGlobal = new Point(100, 100);\n   * sprite.on('pointermove', (event: FederatedMouseEvent) => {\n   *     // Transform custom coordinates\n   *     const localPos = event.getLocalPosition(sprite, undefined, customGlobal);\n   *     console.log('Custom local position:', localPos.x, localPos.y);\n   * });\n   * ```\n   * @see {@link Container.worldTransform} For the transformation matrix\n   * @see {@link Point} For the point class used to store coordinates\n   */\n  getLocalPosition(container, point, globalPos) {\n    return container.worldTransform.applyInverse(globalPos || this.global, point);\n  }\n  /**\n   * Whether the modifier key was pressed when this event natively occurred.\n   * @param key - The modifier key.\n   */\n  getModifierState(key) {\n    return \"getModifierState\" in this.nativeEvent && this.nativeEvent.getModifierState(key);\n  }\n  /**\n   * Not supported.\n   * @param _typeArg\n   * @param _canBubbleArg\n   * @param _cancelableArg\n   * @param _viewArg\n   * @param _detailArg\n   * @param _screenXArg\n   * @param _screenYArg\n   * @param _clientXArg\n   * @param _clientYArg\n   * @param _ctrlKeyArg\n   * @param _altKeyArg\n   * @param _shiftKeyArg\n   * @param _metaKeyArg\n   * @param _buttonArg\n   * @param _relatedTargetArg\n   * @deprecated since 7.0.0\n   * @ignore\n   */\n  // eslint-disable-next-line max-params\n  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\nexport { FederatedMouseEvent };\n//# sourceMappingURL=FederatedMouseEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\n\"use strict\";\nclass FederatedPointerEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    /**\n     * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n     * radiusX of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n     */\n    this.width = 0;\n    /**\n     * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n     * radiusY of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n     */\n    this.height = 0;\n    /**\n     * Indicates whether or not the pointer device that created the event is the primary pointer.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n     */\n    this.isPrimary = false;\n  }\n  /**\n   * Only included for completeness for now\n   * @ignore\n   */\n  getCoalescedEvents() {\n    if (this.type === \"pointermove\" || this.type === \"mousemove\" || this.type === \"touchmove\") {\n      return [this];\n    }\n    return [];\n  }\n  /**\n   * Only included for completeness for now\n   * @ignore\n   */\n  getPredictedEvents() {\n    throw new Error(\"getPredictedEvents is not supported!\");\n  }\n}\n\nexport { FederatedPointerEvent };\n//# sourceMappingURL=FederatedPointerEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\n\"use strict\";\nclass FederatedWheelEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    /**\n     * Units specified in pixels.\n     * @ignore\n     */\n    this.DOM_DELTA_PIXEL = 0;\n    /**\n     * Units specified in lines.\n     * @ignore\n     */\n    this.DOM_DELTA_LINE = 1;\n    /**\n     * Units specified in pages.\n     * @ignore\n     */\n    this.DOM_DELTA_PAGE = 2;\n  }\n}\n/**\n * Units specified in pixels.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_PIXEL = 0;\n/**\n * Units specified in lines.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_LINE = 1;\n/**\n * Units specified in pages.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_PAGE = 2;\n\nexport { FederatedWheelEvent };\n//# sourceMappingURL=FederatedWheelEvent.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Point } from '../maths/point/Point.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\n\"use strict\";\nconst PROPAGATION_LIMIT = 2048;\nconst tempHitLocation = new Point();\nconst tempLocalMapping = new Point();\nclass EventBoundary {\n  /**\n   * @param rootTarget - The holder of the event boundary.\n   */\n  constructor(rootTarget) {\n    /**\n     * Emits events after they were dispatched into the scene graph.\n     *\n     * This can be used for global events listening, regardless of the scene graph being used. It should\n     * not be used by interactive libraries for normal use.\n     *\n     * Special events that do not bubble all the way to the root target are not emitted from here,\n     * e.g. pointerenter, pointerleave, click.\n     */\n    this.dispatch = new EventEmitter();\n    /**\n     * This flag would emit `pointermove`, `touchmove`, and `mousemove` events on all Containers.\n     *\n     * The `moveOnAll` semantics mirror those of earlier versions of PixiJS. This was disabled in favor of\n     * the Pointer Event API's approach.\n     */\n    this.moveOnAll = false;\n    /** Enables the global move events. `globalpointermove`, `globaltouchmove`, and `globalmousemove` */\n    this.enableGlobalMoveEvents = true;\n    /**\n     * State object for mapping methods.\n     * @see EventBoundary#trackingData\n     */\n    this.mappingState = {\n      trackingData: {}\n    };\n    /**\n     * The event pool maps event constructors to an free pool of instances of those specific events.\n     * @see EventBoundary#allocateEvent\n     * @see EventBoundary#freeEvent\n     */\n    this.eventPool = /* @__PURE__ */ new Map();\n    /** Every interactive element gathered from the scene. Only used in `pointermove` */\n    this._allInteractiveElements = [];\n    /** Every element that passed the hit test. Only used in `pointermove` */\n    this._hitElements = [];\n    /** Whether or not to collect all the interactive elements from the scene. Enabled in `pointermove` */\n    this._isPointerMoveEvent = false;\n    this.rootTarget = rootTarget;\n    this.hitPruneFn = this.hitPruneFn.bind(this);\n    this.hitTestFn = this.hitTestFn.bind(this);\n    this.mapPointerDown = this.mapPointerDown.bind(this);\n    this.mapPointerMove = this.mapPointerMove.bind(this);\n    this.mapPointerOut = this.mapPointerOut.bind(this);\n    this.mapPointerOver = this.mapPointerOver.bind(this);\n    this.mapPointerUp = this.mapPointerUp.bind(this);\n    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);\n    this.mapWheel = this.mapWheel.bind(this);\n    this.mappingTable = {};\n    this.addEventMapping(\"pointerdown\", this.mapPointerDown);\n    this.addEventMapping(\"pointermove\", this.mapPointerMove);\n    this.addEventMapping(\"pointerout\", this.mapPointerOut);\n    this.addEventMapping(\"pointerleave\", this.mapPointerOut);\n    this.addEventMapping(\"pointerover\", this.mapPointerOver);\n    this.addEventMapping(\"pointerup\", this.mapPointerUp);\n    this.addEventMapping(\"pointerupoutside\", this.mapPointerUpOutside);\n    this.addEventMapping(\"wheel\", this.mapWheel);\n  }\n  /**\n   * Adds an event mapping for the event `type` handled by `fn`.\n   *\n   * Event mappings can be used to implement additional or custom events. They take an event\n   * coming from the upstream scene (or directly from the {@link EventSystem}) and dispatch new downstream events\n   * generally trickling down and bubbling up to {@link EventBoundary.rootTarget this.rootTarget}.\n   *\n   * To modify the semantics of existing events, the built-in mapping methods of EventBoundary should be overridden\n   * instead.\n   * @param type - The type of upstream event to map.\n   * @param fn - The mapping method. The context of this function must be bound manually, if desired.\n   */\n  addEventMapping(type, fn) {\n    if (!this.mappingTable[type]) {\n      this.mappingTable[type] = [];\n    }\n    this.mappingTable[type].push({\n      fn,\n      priority: 0\n    });\n    this.mappingTable[type].sort((a, b) => a.priority - b.priority);\n  }\n  /**\n   * Dispatches the given event\n   * @param e - The event to dispatch.\n   * @param type - The type of event to dispatch. Defaults to `e.type`.\n   */\n  dispatchEvent(e, type) {\n    e.propagationStopped = false;\n    e.propagationImmediatelyStopped = false;\n    this.propagate(e, type);\n    this.dispatch.emit(type || e.type, e);\n  }\n  /**\n   * Maps the given upstream event through the event boundary and propagates it downstream.\n   * @param e - The event to map.\n   */\n  mapEvent(e) {\n    if (!this.rootTarget) {\n      return;\n    }\n    const mappers = this.mappingTable[e.type];\n    if (mappers) {\n      for (let i = 0, j = mappers.length; i < j; i++) {\n        mappers[i].fn(e);\n      }\n    } else {\n      warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);\n    }\n  }\n  /**\n   * Finds the Container that is the target of a event at the given coordinates.\n   *\n   * The passed (x,y) coordinates are in the world space above this event boundary.\n   * @param x - The x coordinate of the event.\n   * @param y - The y coordinate of the event.\n   */\n  hitTest(x, y) {\n    EventsTicker.pauseUpdate = true;\n    const useMove = this._isPointerMoveEvent && this.enableGlobalMoveEvents;\n    const fn = useMove ? \"hitTestMoveRecursive\" : \"hitTestRecursive\";\n    const invertedPath = this[fn](\n      this.rootTarget,\n      this.rootTarget.eventMode,\n      tempHitLocation.set(x, y),\n      this.hitTestFn,\n      this.hitPruneFn\n    );\n    return invertedPath && invertedPath[0];\n  }\n  /**\n   * Propagate the passed event from from {@link EventBoundary.rootTarget this.rootTarget} to its\n   * target `e.target`.\n   * @param e - The event to propagate.\n   * @param type - The type of event to propagate. Defaults to `e.type`.\n   */\n  propagate(e, type) {\n    if (!e.target) {\n      return;\n    }\n    const composedPath = e.composedPath();\n    e.eventPhase = e.CAPTURING_PHASE;\n    for (let i = 0, j = composedPath.length - 1; i < j; i++) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n    e.eventPhase = e.AT_TARGET;\n    e.currentTarget = e.target;\n    this.notifyTarget(e, type);\n    if (e.propagationStopped || e.propagationImmediatelyStopped)\n      return;\n    e.eventPhase = e.BUBBLING_PHASE;\n    for (let i = composedPath.length - 2; i >= 0; i--) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n  }\n  /**\n   * Emits the event `e` to all interactive containers. The event is propagated in the bubbling phase always.\n   *\n   * This is used in the `globalpointermove` event.\n   * @param e - The emitted event.\n   * @param type - The listeners to notify.\n   * @param targets - The targets to notify.\n   */\n  all(e, type, targets = this._allInteractiveElements) {\n    if (targets.length === 0)\n      return;\n    e.eventPhase = e.BUBBLING_PHASE;\n    const events = Array.isArray(type) ? type : [type];\n    for (let i = targets.length - 1; i >= 0; i--) {\n      events.forEach((event) => {\n        e.currentTarget = targets[i];\n        this.notifyTarget(e, event);\n      });\n    }\n  }\n  /**\n   * Finds the propagation path from {@link EventBoundary.rootTarget rootTarget} to the passed\n   * `target`. The last element in the path is `target`.\n   * @param target - The target to find the propagation path to.\n   */\n  propagationPath(target) {\n    const propagationPath = [target];\n    for (let i = 0; i < PROPAGATION_LIMIT && (target !== this.rootTarget && target.parent); i++) {\n      if (!target.parent) {\n        throw new Error(\"Cannot find propagation path to disconnected target\");\n      }\n      propagationPath.push(target.parent);\n      target = target.parent;\n    }\n    propagationPath.reverse();\n    return propagationPath;\n  }\n  hitTestMoveRecursive(currentTarget, eventMode, location, testFn, pruneFn, ignore = false) {\n    let shouldReturn = false;\n    if (this._interactivePrune(currentTarget))\n      return null;\n    if (currentTarget.eventMode === \"dynamic\" || eventMode === \"dynamic\") {\n      EventsTicker.pauseUpdate = false;\n    }\n    if (currentTarget.interactiveChildren && currentTarget.children) {\n      const children = currentTarget.children;\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const nestedHit = this.hitTestMoveRecursive(\n          child,\n          this._isInteractive(eventMode) ? eventMode : child.eventMode,\n          location,\n          testFn,\n          pruneFn,\n          ignore || pruneFn(currentTarget, location)\n        );\n        if (nestedHit) {\n          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {\n            continue;\n          }\n          const isInteractive = currentTarget.isInteractive();\n          if (nestedHit.length > 0 || isInteractive) {\n            if (isInteractive)\n              this._allInteractiveElements.push(currentTarget);\n            nestedHit.push(currentTarget);\n          }\n          if (this._hitElements.length === 0)\n            this._hitElements = nestedHit;\n          shouldReturn = true;\n        }\n      }\n    }\n    const isInteractiveMode = this._isInteractive(eventMode);\n    const isInteractiveTarget = currentTarget.isInteractive();\n    if (isInteractiveTarget && isInteractiveTarget)\n      this._allInteractiveElements.push(currentTarget);\n    if (ignore || this._hitElements.length > 0)\n      return null;\n    if (shouldReturn)\n      return this._hitElements;\n    if (isInteractiveMode && (!pruneFn(currentTarget, location) && testFn(currentTarget, location))) {\n      return isInteractiveTarget ? [currentTarget] : [];\n    }\n    return null;\n  }\n  /**\n   * Recursive implementation for {@link EventBoundary.hitTest hitTest}.\n   * @param currentTarget - The Container that is to be hit tested.\n   * @param eventMode - The event mode for the `currentTarget` or one of its parents.\n   * @param location - The location that is being tested for overlap.\n   * @param testFn - Callback that determines whether the target passes hit testing. This callback\n   *  can assume that `pruneFn` failed to prune the container.\n   * @param pruneFn - Callback that determiness whether the target and all of its children\n   *  cannot pass the hit test. It is used as a preliminary optimization to prune entire subtrees\n   *  of the scene graph.\n   * @returns An array holding the hit testing target and all its ancestors in order. The first element\n   *  is the target itself and the last is {@link EventBoundary.rootTarget rootTarget}. This is the opposite\n   *  order w.r.t. the propagation path. If no hit testing target is found, null is returned.\n   */\n  hitTestRecursive(currentTarget, eventMode, location, testFn, pruneFn) {\n    if (this._interactivePrune(currentTarget) || pruneFn(currentTarget, location)) {\n      return null;\n    }\n    if (currentTarget.eventMode === \"dynamic\" || eventMode === \"dynamic\") {\n      EventsTicker.pauseUpdate = false;\n    }\n    if (currentTarget.interactiveChildren && currentTarget.children) {\n      const children = currentTarget.children;\n      const relativeLocation = location;\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const nestedHit = this.hitTestRecursive(\n          child,\n          this._isInteractive(eventMode) ? eventMode : child.eventMode,\n          relativeLocation,\n          testFn,\n          pruneFn\n        );\n        if (nestedHit) {\n          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {\n            continue;\n          }\n          const isInteractive = currentTarget.isInteractive();\n          if (nestedHit.length > 0 || isInteractive)\n            nestedHit.push(currentTarget);\n          return nestedHit;\n        }\n      }\n    }\n    const isInteractiveMode = this._isInteractive(eventMode);\n    const isInteractiveTarget = currentTarget.isInteractive();\n    if (isInteractiveMode && testFn(currentTarget, location)) {\n      return isInteractiveTarget ? [currentTarget] : [];\n    }\n    return null;\n  }\n  _isInteractive(int) {\n    return int === \"static\" || int === \"dynamic\";\n  }\n  _interactivePrune(container) {\n    if (!container || !container.visible || !container.renderable || !container.measurable) {\n      return true;\n    }\n    if (container.eventMode === \"none\") {\n      return true;\n    }\n    if (container.eventMode === \"passive\" && !container.interactiveChildren) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Checks whether the container or any of its children cannot pass the hit test at all.\n   *\n   * {@link EventBoundary}'s implementation uses the {@link Container.hitArea hitArea}\n   * and {@link Container._maskEffect} for pruning.\n   * @param container - The container to prune.\n   * @param location - The location to test for overlap.\n   */\n  hitPruneFn(container, location) {\n    if (container.hitArea) {\n      container.worldTransform.applyInverse(location, tempLocalMapping);\n      if (!container.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {\n        return true;\n      }\n    }\n    if (container.effects && container.effects.length) {\n      for (let i = 0; i < container.effects.length; i++) {\n        const effect = container.effects[i];\n        if (effect.containsPoint) {\n          const effectContainsPoint = effect.containsPoint(location, this.hitTestFn);\n          if (!effectContainsPoint) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  /**\n   * Checks whether the container passes hit testing for the given location.\n   * @param container - The container to test.\n   * @param location - The location to test for overlap.\n   * @returns - Whether `container` passes hit testing for `location`.\n   */\n  hitTestFn(container, location) {\n    if (container.hitArea) {\n      return true;\n    }\n    if (container?.containsPoint) {\n      container.worldTransform.applyInverse(location, tempLocalMapping);\n      return container.containsPoint(tempLocalMapping);\n    }\n    return false;\n  }\n  /**\n   * Notify all the listeners to the event's `currentTarget`.\n   *\n   * If the `currentTarget` contains the property `on<type>`, then it is called here,\n   * simulating the behavior from version 6.x and prior.\n   * @param e - The event passed to the target.\n   * @param type - The type of event to notify. Defaults to `e.type`.\n   */\n  notifyTarget(e, type) {\n    if (!e.currentTarget.isInteractive()) {\n      return;\n    }\n    type ?? (type = e.type);\n    const handlerKey = `on${type}`;\n    e.currentTarget[handlerKey]?.(e);\n    const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;\n    this._notifyListeners(e, key);\n    if (e.eventPhase === e.AT_TARGET) {\n      this._notifyListeners(e, type);\n    }\n  }\n  /**\n   * Maps the upstream `pointerdown` events to a downstream `pointerdown` event.\n   *\n   * `touchstart`, `rightdown`, `mousedown` events are also dispatched for specific pointer types.\n   * @param from - The upstream `pointerdown` event.\n   */\n  mapPointerDown(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerdown\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchstart\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightdown\" : \"mousedown\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    trackingData.pressTargetsByButton[from.button] = e.composedPath();\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointermove` to downstream `pointerout`, `pointerover`, and `pointermove` events, in that order.\n   *\n   * The tracking data for the specific pointer has an updated `overTarget`. `mouseout`, `mouseover`,\n   * `mousemove`, and `touchmove` events are fired as well for specific pointer types.\n   * @param from - The upstream `pointermove` event.\n   */\n  mapPointerMove(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    this._allInteractiveElements.length = 0;\n    this._hitElements.length = 0;\n    this._isPointerMoveEvent = true;\n    const e = this.createPointerEvent(from);\n    this._isPointerMoveEvent = false;\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    const trackingData = this.trackingData(from.pointerId);\n    const outTarget = this.findMountedTarget(trackingData.overTargets);\n    if (trackingData.overTargets?.length > 0 && outTarget !== e.target) {\n      const outType = from.type === \"mousemove\" ? \"mouseout\" : \"pointerout\";\n      const outEvent = this.createPointerEvent(from, outType, outTarget);\n      this.dispatchEvent(outEvent, \"pointerout\");\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      if (!e.composedPath().includes(outTarget)) {\n        const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n        leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n        while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {\n          leaveEvent.currentTarget = leaveEvent.target;\n          this.notifyTarget(leaveEvent);\n          if (isMouse)\n            this.notifyTarget(leaveEvent, \"mouseleave\");\n          leaveEvent.target = leaveEvent.target.parent;\n        }\n        this.freeEvent(leaveEvent);\n      }\n      this.freeEvent(outEvent);\n    }\n    if (outTarget !== e.target) {\n      const overType = from.type === \"mousemove\" ? \"mouseover\" : \"pointerover\";\n      const overEvent = this.clonePointerEvent(e, overType);\n      this.dispatchEvent(overEvent, \"pointerover\");\n      if (isMouse)\n        this.dispatchEvent(overEvent, \"mouseover\");\n      let overTargetAncestor = outTarget?.parent;\n      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {\n        if (overTargetAncestor === e.target)\n          break;\n        overTargetAncestor = overTargetAncestor.parent;\n      }\n      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;\n      if (didPointerEnter) {\n        const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n        enterEvent.eventPhase = enterEvent.AT_TARGET;\n        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {\n          enterEvent.currentTarget = enterEvent.target;\n          this.notifyTarget(enterEvent);\n          if (isMouse)\n            this.notifyTarget(enterEvent, \"mouseenter\");\n          enterEvent.target = enterEvent.target.parent;\n        }\n        this.freeEvent(enterEvent);\n      }\n      this.freeEvent(overEvent);\n    }\n    const allMethods = [];\n    const allowGlobalPointerEvents = this.enableGlobalMoveEvents ?? true;\n    this.moveOnAll ? allMethods.push(\"pointermove\") : this.dispatchEvent(e, \"pointermove\");\n    allowGlobalPointerEvents && allMethods.push(\"globalpointermove\");\n    if (e.pointerType === \"touch\") {\n      this.moveOnAll ? allMethods.splice(1, 0, \"touchmove\") : this.dispatchEvent(e, \"touchmove\");\n      allowGlobalPointerEvents && allMethods.push(\"globaltouchmove\");\n    }\n    if (isMouse) {\n      this.moveOnAll ? allMethods.splice(1, 0, \"mousemove\") : this.dispatchEvent(e, \"mousemove\");\n      allowGlobalPointerEvents && allMethods.push(\"globalmousemove\");\n      this.cursor = e.target?.cursor;\n    }\n    if (allMethods.length > 0) {\n      this.all(e, allMethods);\n    }\n    this._allInteractiveElements.length = 0;\n    this._hitElements.length = 0;\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointerover` to downstream `pointerover` and `pointerenter` events, in that order.\n   *\n   * The tracking data for the specific pointer gets a new `overTarget`.\n   * @param from - The upstream `pointerover` event.\n   */\n  mapPointerOver(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const e = this.createPointerEvent(from);\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    this.dispatchEvent(e, \"pointerover\");\n    if (isMouse)\n      this.dispatchEvent(e, \"mouseover\");\n    if (e.pointerType === \"mouse\")\n      this.cursor = e.target?.cursor;\n    const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n    enterEvent.eventPhase = enterEvent.AT_TARGET;\n    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {\n      enterEvent.currentTarget = enterEvent.target;\n      this.notifyTarget(enterEvent);\n      if (isMouse)\n        this.notifyTarget(enterEvent, \"mouseenter\");\n      enterEvent.target = enterEvent.target.parent;\n    }\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n    this.freeEvent(enterEvent);\n  }\n  /**\n   * Maps the upstream `pointerout` to downstream `pointerout`, `pointerleave` events, in that order.\n   *\n   * The tracking data for the specific pointer is cleared of a `overTarget`.\n   * @param from - The upstream `pointerout` event.\n   */\n  mapPointerOut(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    if (trackingData.overTargets) {\n      const isMouse = from.pointerType === \"mouse\" || from.pointerType === \"pen\";\n      const outTarget = this.findMountedTarget(trackingData.overTargets);\n      const outEvent = this.createPointerEvent(from, \"pointerout\", outTarget);\n      this.dispatchEvent(outEvent);\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n      leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {\n        leaveEvent.currentTarget = leaveEvent.target;\n        this.notifyTarget(leaveEvent);\n        if (isMouse)\n          this.notifyTarget(leaveEvent, \"mouseleave\");\n        leaveEvent.target = leaveEvent.target.parent;\n      }\n      trackingData.overTargets = null;\n      this.freeEvent(outEvent);\n      this.freeEvent(leaveEvent);\n    }\n    this.cursor = null;\n  }\n  /**\n   * Maps the upstream `pointerup` event to downstream `pointerup`, `pointerupoutside`,\n   * and `click`/`rightclick`/`pointertap` events, in that order.\n   *\n   * The `pointerupoutside` event bubbles from the original `pointerdown` target to the most specific\n   * ancestor of the `pointerdown` and `pointerup` targets, which is also the `click` event's target. `touchend`,\n   * `rightup`, `mouseup`, `touchendoutside`, `rightupoutside`, `mouseupoutside`, and `tap` are fired as well for\n   * specific pointer types.\n   * @param from - The upstream `pointerup` event.\n   */\n  mapPointerUp(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const now = performance.now();\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerup\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchend\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightup\" : \"mouseup\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    let clickTarget = pressTarget;\n    if (pressTarget && !e.composedPath().includes(pressTarget)) {\n      let currentTarget = pressTarget;\n      while (currentTarget && !e.composedPath().includes(currentTarget)) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          const isRightButton = e.button === 2;\n          this.notifyTarget(e, isRightButton ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n      clickTarget = currentTarget;\n    }\n    if (clickTarget) {\n      const clickEvent = this.clonePointerEvent(e, \"click\");\n      clickEvent.target = clickTarget;\n      clickEvent.path = null;\n      if (!trackingData.clicksByButton[from.button]) {\n        trackingData.clicksByButton[from.button] = {\n          clickCount: 0,\n          target: clickEvent.target,\n          timeStamp: now\n        };\n      }\n      const clickHistory = trackingData.clicksByButton[from.button];\n      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {\n        ++clickHistory.clickCount;\n      } else {\n        clickHistory.clickCount = 1;\n      }\n      clickHistory.target = clickEvent.target;\n      clickHistory.timeStamp = now;\n      clickEvent.detail = clickHistory.clickCount;\n      if (clickEvent.pointerType === \"mouse\") {\n        const isRightButton = clickEvent.button === 2;\n        this.dispatchEvent(clickEvent, isRightButton ? \"rightclick\" : \"click\");\n      } else if (clickEvent.pointerType === \"touch\") {\n        this.dispatchEvent(clickEvent, \"tap\");\n      }\n      this.dispatchEvent(clickEvent, \"pointertap\");\n      this.freeEvent(clickEvent);\n    }\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointerupoutside` event to a downstream `pointerupoutside` event, bubbling from the original\n   * `pointerdown` target to `rootTarget`.\n   *\n   * (The most specific ancestor of the `pointerdown` event and the `pointerup` event must the\n   * `{@link EventBoundary}'s root because the `pointerup` event occurred outside of the boundary.)\n   *\n   * `touchendoutside`, `mouseupoutside`, and `rightupoutside` events are fired as well for specific pointer\n   * types. The tracking data for the specific pointer is cleared of a `pressTarget`.\n   * @param from - The upstream `pointerupoutside` event.\n   */\n  mapPointerUpOutside(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    const e = this.createPointerEvent(from);\n    if (pressTarget) {\n      let currentTarget = pressTarget;\n      while (currentTarget) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          this.notifyTarget(e, e.button === 2 ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n    }\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `wheel` event to a downstream `wheel` event.\n   * @param from - The upstream `wheel` event.\n   */\n  mapWheel(from) {\n    if (!(from instanceof FederatedWheelEvent)) {\n      warn(\"EventBoundary cannot map a non-wheel event as a wheel event\");\n      return;\n    }\n    const wheelEvent = this.createWheelEvent(from);\n    this.dispatchEvent(wheelEvent);\n    this.freeEvent(wheelEvent);\n  }\n  /**\n   * Finds the most specific event-target in the given propagation path that is still mounted in the scene graph.\n   *\n   * This is used to find the correct `pointerup` and `pointerout` target in the case that the original `pointerdown`\n   * or `pointerover` target was unmounted from the scene graph.\n   * @param propagationPath - The propagation path was valid in the past.\n   * @returns - The most specific event-target still mounted at the same location in the scene graph.\n   */\n  findMountedTarget(propagationPath) {\n    if (!propagationPath) {\n      return null;\n    }\n    let currentTarget = propagationPath[0];\n    for (let i = 1; i < propagationPath.length; i++) {\n      if (propagationPath[i].parent === currentTarget) {\n        currentTarget = propagationPath[i];\n      } else {\n        break;\n      }\n    }\n    return currentTarget;\n  }\n  /**\n   * Creates an event whose `originalEvent` is `from`, with an optional `type` and `target` override.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The `originalEvent` for the returned event.\n   * @param [type=from.type] - The type of the returned event.\n   * @param target - The target of the returned event.\n   */\n  createPointerEvent(from, type, target) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = target ?? this.hitTest(event.global.x, event.global.y) ?? this._hitElements[0];\n    if (typeof type === \"string\") {\n      event.type = type;\n    }\n    return event;\n  }\n  /**\n   * Creates a wheel event whose `originalEvent` is `from`.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The upstream wheel event.\n   */\n  createWheelEvent(from) {\n    const event = this.allocateEvent(FederatedWheelEvent);\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = this.hitTest(event.global.x, event.global.y);\n    return event;\n  }\n  /**\n   * Clones the event `from`, with an optional `type` override.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The event to clone.\n   * @param [type=from.type] - The type of the returned event.\n   */\n  clonePointerEvent(from, type) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = type ?? event.type;\n    return event;\n  }\n  /**\n   * Copies wheel {@link FederatedWheelEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + deltaMode\n   * + deltaX\n   * + deltaY\n   * + deltaZ\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyWheelData(from, to) {\n    to.deltaMode = from.deltaMode;\n    to.deltaX = from.deltaX;\n    to.deltaY = from.deltaY;\n    to.deltaZ = from.deltaZ;\n  }\n  /**\n   * Copies pointer {@link FederatedPointerEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + pointerId\n   * + width\n   * + height\n   * + isPrimary\n   * + pointerType\n   * + pressure\n   * + tangentialPressure\n   * + tiltX\n   * + tiltY\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyPointerData(from, to) {\n    if (!(from instanceof FederatedPointerEvent && to instanceof FederatedPointerEvent))\n      return;\n    to.pointerId = from.pointerId;\n    to.width = from.width;\n    to.height = from.height;\n    to.isPrimary = from.isPrimary;\n    to.pointerType = from.pointerType;\n    to.pressure = from.pressure;\n    to.tangentialPressure = from.tangentialPressure;\n    to.tiltX = from.tiltX;\n    to.tiltY = from.tiltY;\n    to.twist = from.twist;\n  }\n  /**\n   * Copies mouse {@link FederatedMouseEvent} data from `from` to `to`.\n   *\n   * The following properties are copied:\n   * + altKey\n   * + button\n   * + buttons\n   * + clientX\n   * + clientY\n   * + metaKey\n   * + movementX\n   * + movementY\n   * + pageX\n   * + pageY\n   * + x\n   * + y\n   * + screen\n   * + shiftKey\n   * + global\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyMouseData(from, to) {\n    if (!(from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent))\n      return;\n    to.altKey = from.altKey;\n    to.button = from.button;\n    to.buttons = from.buttons;\n    to.client.copyFrom(from.client);\n    to.ctrlKey = from.ctrlKey;\n    to.metaKey = from.metaKey;\n    to.movement.copyFrom(from.movement);\n    to.screen.copyFrom(from.screen);\n    to.shiftKey = from.shiftKey;\n    to.global.copyFrom(from.global);\n  }\n  /**\n   * Copies base {@link FederatedEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + isTrusted\n   * + srcElement\n   * + timeStamp\n   * + type\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyData(from, to) {\n    to.isTrusted = from.isTrusted;\n    to.srcElement = from.srcElement;\n    to.timeStamp = performance.now();\n    to.type = from.type;\n    to.detail = from.detail;\n    to.view = from.view;\n    to.which = from.which;\n    to.layer.copyFrom(from.layer);\n    to.page.copyFrom(from.page);\n  }\n  /**\n   * @param id - The pointer ID.\n   * @returns The tracking data stored for the given pointer. If no data exists, a blank\n   *  state will be created.\n   */\n  trackingData(id) {\n    if (!this.mappingState.trackingData[id]) {\n      this.mappingState.trackingData[id] = {\n        pressTargetsByButton: {},\n        clicksByButton: {},\n        overTarget: null\n      };\n    }\n    return this.mappingState.trackingData[id];\n  }\n  /**\n   * Allocate a specific type of event from {@link EventBoundary#eventPool this.eventPool}.\n   *\n   * This allocation is constructor-agnostic, as long as it only takes one argument - this event\n   * boundary.\n   * @param constructor - The event's constructor.\n   * @returns An event of the given type.\n   */\n  allocateEvent(constructor) {\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    const event = this.eventPool.get(constructor).pop() || new constructor(this);\n    event.eventPhase = event.NONE;\n    event.currentTarget = null;\n    event.defaultPrevented = false;\n    event.path = null;\n    event.target = null;\n    return event;\n  }\n  /**\n   * Frees the event and puts it back into the event pool.\n   *\n   * It is illegal to reuse the event until it is allocated again, using `this.allocateEvent`.\n   *\n   * It is also advised that events not allocated from {@link EventBoundary#allocateEvent this.allocateEvent}\n   * not be freed. This is because of the possibility that the same event is freed twice, which can cause\n   * it to be allocated twice & result in overwriting.\n   * @param event - The event to be freed.\n   * @throws Error if the event is managed by another event boundary.\n   */\n  freeEvent(event) {\n    if (event.manager !== this)\n      throw new Error(\"It is illegal to free an event not managed by this EventBoundary!\");\n    const constructor = event.constructor;\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    this.eventPool.get(constructor).push(event);\n  }\n  /**\n   * Similar to {@link EventEmitter.emit}, except it stops if the `propagationImmediatelyStopped` flag\n   * is set on the event.\n   * @param e - The event to call each listener with.\n   * @param type - The event key.\n   */\n  _notifyListeners(e, type) {\n    const listeners = e.currentTarget._events[type];\n    if (!listeners)\n      return;\n    if (\"fn\" in listeners) {\n      if (listeners.once)\n        e.currentTarget.removeListener(type, listeners.fn, void 0, true);\n      listeners.fn.call(listeners.context, e);\n    } else {\n      for (let i = 0, j = listeners.length; i < j && !e.propagationImmediatelyStopped; i++) {\n        if (listeners[i].once)\n          e.currentTarget.removeListener(type, listeners[i].fn, void 0, true);\n        listeners[i].fn.call(listeners[i].context, e);\n      }\n    }\n  }\n}\n\nexport { EventBoundary };\n//# sourceMappingURL=EventBoundary.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { EventBoundary } from './EventBoundary.mjs';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\n\"use strict\";\nconst MOUSE_POINTER_ID = 1;\nconst TOUCH_TO_POINTER = {\n  touchstart: \"pointerdown\",\n  touchend: \"pointerup\",\n  touchendoutside: \"pointerupoutside\",\n  touchmove: \"pointermove\",\n  touchcancel: \"pointercancel\"\n};\nconst _EventSystem = class _EventSystem {\n  /**\n   * @param {Renderer} renderer\n   */\n  constructor(renderer) {\n    /**\n     * Indicates whether the current device supports touch events according to the W3C Touch Events spec.\n     * This is used to determine the appropriate event handling strategy.\n     * @see {@link https://www.w3.org/TR/touch-events/} W3C Touch Events Specification\n     * @readonly\n     * @default 'ontouchstart' in globalThis\n     */\n    this.supportsTouchEvents = \"ontouchstart\" in globalThis;\n    /**\n     * Indicates whether the current device supports pointer events according to the W3C Pointer Events spec.\n     * Used to optimize event handling and provide more consistent cross-device interaction.\n     * @see {@link https://www.w3.org/TR/pointerevents/} W3C Pointer Events Specification\n     * @readonly\n     * @default !!globalThis.PointerEvent\n     */\n    this.supportsPointerEvents = !!globalThis.PointerEvent;\n    /**\n     * The DOM element to which the root event listeners are bound. This is automatically set to\n     * the renderer's {@link Renderer#view view}.\n     */\n    this.domElement = null;\n    /** The resolution used to convert between the DOM client space into world space. */\n    this.resolution = 1;\n    this.renderer = renderer;\n    this.rootBoundary = new EventBoundary(null);\n    EventsTicker.init(this);\n    this.autoPreventDefault = true;\n    this._eventsAdded = false;\n    this._rootPointerEvent = new FederatedPointerEvent(null);\n    this._rootWheelEvent = new FederatedWheelEvent(null);\n    this.cursorStyles = {\n      default: \"inherit\",\n      pointer: \"pointer\"\n    };\n    this.features = new Proxy({ ..._EventSystem.defaultEventFeatures }, {\n      set: (target, key, value) => {\n        if (key === \"globalMove\") {\n          this.rootBoundary.enableGlobalMoveEvents = value;\n        }\n        target[key] = value;\n        return true;\n      }\n    });\n    this._onPointerDown = this._onPointerDown.bind(this);\n    this._onPointerMove = this._onPointerMove.bind(this);\n    this._onPointerUp = this._onPointerUp.bind(this);\n    this._onPointerOverOut = this._onPointerOverOut.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n  }\n  /**\n   * The default interaction mode for all display objects.\n   * @see Container.eventMode\n   * @type {EventMode}\n   * @readonly\n   * @since 7.2.0\n   */\n  static get defaultEventMode() {\n    return this._defaultEventMode;\n  }\n  /**\n   * Runner init called, view is available at this point.\n   * @ignore\n   */\n  init(options) {\n    const { canvas, resolution } = this.renderer;\n    this.setTargetElement(canvas);\n    this.resolution = resolution;\n    _EventSystem._defaultEventMode = options.eventMode ?? \"passive\";\n    Object.assign(this.features, options.eventFeatures ?? {});\n    this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove;\n  }\n  /**\n   * Handle changing resolution.\n   * @ignore\n   */\n  resolutionChange(resolution) {\n    this.resolution = resolution;\n  }\n  /** Destroys all event listeners and detaches the renderer. */\n  destroy() {\n    EventsTicker.destroy();\n    this.setTargetElement(null);\n    this.renderer = null;\n    this._currentCursor = null;\n  }\n  /**\n   * Sets the current cursor mode, handling any callbacks or CSS style changes.\n   * The cursor can be a CSS cursor string, a custom callback function, or a key from the cursorStyles dictionary.\n   * @param mode - Cursor mode to set. Can be:\n   * - A CSS cursor string (e.g., 'pointer', 'grab')\n   * - A key from the cursorStyles dictionary\n   * - null/undefined to reset to default\n   * @example\n   * ```ts\n   * // Using predefined cursor styles\n   * app.renderer.events.setCursor('pointer');    // Set standard pointer cursor\n   * app.renderer.events.setCursor('grab');       // Set grab cursor\n   * app.renderer.events.setCursor(null);         // Reset to default\n   *\n   * // Using custom cursor styles\n   * app.renderer.events.cursorStyles.custom = 'url(\"cursor.png\"), auto';\n   * app.renderer.events.setCursor('custom');     // Apply custom cursor\n   *\n   * // Using callback-based cursor\n   * app.renderer.events.cursorStyles.dynamic = (mode) => {\n   *     document.body.style.cursor = mode === 'hover' ? 'pointer' : 'default';\n   * };\n   * app.renderer.events.setCursor('dynamic');    // Trigger cursor callback\n   * ```\n   * @remarks\n   * - Has no effect on OffscreenCanvas except for callback-based cursors\n   * - Caches current cursor to avoid unnecessary DOM updates\n   * - Supports CSS cursor values, style objects, and callback functions\n   * @see {@link EventSystem.cursorStyles} For defining custom cursor styles\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor} MDN Cursor Reference\n   */\n  setCursor(mode) {\n    mode || (mode = \"default\");\n    let applyStyles = true;\n    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {\n      applyStyles = false;\n    }\n    if (this._currentCursor === mode) {\n      return;\n    }\n    this._currentCursor = mode;\n    const style = this.cursorStyles[mode];\n    if (style) {\n      switch (typeof style) {\n        case \"string\":\n          if (applyStyles) {\n            this.domElement.style.cursor = style;\n          }\n          break;\n        case \"function\":\n          style(mode);\n          break;\n        case \"object\":\n          if (applyStyles) {\n            Object.assign(this.domElement.style, style);\n          }\n          break;\n      }\n    } else if (applyStyles && typeof mode === \"string\" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {\n      this.domElement.style.cursor = mode;\n    }\n  }\n  /**\n   * The global pointer event instance containing the most recent pointer state.\n   * This is useful for accessing pointer information without listening to events.\n   * @example\n   * ```ts\n   * // Access current pointer position at any time\n   * const eventSystem = app.renderer.events;\n   * const pointer = eventSystem.pointer;\n   *\n   * // Get global coordinates\n   * console.log('Position:', pointer.global.x, pointer.global.y);\n   *\n   * // Check button state\n   * console.log('Buttons pressed:', pointer.buttons);\n   *\n   * // Get pointer type and pressure\n   * console.log('Type:', pointer.pointerType);\n   * console.log('Pressure:', pointer.pressure);\n   * ```\n   * @readonly\n   * @since 7.2.0\n   * @see {@link FederatedPointerEvent} For all available pointer properties\n   */\n  get pointer() {\n    return this._rootPointerEvent;\n  }\n  /**\n   * Event handler for pointer down events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerDown(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    const events = this._normalizeToPointerData(nativeEvent);\n    if (this.autoPreventDefault && events[0].isNormalized) {\n      const cancelable = nativeEvent.cancelable || !(\"cancelable\" in nativeEvent);\n      if (cancelable) {\n        nativeEvent.preventDefault();\n      }\n    }\n    for (let i = 0, j = events.length; i < j; i++) {\n      const nativeEvent2 = events[i];\n      const federatedEvent = this._bootstrapEvent(this._rootPointerEvent, nativeEvent2);\n      this.rootBoundary.mapEvent(federatedEvent);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer move events on on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch events.\n   */\n  _onPointerMove(nativeEvent) {\n    if (!this.features.move)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    EventsTicker.pointerMoved();\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer up events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerUp(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    let target = nativeEvent.target;\n    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {\n      target = nativeEvent.composedPath()[0];\n    }\n    const outside = target !== this.domElement ? \"outside\" : \"\";\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      event.type += outside;\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer over & out events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerOverOut(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Passive handler for `wheel` events on {@link EventSystem.domElement this.domElement}.\n   * @param nativeEvent - The native wheel event.\n   */\n  onWheel(nativeEvent) {\n    if (!this.features.wheel)\n      return;\n    const wheelEvent = this.normalizeWheelEvent(nativeEvent);\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    this.rootBoundary.mapEvent(wheelEvent);\n  }\n  /**\n   * Sets the {@link EventSystem#domElement domElement} and binds event listeners.\n   * This method manages the DOM event bindings for the event system, allowing you to\n   * change or remove the target element that receives input events.\n   * > [!IMPORTANT] This will default to the canvas element of the renderer, so you\n   * > should not need to call this unless you are using a custom element.\n   * @param element - The new DOM element to bind events to, or null to remove all event bindings\n   * @example\n   * ```ts\n   * // Set a new canvas element as the target\n   * const canvas = document.createElement('canvas');\n   * app.renderer.events.setTargetElement(canvas);\n   *\n   * // Remove all event bindings\n   * app.renderer.events.setTargetElement(null);\n   *\n   * // Switch to a different canvas\n   * const newCanvas = document.querySelector('#game-canvas');\n   * app.renderer.events.setTargetElement(newCanvas);\n   * ```\n   * @remarks\n   * - Automatically removes event listeners from previous element\n   * - Required for the event system to function\n   * - Safe to call multiple times\n   * @see {@link EventSystem#domElement} The current DOM element\n   * @see {@link EventsTicker} For the ticker system that tracks pointer movement\n   */\n  setTargetElement(element) {\n    this._removeEvents();\n    this.domElement = element;\n    EventsTicker.domElement = element;\n    this._addEvents();\n  }\n  /** Register event listeners on {@link Renderer#domElement this.domElement}. */\n  _addEvents() {\n    if (this._eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.addTickerListener();\n    const style = this.domElement.style;\n    if (style) {\n      if (globalThis.navigator.msPointerEnabled) {\n        style.msContentZooming = \"none\";\n        style.msTouchAction = \"none\";\n      } else if (this.supportsPointerEvents) {\n        style.touchAction = \"none\";\n      }\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.addEventListener(\"pointermove\", this._onPointerMove, true);\n      this.domElement.addEventListener(\"pointerdown\", this._onPointerDown, true);\n      this.domElement.addEventListener(\"pointerleave\", this._onPointerOverOut, true);\n      this.domElement.addEventListener(\"pointerover\", this._onPointerOverOut, true);\n      globalThis.addEventListener(\"pointerup\", this._onPointerUp, true);\n    } else {\n      globalThis.document.addEventListener(\"mousemove\", this._onPointerMove, true);\n      this.domElement.addEventListener(\"mousedown\", this._onPointerDown, true);\n      this.domElement.addEventListener(\"mouseout\", this._onPointerOverOut, true);\n      this.domElement.addEventListener(\"mouseover\", this._onPointerOverOut, true);\n      globalThis.addEventListener(\"mouseup\", this._onPointerUp, true);\n      if (this.supportsTouchEvents) {\n        this.domElement.addEventListener(\"touchstart\", this._onPointerDown, true);\n        this.domElement.addEventListener(\"touchend\", this._onPointerUp, true);\n        this.domElement.addEventListener(\"touchmove\", this._onPointerMove, true);\n      }\n    }\n    this.domElement.addEventListener(\"wheel\", this.onWheel, {\n      passive: true,\n      capture: true\n    });\n    this._eventsAdded = true;\n  }\n  /** Unregister event listeners on {@link EventSystem#domElement this.domElement}. */\n  _removeEvents() {\n    if (!this._eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.removeTickerListener();\n    const style = this.domElement.style;\n    if (style) {\n      if (globalThis.navigator.msPointerEnabled) {\n        style.msContentZooming = \"\";\n        style.msTouchAction = \"\";\n      } else if (this.supportsPointerEvents) {\n        style.touchAction = \"\";\n      }\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.removeEventListener(\"pointermove\", this._onPointerMove, true);\n      this.domElement.removeEventListener(\"pointerdown\", this._onPointerDown, true);\n      this.domElement.removeEventListener(\"pointerleave\", this._onPointerOverOut, true);\n      this.domElement.removeEventListener(\"pointerover\", this._onPointerOverOut, true);\n      globalThis.removeEventListener(\"pointerup\", this._onPointerUp, true);\n    } else {\n      globalThis.document.removeEventListener(\"mousemove\", this._onPointerMove, true);\n      this.domElement.removeEventListener(\"mousedown\", this._onPointerDown, true);\n      this.domElement.removeEventListener(\"mouseout\", this._onPointerOverOut, true);\n      this.domElement.removeEventListener(\"mouseover\", this._onPointerOverOut, true);\n      globalThis.removeEventListener(\"mouseup\", this._onPointerUp, true);\n      if (this.supportsTouchEvents) {\n        this.domElement.removeEventListener(\"touchstart\", this._onPointerDown, true);\n        this.domElement.removeEventListener(\"touchend\", this._onPointerUp, true);\n        this.domElement.removeEventListener(\"touchmove\", this._onPointerMove, true);\n      }\n    }\n    this.domElement.removeEventListener(\"wheel\", this.onWheel, true);\n    this.domElement = null;\n    this._eventsAdded = false;\n  }\n  /**\n   * Maps coordinates from DOM/screen space into PixiJS normalized coordinates.\n   * This takes into account the current scale, position, and resolution of the DOM element.\n   * @param point - The point to store the mapped coordinates in\n   * @param x - The x coordinate in DOM/client space\n   * @param y - The y coordinate in DOM/client space\n   * @example\n   * ```ts\n   * // Map mouse coordinates to PixiJS space\n   * const point = new Point();\n   * app.renderer.events.mapPositionToPoint(\n   *     point,\n   *     event.clientX,\n   *     event.clientY\n   * );\n   * console.log('Mapped position:', point.x, point.y);\n   *\n   * // Using with pointer events\n   * sprite.on('pointermove', (event) => {\n   *     // event.global already contains mapped coordinates\n   *     console.log('Global:', event.global.x, event.global.y);\n   *\n   *     // Map to local coordinates\n   *     const local = event.getLocalPosition(sprite);\n   *     console.log('Local:', local.x, local.y);\n   * });\n   * ```\n   * @remarks\n   * - Accounts for element scaling and positioning\n   * - Adjusts for device pixel ratio/resolution\n   */\n  mapPositionToPoint(point, x, y) {\n    const rect = this.domElement.isConnected ? this.domElement.getBoundingClientRect() : {\n      x: 0,\n      y: 0,\n      width: this.domElement.width,\n      height: this.domElement.height,\n      left: 0,\n      top: 0\n    };\n    const resolutionMultiplier = 1 / this.resolution;\n    point.x = (x - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;\n    point.y = (y - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;\n  }\n  /**\n   * Ensures that the original event object contains all data that a regular pointer event would have\n   * @param event - The original event data from a touch or mouse event\n   * @returns An array containing a single normalized pointer event, in the case of a pointer\n   *  or mouse event, or a multiple normalized pointer events if there are multiple changed touches\n   */\n  _normalizeToPointerData(event) {\n    const normalizedEvents = [];\n    if (this.supportsTouchEvents && event instanceof TouchEvent) {\n      for (let i = 0, li = event.changedTouches.length; i < li; i++) {\n        const touch = event.changedTouches[i];\n        if (typeof touch.button === \"undefined\")\n          touch.button = 0;\n        if (typeof touch.buttons === \"undefined\")\n          touch.buttons = 1;\n        if (typeof touch.isPrimary === \"undefined\") {\n          touch.isPrimary = event.touches.length === 1 && event.type === \"touchstart\";\n        }\n        if (typeof touch.width === \"undefined\")\n          touch.width = touch.radiusX || 1;\n        if (typeof touch.height === \"undefined\")\n          touch.height = touch.radiusY || 1;\n        if (typeof touch.tiltX === \"undefined\")\n          touch.tiltX = 0;\n        if (typeof touch.tiltY === \"undefined\")\n          touch.tiltY = 0;\n        if (typeof touch.pointerType === \"undefined\")\n          touch.pointerType = \"touch\";\n        if (typeof touch.pointerId === \"undefined\")\n          touch.pointerId = touch.identifier || 0;\n        if (typeof touch.pressure === \"undefined\")\n          touch.pressure = touch.force || 0.5;\n        if (typeof touch.twist === \"undefined\")\n          touch.twist = 0;\n        if (typeof touch.tangentialPressure === \"undefined\")\n          touch.tangentialPressure = 0;\n        if (typeof touch.layerX === \"undefined\")\n          touch.layerX = touch.offsetX = touch.clientX;\n        if (typeof touch.layerY === \"undefined\")\n          touch.layerY = touch.offsetY = touch.clientY;\n        touch.isNormalized = true;\n        touch.type = event.type;\n        normalizedEvents.push(touch);\n      }\n    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {\n      const tempEvent = event;\n      if (typeof tempEvent.isPrimary === \"undefined\")\n        tempEvent.isPrimary = true;\n      if (typeof tempEvent.width === \"undefined\")\n        tempEvent.width = 1;\n      if (typeof tempEvent.height === \"undefined\")\n        tempEvent.height = 1;\n      if (typeof tempEvent.tiltX === \"undefined\")\n        tempEvent.tiltX = 0;\n      if (typeof tempEvent.tiltY === \"undefined\")\n        tempEvent.tiltY = 0;\n      if (typeof tempEvent.pointerType === \"undefined\")\n        tempEvent.pointerType = \"mouse\";\n      if (typeof tempEvent.pointerId === \"undefined\")\n        tempEvent.pointerId = MOUSE_POINTER_ID;\n      if (typeof tempEvent.pressure === \"undefined\")\n        tempEvent.pressure = 0.5;\n      if (typeof tempEvent.twist === \"undefined\")\n        tempEvent.twist = 0;\n      if (typeof tempEvent.tangentialPressure === \"undefined\")\n        tempEvent.tangentialPressure = 0;\n      tempEvent.isNormalized = true;\n      normalizedEvents.push(tempEvent);\n    } else {\n      normalizedEvents.push(event);\n    }\n    return normalizedEvents;\n  }\n  /**\n   * Normalizes the native {@link https://w3c.github.io/uievents/#interface-wheelevent WheelEvent}.\n   *\n   * The returned {@link FederatedWheelEvent} is a shared instance. It will not persist across\n   * multiple native wheel events.\n   * @param nativeEvent - The native wheel event that occurred on the canvas.\n   * @returns A federated wheel event.\n   */\n  normalizeWheelEvent(nativeEvent) {\n    const event = this._rootWheelEvent;\n    this._transferMouseData(event, nativeEvent);\n    event.deltaX = nativeEvent.deltaX;\n    event.deltaY = nativeEvent.deltaY;\n    event.deltaZ = nativeEvent.deltaZ;\n    event.deltaMode = nativeEvent.deltaMode;\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.nativeEvent = nativeEvent;\n    event.type = nativeEvent.type;\n    return event;\n  }\n  /**\n   * Normalizes the `nativeEvent` into a federateed {@link FederatedPointerEvent}.\n   * @param event\n   * @param nativeEvent\n   */\n  _bootstrapEvent(event, nativeEvent) {\n    event.originalEvent = null;\n    event.nativeEvent = nativeEvent;\n    event.pointerId = nativeEvent.pointerId;\n    event.width = nativeEvent.width;\n    event.height = nativeEvent.height;\n    event.isPrimary = nativeEvent.isPrimary;\n    event.pointerType = nativeEvent.pointerType;\n    event.pressure = nativeEvent.pressure;\n    event.tangentialPressure = nativeEvent.tangentialPressure;\n    event.tiltX = nativeEvent.tiltX;\n    event.tiltY = nativeEvent.tiltY;\n    event.twist = nativeEvent.twist;\n    this._transferMouseData(event, nativeEvent);\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.isTrusted = nativeEvent.isTrusted;\n    if (event.type === \"pointerleave\") {\n      event.type = \"pointerout\";\n    }\n    if (event.type.startsWith(\"mouse\")) {\n      event.type = event.type.replace(\"mouse\", \"pointer\");\n    }\n    if (event.type.startsWith(\"touch\")) {\n      event.type = TOUCH_TO_POINTER[event.type] || event.type;\n    }\n    return event;\n  }\n  /**\n   * Transfers base & mouse event data from the `nativeEvent` to the federated event.\n   * @param event\n   * @param nativeEvent\n   */\n  _transferMouseData(event, nativeEvent) {\n    event.isTrusted = nativeEvent.isTrusted;\n    event.srcElement = nativeEvent.srcElement;\n    event.timeStamp = performance.now();\n    event.type = nativeEvent.type;\n    event.altKey = nativeEvent.altKey;\n    event.button = nativeEvent.button;\n    event.buttons = nativeEvent.buttons;\n    event.client.x = nativeEvent.clientX;\n    event.client.y = nativeEvent.clientY;\n    event.ctrlKey = nativeEvent.ctrlKey;\n    event.metaKey = nativeEvent.metaKey;\n    event.movement.x = nativeEvent.movementX;\n    event.movement.y = nativeEvent.movementY;\n    event.page.x = nativeEvent.pageX;\n    event.page.y = nativeEvent.pageY;\n    event.relatedTarget = null;\n    event.shiftKey = nativeEvent.shiftKey;\n  }\n};\n/** @ignore */\n_EventSystem.extension = {\n  name: \"events\",\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.CanvasSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  priority: -1\n};\n/**\n * The event features that are enabled by the EventSystem\n * @since 7.2.0\n * @example\n * ```ts\n * import { EventSystem, EventSystemFeatures } from 'pixi.js';\n * // Access the default event features\n * EventSystem.defaultEventFeatures = {\n *     // Enable pointer movement events\n *     move: true,\n *     // Enable global pointer move events\n *     globalMove: true,\n *     // Enable click events\n *     click: true,\n *     // Enable wheel events\n *     wheel: true,\n * };\n * ```\n */\n_EventSystem.defaultEventFeatures = {\n  /** Enables pointer events associated with pointer movement. */\n  move: true,\n  /** Enables global pointer move events. */\n  globalMove: true,\n  /** Enables pointer events associated with clicking. */\n  click: true,\n  /** Enables wheel events. */\n  wheel: true\n};\nlet EventSystem = _EventSystem;\n\nexport { EventSystem };\n//# sourceMappingURL=EventSystem.mjs.map\n","import { EventSystem } from './EventSystem.mjs';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\n\"use strict\";\nconst FederatedContainer = {\n  onclick: null,\n  onmousedown: null,\n  onmouseenter: null,\n  onmouseleave: null,\n  onmousemove: null,\n  onglobalmousemove: null,\n  onmouseout: null,\n  onmouseover: null,\n  onmouseup: null,\n  onmouseupoutside: null,\n  onpointercancel: null,\n  onpointerdown: null,\n  onpointerenter: null,\n  onpointerleave: null,\n  onpointermove: null,\n  onglobalpointermove: null,\n  onpointerout: null,\n  onpointerover: null,\n  onpointertap: null,\n  onpointerup: null,\n  onpointerupoutside: null,\n  onrightclick: null,\n  onrightdown: null,\n  onrightup: null,\n  onrightupoutside: null,\n  ontap: null,\n  ontouchcancel: null,\n  ontouchend: null,\n  ontouchendoutside: null,\n  ontouchmove: null,\n  onglobaltouchmove: null,\n  ontouchstart: null,\n  onwheel: null,\n  get interactive() {\n    return this.eventMode === \"dynamic\" || this.eventMode === \"static\";\n  },\n  set interactive(value) {\n    this.eventMode = value ? \"static\" : \"passive\";\n  },\n  _internalEventMode: void 0,\n  get eventMode() {\n    return this._internalEventMode ?? EventSystem.defaultEventMode;\n  },\n  set eventMode(value) {\n    this._internalEventMode = value;\n  },\n  isInteractive() {\n    return this.eventMode === \"static\" || this.eventMode === \"dynamic\";\n  },\n  interactiveChildren: true,\n  hitArea: null,\n  addEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const signal = typeof options === \"object\" ? options.signal : void 0;\n    const once = typeof options === \"object\" ? options.once === true : false;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    const listenerFn = typeof listener === \"function\" ? listener : listener.handleEvent;\n    const emitter = this;\n    if (signal) {\n      signal.addEventListener(\"abort\", () => {\n        emitter.off(type, listenerFn, context);\n      });\n    }\n    if (once) {\n      emitter.once(type, listenerFn, context);\n    } else {\n      emitter.on(type, listenerFn, context);\n    }\n  },\n  removeEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    listener = typeof listener === \"function\" ? listener : listener.handleEvent;\n    this.off(type, listener, context);\n  },\n  dispatchEvent(e) {\n    if (!(e instanceof FederatedEvent)) {\n      throw new Error(\"Container cannot propagate events outside of the Federated Events API\");\n    }\n    e.defaultPrevented = false;\n    e.path = null;\n    e.target = this;\n    e.manager.dispatchEvent(e);\n    return !e.defaultPrevented;\n  }\n};\n\nexport { FederatedContainer };\n//# sourceMappingURL=FederatedEventTarget.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nclass FilterPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  push(filterEffect, container, instructionSet) {\n    const renderPipes = this._renderer.renderPipes;\n    renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"filter\",\n      canBundle: false,\n      action: \"pushFilter\",\n      container,\n      filterEffect\n    });\n  }\n  pop(_filterEffect, _container, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"filter\",\n      action: \"popFilter\",\n      canBundle: false\n    });\n  }\n  execute(instruction) {\n    if (instruction.action === \"pushFilter\") {\n      this._renderer.filter.push(instruction);\n    } else if (instruction.action === \"popFilter\") {\n      this._renderer.filter.pop();\n    }\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\nFilterPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"filter\"\n};\n\nexport { FilterPipe };\n//# sourceMappingURL=FilterPipe.mjs.map\n","import '../../../maths/index.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\n\n\"use strict\";\nconst tempProjectionMatrix = new Matrix();\nfunction getGlobalRenderableBounds(renderables, bounds) {\n  bounds.clear();\n  const actualMatrix = bounds.matrix;\n  for (let i = 0; i < renderables.length; i++) {\n    const renderable = renderables[i];\n    if (renderable.globalDisplayStatus < 7) {\n      continue;\n    }\n    const renderGroup = renderable.renderGroup ?? renderable.parentRenderGroup;\n    if (renderGroup?.isCachedAsTexture) {\n      bounds.matrix = tempProjectionMatrix.copyFrom(renderGroup.textureOffsetInverseTransform).append(renderable.worldTransform);\n    } else if (renderGroup?._parentCacheAsTextureRenderGroup) {\n      bounds.matrix = tempProjectionMatrix.copyFrom(renderGroup._parentCacheAsTextureRenderGroup.inverseWorldTransform).append(renderable.groupTransform);\n    } else {\n      bounds.matrix = renderable.worldTransform;\n    }\n    bounds.addBounds(renderable.bounds);\n  }\n  bounds.matrix = actualMatrix;\n  return bounds;\n}\n\nexport { getGlobalRenderableBounds };\n//# sourceMappingURL=getRenderableBounds.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { Matrix } from '../maths/matrix/Matrix.mjs';\nimport { BindGroup } from '../rendering/renderers/gpu/shader/BindGroup.mjs';\nimport { Geometry } from '../rendering/renderers/shared/geometry/Geometry.mjs';\nimport { UniformGroup } from '../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture.mjs';\nimport { TexturePool } from '../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { RendererType } from '../rendering/renderers/types.mjs';\nimport { Bounds } from '../scene/container/bounds/Bounds.mjs';\nimport { getGlobalRenderableBounds } from '../scene/container/bounds/getRenderableBounds.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\n\n\"use strict\";\nconst quadGeometry = new Geometry({\n  attributes: {\n    aPosition: {\n      buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n      format: \"float32x2\",\n      stride: 2 * 4,\n      offset: 0\n    }\n  },\n  indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3])\n});\nclass FilterData {\n  constructor() {\n    /**\n     * Indicates whether the filter should be skipped.\n     * @type {boolean}\n     */\n    this.skip = false;\n    /**\n     * The texture to which the filter is applied.\n     * @type {Texture}\n     */\n    this.inputTexture = null;\n    /**\n     * The back texture used for blending, if required.\n     * @type {Texture | null}\n     */\n    this.backTexture = null;\n    /**\n     * The list of filters to be applied.\n     * @type {Filter[]}\n     */\n    this.filters = null;\n    /**\n     * The bounds of the filter area.\n     * @type {Bounds}\n     */\n    this.bounds = new Bounds();\n    /**\n     * The container to which the filter is applied.\n     * @type {Container}\n     */\n    this.container = null;\n    /**\n     * Indicates whether blending is required for the filter.\n     * @type {boolean}\n     */\n    this.blendRequired = false;\n    /**\n     * The render surface where the output of the filter is rendered.\n     * @type {RenderSurface}\n     */\n    this.outputRenderSurface = null;\n    /**\n     * The global frame of the filter area.\n     * @type {{ x: number, y: number, width: number, height: number }}\n     */\n    this.globalFrame = { x: 0, y: 0, width: 0, height: 0 };\n  }\n}\nclass FilterSystem {\n  constructor(renderer) {\n    this._filterStackIndex = 0;\n    this._filterStack = [];\n    this._filterGlobalUniforms = new UniformGroup({\n      uInputSize: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uInputPixel: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uInputClamp: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uOutputFrame: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uGlobalFrame: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uOutputTexture: { value: new Float32Array(4), type: \"vec4<f32>\" }\n    });\n    this._globalFilterBindGroup = new BindGroup({});\n    this.renderer = renderer;\n  }\n  /**\n   * The back texture of the currently active filter. Requires the filter to have `blendRequired` set to true.\n   * @readonly\n   */\n  get activeBackTexture() {\n    return this._activeFilterData?.backTexture;\n  }\n  /**\n   * Pushes a filter instruction onto the filter stack.\n   * @param instruction - The instruction containing the filter effect and container.\n   * @internal\n   */\n  push(instruction) {\n    const renderer = this.renderer;\n    const filters = instruction.filterEffect.filters;\n    const filterData = this._pushFilterData();\n    filterData.skip = false;\n    filterData.filters = filters;\n    filterData.container = instruction.container;\n    filterData.outputRenderSurface = renderer.renderTarget.renderSurface;\n    const colorTextureSource = renderer.renderTarget.renderTarget.colorTexture.source;\n    const rootResolution = colorTextureSource.resolution;\n    const rootAntialias = colorTextureSource.antialias;\n    if (filters.length === 0) {\n      filterData.skip = true;\n      return;\n    }\n    const bounds = filterData.bounds;\n    this._calculateFilterArea(instruction, bounds);\n    this._calculateFilterBounds(filterData, renderer.renderTarget.rootViewPort, rootAntialias, rootResolution, 1);\n    if (filterData.skip) {\n      return;\n    }\n    const previousFilterData = this._getPreviousFilterData();\n    const globalResolution = this._findFilterResolution(rootResolution);\n    let offsetX = 0;\n    let offsetY = 0;\n    if (previousFilterData) {\n      offsetX = previousFilterData.bounds.minX;\n      offsetY = previousFilterData.bounds.minY;\n    }\n    this._calculateGlobalFrame(\n      filterData,\n      offsetX,\n      offsetY,\n      globalResolution,\n      colorTextureSource.width,\n      colorTextureSource.height\n    );\n    this._setupFilterTextures(filterData, bounds, renderer, previousFilterData);\n  }\n  /**\n   * Applies filters to a texture.\n   *\n   * This method takes a texture and a list of filters, applies the filters to the texture,\n   * and returns the resulting texture.\n   * @param {object} params - The parameters for applying filters.\n   * @param {Texture} params.texture - The texture to apply filters to.\n   * @param {Filter[]} params.filters - The filters to apply.\n   * @returns {Texture} The resulting texture after all filters have been applied.\n   * @example\n   *\n   * ```ts\n   * // Create a texture and a list of filters\n   * const texture = new Texture(...);\n   * const filters = [new BlurFilter(), new ColorMatrixFilter()];\n   *\n   * // Apply the filters to the texture\n   * const resultTexture = filterSystem.applyToTexture({ texture, filters });\n   *\n   * // Use the resulting texture\n   * sprite.texture = resultTexture;\n   * ```\n   *\n   * Key Points:\n   * 1. padding is not currently supported here - so clipping may occur with filters that use padding.\n   * 2. If all filters are disabled or skipped, the original texture is returned.\n   */\n  generateFilteredTexture({ texture, filters }) {\n    const filterData = this._pushFilterData();\n    this._activeFilterData = filterData;\n    filterData.skip = false;\n    filterData.filters = filters;\n    const colorTextureSource = texture.source;\n    const rootResolution = colorTextureSource.resolution;\n    const rootAntialias = colorTextureSource.antialias;\n    if (filters.length === 0) {\n      filterData.skip = true;\n      return texture;\n    }\n    const bounds = filterData.bounds;\n    bounds.addRect(texture.frame);\n    this._calculateFilterBounds(filterData, bounds.rectangle, rootAntialias, rootResolution, 0);\n    if (filterData.skip) {\n      return texture;\n    }\n    const globalResolution = rootResolution;\n    const offsetX = 0;\n    const offsetY = 0;\n    this._calculateGlobalFrame(\n      filterData,\n      offsetX,\n      offsetY,\n      globalResolution,\n      colorTextureSource.width,\n      colorTextureSource.height\n    );\n    filterData.outputRenderSurface = TexturePool.getOptimalTexture(\n      bounds.width,\n      bounds.height,\n      filterData.resolution,\n      filterData.antialias\n    );\n    filterData.backTexture = Texture.EMPTY;\n    filterData.inputTexture = texture;\n    const renderer = this.renderer;\n    renderer.renderTarget.finishRenderPass();\n    this._applyFiltersToTexture(filterData, true);\n    const outputTexture = filterData.outputRenderSurface;\n    outputTexture.source.alphaMode = \"premultiplied-alpha\";\n    return outputTexture;\n  }\n  /** @internal */\n  pop() {\n    const renderer = this.renderer;\n    const filterData = this._popFilterData();\n    if (filterData.skip) {\n      return;\n    }\n    renderer.globalUniforms.pop();\n    renderer.renderTarget.finishRenderPass();\n    this._activeFilterData = filterData;\n    this._applyFiltersToTexture(filterData, false);\n    if (filterData.blendRequired) {\n      TexturePool.returnTexture(filterData.backTexture);\n    }\n    TexturePool.returnTexture(filterData.inputTexture);\n  }\n  /**\n   * Copies the last render surface to a texture.\n   * @param lastRenderSurface - The last render surface to copy from.\n   * @param bounds - The bounds of the area to copy.\n   * @param previousBounds - The previous bounds to use for offsetting the copy.\n   */\n  getBackTexture(lastRenderSurface, bounds, previousBounds) {\n    const backgroundResolution = lastRenderSurface.colorTexture.source._resolution;\n    const backTexture = TexturePool.getOptimalTexture(\n      bounds.width,\n      bounds.height,\n      backgroundResolution,\n      false\n    );\n    let x = bounds.minX;\n    let y = bounds.minY;\n    if (previousBounds) {\n      x -= previousBounds.minX;\n      y -= previousBounds.minY;\n    }\n    x = Math.floor(x * backgroundResolution);\n    y = Math.floor(y * backgroundResolution);\n    const width = Math.ceil(bounds.width * backgroundResolution);\n    const height = Math.ceil(bounds.height * backgroundResolution);\n    this.renderer.renderTarget.copyToTexture(\n      lastRenderSurface,\n      backTexture,\n      { x, y },\n      { width, height },\n      { x: 0, y: 0 }\n    );\n    return backTexture;\n  }\n  /**\n   * Applies a filter to a texture.\n   * @param filter - The filter to apply.\n   * @param input - The input texture.\n   * @param output - The output render surface.\n   * @param clear - Whether to clear the output surface before applying the filter.\n   */\n  applyFilter(filter, input, output, clear) {\n    const renderer = this.renderer;\n    const filterData = this._activeFilterData;\n    const outputRenderSurface = filterData.outputRenderSurface;\n    const isFinalTarget = outputRenderSurface === output;\n    const rootResolution = renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution;\n    const resolution = this._findFilterResolution(rootResolution);\n    let offsetX = 0;\n    let offsetY = 0;\n    if (isFinalTarget) {\n      const offset = this._findPreviousFilterOffset();\n      offsetX = offset.x;\n      offsetY = offset.y;\n    }\n    this._updateFilterUniforms(input, output, filterData, offsetX, offsetY, resolution, isFinalTarget, clear);\n    this._setupBindGroupsAndRender(filter, input, renderer);\n  }\n  /**\n   * Multiply _input normalized coordinates_ to this matrix to get _sprite texture normalized coordinates_.\n   *\n   * Use `outputMatrix * vTextureCoord` in the shader.\n   * @param outputMatrix - The matrix to output to.\n   * @param {Sprite} sprite - The sprite to map to.\n   * @returns The mapped matrix.\n   */\n  calculateSpriteMatrix(outputMatrix, sprite) {\n    const data = this._activeFilterData;\n    const mappedMatrix = outputMatrix.set(\n      data.inputTexture._source.width,\n      0,\n      0,\n      data.inputTexture._source.height,\n      data.bounds.minX,\n      data.bounds.minY\n    );\n    const worldTransform = sprite.worldTransform.copyTo(Matrix.shared);\n    const renderGroup = sprite.renderGroup || sprite.parentRenderGroup;\n    if (renderGroup && renderGroup.cacheToLocalTransform) {\n      worldTransform.prepend(renderGroup.cacheToLocalTransform);\n    }\n    worldTransform.invert();\n    mappedMatrix.prepend(worldTransform);\n    mappedMatrix.scale(\n      1 / sprite.texture.orig.width,\n      1 / sprite.texture.orig.height\n    );\n    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);\n    return mappedMatrix;\n  }\n  destroy() {\n  }\n  /**\n   * Sets up the bind groups and renders the filter.\n   * @param filter - The filter to apply\n   * @param input - The input texture\n   * @param renderer - The renderer instance\n   */\n  _setupBindGroupsAndRender(filter, input, renderer) {\n    if (renderer.renderPipes.uniformBatch) {\n      const batchUniforms = renderer.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);\n      this._globalFilterBindGroup.setResource(batchUniforms, 0);\n    } else {\n      this._globalFilterBindGroup.setResource(this._filterGlobalUniforms, 0);\n    }\n    this._globalFilterBindGroup.setResource(input.source, 1);\n    this._globalFilterBindGroup.setResource(input.source.style, 2);\n    filter.groups[0] = this._globalFilterBindGroup;\n    renderer.encoder.draw({\n      geometry: quadGeometry,\n      shader: filter,\n      state: filter._state,\n      topology: \"triangle-list\"\n    });\n    if (renderer.type === RendererType.WEBGL) {\n      renderer.renderTarget.finishRenderPass();\n    }\n  }\n  /**\n   * Sets up the filter textures including input texture and back texture if needed.\n   * @param filterData - The filter data to update\n   * @param bounds - The bounds for the texture\n   * @param renderer - The renderer instance\n   * @param previousFilterData - The previous filter data for back texture calculation\n   */\n  _setupFilterTextures(filterData, bounds, renderer, previousFilterData) {\n    filterData.backTexture = Texture.EMPTY;\n    filterData.inputTexture = TexturePool.getOptimalTexture(\n      bounds.width,\n      bounds.height,\n      filterData.resolution,\n      filterData.antialias\n    );\n    if (filterData.blendRequired) {\n      renderer.renderTarget.finishRenderPass();\n      const renderTarget = renderer.renderTarget.getRenderTarget(filterData.outputRenderSurface);\n      filterData.backTexture = this.getBackTexture(renderTarget, bounds, previousFilterData?.bounds);\n    }\n    renderer.renderTarget.bind(filterData.inputTexture, true);\n    renderer.globalUniforms.push({\n      offset: bounds\n    });\n  }\n  /**\n   * Calculates and sets the global frame for the filter.\n   * @param filterData - The filter data to update\n   * @param offsetX - The X offset\n   * @param offsetY - The Y offset\n   * @param globalResolution - The global resolution\n   * @param sourceWidth - The source texture width\n   * @param sourceHeight - The source texture height\n   */\n  _calculateGlobalFrame(filterData, offsetX, offsetY, globalResolution, sourceWidth, sourceHeight) {\n    const globalFrame = filterData.globalFrame;\n    globalFrame.x = offsetX * globalResolution;\n    globalFrame.y = offsetY * globalResolution;\n    globalFrame.width = sourceWidth * globalResolution;\n    globalFrame.height = sourceHeight * globalResolution;\n  }\n  /**\n   * Updates the filter uniforms with the current filter state.\n   * @param input - The input texture\n   * @param output - The output render surface\n   * @param filterData - The current filter data\n   * @param offsetX - The X offset for positioning\n   * @param offsetY - The Y offset for positioning\n   * @param resolution - The current resolution\n   * @param isFinalTarget - Whether this is the final render target\n   * @param clear - Whether to clear the output surface\n   */\n  _updateFilterUniforms(input, output, filterData, offsetX, offsetY, resolution, isFinalTarget, clear) {\n    const uniforms = this._filterGlobalUniforms.uniforms;\n    const outputFrame = uniforms.uOutputFrame;\n    const inputSize = uniforms.uInputSize;\n    const inputPixel = uniforms.uInputPixel;\n    const inputClamp = uniforms.uInputClamp;\n    const globalFrame = uniforms.uGlobalFrame;\n    const outputTexture = uniforms.uOutputTexture;\n    if (isFinalTarget) {\n      outputFrame[0] = filterData.bounds.minX - offsetX;\n      outputFrame[1] = filterData.bounds.minY - offsetY;\n    } else {\n      outputFrame[0] = 0;\n      outputFrame[1] = 0;\n    }\n    outputFrame[2] = input.frame.width;\n    outputFrame[3] = input.frame.height;\n    inputSize[0] = input.source.width;\n    inputSize[1] = input.source.height;\n    inputSize[2] = 1 / inputSize[0];\n    inputSize[3] = 1 / inputSize[1];\n    inputPixel[0] = input.source.pixelWidth;\n    inputPixel[1] = input.source.pixelHeight;\n    inputPixel[2] = 1 / inputPixel[0];\n    inputPixel[3] = 1 / inputPixel[1];\n    inputClamp[0] = 0.5 * inputPixel[2];\n    inputClamp[1] = 0.5 * inputPixel[3];\n    inputClamp[2] = input.frame.width * inputSize[2] - 0.5 * inputPixel[2];\n    inputClamp[3] = input.frame.height * inputSize[3] - 0.5 * inputPixel[3];\n    const rootTexture = this.renderer.renderTarget.rootRenderTarget.colorTexture;\n    globalFrame[0] = offsetX * resolution;\n    globalFrame[1] = offsetY * resolution;\n    globalFrame[2] = rootTexture.source.width * resolution;\n    globalFrame[3] = rootTexture.source.height * resolution;\n    if (output instanceof Texture)\n      output.source.resource = null;\n    const renderTarget = this.renderer.renderTarget.getRenderTarget(output);\n    this.renderer.renderTarget.bind(output, !!clear);\n    if (output instanceof Texture) {\n      outputTexture[0] = output.frame.width;\n      outputTexture[1] = output.frame.height;\n    } else {\n      outputTexture[0] = renderTarget.width;\n      outputTexture[1] = renderTarget.height;\n    }\n    outputTexture[2] = renderTarget.isRoot ? -1 : 1;\n    this._filterGlobalUniforms.update();\n  }\n  /**\n   * Finds the correct resolution by looking back through the filter stack.\n   * @param rootResolution - The fallback root resolution to use\n   * @returns The resolution from the previous filter or root resolution\n   */\n  _findFilterResolution(rootResolution) {\n    let currentIndex = this._filterStackIndex - 1;\n    while (currentIndex > 0 && this._filterStack[currentIndex].skip) {\n      --currentIndex;\n    }\n    return currentIndex > 0 && this._filterStack[currentIndex].inputTexture ? this._filterStack[currentIndex].inputTexture.source._resolution : rootResolution;\n  }\n  /**\n   * Finds the offset from the previous non-skipped filter in the stack.\n   * @returns The offset coordinates from the previous filter\n   */\n  _findPreviousFilterOffset() {\n    let offsetX = 0;\n    let offsetY = 0;\n    let lastIndex = this._filterStackIndex;\n    while (lastIndex > 0) {\n      lastIndex--;\n      const prevFilterData = this._filterStack[lastIndex];\n      if (!prevFilterData.skip) {\n        offsetX = prevFilterData.bounds.minX;\n        offsetY = prevFilterData.bounds.minY;\n        break;\n      }\n    }\n    return { x: offsetX, y: offsetY };\n  }\n  /**\n   * Calculates the filter area bounds based on the instruction type.\n   * @param instruction - The filter instruction\n   * @param bounds - The bounds object to populate\n   */\n  _calculateFilterArea(instruction, bounds) {\n    if (instruction.renderables) {\n      getGlobalRenderableBounds(instruction.renderables, bounds);\n    } else if (instruction.filterEffect.filterArea) {\n      bounds.clear();\n      bounds.addRect(instruction.filterEffect.filterArea);\n      bounds.applyMatrix(instruction.container.worldTransform);\n    } else {\n      instruction.container.getFastGlobalBounds(true, bounds);\n    }\n    if (instruction.container) {\n      const renderGroup = instruction.container.renderGroup || instruction.container.parentRenderGroup;\n      const filterFrameTransform = renderGroup.cacheToLocalTransform;\n      if (filterFrameTransform) {\n        bounds.applyMatrix(filterFrameTransform);\n      }\n    }\n  }\n  _applyFiltersToTexture(filterData, clear) {\n    const inputTexture = filterData.inputTexture;\n    const bounds = filterData.bounds;\n    const filters = filterData.filters;\n    this._globalFilterBindGroup.setResource(inputTexture.source.style, 2);\n    this._globalFilterBindGroup.setResource(filterData.backTexture.source, 3);\n    if (filters.length === 1) {\n      filters[0].apply(this, inputTexture, filterData.outputRenderSurface, clear);\n    } else {\n      let flip = filterData.inputTexture;\n      const tempTexture = TexturePool.getOptimalTexture(\n        bounds.width,\n        bounds.height,\n        flip.source._resolution,\n        false\n      );\n      let flop = tempTexture;\n      let i = 0;\n      for (i = 0; i < filters.length - 1; ++i) {\n        const filter = filters[i];\n        filter.apply(this, flip, flop, true);\n        const t = flip;\n        flip = flop;\n        flop = t;\n      }\n      filters[i].apply(this, flip, filterData.outputRenderSurface, clear);\n      TexturePool.returnTexture(tempTexture);\n    }\n  }\n  _calculateFilterBounds(filterData, viewPort, rootAntialias, rootResolution, paddingMultiplier) {\n    const renderer = this.renderer;\n    const bounds = filterData.bounds;\n    const filters = filterData.filters;\n    let resolution = Infinity;\n    let padding = 0;\n    let antialias = true;\n    let blendRequired = false;\n    let enabled = false;\n    let clipToViewport = true;\n    for (let i = 0; i < filters.length; i++) {\n      const filter = filters[i];\n      resolution = Math.min(resolution, filter.resolution === \"inherit\" ? rootResolution : filter.resolution);\n      padding += filter.padding;\n      if (filter.antialias === \"off\") {\n        antialias = false;\n      } else if (filter.antialias === \"inherit\") {\n        antialias && (antialias = rootAntialias);\n      }\n      if (!filter.clipToViewport) {\n        clipToViewport = false;\n      }\n      const isCompatible = !!(filter.compatibleRenderers & renderer.type);\n      if (!isCompatible) {\n        enabled = false;\n        break;\n      }\n      if (filter.blendRequired && !(renderer.backBuffer?.useBackBuffer ?? true)) {\n        warn(\"Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options.\");\n        enabled = false;\n        break;\n      }\n      enabled = filter.enabled || enabled;\n      blendRequired || (blendRequired = filter.blendRequired);\n    }\n    if (!enabled) {\n      filterData.skip = true;\n      return;\n    }\n    if (clipToViewport) {\n      bounds.fitBounds(0, viewPort.width / rootResolution, 0, viewPort.height / rootResolution);\n    }\n    bounds.scale(resolution).ceil().scale(1 / resolution).pad((padding | 0) * paddingMultiplier);\n    if (!bounds.isPositive) {\n      filterData.skip = true;\n      return;\n    }\n    filterData.antialias = antialias;\n    filterData.resolution = resolution;\n    filterData.blendRequired = blendRequired;\n  }\n  _popFilterData() {\n    this._filterStackIndex--;\n    return this._filterStack[this._filterStackIndex];\n  }\n  _getPreviousFilterData() {\n    let previousFilterData;\n    let index = this._filterStackIndex - 1;\n    while (index > 0) {\n      index--;\n      previousFilterData = this._filterStack[index];\n      if (!previousFilterData.skip) {\n        break;\n      }\n    }\n    return previousFilterData;\n  }\n  _pushFilterData() {\n    let filterData = this._filterStack[this._filterStackIndex];\n    if (!filterData) {\n      filterData = this._filterStack[this._filterStackIndex] = new FilterData();\n    }\n    this._filterStackIndex++;\n    return filterData;\n  }\n}\n/** @ignore */\nFilterSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"filter\"\n};\n\nexport { FilterSystem };\n//# sourceMappingURL=FilterSystem.mjs.map\n","var fragment = \"in vec2 vMaskCoord;\\nin vec2 vTextureCoord;\\n\\nuniform sampler2D uTexture;\\nuniform sampler2D uMaskTexture;\\n\\nuniform float uAlpha;\\nuniform vec4 uMaskClamp;\\nuniform float uInverse;\\n\\nout vec4 finalColor;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(uMaskClamp.x, vMaskCoord.x) +\\n        step(uMaskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, uMaskClamp.z) +\\n        step(vMaskCoord.y, uMaskClamp.w));\\n\\n    // TODO look into why this is needed\\n    float npmAlpha = uAlpha;\\n    vec4 original = texture(uTexture, vTextureCoord);\\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\\n\\n    float a = alphaMul * masky.r * npmAlpha * clip;\\n\\n    if (uInverse == 1.0) {\\n        a = 1.0 - a;\\n    }\\n\\n    finalColor = original * a;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=mask.frag.mjs.map\n","var vertex = \"in vec2 aPosition;\\n\\nout vec2 vTextureCoord;\\nout vec2 vMaskCoord;\\n\\n\\nuniform vec4 uInputSize;\\nuniform vec4 uOutputFrame;\\nuniform vec4 uOutputTexture;\\nuniform mat3 uFilterMatrix;\\n\\nvec4 filterVertexPosition(  vec2 aPosition )\\n{\\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\\n       \\n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord(  vec2 aPosition )\\n{\\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\\n}\\n\\nvec2 getFilterCoord( vec2 aPosition )\\n{\\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\\n}   \\n\\nvoid main(void)\\n{\\n    gl_Position = filterVertexPosition(aPosition);\\n    vTextureCoord = filterTextureCoord(aPosition);\\n    vMaskCoord = getFilterCoord(aPosition);\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=mask.vert.mjs.map\n","var source = \"struct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct MaskUniforms {\\n  uFilterMatrix:mat3x3<f32>,\\n  uMaskClamp:vec4<f32>,\\n  uAlpha:f32,\\n  uInverse:f32,\\n};\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n\\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>,\\n    @location(1) filterUv : vec2<f32>,\\n};\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\\n}\\n\\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\\n}\\n\\nfn getSize() -> vec2<f32>\\n{\\n  return gfu.uGlobalFrame.zw;\\n}\\n\\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>,\\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition),\\n   getFilterCoord(aPosition)\\n  );\\n}\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n  @location(1) filterUv: vec2<f32>,\\n  @builtin(position) position: vec4<f32>\\n) -> @location(0) vec4<f32> {\\n\\n    var maskClamp = filterUniforms.uMaskClamp;\\n    var uAlpha = filterUniforms.uAlpha;\\n\\n    var clip = step(3.5,\\n      step(maskClamp.x, filterUv.x) +\\n      step(maskClamp.y, filterUv.y) +\\n      step(filterUv.x, maskClamp.z) +\\n      step(filterUv.y, maskClamp.w));\\n\\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\\n    var source = textureSample(uTexture, uSampler, uv);\\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\\n\\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\\n\\n    if (filterUniforms.uInverse == 1.0) {\\n        a = 1.0 - a;\\n    }\\n\\n    return source * a;\\n}\\n\";\n\nexport { source as default };\n//# sourceMappingURL=mask.wgsl.mjs.map\n","import { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { GlProgram } from '../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { TextureMatrix } from '../../rendering/renderers/shared/texture/TextureMatrix.mjs';\nimport { Filter } from '../Filter.mjs';\nimport fragment from './mask.frag.mjs';\nimport vertex from './mask.vert.mjs';\nimport source from './mask.wgsl.mjs';\n\n\"use strict\";\nclass MaskFilter extends Filter {\n  constructor(options) {\n    const { sprite, ...rest } = options;\n    const textureMatrix = new TextureMatrix(sprite.texture);\n    const filterUniforms = new UniformGroup({\n      uFilterMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uMaskClamp: { value: textureMatrix.uClampFrame, type: \"vec4<f32>\" },\n      uAlpha: { value: 1, type: \"f32\" },\n      uInverse: { value: options.inverse ? 1 : 0, type: \"f32\" }\n    });\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment,\n      name: \"mask-filter\"\n    });\n    super({\n      ...rest,\n      gpuProgram,\n      glProgram,\n      clipToViewport: false,\n      resources: {\n        filterUniforms,\n        uMaskTexture: sprite.texture.source\n      }\n    });\n    this.sprite = sprite;\n    this._textureMatrix = textureMatrix;\n  }\n  set inverse(value) {\n    this.resources.filterUniforms.uniforms.uInverse = value ? 1 : 0;\n  }\n  get inverse() {\n    return this.resources.filterUniforms.uniforms.uInverse === 1;\n  }\n  apply(filterManager, input, output, clearMode) {\n    this._textureMatrix.texture = this.sprite.texture;\n    filterManager.calculateSpriteMatrix(\n      this.resources.filterUniforms.uniforms.uFilterMatrix,\n      this.sprite\n    ).prepend(this._textureMatrix.mapCoord);\n    this.resources.uMaskTexture = this.sprite.texture.source;\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n}\n\nexport { MaskFilter };\n//# sourceMappingURL=MaskFilter.mjs.map\n","import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../../view/ViewContainer.mjs';\nimport { GraphicsContext } from './GraphicsContext.mjs';\n\n\"use strict\";\nclass Graphics extends ViewContainer {\n  /**\n   * Creates a new Graphics object.\n   * @param options - Options for the Graphics.\n   */\n  constructor(options) {\n    if (options instanceof GraphicsContext) {\n      options = { context: options };\n    }\n    const { context, roundPixels, ...rest } = options || {};\n    super({\n      label: \"Graphics\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"graphics\";\n    if (!context) {\n      this._context = this._ownedContext = new GraphicsContext();\n    } else {\n      this._context = context;\n    }\n    this._context.on(\"update\", this.onViewUpdate, this);\n    this.didViewUpdate = true;\n    this.allowChildren = false;\n    this.roundPixels = roundPixels ?? false;\n  }\n  set context(context) {\n    if (context === this._context)\n      return;\n    this._context.off(\"update\", this.onViewUpdate, this);\n    this._context = context;\n    this._context.on(\"update\", this.onViewUpdate, this);\n    this.onViewUpdate();\n  }\n  /**\n   * The underlying graphics context used for drawing operations.\n   * Controls how shapes and paths are rendered.\n   * @example\n   * ```ts\n   * // Create a shared context\n   * const sharedContext = new GraphicsContext();\n   *\n   * // Create graphics objects sharing the same context\n   * const graphics1 = new Graphics();\n   * const graphics2 = new Graphics();\n   *\n   * // Assign shared context\n   * graphics1.context = sharedContext;\n   * graphics2.context = sharedContext;\n   *\n   * // Both graphics will show the same shapes\n   * sharedContext\n   *     .rect(0, 0, 100, 100)\n   *     .fill({ color: 0xff0000 });\n   * ```\n   * @see {@link GraphicsContext} For drawing operations\n   * @see {@link GraphicsOptions} For context configuration\n   */\n  get context() {\n    return this._context;\n  }\n  /**\n   * The local bounds of the graphics object.\n   * Returns the boundaries after all graphical operations but before any transforms.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Draw a shape\n   * graphics\n   *     .rect(0, 0, 100, 100)\n   *     .fill({ color: 0xff0000 });\n   *\n   * // Get bounds information\n   * const bounds = graphics.bounds;\n   * console.log(bounds.width);  // 100\n   * console.log(bounds.height); // 100\n   * ```\n   * @readonly\n   * @see {@link Bounds} For bounds operations\n   * @see {@link Container#getBounds} For transformed bounds\n   */\n  get bounds() {\n    return this._context.bounds;\n  }\n  /**\n   * Graphics objects do not need to update their bounds as the context handles this.\n   * @private\n   */\n  updateBounds() {\n  }\n  /**\n   * Checks if the object contains the given point.\n   * Returns true if the point lies within the Graphics object's rendered area.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Draw a shape\n   * graphics\n   *     .rect(0, 0, 100, 100)\n   *     .fill({ color: 0xff0000 });\n   *\n   * // Check point intersection\n   * if (graphics.containsPoint({ x: 50, y: 50 })) {\n   *     console.log('Point is inside rectangle!');\n   * }\n   * ```\n   * @param point - The point to check in local coordinates\n   * @returns True if the point is inside the Graphics object\n   * @see {@link Graphics#bounds} For bounding box checks\n   * @see {@link PointData} For point data structure\n   */\n  containsPoint(point) {\n    return this._context.containsPoint(point);\n  }\n  /**\n   * Destroys this graphics renderable and optionally its context.\n   * @param options - Options parameter. A boolean will act as if all options\n   *\n   * If the context was created by this graphics and `destroy(false)` or `destroy()` is called\n   * then the context will still be destroyed.\n   *\n   * If you want to explicitly not destroy this context that this graphics created,\n   * then you should pass destroy({ context: false })\n   *\n   * If the context was passed in as an argument to the constructor then it will not be destroyed\n   * @example\n   * ```ts\n   * // Destroy the graphics and its context\n   * graphics.destroy();\n   * graphics.destroy(true);\n   * graphics.destroy({ context: true, texture: true, textureSource: true });\n   * ```\n   */\n  destroy(options) {\n    if (this._ownedContext && !options) {\n      this._ownedContext.destroy(options);\n    } else if (options === true || options?.context === true) {\n      this._context.destroy(options);\n    }\n    this._ownedContext = null;\n    this._context = null;\n    super.destroy(options);\n  }\n  _callContextMethod(method, args) {\n    this.context[method](...args);\n    return this;\n  }\n  // --------------------------------------- GraphicsContext methods ---------------------------------------\n  /**\n   * Sets the current fill style of the graphics context.\n   * The fill style can be a color, gradient, pattern, or a complex style object.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Basic color fill\n   * graphics\n   *     .setFillStyle({ color: 0xff0000 }) // Red fill\n   *     .rect(0, 0, 100, 100)\n   *     .fill();\n   *\n   * // Gradient fill\n   * const gradient = new FillGradient({\n   *    end: { x: 1, y: 0 },\n   *    colorStops: [\n   *         { offset: 0, color: 0xff0000 }, // Red at start\n   *         { offset: 0.5, color: 0x00ff00 }, // Green at middle\n   *         { offset: 1, color: 0x0000ff }, // Blue at end\n   *    ],\n   * });\n   *\n   * graphics\n   *     .setFillStyle(gradient)\n   *     .circle(100, 100, 50)\n   *     .fill();\n   *\n   * // Pattern fill\n   * const pattern = new FillPattern(texture);\n   * graphics\n   *     .setFillStyle({\n   *         fill: pattern,\n   *         alpha: 0.5\n   *     })\n   *     .rect(0, 0, 200, 200)\n   *     .fill();\n   * ```\n   * @param {FillInput} args - The fill style to apply\n   * @returns The Graphics instance for chaining\n   * @see {@link FillStyle} For fill style options\n   * @see {@link FillGradient} For gradient fills\n   * @see {@link FillPattern} For pattern fills\n   */\n  setFillStyle(...args) {\n    return this._callContextMethod(\"setFillStyle\", args);\n  }\n  /**\n   * Sets the current stroke style of the graphics context.\n   * Similar to fill styles, stroke styles can encompass colors, gradients, patterns, or more detailed configurations.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Basic color stroke\n   * graphics\n   *     .setStrokeStyle({\n   *         width: 2,\n   *         color: 0x000000\n   *     })\n   *     .rect(0, 0, 100, 100)\n   *     .stroke();\n   *\n   * // Complex stroke style\n   * graphics\n   *     .setStrokeStyle({\n   *         width: 4,\n   *         color: 0xff0000,\n   *         alpha: 0.5,\n   *         join: 'round',\n   *         cap: 'round',\n   *         alignment: 0.5\n   *     })\n   *     .circle(100, 100, 50)\n   *     .stroke();\n   *\n   * // Gradient stroke\n   * const gradient = new FillGradient({\n   *    end: { x: 1, y: 0 },\n   *    colorStops: [\n   *         { offset: 0, color: 0xff0000 }, // Red at start\n   *         { offset: 0.5, color: 0x00ff00 }, // Green at middle\n   *         { offset: 1, color: 0x0000ff }, // Blue at end\n   *    ],\n   * });\n   *\n   * graphics\n   *     .setStrokeStyle({\n   *         width: 10,\n   *         fill: gradient\n   *     })\n   *     .poly([0,0, 100,50, 0,100])\n   *     .stroke();\n   * ```\n   * @param {StrokeInput} args - The stroke style to apply\n   * @returns The Graphics instance for chaining\n   * @see {@link StrokeStyle} For stroke style options\n   * @see {@link FillGradient} For gradient strokes\n   * @see {@link FillPattern} For pattern strokes\n   */\n  setStrokeStyle(...args) {\n    return this._callContextMethod(\"setStrokeStyle\", args);\n  }\n  fill(...args) {\n    return this._callContextMethod(\"fill\", args);\n  }\n  /**\n   * Strokes the current path with the current stroke style or specified style.\n   * Outlines the shape using the stroke settings.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Stroke with direct color\n   * graphics\n   *     .circle(50, 50, 25)\n   *     .stroke({\n   *         width: 2,\n   *         color: 0xff0000\n   *     }); // 2px red stroke\n   *\n   * // Fill with texture\n   * graphics\n   *    .rect(0, 0, 100, 100)\n   *    .stroke(myTexture); // Fill with texture\n   *\n   * // Stroke with gradient\n   * const gradient = new FillGradient({\n   *     end: { x: 1, y: 0 },\n   *     colorStops: [\n   *         { offset: 0, color: 0xff0000 },\n   *         { offset: 0.5, color: 0x00ff00 },\n   *         { offset: 1, color: 0x0000ff },\n   *     ],\n   * });\n   *\n   * graphics\n   *     .rect(0, 0, 100, 100)\n   *     .stroke({\n   *         width: 4,\n   *         fill: gradient,\n   *         alignment: 0.5,\n   *         join: 'round'\n   *     });\n   * ```\n   * @param {StrokeStyle} args - Optional stroke style to apply. Can be:\n   * - A stroke style object with width, color, etc.\n   * - A gradient\n   * - A pattern\n   * If omitted, uses current stroke style.\n   * @returns The Graphics instance for chaining\n   * @see {@link StrokeStyle} For stroke style options\n   * @see {@link FillGradient} For gradient strokes\n   * @see {@link setStrokeStyle} For setting default stroke style\n   */\n  stroke(...args) {\n    return this._callContextMethod(\"stroke\", args);\n  }\n  texture(...args) {\n    return this._callContextMethod(\"texture\", args);\n  }\n  /**\n   * Resets the current path. Any previous path and its commands are discarded and a new path is\n   * started. This is typically called before beginning a new shape or series of drawing commands.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   * graphics\n   *     .circle(150, 150, 50)\n   *     .fill({ color: 0x00ff00 })\n   *     .beginPath() // Starts a new path\n   *     .circle(250, 150, 50)\n   *     .fill({ color: 0x0000ff });\n   * ```\n   * @returns The Graphics instance for chaining\n   * @see {@link Graphics#moveTo} For starting a new subpath\n   * @see {@link Graphics#closePath} For closing the current path\n   */\n  beginPath() {\n    return this._callContextMethod(\"beginPath\", []);\n  }\n  /**\n   * Applies a cutout to the last drawn shape. This is used to create holes or complex shapes by\n   * subtracting a path from the previously drawn path.\n   *\n   * If a hole is not completely in a shape, it will fail to cut correctly.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Draw outer circle\n   * graphics\n   *     .circle(100, 100, 50)\n   *     .fill({ color: 0xff0000 });\n   *     .circle(100, 100, 25) // Inner circle\n   *     .cut() // Cuts out the inner circle from the outer circle\n   * ```\n   */\n  cut() {\n    return this._callContextMethod(\"cut\", []);\n  }\n  arc(...args) {\n    return this._callContextMethod(\"arc\", args);\n  }\n  arcTo(...args) {\n    return this._callContextMethod(\"arcTo\", args);\n  }\n  arcToSvg(...args) {\n    return this._callContextMethod(\"arcToSvg\", args);\n  }\n  bezierCurveTo(...args) {\n    return this._callContextMethod(\"bezierCurveTo\", args);\n  }\n  /**\n   * Closes the current path by drawing a straight line back to the start point.\n   *\n   * This is useful for completing shapes and ensuring they are properly closed for fills.\n   * @example\n   * ```ts\n   * // Create a triangle with closed path\n   * const graphics = new Graphics();\n   * graphics\n   *     .moveTo(50, 50)\n   *     .lineTo(100, 100)\n   *     .lineTo(0, 100)\n   *     .closePath()\n   * ```\n   * @returns The Graphics instance for method chaining\n   * @see {@link Graphics#beginPath} For starting a new path\n   * @see {@link Graphics#fill} For filling closed paths\n   * @see {@link Graphics#stroke} For stroking paths\n   */\n  closePath() {\n    return this._callContextMethod(\"closePath\", []);\n  }\n  ellipse(...args) {\n    return this._callContextMethod(\"ellipse\", args);\n  }\n  circle(...args) {\n    return this._callContextMethod(\"circle\", args);\n  }\n  path(...args) {\n    return this._callContextMethod(\"path\", args);\n  }\n  lineTo(...args) {\n    return this._callContextMethod(\"lineTo\", args);\n  }\n  moveTo(...args) {\n    return this._callContextMethod(\"moveTo\", args);\n  }\n  quadraticCurveTo(...args) {\n    return this._callContextMethod(\"quadraticCurveTo\", args);\n  }\n  rect(...args) {\n    return this._callContextMethod(\"rect\", args);\n  }\n  roundRect(...args) {\n    return this._callContextMethod(\"roundRect\", args);\n  }\n  poly(...args) {\n    return this._callContextMethod(\"poly\", args);\n  }\n  regularPoly(...args) {\n    return this._callContextMethod(\"regularPoly\", args);\n  }\n  roundPoly(...args) {\n    return this._callContextMethod(\"roundPoly\", args);\n  }\n  roundShape(...args) {\n    return this._callContextMethod(\"roundShape\", args);\n  }\n  filletRect(...args) {\n    return this._callContextMethod(\"filletRect\", args);\n  }\n  chamferRect(...args) {\n    return this._callContextMethod(\"chamferRect\", args);\n  }\n  star(...args) {\n    return this._callContextMethod(\"star\", args);\n  }\n  svg(...args) {\n    return this._callContextMethod(\"svg\", args);\n  }\n  restore(...args) {\n    return this._callContextMethod(\"restore\", args);\n  }\n  /**\n   * Saves the current graphics state onto a stack. The state includes:\n   * - Current transformation matrix\n   * - Current fill style\n   * - Current stroke style\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Save state before complex operations\n   * graphics.save();\n   *\n   * // Create transformed and styled shape\n   * graphics\n   *     .translateTransform(100, 100)\n   *     .rotateTransform(Math.PI / 4)\n   *     .setFillStyle({\n   *         color: 0xff0000,\n   *         alpha: 0.5\n   *     })\n   *     .rect(-25, -25, 50, 50)\n   *     .fill();\n   *\n   * // Restore to original state\n   * graphics.restore();\n   *\n   * // Continue drawing with previous state\n   * graphics\n   *     .circle(50, 50, 25)\n   *     .fill();\n   * ```\n   * @returns The Graphics instance for method chaining\n   * @see {@link Graphics#restore} For restoring the saved state\n   * @see {@link Graphics#setTransform} For setting transformations\n   */\n  save() {\n    return this._callContextMethod(\"save\", []);\n  }\n  /**\n   * Returns the current transformation matrix of the graphics context.\n   * This matrix represents all accumulated transformations including translate, scale, and rotate.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Apply some transformations\n   * graphics\n   *     .translateTransform(100, 100)\n   *     .rotateTransform(Math.PI / 4);\n   *\n   * // Get the current transform matrix\n   * const matrix = graphics.getTransform();\n   * console.log(matrix.tx, matrix.ty); // 100, 100\n   *\n   * // Use the matrix for other operations\n   * graphics\n   *     .setTransform(matrix)\n   *     .circle(0, 0, 50)\n   *     .fill({ color: 0xff0000 });\n   * ```\n   * @returns The current transformation matrix.\n   * @see {@link Graphics#setTransform} For setting the transform matrix\n   * @see {@link Matrix} For matrix operations\n   */\n  getTransform() {\n    return this.context.getTransform();\n  }\n  /**\n   * Resets the current transformation matrix to the identity matrix, effectively removing\n   * any transformations (rotation, scaling, translation) previously applied.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Apply transformations\n   * graphics\n   *     .translateTransform(100, 100)\n   *     .scaleTransform(2, 2)\n   *     .circle(0, 0, 25)\n   *     .fill({ color: 0xff0000 });\n   * // Reset transform to default state\n   * graphics\n   *     .resetTransform()\n   *     .circle(50, 50, 25) // Will draw at actual coordinates\n   *     .fill({ color: 0x00ff00 });\n   * ```\n   * @returns The Graphics instance for method chaining\n   * @see {@link Graphics#getTransform} For getting the current transform\n   * @see {@link Graphics#setTransform} For setting a specific transform\n   * @see {@link Graphics#save} For saving the current transform state\n   * @see {@link Graphics#restore} For restoring a previous transform state\n   */\n  resetTransform() {\n    return this._callContextMethod(\"resetTransform\", []);\n  }\n  rotateTransform(...args) {\n    return this._callContextMethod(\"rotate\", args);\n  }\n  scaleTransform(...args) {\n    return this._callContextMethod(\"scale\", args);\n  }\n  setTransform(...args) {\n    return this._callContextMethod(\"setTransform\", args);\n  }\n  transform(...args) {\n    return this._callContextMethod(\"transform\", args);\n  }\n  translateTransform(...args) {\n    return this._callContextMethod(\"translate\", args);\n  }\n  /**\n   * Clears all drawing commands from the graphics context, effectively resetting it.\n   * This includes clearing the current path, fill style, stroke style, and transformations.\n   *\n   * > [!NOTE] Graphics objects are not designed to be continuously cleared and redrawn.\n   * > Instead, they are intended to be used for static or semi-static graphics that\n   * > can be redrawn as needed. Frequent clearing and redrawing may lead to performance issues.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Draw some shapes\n   * graphics\n   *     .circle(100, 100, 50)\n   *     .fill({ color: 0xff0000 })\n   *     .rect(200, 100, 100, 50)\n   *     .fill({ color: 0x00ff00 });\n   *\n   * // Clear all graphics\n   * graphics.clear();\n   *\n   * // Start fresh with new shapes\n   * graphics\n   *     .circle(150, 150, 30)\n   *     .fill({ color: 0x0000ff });\n   * ```\n   * @returns The Graphics instance for method chaining\n   * @see {@link Graphics#beginPath} For starting a new path without clearing styles\n   * @see {@link Graphics#save} For saving the current state\n   * @see {@link Graphics#restore} For restoring a previous state\n   */\n  clear() {\n    return this._callContextMethod(\"clear\", []);\n  }\n  /**\n   * Gets or sets the current fill style for the graphics context. The fill style determines\n   * how shapes are filled when using the fill() method.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Basic color fill\n   * graphics.fillStyle = {\n   *     color: 0xff0000,  // Red\n   *     alpha: 1\n   * };\n   *\n   * // Using gradients\n   * const gradient = new FillGradient({\n   *     end: { x: 0, y: 1 }, // Vertical gradient\n   *     stops: [\n   *         { offset: 0, color: 0xff0000, alpha: 1 }, // Start color\n   *         { offset: 1, color: 0x0000ff, alpha: 1 }  // End color\n   *     ]\n   * });\n   *\n   * graphics.fillStyle = {\n   *     fill: gradient,\n   *     alpha: 0.8\n   * };\n   *\n   * // Using patterns\n   * graphics.fillStyle = {\n   *     texture: myTexture,\n   *     alpha: 1,\n   *     matrix: new Matrix()\n   *         .scale(0.5, 0.5)\n   *         .rotate(Math.PI / 4)\n   * };\n   * ```\n   * @type {ConvertedFillStyle}\n   * @see {@link FillStyle} For all available fill style options\n   * @see {@link FillGradient} For creating gradient fills\n   * @see {@link Graphics#fill} For applying the fill to paths\n   */\n  get fillStyle() {\n    return this._context.fillStyle;\n  }\n  set fillStyle(value) {\n    this._context.fillStyle = value;\n  }\n  /**\n   * Gets or sets the current stroke style for the graphics context. The stroke style determines\n   * how paths are outlined when using the stroke() method.\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Basic stroke style\n   * graphics.strokeStyle = {\n   *     width: 2,\n   *     color: 0xff0000,\n   *     alpha: 1\n   * };\n   *\n   * // Using with gradients\n   * const gradient = new FillGradient({\n   *   end: { x: 0, y: 1 },\n   *   stops: [\n   *       { offset: 0, color: 0xff0000, alpha: 1 },\n   *       { offset: 1, color: 0x0000ff, alpha: 1 }\n   *   ]\n   * });\n   *\n   * graphics.strokeStyle = {\n   *     width: 4,\n   *     fill: gradient,\n   *     alignment: 0.5,\n   *     join: 'round',\n   *     cap: 'round'\n   * };\n   *\n   * // Complex stroke settings\n   * graphics.strokeStyle = {\n   *     width: 6,\n   *     color: 0x00ff00,\n   *     alpha: 0.5,\n   *     join: 'miter',\n   *     miterLimit: 10,\n   * };\n   * ```\n   * @see {@link StrokeStyle} For all available stroke style options\n   * @see {@link Graphics#stroke} For applying the stroke to paths\n   */\n  get strokeStyle() {\n    return this._context.strokeStyle;\n  }\n  set strokeStyle(value) {\n    this._context.strokeStyle = value;\n  }\n  /**\n   * Creates a new Graphics object that copies the current graphics content.\n   * The clone can either share the same context (shallow clone) or have its own independent\n   * context (deep clone).\n   * @example\n   * ```ts\n   * const graphics = new Graphics();\n   *\n   * // Create original graphics content\n   * graphics\n   *     .circle(100, 100, 50)\n   *     .fill({ color: 0xff0000 });\n   *\n   * // Create a shallow clone (shared context)\n   * const shallowClone = graphics.clone();\n   *\n   * // Changes to original affect the clone\n   * graphics\n   *     .circle(200, 100, 30)\n   *     .fill({ color: 0x00ff00 });\n   *\n   * // Create a deep clone (independent context)\n   * const deepClone = graphics.clone(true);\n   *\n   * // Modify deep clone independently\n   * deepClone\n   *     .translateTransform(100, 100)\n   *     .circle(0, 0, 40)\n   *     .fill({ color: 0x0000ff });\n   * ```\n   * @param deep - Whether to create a deep clone of the graphics object.\n   *              If false (default), the context will be shared between objects.\n   *              If true, creates an independent copy of the context.\n   * @returns A new Graphics instance with either shared or copied context\n   * @see {@link Graphics#context} For accessing the underlying graphics context\n   * @see {@link GraphicsContext} For understanding the shared context behavior\n   */\n  clone(deep = false) {\n    if (deep) {\n      return new Graphics(this._context.clone());\n    }\n    this._ownedContext = null;\n    const clone = new Graphics(this._context);\n    return clone;\n  }\n  // -------- v7 deprecations ---------\n  /**\n   * @param width\n   * @param color\n   * @param alpha\n   * @deprecated since 8.0.0 Use {@link Graphics#setStrokeStyle} instead\n   */\n  lineStyle(width, color, alpha) {\n    deprecation(v8_0_0, \"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.\");\n    const strokeStyle = {};\n    width && (strokeStyle.width = width);\n    color && (strokeStyle.color = color);\n    alpha && (strokeStyle.alpha = alpha);\n    this.context.strokeStyle = strokeStyle;\n    return this;\n  }\n  /**\n   * @param color\n   * @param alpha\n   * @deprecated since 8.0.0 Use {@link Graphics#fill} instead\n   */\n  beginFill(color, alpha) {\n    deprecation(v8_0_0, \"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.\");\n    const fillStyle = {};\n    if (color !== void 0)\n      fillStyle.color = color;\n    if (alpha !== void 0)\n      fillStyle.alpha = alpha;\n    this.context.fillStyle = fillStyle;\n    return this;\n  }\n  /**\n   * @deprecated since 8.0.0 Use {@link Graphics#fill} instead\n   */\n  endFill() {\n    deprecation(v8_0_0, \"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.\");\n    this.context.fill();\n    const strokeStyle = this.context.strokeStyle;\n    if (strokeStyle.width !== GraphicsContext.defaultStrokeStyle.width || strokeStyle.color !== GraphicsContext.defaultStrokeStyle.color || strokeStyle.alpha !== GraphicsContext.defaultStrokeStyle.alpha) {\n      this.context.stroke();\n    }\n    return this;\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#circle} instead\n   */\n  drawCircle(...args) {\n    deprecation(v8_0_0, \"Graphics#drawCircle has been renamed to Graphics#circle\");\n    return this._callContextMethod(\"circle\", args);\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#ellipse} instead\n   */\n  drawEllipse(...args) {\n    deprecation(v8_0_0, \"Graphics#drawEllipse has been renamed to Graphics#ellipse\");\n    return this._callContextMethod(\"ellipse\", args);\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#poly} instead\n   */\n  drawPolygon(...args) {\n    deprecation(v8_0_0, \"Graphics#drawPolygon has been renamed to Graphics#poly\");\n    return this._callContextMethod(\"poly\", args);\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#rect} instead\n   */\n  drawRect(...args) {\n    deprecation(v8_0_0, \"Graphics#drawRect has been renamed to Graphics#rect\");\n    return this._callContextMethod(\"rect\", args);\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#roundRect} instead\n   */\n  drawRoundedRect(...args) {\n    deprecation(v8_0_0, \"Graphics#drawRoundedRect has been renamed to Graphics#roundRect\");\n    return this._callContextMethod(\"roundRect\", args);\n  }\n  /**\n   * @param {...any} args\n   * @deprecated since 8.0.0 Use {@link Graphics#star} instead\n   */\n  drawStar(...args) {\n    deprecation(v8_0_0, \"Graphics#drawStar has been renamed to Graphics#star\");\n    return this._callContextMethod(\"star\", args);\n  }\n}\n\nexport { Graphics };\n//# sourceMappingURL=Graphics.mjs.map\n","import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer.mjs';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const.mjs';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst _MeshGeometry = class _MeshGeometry extends Geometry {\n  constructor(...args) {\n    let options = args[0] ?? {};\n    if (options instanceof Float32Array) {\n      deprecation(v8_0_0, \"use new MeshGeometry({ positions, uvs, indices }) instead\");\n      options = {\n        positions: options,\n        uvs: args[1],\n        indices: args[2]\n      };\n    }\n    options = { ..._MeshGeometry.defaultOptions, ...options };\n    const positions = options.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n    let uvs = options.uvs;\n    if (!uvs) {\n      if (options.positions) {\n        uvs = new Float32Array(positions.length);\n      } else {\n        uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n      }\n    }\n    const indices = options.indices || new Uint32Array([0, 1, 2, 0, 2, 3]);\n    const shrinkToFit = options.shrinkBuffersToFit;\n    const positionBuffer = new Buffer({\n      data: positions,\n      label: \"attribute-mesh-positions\",\n      shrinkToFit,\n      usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n    });\n    const uvBuffer = new Buffer({\n      data: uvs,\n      label: \"attribute-mesh-uvs\",\n      shrinkToFit,\n      usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n    });\n    const indexBuffer = new Buffer({\n      data: indices,\n      label: \"index-mesh-buffer\",\n      shrinkToFit,\n      usage: BufferUsage.INDEX | BufferUsage.COPY_DST\n    });\n    super({\n      attributes: {\n        aPosition: {\n          buffer: positionBuffer,\n          format: \"float32x2\",\n          stride: 2 * 4,\n          offset: 0\n        },\n        aUV: {\n          buffer: uvBuffer,\n          format: \"float32x2\",\n          stride: 2 * 4,\n          offset: 0\n        }\n      },\n      indexBuffer,\n      topology: options.topology\n    });\n    this.batchMode = \"auto\";\n  }\n  /** The positions of the mesh. */\n  get positions() {\n    return this.attributes.aPosition.buffer.data;\n  }\n  /**\n   * Set the positions of the mesh.\n   * When setting the positions, its important that the uvs array is at least as long as the positions array.\n   * otherwise the geometry will not be valid.\n   * @param {Float32Array} value - The positions of the mesh.\n   */\n  set positions(value) {\n    this.attributes.aPosition.buffer.data = value;\n  }\n  /** The UVs of the mesh. */\n  get uvs() {\n    return this.attributes.aUV.buffer.data;\n  }\n  /**\n   * Set the UVs of the mesh.\n   * Its important that the uvs array you set is at least as long as the positions array.\n   * otherwise the geometry will not be valid.\n   * @param {Float32Array} value - The UVs of the mesh.\n   */\n  set uvs(value) {\n    this.attributes.aUV.buffer.data = value;\n  }\n  /** The indices of the mesh. */\n  get indices() {\n    return this.indexBuffer.data;\n  }\n  set indices(value) {\n    this.indexBuffer.data = value;\n  }\n};\n_MeshGeometry.defaultOptions = {\n  topology: \"triangle-list\",\n  shrinkBuffersToFit: false\n};\nlet MeshGeometry = _MeshGeometry;\n\nexport { MeshGeometry };\n//# sourceMappingURL=MeshGeometry.mjs.map\n","import { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { UPDATE_PRIORITY } from '../../ticker/const.mjs';\nimport { Ticker } from '../../ticker/Ticker.mjs';\nimport { Sprite } from '../sprite/Sprite.mjs';\n\n\"use strict\";\nclass AnimatedSprite extends Sprite {\n  constructor(...args) {\n    let options = args[0];\n    if (Array.isArray(args[0])) {\n      options = {\n        textures: args[0],\n        autoUpdate: args[1]\n      };\n    }\n    const {\n      animationSpeed = 1,\n      autoPlay = false,\n      autoUpdate = true,\n      loop = true,\n      onComplete = null,\n      onFrameChange = null,\n      onLoop = null,\n      textures,\n      updateAnchor = false,\n      ...rest\n    } = options;\n    const [firstFrame] = textures;\n    super({\n      ...rest,\n      texture: firstFrame instanceof Texture ? firstFrame : firstFrame.texture\n    });\n    this._textures = null;\n    this._durations = null;\n    this._autoUpdate = autoUpdate;\n    this._isConnectedToTicker = false;\n    this.animationSpeed = animationSpeed;\n    this.loop = loop;\n    this.updateAnchor = updateAnchor;\n    this.onComplete = onComplete;\n    this.onFrameChange = onFrameChange;\n    this.onLoop = onLoop;\n    this._currentTime = 0;\n    this._playing = false;\n    this._previousFrame = null;\n    this.textures = textures;\n    if (autoPlay) {\n      this.play();\n    }\n  }\n  /**\n   * Stops the animation playback and freezes the current frame.\n   * Does not reset the current frame or animation progress.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png')\n   *     ],\n   *     autoPlay: true\n   * });\n   *\n   * // Stop at current frame\n   * sprite.stop();\n   *\n   * // Stop at specific frame\n   * sprite.gotoAndStop(1); // Stops at second frame\n   *\n   * // Stop and reset\n   * sprite.stop();\n   * sprite.currentFrame = 0;\n   *\n   * // Stop with completion check\n   * if (sprite.playing) {\n   *     sprite.stop();\n   *     sprite.onComplete?.();\n   * }\n   * ```\n   * @see {@link AnimatedSprite#play} For starting playback\n   * @see {@link AnimatedSprite#gotoAndStop} For stopping at a specific frame\n   * @see {@link AnimatedSprite#playing} For checking play state\n   */\n  stop() {\n    if (!this._playing) {\n      return;\n    }\n    this._playing = false;\n    if (this._autoUpdate && this._isConnectedToTicker) {\n      Ticker.shared.remove(this.update, this);\n      this._isConnectedToTicker = false;\n    }\n  }\n  /**\n   * Starts or resumes the animation playback.\n   * If the animation was previously stopped, it will continue from where it left off.\n   * @example\n   * ```ts\n   * // Basic playback\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *     ],\n   *     autoPlay: false\n   * });\n   * sprite.play();\n   *\n   * // Play after stopping\n   * sprite.stop();\n   * sprite.currentFrame = 0; // Reset to start\n   * sprite.play(); // Play from beginning\n   *\n   * // Play with auto-update disabled\n   * sprite.autoUpdate = false;\n   * sprite.play();\n   * app.ticker.add(() => {\n   *     sprite.update(app.ticker); // Manual updates\n   * });\n   * ```\n   * @see {@link AnimatedSprite#stop} For stopping playback\n   * @see {@link AnimatedSprite#gotoAndPlay} For playing from a specific frame\n   * @see {@link AnimatedSprite#playing} For checking play state\n   */\n  play() {\n    if (this._playing) {\n      return;\n    }\n    this._playing = true;\n    if (this._autoUpdate && !this._isConnectedToTicker) {\n      Ticker.shared.add(this.update, this, UPDATE_PRIORITY.HIGH);\n      this._isConnectedToTicker = true;\n    }\n  }\n  /**\n   * Stops the AnimatedSprite and sets it to a specific frame.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png'),\n   *     ]\n   * });\n   *\n   * // Go to specific frames\n   * sprite.gotoAndStop(0);  // First frame\n   * sprite.gotoAndStop(2);  // Third frame\n   *\n   * // Jump to last frame\n   * sprite.gotoAndStop(sprite.totalFrames - 1);\n   * ```\n   * @param frameNumber - Frame index to stop at (0-based)\n   * @throws {Error} If frameNumber is out of bounds\n   * @see {@link AnimatedSprite#gotoAndPlay} For going to a frame and playing\n   * @see {@link AnimatedSprite#currentFrame} For getting/setting current frame\n   * @see {@link AnimatedSprite#totalFrames} For total number of frames\n   */\n  gotoAndStop(frameNumber) {\n    this.stop();\n    this.currentFrame = frameNumber;\n  }\n  /**\n   * Goes to a specific frame and begins playing the AnimatedSprite from that point.\n   * Combines frame navigation and playback start in one operation.\n   * @example\n   * ```ts\n   * // Start from specific frame\n   * sprite.gotoAndPlay(1); // Starts playing from second frame\n   * ```\n   * @param frameNumber - Frame index to start playing from (0-based)\n   * @throws {Error} If frameNumber is out of bounds\n   * @see {@link AnimatedSprite#gotoAndStop} For going to a frame without playing\n   * @see {@link AnimatedSprite#play} For playing from current frame\n   * @see {@link AnimatedSprite#currentFrame} For getting/setting current frame\n   */\n  gotoAndPlay(frameNumber) {\n    this.currentFrame = frameNumber;\n    this.play();\n  }\n  /**\n   * Updates the object transform for rendering. This method handles animation timing, frame updates,\n   * and manages looping behavior.\n   * @example\n   * ```ts\n   * // Create an animated sprite with manual updates\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('frame1.png'),\n   *         Texture.from('frame2.png'),\n   *         Texture.from('frame3.png')\n   *     ],\n   *     autoUpdate: false // Disable automatic updates\n   * });\n   *\n   * // Manual update with app ticker\n   * app.ticker.add((ticker) => {\n   *     sprite.update(ticker);\n   * });\n   * ```\n   * @param ticker - The ticker to use for updating the animation timing\n   * @see {@link AnimatedSprite#autoUpdate} For controlling automatic updates\n   * @see {@link AnimatedSprite#animationSpeed} For controlling animation speed\n   * @see {@link Ticker} For timing system details\n   */\n  update(ticker) {\n    if (!this._playing) {\n      return;\n    }\n    const deltaTime = ticker.deltaTime;\n    const elapsed = this.animationSpeed * deltaTime;\n    const previousFrame = this.currentFrame;\n    if (this._durations !== null) {\n      let lag = this._currentTime % 1 * this._durations[this.currentFrame];\n      lag += elapsed / 60 * 1e3;\n      while (lag < 0) {\n        this._currentTime--;\n        lag += this._durations[this.currentFrame];\n      }\n      const sign = Math.sign(this.animationSpeed * deltaTime);\n      this._currentTime = Math.floor(this._currentTime);\n      while (lag >= this._durations[this.currentFrame]) {\n        lag -= this._durations[this.currentFrame] * sign;\n        this._currentTime += sign;\n      }\n      this._currentTime += lag / this._durations[this.currentFrame];\n    } else {\n      this._currentTime += elapsed;\n    }\n    if (this._currentTime < 0 && !this.loop) {\n      this.gotoAndStop(0);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (this._currentTime >= this._textures.length && !this.loop) {\n      this.gotoAndStop(this._textures.length - 1);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (previousFrame !== this.currentFrame) {\n      if (this.loop && this.onLoop) {\n        if (this.animationSpeed > 0 && this.currentFrame < previousFrame || this.animationSpeed < 0 && this.currentFrame > previousFrame) {\n          this.onLoop();\n        }\n      }\n      this._updateTexture();\n    }\n  }\n  /** Updates the displayed texture to match the current frame index. */\n  _updateTexture() {\n    const currentFrame = this.currentFrame;\n    if (this._previousFrame === currentFrame) {\n      return;\n    }\n    this._previousFrame = currentFrame;\n    this.texture = this._textures[currentFrame];\n    if (this.updateAnchor && this.texture.defaultAnchor) {\n      this.anchor.copyFrom(this.texture.defaultAnchor);\n    }\n    if (this.onFrameChange) {\n      this.onFrameChange(this.currentFrame);\n    }\n  }\n  /**\n   * Stops the AnimatedSprite and destroys it.\n   * This method stops the animation playback, removes it from the ticker,\n   * and cleans up any resources associated with the sprite.\n   * @param options - Options for destroying the sprite, such as whether to remove from parent\n   * @example\n   * ```ts\n   * // Destroy the sprite when done\n   * sprite.destroy();\n   * // Or with options\n   * sprite.destroy({ children: true, texture: true, textureSource: true });\n   * ```\n   */\n  destroy(options = false) {\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._textures.forEach((texture) => {\n        if (this.texture !== texture) {\n          texture.destroy(destroyTextureSource);\n        }\n      });\n    }\n    this._textures = [];\n    this._durations = null;\n    this.stop();\n    super.destroy(options);\n    this.onComplete = null;\n    this.onFrameChange = null;\n    this.onLoop = null;\n  }\n  /**\n   * A short hand way of creating an AnimatedSprite from an array of frame ids.\n   * Uses texture frames from the cache to create an animation sequence.\n   * @example\n   * ```ts\n   * // Create from frame IDs\n   * const frameIds = [\n   *     'walk_001.png',\n   *     'walk_002.png',\n   *     'walk_003.png'\n   * ];\n   *\n   * const walkingAnimation = AnimatedSprite.fromFrames(frameIds);\n   * walkingAnimation.play();\n   * ```\n   * @param frames - The array of frame ids to use for the animation\n   * @returns A new animated sprite using the frames\n   * @see {@link Texture.from} For texture creation from frames\n   * @see {@link Spritesheet} For loading spritesheets\n   */\n  static fromFrames(frames) {\n    const textures = [];\n    for (let i = 0; i < frames.length; ++i) {\n      textures.push(Texture.from(frames[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  /**\n   * A short hand way of creating an AnimatedSprite from an array of image urls.\n   * Each image will be used as a frame in the animation.\n   * @example\n   * ```ts\n   * // Create from image URLs\n   * const images = [\n   *     'assets/walk1.png',\n   *     'assets/walk2.png',\n   *     'assets/walk3.png'\n   * ];\n   *\n   * const walkingSprite = AnimatedSprite.fromImages(images);\n   * walkingSprite.play();\n   * ```\n   * @param images - The array of image urls to use as frames\n   * @returns A new animated sprite using the images as frames\n   * @see {@link Assets} For asset loading and management\n   * @see {@link Texture.from} For texture creation from images\n   */\n  static fromImages(images) {\n    const textures = [];\n    for (let i = 0; i < images.length; ++i) {\n      textures.push(Texture.from(images[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  /**\n   * The total number of frames in the AnimatedSprite. This is the same as number of textures\n   * assigned to the AnimatedSprite.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('frame1.png'),\n   *         Texture.from('frame2.png'),\n   *         Texture.from('frame3.png')\n   *     ]\n   * });\n   *\n   * // Get total frames\n   * console.log(sprite.totalFrames); // Outputs: 3\n   *\n   * // Use with frame navigation\n   * sprite.gotoAndStop(sprite.totalFrames - 1); // Go to last frame\n   * ```\n   * @readonly\n   * @see {@link AnimatedSprite#currentFrame} For the current frame index\n   * @see {@link AnimatedSprite#textures} For the array of textures\n   * @returns {number} The total number of frames\n   */\n  get totalFrames() {\n    return this._textures.length;\n  }\n  /**\n   * The array of textures or frame objects used for the animation sequence.\n   * Can be set to either an array of Textures or an array of FrameObjects with custom timing.\n   * @example\n   * ```ts\n   * // Update textures at runtime\n   * sprite.textures = [\n   *     Texture.from('run1.png'),\n   *     Texture.from('run2.png')\n   * ];\n   *\n   * // Use custom frame timing\n   * sprite.textures = [\n   *     { texture: Texture.from('explosion1.png'), time: 100 },\n   *     { texture: Texture.from('explosion2.png'), time: 200 },\n   *     { texture: Texture.from('explosion3.png'), time: 300 }\n   * ];\n   *\n   * // Use with spritesheet\n   * const sheet = await Assets.load('animations.json');\n   * sprite.textures = sheet.animations['walk'];\n   * ```\n   * @type {AnimatedSpriteFrames}\n   * @see {@link FrameObject} For frame timing options\n   * @see {@link Spritesheet} For loading from spritesheets\n   */\n  get textures() {\n    return this._textures;\n  }\n  set textures(value) {\n    if (value[0] instanceof Texture) {\n      this._textures = value;\n      this._durations = null;\n    } else {\n      this._textures = [];\n      this._durations = [];\n      for (let i = 0; i < value.length; i++) {\n        this._textures.push(value[i].texture);\n        this._durations.push(value[i].time);\n      }\n    }\n    this._previousFrame = null;\n    this.gotoAndStop(0);\n    this._updateTexture();\n  }\n  /**\n   * Gets or sets the current frame index of the animation.\n   * When setting, the value will be clamped between 0 and totalFrames - 1.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png')\n   *     ]\n   * });\n   *\n   * // Get current frame\n   * console.log(sprite.currentFrame); // 0\n   *\n   * // Set specific frame\n   * sprite.currentFrame = 1; // Show second frame\n   *\n   * // Use with frame callbacks\n   * sprite.onFrameChange = (frame) => {\n   *     console.log(`Now showing frame: ${frame}`);\n   * };\n   * sprite.currentFrame = 2;\n   * ```\n   * @throws {Error} If attempting to set a frame index out of bounds\n   * @see {@link AnimatedSprite#totalFrames} For the total number of frames\n   * @see {@link AnimatedSprite#gotoAndPlay} For playing from a specific frame\n   * @see {@link AnimatedSprite#gotoAndStop} For stopping at a specific frame\n   */\n  get currentFrame() {\n    let currentFrame = Math.floor(this._currentTime) % this._textures.length;\n    if (currentFrame < 0) {\n      currentFrame += this._textures.length;\n    }\n    return currentFrame;\n  }\n  set currentFrame(value) {\n    if (value < 0 || value > this.totalFrames - 1) {\n      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);\n    }\n    const previousFrame = this.currentFrame;\n    this._currentTime = value;\n    if (previousFrame !== this.currentFrame) {\n      this._updateTexture();\n    }\n  }\n  /**\n   * Indicates if the AnimatedSprite is currently playing.\n   * This is a read-only property that reflects the current playback state.\n   * @example\n   * ```ts\n   * // Check if animation is playing\n   * console.log('Playing:', sprite.playing); // true\n   *\n   * // Use with play control\n   * if (!sprite.playing) {\n   *     sprite.play();\n   * }\n   * ```\n   * @readonly\n   * @returns {boolean} True if the animation is currently playing\n   * @see {@link AnimatedSprite#play} For starting playback\n   * @see {@link AnimatedSprite#stop} For stopping playback\n   * @see {@link AnimatedSprite#loop} For controlling looping behavior\n   */\n  get playing() {\n    return this._playing;\n  }\n  /**\n   * Controls whether the animation automatically updates using the shared ticker.\n   * When enabled, the animation will update on each frame. When disabled, you must\n   * manually call update() to advance the animation.\n   * @example\n   * ```ts\n   * // Create sprite with auto-update disabled\n   * const sprite = new AnimatedSprite({\n   *     textures: [],\n   *     autoUpdate: false\n   * });\n   *\n   * // Manual update with app ticker\n   * app.ticker.add((ticker) => {\n   *     sprite.update(ticker);\n   * });\n   *\n   * // Enable auto-update later\n   * sprite.autoUpdate = true;\n   * ```\n   * @default true\n   * @see {@link AnimatedSprite#update} For manual animation updates\n   * @see {@link Ticker} For the timing system\n   */\n  get autoUpdate() {\n    return this._autoUpdate;\n  }\n  set autoUpdate(value) {\n    if (value !== this._autoUpdate) {\n      this._autoUpdate = value;\n      if (!this._autoUpdate && this._isConnectedToTicker) {\n        Ticker.shared.remove(this.update, this);\n        this._isConnectedToTicker = false;\n      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {\n        Ticker.shared.add(this.update, this);\n        this._isConnectedToTicker = true;\n      }\n    }\n  }\n}\n\nexport { AnimatedSprite };\n//# sourceMappingURL=AnimatedSprite.mjs.map\n","import { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../view/ViewContainer.mjs';\n\n\"use strict\";\nclass AbstractText extends ViewContainer {\n  constructor(options, styleClass) {\n    const { text, resolution, style, anchor, width, height, roundPixels, ...rest } = options;\n    super({\n      ...rest\n    });\n    /** @internal */\n    this.batched = true;\n    /** @internal */\n    this._resolution = null;\n    /** @internal */\n    this._autoResolution = true;\n    /** @internal */\n    this._didTextUpdate = true;\n    this._styleClass = styleClass;\n    this.text = text ?? \"\";\n    this.style = style;\n    this.resolution = resolution ?? null;\n    this.allowChildren = false;\n    this._anchor = new ObservablePoint(\n      {\n        _onUpdate: () => {\n          this.onViewUpdate();\n        }\n      }\n    );\n    if (anchor)\n      this.anchor = anchor;\n    this.roundPixels = roundPixels ?? false;\n    if (width !== void 0)\n      this.width = width;\n    if (height !== void 0)\n      this.height = height;\n  }\n  /**\n   * The anchor point of the text that controls the origin point for positioning and rotation.\n   * Can be a number (same value for x/y) or a PointData object.\n   * - (0,0) is top-left\n   * - (0.5,0.5) is center\n   * - (1,1) is bottom-right\n   * ```ts\n   * // Set anchor to center\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: 0.5 // Same as { x: 0.5, y: 0.5 }\n   * });\n   * // Set anchor to top-left\n   * const text2 = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: { x: 0, y: 0 } // Top-left corner\n   * });\n   * // Set anchor to bottom-right\n   * const text3 = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: { x: 1, y: 1 } // Bottom-right corner\n   * });\n   * ```\n   * @default { x: 0, y: 0 }\n   */\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    typeof value === \"number\" ? this._anchor.set(value) : this._anchor.copyFrom(value);\n  }\n  /**\n   * The text content to display. Use '\\n' for line breaks.\n   * Accepts strings, numbers, or objects with toString() method.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   * });\n   * const multilineText = new Text({\n   *     text: 'Line 1\\nLine 2\\nLine 3',\n   * });\n   * const numberText = new Text({\n   *     text: 12345, // Will be converted to '12345'\n   * });\n   * const objectText = new Text({\n   *     text: { toString: () => 'Object Text' }, // Custom toString\n   * });\n   *\n   * // Update text dynamically\n   * text.text = 'Updated Text'; // Re-renders with new text\n   * text.text = 67890; // Updates to '67890'\n   * text.text = { toString: () => 'Dynamic Text' }; // Uses custom toString method\n   * // Clear text\n   * text.text = ''; // Clears the text\n   * ```\n   * @default ''\n   */\n  set text(value) {\n    value = value.toString();\n    if (this._text === value)\n      return;\n    this._text = value;\n    this.onViewUpdate();\n  }\n  get text() {\n    return this._text;\n  }\n  /**\n   * The resolution/device pixel ratio for rendering.\n   * Higher values result in sharper text at the cost of performance.\n   * Set to null for auto-resolution based on device.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     resolution: 2 // High DPI for sharper text\n   * });\n   * const autoResText = new Text({\n   *     text: 'Auto Resolution',\n   *     resolution: null // Use device's pixel ratio\n   * });\n   * ```\n   * @default null\n   */\n  set resolution(value) {\n    this._autoResolution = value === null;\n    this._resolution = value;\n    this.onViewUpdate();\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  get style() {\n    return this._style;\n  }\n  /**\n   * The style configuration for the text.\n   * Can be a TextStyle instance or a configuration object.\n   * Supports canvas text styles, HTML text styles, and bitmap text styles.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Styled Text',\n   *     style: {\n   *         fontSize: 24,\n   *         fill: 0xff1010, // Red color\n   *         fontFamily: 'Arial',\n   *         align: 'center', // Center alignment\n   *         stroke: { color: '#4a1850', width: 5 }, // Purple stroke\n   *         dropShadow: {\n   *             color: '#000000', // Black shadow\n   *             blur: 4, // Shadow blur\n   *             distance: 6 // Shadow distance\n   *         }\n   *     }\n   * });\n   * const htmlText = new HTMLText({\n   *     text: 'HTML Styled Text',\n   *     style: {\n   *         fontSize: '20px',\n   *         fill: 'blue',\n   *         fontFamily: 'Verdana',\n   *     }\n   * });\n   * const bitmapText = new BitmapText({\n   *     text: 'Bitmap Styled Text',\n   *     style: {\n   *         fontName: 'Arial',\n   *         fontSize: 32,\n   *     }\n   * })\n   *\n   * // Update style dynamically\n   * text.style = {\n   *     fontSize: 30, // Change font size\n   *     fill: 0x00ff00, // Change color to green\n   *     align: 'right', // Change alignment to right\n   *     stroke: { color: '#000000', width: 2 }, // Add black stroke\n   * }\n   */\n  set style(style) {\n    style || (style = {});\n    this._style?.off(\"update\", this.onViewUpdate, this);\n    if (style instanceof this._styleClass) {\n      this._style = style;\n    } else {\n      this._style = new this._styleClass(style);\n    }\n    this._style.on(\"update\", this.onViewUpdate, this);\n    this.onViewUpdate();\n  }\n  /**\n   * The width of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set width directly\n   * texture.width = 200;\n   * console.log(texture.scale.x); // Scale adjusted to match width\n   *\n   * // For better performance when setting both width and height\n   * texture.setSize(300, 400); // Avoids recalculating bounds twice\n   * ```\n   */\n  get width() {\n    return Math.abs(this.scale.x) * this.bounds.width;\n  }\n  set width(value) {\n    this._setWidth(value, this.bounds.width);\n  }\n  /**\n   * The height of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set height directly\n   * texture.height = 200;\n   * console.log(texture.scale.y); // Scale adjusted to match height\n   *\n   * // For better performance when setting both width and height\n   * texture.setSize(300, 400); // Avoids recalculating bounds twice\n   * ```\n   */\n  get height() {\n    return Math.abs(this.scale.y) * this.bounds.height;\n  }\n  set height(value) {\n    this._setHeight(value, this.bounds.height);\n  }\n  /**\n   * Retrieves the size of the Text as a [Size]{@link Size} object based on the texture dimensions and scale.\n   * This is faster than getting width and height separately as it only calculates the bounds once.\n   * @example\n   * ```ts\n   * // Basic size retrieval\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     style: { fontSize: 24 }\n   * });\n   * const size = text.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * text.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in, to avoid allocating a new object\n   * @returns The size of the Sprite\n   * @see {@link Text#width} For getting just the width\n   * @see {@link Text#height} For getting just the height\n   * @see {@link Text#setSize} For setting both width and height\n   */\n  getSize(out) {\n    out || (out = {});\n    out.width = Math.abs(this.scale.x) * this.bounds.width;\n    out.height = Math.abs(this.scale.y) * this.bounds.height;\n    return out;\n  }\n  /**\n   * Sets the size of the Text to the specified width and height.\n   * This is faster than setting width and height separately as it only recalculates bounds once.\n   * @example\n   * ```ts\n   * // Basic size setting\n   * const text = new Text({\n   *    text: 'Hello Pixi!',\n   *    style: { fontSize: 24 }\n   * });\n   * text.setSize(100, 200); // Width: 100, Height: 200\n   *\n   * // Set uniform size\n   * text.setSize(100); // Sets both width and height to 100\n   *\n   * // Set size with object\n   * text.setSize({\n   *     width: 200,\n   *     height: 300\n   * });\n   * ```\n   * @param value - This can be either a number or a {@link Size} object\n   * @param height - The height to set. Defaults to the value of `width` if not provided\n   * @see {@link Text#width} For setting width only\n   * @see {@link Text#height} For setting height only\n   */\n  setSize(value, height) {\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    } else {\n      height ?? (height = value);\n    }\n    value !== void 0 && this._setWidth(value, this.bounds.width);\n    height !== void 0 && this._setHeight(height, this.bounds.height);\n  }\n  /**\n   * Checks if the object contains the given point in local coordinates.\n   * Uses the text's bounds for hit testing.\n   * @example\n   * ```ts\n   * // Basic point check\n   * const localPoint = { x: 50, y: 25 };\n   * const contains = text.containsPoint(localPoint);\n   * console.log('Point is inside:', contains);\n   * ```\n   * @param point - The point to check in local coordinates\n   * @returns True if the point is within the text's bounds\n   * @see {@link Container#toLocal} For converting global coordinates to local\n   */\n  containsPoint(point) {\n    const width = this.bounds.width;\n    const height = this.bounds.height;\n    const x1 = -width * this.anchor.x;\n    let y1 = 0;\n    if (point.x >= x1 && point.x <= x1 + width) {\n      y1 = -height * this.anchor.y;\n      if (point.y >= y1 && point.y <= y1 + height)\n        return true;\n    }\n    return false;\n  }\n  /** @internal */\n  onViewUpdate() {\n    if (!this.didViewUpdate)\n      this._didTextUpdate = true;\n    super.onViewUpdate();\n  }\n  /**\n   * Destroys this text renderable and optionally its style texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * // Destroys the text and its style\n   * text.destroy({ style: true, texture: true, textureSource: true });\n   * text.destroy(true);\n   * text.destroy() // Destroys the text, but not its style\n   */\n  destroy(options = false) {\n    super.destroy(options);\n    this.owner = null;\n    this._bounds = null;\n    this._anchor = null;\n    if (typeof options === \"boolean\" ? options : options?.style) {\n      this._style.destroy(options);\n    }\n    this._style = null;\n    this._text = null;\n  }\n  /**\n   * Returns a unique key for this instance.\n   * This key is used for caching.\n   * @returns {string} Unique key for the instance\n   */\n  get styleKey() {\n    return `${this._text}:${this._style.styleKey}:${this._resolution}`;\n  }\n}\nfunction ensureTextOptions(args, name) {\n  let options = args[0] ?? {};\n  if (typeof options === \"string\" || args[1]) {\n    deprecation(v8_0_0, `use new ${name}({ text: \"hi!\", style }) instead`);\n    options = {\n      text: options,\n      style: args[1]\n    };\n  }\n  return options;\n}\n\nexport { AbstractText, ensureTextOptions };\n//# sourceMappingURL=AbstractText.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\nimport { nextPow2 } from '../../maths/misc/pow2.mjs';\nimport { Rectangle } from '../../maths/shapes/Rectangle.mjs';\n\n\"use strict\";\nlet _internalCanvas = null;\nlet _internalContext = null;\nfunction ensureInternalCanvas(width, height) {\n  if (!_internalCanvas) {\n    _internalCanvas = DOMAdapter.get().createCanvas(256, 128);\n    _internalContext = _internalCanvas.getContext(\"2d\", { willReadFrequently: true });\n    _internalContext.globalCompositeOperation = \"copy\";\n    _internalContext.globalAlpha = 1;\n  }\n  if (_internalCanvas.width < width || _internalCanvas.height < height) {\n    _internalCanvas.width = nextPow2(width);\n    _internalCanvas.height = nextPow2(height);\n  }\n}\nfunction checkRow(data, width, y) {\n  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction checkColumn(data, width, x, top, bottom) {\n  const stride = 4 * width;\n  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction getCanvasBoundingBox(...args) {\n  let options = args[0];\n  if (!options.canvas) {\n    options = { canvas: args[0], resolution: args[1] };\n  }\n  const { canvas } = options;\n  const resolution = Math.min(options.resolution ?? 1, 1);\n  const width = options.width ?? canvas.width;\n  const height = options.height ?? canvas.height;\n  let output = options.output;\n  ensureInternalCanvas(width, height);\n  if (!_internalContext) {\n    throw new TypeError(\"Failed to get canvas 2D context\");\n  }\n  _internalContext.drawImage(\n    canvas,\n    0,\n    0,\n    width,\n    height,\n    0,\n    0,\n    width * resolution,\n    height * resolution\n  );\n  const imageData = _internalContext.getImageData(0, 0, width, height);\n  const data = imageData.data;\n  let left = 0;\n  let top = 0;\n  let right = width - 1;\n  let bottom = height - 1;\n  while (top < height && checkRow(data, width, top))\n    ++top;\n  if (top === height)\n    return Rectangle.EMPTY;\n  while (checkRow(data, width, bottom))\n    --bottom;\n  while (checkColumn(data, width, left, top, bottom))\n    ++left;\n  while (checkColumn(data, width, right, top, bottom))\n    --right;\n  ++right;\n  ++bottom;\n  _internalContext.globalCompositeOperation = \"source-over\";\n  _internalContext.strokeRect(left, top, right - left, bottom - top);\n  _internalContext.globalCompositeOperation = \"copy\";\n  output ?? (output = new Rectangle());\n  output.set(left / resolution, top / resolution, (right - left) / resolution, (bottom - top) / resolution);\n  return output;\n}\n\nexport { getCanvasBoundingBox };\n//# sourceMappingURL=getCanvasBoundingBox.mjs.map\n","import { Color } from '../../../color/Color.mjs';\nimport { Rectangle } from '../../../maths/shapes/Rectangle.mjs';\nimport { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool.mjs';\nimport { getCanvasBoundingBox } from '../../../utils/canvas/getCanvasBoundingBox.mjs';\nimport { CanvasTextMetrics } from './CanvasTextMetrics.mjs';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle.mjs';\nimport { getCanvasFillStyle } from './utils/getCanvasFillStyle.mjs';\n\n\"use strict\";\nconst tempRect = new Rectangle();\nclass CanvasTextGeneratorClass {\n  /**\n   * Creates a canvas with the specified text rendered to it.\n   *\n   * Generates a canvas of appropriate size, renders the text with the provided style,\n   * and returns both the canvas/context and a Rectangle representing the text bounds.\n   *\n   * When trim is enabled in the style, the frame will represent the bounds of the\n   * non-transparent pixels, which can be smaller than the full canvas.\n   * @param options - The options for generating the text canvas\n   * @param options.text - The text to render\n   * @param options.style - The style to apply to the text\n   * @param options.resolution - The resolution of the canvas (defaults to 1)\n   * @param options.padding\n   * @returns An object containing the canvas/context and the frame (bounds) of the text\n   */\n  getCanvasAndContext(options) {\n    const { text, style, resolution = 1 } = options;\n    const padding = style._getFinalPadding();\n    const measured = CanvasTextMetrics.measureText(text || \" \", style);\n    const width = Math.ceil(Math.ceil(Math.max(1, measured.width) + padding * 2) * resolution);\n    const height = Math.ceil(Math.ceil(Math.max(1, measured.height) + padding * 2) * resolution);\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(width, height);\n    this._renderTextToCanvas(text, style, padding, resolution, canvasAndContext);\n    const frame = style.trim ? getCanvasBoundingBox({ canvas: canvasAndContext.canvas, width, height, resolution: 1, output: tempRect }) : tempRect.set(0, 0, width, height);\n    return {\n      canvasAndContext,\n      frame\n    };\n  }\n  /**\n   * Returns a canvas and context to the pool.\n   *\n   * This should be called when you're done with the canvas to allow reuse\n   * and prevent memory leaks.\n   * @param canvasAndContext - The canvas and context to return to the pool\n   */\n  returnCanvasAndContext(canvasAndContext) {\n    CanvasPool.returnCanvasAndContext(canvasAndContext);\n  }\n  /**\n   * Renders text to its canvas, and updates its texture.\n   * @param text - The text to render\n   * @param style - The style of the text\n   * @param padding - The padding of the text\n   * @param resolution - The resolution of the text\n   * @param canvasAndContext - The canvas and context to render the text to\n   */\n  _renderTextToCanvas(text, style, padding, resolution, canvasAndContext) {\n    const { canvas, context } = canvasAndContext;\n    const font = fontStringFromTextStyle(style);\n    const measured = CanvasTextMetrics.measureText(text || \" \", style);\n    const lines = measured.lines;\n    const lineHeight = measured.lineHeight;\n    const lineWidths = measured.lineWidths;\n    const maxLineWidth = measured.maxLineWidth;\n    const fontProperties = measured.fontProperties;\n    const height = canvas.height;\n    context.resetTransform();\n    context.scale(resolution, resolution);\n    context.textBaseline = style.textBaseline;\n    if (style._stroke?.width) {\n      const strokeStyle = style._stroke;\n      context.lineWidth = strokeStyle.width;\n      context.miterLimit = strokeStyle.miterLimit;\n      context.lineJoin = strokeStyle.join;\n      context.lineCap = strokeStyle.cap;\n    }\n    context.font = font;\n    let linePositionX;\n    let linePositionY;\n    const passesCount = style.dropShadow ? 2 : 1;\n    for (let i = 0; i < passesCount; ++i) {\n      const isShadowPass = style.dropShadow && i === 0;\n      const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + padding * 2) : 0;\n      const dsOffsetShadow = dsOffsetText * resolution;\n      if (isShadowPass) {\n        context.fillStyle = \"black\";\n        context.strokeStyle = \"black\";\n        const shadowOptions = style.dropShadow;\n        const dropShadowColor = shadowOptions.color;\n        const dropShadowAlpha = shadowOptions.alpha;\n        context.shadowColor = Color.shared.setValue(dropShadowColor).setAlpha(dropShadowAlpha).toRgbaString();\n        const dropShadowBlur = shadowOptions.blur * resolution;\n        const dropShadowDistance = shadowOptions.distance * resolution;\n        context.shadowBlur = dropShadowBlur;\n        context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n        context.shadowOffsetY = Math.sin(shadowOptions.angle) * dropShadowDistance + dsOffsetShadow;\n      } else {\n        context.fillStyle = style._fill ? getCanvasFillStyle(style._fill, context, measured, padding * 2) : null;\n        if (style._stroke?.width) {\n          const strokePadding = style._stroke.width * 0.5 + padding * 2;\n          context.strokeStyle = getCanvasFillStyle(style._stroke, context, measured, strokePadding);\n        }\n        context.shadowColor = \"black\";\n      }\n      let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;\n      if (lineHeight - fontProperties.fontSize < 0) {\n        linePositionYShift = 0;\n      }\n      const strokeWidth = style._stroke?.width ?? 0;\n      for (let i2 = 0; i2 < lines.length; i2++) {\n        linePositionX = strokeWidth / 2;\n        linePositionY = strokeWidth / 2 + i2 * lineHeight + fontProperties.ascent + linePositionYShift;\n        if (style.align === \"right\") {\n          linePositionX += maxLineWidth - lineWidths[i2];\n        } else if (style.align === \"center\") {\n          linePositionX += (maxLineWidth - lineWidths[i2]) / 2;\n        }\n        if (style._stroke?.width) {\n          this._drawLetterSpacing(\n            lines[i2],\n            style,\n            canvasAndContext,\n            linePositionX + padding,\n            linePositionY + padding - dsOffsetText,\n            true\n          );\n        }\n        if (style._fill !== void 0) {\n          this._drawLetterSpacing(\n            lines[i2],\n            style,\n            canvasAndContext,\n            linePositionX + padding,\n            linePositionY + padding - dsOffsetText\n          );\n        }\n      }\n    }\n  }\n  /**\n   * Render the text with letter-spacing.\n   *\n   * This method handles rendering text with the correct letter spacing, using either:\n   * 1. Native letter spacing if supported by the browser\n   * 2. Manual letter spacing calculation if not natively supported\n   *\n   * For manual letter spacing, it calculates the position of each character\n   * based on its width and the desired spacing.\n   * @param text - The text to draw\n   * @param style - The text style to apply\n   * @param canvasAndContext - The canvas and context to draw to\n   * @param x - Horizontal position to draw the text\n   * @param y - Vertical position to draw the text\n   * @param isStroke - Whether to render the stroke (true) or fill (false)\n   * @private\n   */\n  _drawLetterSpacing(text, style, canvasAndContext, x, y, isStroke = false) {\n    const { context } = canvasAndContext;\n    const letterSpacing = style.letterSpacing;\n    let useExperimentalLetterSpacing = false;\n    if (CanvasTextMetrics.experimentalLetterSpacingSupported) {\n      if (CanvasTextMetrics.experimentalLetterSpacing) {\n        context.letterSpacing = `${letterSpacing}px`;\n        context.textLetterSpacing = `${letterSpacing}px`;\n        useExperimentalLetterSpacing = true;\n      } else {\n        context.letterSpacing = \"0px\";\n        context.textLetterSpacing = \"0px\";\n      }\n    }\n    if (letterSpacing === 0 || useExperimentalLetterSpacing) {\n      if (isStroke) {\n        context.strokeText(text, x, y);\n      } else {\n        context.fillText(text, x, y);\n      }\n      return;\n    }\n    let currentPosition = x;\n    const stringArray = CanvasTextMetrics.graphemeSegmenter(text);\n    let previousWidth = context.measureText(text).width;\n    let currentWidth = 0;\n    for (let i = 0; i < stringArray.length; ++i) {\n      const currentChar = stringArray[i];\n      if (isStroke) {\n        context.strokeText(currentChar, currentPosition, y);\n      } else {\n        context.fillText(currentChar, currentPosition, y);\n      }\n      let textStr = \"\";\n      for (let j = i + 1; j < stringArray.length; ++j) {\n        textStr += stringArray[j];\n      }\n      currentWidth = context.measureText(textStr).width;\n      currentPosition += previousWidth - currentWidth + letterSpacing;\n      previousWidth = currentWidth;\n    }\n  }\n}\nconst CanvasTextGenerator = new CanvasTextGeneratorClass();\n\nexport { CanvasTextGenerator };\n//# sourceMappingURL=CanvasTextGenerator.mjs.map\n","import { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { AbstractText, ensureTextOptions } from './AbstractText.mjs';\nimport { CanvasTextGenerator } from './canvas/CanvasTextGenerator.mjs';\nimport { CanvasTextMetrics } from './canvas/CanvasTextMetrics.mjs';\nimport { TextStyle } from './TextStyle.mjs';\n\n\"use strict\";\nclass Text extends AbstractText {\n  constructor(...args) {\n    const options = ensureTextOptions(args, \"Text\");\n    super(options, TextStyle);\n    /** @internal */\n    this.renderPipeId = \"text\";\n    if (options.textureStyle) {\n      this.textureStyle = options.textureStyle instanceof TextureStyle ? options.textureStyle : new TextureStyle(options.textureStyle);\n    }\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    let width = 0;\n    let height = 0;\n    if (this._style.trim) {\n      const { frame, canvasAndContext } = CanvasTextGenerator.getCanvasAndContext({\n        text: this.text,\n        style: this._style,\n        resolution: 1\n      });\n      CanvasTextGenerator.returnCanvasAndContext(canvasAndContext);\n      width = frame.width;\n      height = frame.height;\n    } else {\n      const canvasMeasurement = CanvasTextMetrics.measureText(\n        this._text,\n        this._style\n      );\n      width = canvasMeasurement.width;\n      height = canvasMeasurement.height;\n    }\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n}\n\nexport { Text };\n//# sourceMappingURL=Text.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\n\n\"use strict\";\nconst nssvg = \"http://www.w3.org/2000/svg\";\nconst nsxhtml = \"http://www.w3.org/1999/xhtml\";\nclass HTMLTextRenderData {\n  constructor() {\n    this.svgRoot = document.createElementNS(nssvg, \"svg\");\n    this.foreignObject = document.createElementNS(nssvg, \"foreignObject\");\n    this.domElement = document.createElementNS(nsxhtml, \"div\");\n    this.styleElement = document.createElementNS(nsxhtml, \"style\");\n    const { foreignObject, svgRoot, styleElement, domElement } = this;\n    foreignObject.setAttribute(\"width\", \"10000\");\n    foreignObject.setAttribute(\"height\", \"10000\");\n    foreignObject.style.overflow = \"hidden\";\n    svgRoot.appendChild(foreignObject);\n    foreignObject.appendChild(styleElement);\n    foreignObject.appendChild(domElement);\n    this.image = DOMAdapter.get().createImage();\n  }\n  destroy() {\n    this.svgRoot.remove();\n    this.foreignObject.remove();\n    this.styleElement.remove();\n    this.domElement.remove();\n    this.image.src = \"\";\n    this.image.remove();\n    this.svgRoot = null;\n    this.foreignObject = null;\n    this.styleElement = null;\n    this.domElement = null;\n    this.image = null;\n    this.canvasAndContext = null;\n  }\n}\n\nexport { HTMLTextRenderData };\n//# sourceMappingURL=HTMLTextRenderData.mjs.map\n","import { HTMLTextRenderData } from '../HTMLTextRenderData.mjs';\n\n\"use strict\";\nlet tempHTMLTextRenderData;\nfunction measureHtmlText(text, style, fontStyleCSS, htmlTextRenderData) {\n  htmlTextRenderData || (htmlTextRenderData = tempHTMLTextRenderData || (tempHTMLTextRenderData = new HTMLTextRenderData()));\n  const { domElement, styleElement, svgRoot } = htmlTextRenderData;\n  domElement.innerHTML = `<style>${style.cssStyle};</style><div style='padding:0'>${text}</div>`;\n  domElement.setAttribute(\"style\", \"transform-origin: top left; display: inline-block\");\n  if (fontStyleCSS) {\n    styleElement.textContent = fontStyleCSS;\n  }\n  document.body.appendChild(svgRoot);\n  const contentBounds = domElement.getBoundingClientRect();\n  svgRoot.remove();\n  const doublePadding = style.padding * 2;\n  return {\n    width: contentBounds.width - doublePadding,\n    height: contentBounds.height - doublePadding\n  };\n}\n\nexport { measureHtmlText };\n//# sourceMappingURL=measureHtmlText.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { State } from '../../renderers/shared/state/State.mjs';\n\n\"use strict\";\nclass GlBatchAdaptor {\n  constructor() {\n    this._tempState = State.for2d();\n    /**\n     * We only want to sync the a batched shaders uniforms once on first use\n     * this is a hash of shader uids to a boolean value.  When the shader is first bound\n     * we set the value to true.  When the shader is bound again we check the value and\n     * if it is true we know that the uniforms have already been synced and we skip it.\n     */\n    this._didUploadHash = {};\n  }\n  init(batcherPipe) {\n    batcherPipe.renderer.runners.contextChange.add(this);\n  }\n  contextChange() {\n    this._didUploadHash = {};\n  }\n  start(batchPipe, geometry, shader) {\n    const renderer = batchPipe.renderer;\n    const didUpload = this._didUploadHash[shader.uid];\n    renderer.shader.bind(shader, didUpload);\n    if (!didUpload) {\n      this._didUploadHash[shader.uid] = true;\n    }\n    renderer.shader.updateUniformGroup(renderer.globalUniforms.uniformGroup);\n    renderer.geometry.bind(geometry, shader.glProgram);\n  }\n  execute(batchPipe, batch) {\n    const renderer = batchPipe.renderer;\n    this._tempState.blendMode = batch.blendMode;\n    renderer.state.set(this._tempState);\n    const textures = batch.textures.textures;\n    for (let i = 0; i < batch.textures.count; i++) {\n      renderer.texture.bind(textures[i], i);\n    }\n    renderer.geometry.draw(batch.topology, batch.size, batch.start);\n  }\n}\n/** @ignore */\nGlBatchAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"batch\"\n};\n\nexport { GlBatchAdaptor };\n//# sourceMappingURL=GlBatchAdaptor.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { State } from '../../renderers/shared/state/State.mjs';\nimport { getTextureBatchBindGroup } from './getTextureBatchBindGroup.mjs';\n\n\"use strict\";\nconst tempState = State.for2d();\nclass GpuBatchAdaptor {\n  start(batchPipe, geometry, shader) {\n    const renderer = batchPipe.renderer;\n    const encoder = renderer.encoder;\n    const program = shader.gpuProgram;\n    this._shader = shader;\n    this._geometry = geometry;\n    encoder.setGeometry(geometry, program);\n    tempState.blendMode = \"normal\";\n    renderer.pipeline.getPipeline(\n      geometry,\n      program,\n      tempState\n    );\n    const globalUniformsBindGroup = renderer.globalUniforms.bindGroup;\n    encoder.resetBindGroup(1);\n    encoder.setBindGroup(0, globalUniformsBindGroup, program);\n  }\n  execute(batchPipe, batch) {\n    const program = this._shader.gpuProgram;\n    const renderer = batchPipe.renderer;\n    const encoder = renderer.encoder;\n    if (!batch.bindGroup) {\n      const textureBatch = batch.textures;\n      batch.bindGroup = getTextureBatchBindGroup(\n        textureBatch.textures,\n        textureBatch.count,\n        renderer.limits.maxBatchableTextures\n      );\n    }\n    tempState.blendMode = batch.blendMode;\n    const gpuBindGroup = renderer.bindGroup.getBindGroup(\n      batch.bindGroup,\n      program,\n      1\n    );\n    const pipeline = renderer.pipeline.getPipeline(\n      this._geometry,\n      program,\n      tempState,\n      batch.topology\n    );\n    batch.bindGroup._touch(renderer.textureGC.count);\n    encoder.setPipeline(pipeline);\n    encoder.renderPassEncoder.setBindGroup(1, gpuBindGroup);\n    encoder.renderPassEncoder.drawIndexed(batch.size, 1, batch.start);\n  }\n}\n/** @ignore */\nGpuBatchAdaptor.extension = {\n  type: [\n    ExtensionType.WebGPUPipesAdaptor\n  ],\n  name: \"batch\"\n};\n\nexport { GpuBatchAdaptor };\n//# sourceMappingURL=GpuBatchAdaptor.mjs.map\n","import { ExtensionType, extensions } from '../../../extensions/Extensions.mjs';\nimport { State } from '../../renderers/shared/state/State.mjs';\nimport { DefaultBatcher } from './DefaultBatcher.mjs';\n\n\"use strict\";\nconst _BatcherPipe = class _BatcherPipe {\n  constructor(renderer, adaptor) {\n    this.state = State.for2d();\n    this._batchersByInstructionSet = /* @__PURE__ */ Object.create(null);\n    /** A record of all active batchers, keyed by their names */\n    this._activeBatches = /* @__PURE__ */ Object.create(null);\n    this.renderer = renderer;\n    this._adaptor = adaptor;\n    this._adaptor.init?.(this);\n  }\n  static getBatcher(name) {\n    return new this._availableBatchers[name]();\n  }\n  buildStart(instructionSet) {\n    let batchers = this._batchersByInstructionSet[instructionSet.uid];\n    if (!batchers) {\n      batchers = this._batchersByInstructionSet[instructionSet.uid] = /* @__PURE__ */ Object.create(null);\n      batchers.default || (batchers.default = new DefaultBatcher({\n        maxTextures: this.renderer.limits.maxBatchableTextures\n      }));\n    }\n    this._activeBatches = batchers;\n    this._activeBatch = this._activeBatches.default;\n    for (const i in this._activeBatches) {\n      this._activeBatches[i].begin();\n    }\n  }\n  addToBatch(batchableObject, instructionSet) {\n    if (this._activeBatch.name !== batchableObject.batcherName) {\n      this._activeBatch.break(instructionSet);\n      let batch = this._activeBatches[batchableObject.batcherName];\n      if (!batch) {\n        batch = this._activeBatches[batchableObject.batcherName] = _BatcherPipe.getBatcher(batchableObject.batcherName);\n        batch.begin();\n      }\n      this._activeBatch = batch;\n    }\n    this._activeBatch.add(batchableObject);\n  }\n  break(instructionSet) {\n    this._activeBatch.break(instructionSet);\n  }\n  buildEnd(instructionSet) {\n    this._activeBatch.break(instructionSet);\n    const batches = this._activeBatches;\n    for (const i in batches) {\n      const batch = batches[i];\n      const geometry = batch.geometry;\n      geometry.indexBuffer.setDataWithSize(batch.indexBuffer, batch.indexSize, true);\n      geometry.buffers[0].setDataWithSize(batch.attributeBuffer.float32View, batch.attributeSize, false);\n    }\n  }\n  upload(instructionSet) {\n    const batchers = this._batchersByInstructionSet[instructionSet.uid];\n    for (const i in batchers) {\n      const batcher = batchers[i];\n      const geometry = batcher.geometry;\n      if (batcher.dirty) {\n        batcher.dirty = false;\n        geometry.buffers[0].update(batcher.attributeSize * 4);\n      }\n    }\n  }\n  execute(batch) {\n    if (batch.action === \"startBatch\") {\n      const batcher = batch.batcher;\n      const geometry = batcher.geometry;\n      const shader = batcher.shader;\n      this._adaptor.start(this, geometry, shader);\n    }\n    this._adaptor.execute(this, batch);\n  }\n  destroy() {\n    this.state = null;\n    this.renderer = null;\n    this._adaptor = null;\n    for (const i in this._activeBatches) {\n      this._activeBatches[i].destroy();\n    }\n    this._activeBatches = null;\n  }\n};\n/** @ignore */\n_BatcherPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"batch\"\n};\n_BatcherPipe._availableBatchers = /* @__PURE__ */ Object.create(null);\nlet BatcherPipe = _BatcherPipe;\nextensions.handleByMap(ExtensionType.Batcher, BatcherPipe._availableBatchers);\nextensions.add(DefaultBatcher);\n\nexport { BatcherPipe };\n//# sourceMappingURL=BatcherPipe.mjs.map\n","\"use strict\";\nconst localUniformBit = {\n  name: \"local-uniform-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `\n    ),\n    end: (\n      /* wgsl */\n      `\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    )\n  }\n};\nconst localUniformBitGroup2 = {\n  ...localUniformBit,\n  vertex: {\n    ...localUniformBit.vertex,\n    // replace the group!\n    header: localUniformBit.vertex.header.replace(\"group(1)\", \"group(2)\")\n  }\n};\nconst localUniformBitGl = {\n  name: \"local-uniform-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        `\n    ),\n    end: (\n      /* glsl */\n      `\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        `\n    )\n  }\n};\n\nexport { localUniformBit, localUniformBitGl, localUniformBitGroup2 };\n//# sourceMappingURL=localUniformBit.mjs.map\n","\"use strict\";\nconst textureBit = {\n  name: \"texture-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* wgsl */\n      `\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            outColor = textureSample(uTexture, uSampler, vUV);\n        `\n    )\n  }\n};\nconst textureBitGl = {\n  name: \"texture-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            uniform mat3 uTextureMatrix;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* glsl */\n      `\n        uniform sampler2D uTexture;\n\n\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            outColor = texture(uTexture, vUV);\n        `\n    )\n  }\n};\n\nexport { textureBit, textureBitGl };\n//# sourceMappingURL=textureBit.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { FilterEffect } from '../../../filters/FilterEffect.mjs';\nimport { MaskFilter } from '../../../filters/mask/MaskFilter.mjs';\nimport { Bounds } from '../../../scene/container/bounds/Bounds.mjs';\nimport { getGlobalBounds } from '../../../scene/container/bounds/getGlobalBounds.mjs';\nimport { Sprite } from '../../../scene/sprite/Sprite.mjs';\nimport { BigPool } from '../../../utils/pool/PoolGroup.mjs';\nimport { Texture } from '../../renderers/shared/texture/Texture.mjs';\nimport { TexturePool } from '../../renderers/shared/texture/TexturePool.mjs';\nimport { RendererType } from '../../renderers/types.mjs';\n\n\"use strict\";\nconst tempBounds = new Bounds();\nclass AlphaMaskEffect extends FilterEffect {\n  constructor() {\n    super();\n    this.filters = [new MaskFilter({\n      sprite: new Sprite(Texture.EMPTY),\n      inverse: false,\n      resolution: \"inherit\",\n      antialias: \"inherit\"\n    })];\n  }\n  get sprite() {\n    return this.filters[0].sprite;\n  }\n  set sprite(value) {\n    this.filters[0].sprite = value;\n  }\n  get inverse() {\n    return this.filters[0].inverse;\n  }\n  set inverse(value) {\n    this.filters[0].inverse = value;\n  }\n}\nclass AlphaMaskPipe {\n  constructor(renderer) {\n    this._activeMaskStage = [];\n    this._renderer = renderer;\n  }\n  push(mask, maskedContainer, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"alphaMask\",\n      action: \"pushMaskBegin\",\n      mask,\n      inverse: maskedContainer._maskOptions.inverse,\n      canBundle: false,\n      maskedContainer\n    });\n    mask.inverse = maskedContainer._maskOptions.inverse;\n    if (mask.renderMaskToTexture) {\n      const maskContainer = mask.mask;\n      maskContainer.includeInBuild = true;\n      maskContainer.collectRenderables(\n        instructionSet,\n        renderer,\n        null\n      );\n      maskContainer.includeInBuild = false;\n    }\n    renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"alphaMask\",\n      action: \"pushMaskEnd\",\n      mask,\n      maskedContainer,\n      inverse: maskedContainer._maskOptions.inverse,\n      canBundle: false\n    });\n  }\n  pop(mask, _maskedContainer, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"alphaMask\",\n      action: \"popMaskEnd\",\n      mask,\n      inverse: _maskedContainer._maskOptions.inverse,\n      canBundle: false\n    });\n  }\n  execute(instruction) {\n    const renderer = this._renderer;\n    const renderMask = instruction.mask.renderMaskToTexture;\n    if (instruction.action === \"pushMaskBegin\") {\n      const filterEffect = BigPool.get(AlphaMaskEffect);\n      filterEffect.inverse = instruction.inverse;\n      if (renderMask) {\n        instruction.mask.mask.measurable = true;\n        const bounds = getGlobalBounds(instruction.mask.mask, true, tempBounds);\n        instruction.mask.mask.measurable = false;\n        bounds.ceil();\n        const colorTextureSource = renderer.renderTarget.renderTarget.colorTexture.source;\n        const filterTexture = TexturePool.getOptimalTexture(\n          bounds.width,\n          bounds.height,\n          colorTextureSource._resolution,\n          colorTextureSource.antialias\n        );\n        renderer.renderTarget.push(filterTexture, true);\n        renderer.globalUniforms.push({\n          offset: bounds,\n          worldColor: 4294967295\n        });\n        const sprite = filterEffect.sprite;\n        sprite.texture = filterTexture;\n        sprite.worldTransform.tx = bounds.minX;\n        sprite.worldTransform.ty = bounds.minY;\n        this._activeMaskStage.push({\n          filterEffect,\n          maskedContainer: instruction.maskedContainer,\n          filterTexture\n        });\n      } else {\n        filterEffect.sprite = instruction.mask.mask;\n        this._activeMaskStage.push({\n          filterEffect,\n          maskedContainer: instruction.maskedContainer\n        });\n      }\n    } else if (instruction.action === \"pushMaskEnd\") {\n      const maskData = this._activeMaskStage[this._activeMaskStage.length - 1];\n      if (renderMask) {\n        if (renderer.type === RendererType.WEBGL) {\n          renderer.renderTarget.finishRenderPass();\n        }\n        renderer.renderTarget.pop();\n        renderer.globalUniforms.pop();\n      }\n      renderer.filter.push({\n        renderPipeId: \"filter\",\n        action: \"pushFilter\",\n        container: maskData.maskedContainer,\n        filterEffect: maskData.filterEffect,\n        canBundle: false\n      });\n    } else if (instruction.action === \"popMaskEnd\") {\n      renderer.filter.pop();\n      const maskData = this._activeMaskStage.pop();\n      if (renderMask) {\n        TexturePool.returnTexture(maskData.filterTexture);\n      }\n      BigPool.return(maskData.filterEffect);\n    }\n  }\n  destroy() {\n    this._renderer = null;\n    this._activeMaskStage = null;\n  }\n}\n/** @ignore */\nAlphaMaskPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"alphaMask\"\n};\n\nexport { AlphaMaskPipe };\n//# sourceMappingURL=AlphaMaskPipe.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass ColorMaskPipe {\n  constructor(renderer) {\n    this._colorStack = [];\n    this._colorStackIndex = 0;\n    this._currentColor = 0;\n    this._renderer = renderer;\n  }\n  buildStart() {\n    this._colorStack[0] = 15;\n    this._colorStackIndex = 1;\n    this._currentColor = 15;\n  }\n  push(mask, _container, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    const colorStack = this._colorStack;\n    colorStack[this._colorStackIndex] = colorStack[this._colorStackIndex - 1] & mask.mask;\n    const currentColor = this._colorStack[this._colorStackIndex];\n    if (currentColor !== this._currentColor) {\n      this._currentColor = currentColor;\n      instructionSet.add({\n        renderPipeId: \"colorMask\",\n        colorMask: currentColor,\n        canBundle: false\n      });\n    }\n    this._colorStackIndex++;\n  }\n  pop(_mask, _container, instructionSet) {\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    const colorStack = this._colorStack;\n    this._colorStackIndex--;\n    const currentColor = colorStack[this._colorStackIndex - 1];\n    if (currentColor !== this._currentColor) {\n      this._currentColor = currentColor;\n      instructionSet.add({\n        renderPipeId: \"colorMask\",\n        colorMask: currentColor,\n        canBundle: false\n      });\n    }\n  }\n  execute(instruction) {\n    const renderer = this._renderer;\n    renderer.colorMask.setMask(instruction.colorMask);\n  }\n  destroy() {\n    this._renderer = null;\n    this._colorStack = null;\n  }\n}\n/** @ignore */\nColorMaskPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"colorMask\"\n};\n\nexport { ColorMaskPipe };\n//# sourceMappingURL=ColorMaskPipe.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { CLEAR } from '../../renderers/gl/const.mjs';\nimport { STENCIL_MODES } from '../../renderers/shared/state/const.mjs';\n\n\"use strict\";\nclass StencilMaskPipe {\n  constructor(renderer) {\n    // used when building and also when executing..\n    this._maskStackHash = {};\n    this._maskHash = /* @__PURE__ */ new WeakMap();\n    this._renderer = renderer;\n  }\n  push(mask, _container, instructionSet) {\n    var _a;\n    const effect = mask;\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    renderer.renderPipes.blendMode.setBlendMode(effect.mask, \"none\", instructionSet);\n    instructionSet.add({\n      renderPipeId: \"stencilMask\",\n      action: \"pushMaskBegin\",\n      mask,\n      inverse: _container._maskOptions.inverse,\n      canBundle: false\n    });\n    const maskContainer = effect.mask;\n    maskContainer.includeInBuild = true;\n    if (!this._maskHash.has(effect)) {\n      this._maskHash.set(effect, {\n        instructionsStart: 0,\n        instructionsLength: 0\n      });\n    }\n    const maskData = this._maskHash.get(effect);\n    maskData.instructionsStart = instructionSet.instructionSize;\n    maskContainer.collectRenderables(\n      instructionSet,\n      renderer,\n      null\n    );\n    maskContainer.includeInBuild = false;\n    renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"stencilMask\",\n      action: \"pushMaskEnd\",\n      mask,\n      inverse: _container._maskOptions.inverse,\n      canBundle: false\n    });\n    const instructionsLength = instructionSet.instructionSize - maskData.instructionsStart - 1;\n    maskData.instructionsLength = instructionsLength;\n    const renderTargetUid = renderer.renderTarget.renderTarget.uid;\n    (_a = this._maskStackHash)[renderTargetUid] ?? (_a[renderTargetUid] = 0);\n  }\n  pop(mask, _container, instructionSet) {\n    const effect = mask;\n    const renderer = this._renderer;\n    renderer.renderPipes.batch.break(instructionSet);\n    renderer.renderPipes.blendMode.setBlendMode(effect.mask, \"none\", instructionSet);\n    instructionSet.add({\n      renderPipeId: \"stencilMask\",\n      action: \"popMaskBegin\",\n      inverse: _container._maskOptions.inverse,\n      canBundle: false\n    });\n    const maskData = this._maskHash.get(mask);\n    for (let i = 0; i < maskData.instructionsLength; i++) {\n      instructionSet.instructions[instructionSet.instructionSize++] = instructionSet.instructions[maskData.instructionsStart++];\n    }\n    instructionSet.add({\n      renderPipeId: \"stencilMask\",\n      action: \"popMaskEnd\",\n      canBundle: false\n    });\n  }\n  execute(instruction) {\n    var _a;\n    const renderer = this._renderer;\n    const renderTargetUid = renderer.renderTarget.renderTarget.uid;\n    let maskStackIndex = (_a = this._maskStackHash)[renderTargetUid] ?? (_a[renderTargetUid] = 0);\n    if (instruction.action === \"pushMaskBegin\") {\n      renderer.renderTarget.ensureDepthStencil();\n      renderer.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_ADD, maskStackIndex);\n      maskStackIndex++;\n      renderer.colorMask.setMask(0);\n    } else if (instruction.action === \"pushMaskEnd\") {\n      if (instruction.inverse) {\n        renderer.stencil.setStencilMode(STENCIL_MODES.INVERSE_MASK_ACTIVE, maskStackIndex);\n      } else {\n        renderer.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE, maskStackIndex);\n      }\n      renderer.colorMask.setMask(15);\n    } else if (instruction.action === \"popMaskBegin\") {\n      renderer.colorMask.setMask(0);\n      if (maskStackIndex !== 0) {\n        renderer.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_REMOVE, maskStackIndex);\n      } else {\n        renderer.renderTarget.clear(null, CLEAR.STENCIL);\n        renderer.stencil.setStencilMode(STENCIL_MODES.DISABLED, maskStackIndex);\n      }\n      maskStackIndex--;\n    } else if (instruction.action === \"popMaskEnd\") {\n      if (instruction.inverse) {\n        renderer.stencil.setStencilMode(STENCIL_MODES.INVERSE_MASK_ACTIVE, maskStackIndex);\n      } else {\n        renderer.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE, maskStackIndex);\n      }\n      renderer.colorMask.setMask(15);\n    }\n    this._maskStackHash[renderTargetUid] = maskStackIndex;\n  }\n  destroy() {\n    this._renderer = null;\n    this._maskStackHash = null;\n    this._maskHash = null;\n  }\n}\nStencilMaskPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"stencilMask\"\n};\n\nexport { StencilMaskPipe };\n//# sourceMappingURL=StencilMaskPipe.mjs.map\n","\"use strict\";\nvar BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"UNIFORM_BUFFER\"] = 35345] = \"UNIFORM_BUFFER\";\n  return BUFFER_TYPE2;\n})(BUFFER_TYPE || {});\n\nexport { BUFFER_TYPE };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nclass GlBuffer {\n  constructor(buffer, type) {\n    this._lastBindBaseLocation = -1;\n    this._lastBindCallId = -1;\n    this.buffer = buffer || null;\n    this.updateID = -1;\n    this.byteLength = -1;\n    this.type = type;\n  }\n}\n\nexport { GlBuffer };\n//# sourceMappingURL=GlBuffer.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { BufferUsage } from '../../shared/buffer/const.mjs';\nimport { BUFFER_TYPE } from './const.mjs';\nimport { GlBuffer } from './GlBuffer.mjs';\n\n\"use strict\";\nclass GlBufferSystem {\n  /**\n   * @param {Renderer} renderer - The renderer this System works for.\n   */\n  constructor(renderer) {\n    this._gpuBuffers = /* @__PURE__ */ Object.create(null);\n    /** Cache keeping track of the base bound buffer bases */\n    this._boundBufferBases = /* @__PURE__ */ Object.create(null);\n    this._minBaseLocation = 0;\n    this._nextBindBaseIndex = this._minBaseLocation;\n    this._bindCallId = 0;\n    this._renderer = renderer;\n    this._renderer.renderableGC.addManagedHash(this, \"_gpuBuffers\");\n  }\n  /** @ignore */\n  destroy() {\n    this._renderer = null;\n    this._gl = null;\n    this._gpuBuffers = null;\n    this._boundBufferBases = null;\n  }\n  /** Sets up the renderer context and necessary buffers. */\n  contextChange() {\n    this._gl = this._renderer.gl;\n    this._gpuBuffers = /* @__PURE__ */ Object.create(null);\n    this._maxBindings = this._renderer.limits.maxUniformBindings;\n  }\n  getGlBuffer(buffer) {\n    return this._gpuBuffers[buffer.uid] || this.createGLBuffer(buffer);\n  }\n  /**\n   * This binds specified buffer. On first run, it will create the webGL buffers for the context too\n   * @param buffer - the buffer to bind to the renderer\n   */\n  bind(buffer) {\n    const { _gl: gl } = this;\n    const glBuffer = this.getGlBuffer(buffer);\n    gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n  }\n  /**\n   * Binds an uniform buffer to at the given index.\n   *\n   * A cache is used so a buffer will not be bound again if already bound.\n   * @param glBuffer - the buffer to bind\n   * @param index - the base index to bind it to.\n   */\n  bindBufferBase(glBuffer, index) {\n    const { _gl: gl } = this;\n    if (this._boundBufferBases[index] !== glBuffer) {\n      this._boundBufferBases[index] = glBuffer;\n      glBuffer._lastBindBaseLocation = index;\n      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);\n    }\n  }\n  nextBindBase(hasTransformFeedback) {\n    this._bindCallId++;\n    this._minBaseLocation = 0;\n    if (hasTransformFeedback) {\n      this._boundBufferBases[0] = null;\n      this._minBaseLocation = 1;\n      if (this._nextBindBaseIndex < 1) {\n        this._nextBindBaseIndex = 1;\n      }\n    }\n  }\n  freeLocationForBufferBase(glBuffer) {\n    let freeIndex = this.getLastBindBaseLocation(glBuffer);\n    if (freeIndex >= this._minBaseLocation) {\n      glBuffer._lastBindCallId = this._bindCallId;\n      return freeIndex;\n    }\n    let loop = 0;\n    let nextIndex = this._nextBindBaseIndex;\n    while (loop < 2) {\n      if (nextIndex >= this._maxBindings) {\n        nextIndex = this._minBaseLocation;\n        loop++;\n      }\n      const curBuf = this._boundBufferBases[nextIndex];\n      if (curBuf && curBuf._lastBindCallId === this._bindCallId) {\n        nextIndex++;\n        continue;\n      }\n      break;\n    }\n    freeIndex = nextIndex;\n    this._nextBindBaseIndex = nextIndex + 1;\n    if (loop >= 2) {\n      return -1;\n    }\n    glBuffer._lastBindCallId = this._bindCallId;\n    this._boundBufferBases[freeIndex] = null;\n    return freeIndex;\n  }\n  getLastBindBaseLocation(glBuffer) {\n    const index = glBuffer._lastBindBaseLocation;\n    if (this._boundBufferBases[index] === glBuffer) {\n      return index;\n    }\n    return -1;\n  }\n  /**\n   * Binds a buffer whilst also binding its range.\n   * This will make the buffer start from the offset supplied rather than 0 when it is read.\n   * @param glBuffer - the buffer to bind\n   * @param index - the base index to bind at, defaults to 0\n   * @param offset - the offset to bind at (this is blocks of 256). 0 = 0, 1 = 256, 2 = 512 etc\n   * @param size - the size to bind at (this is blocks of 256).\n   */\n  bindBufferRange(glBuffer, index, offset, size) {\n    const { _gl: gl } = this;\n    offset || (offset = 0);\n    index || (index = 0);\n    this._boundBufferBases[index] = null;\n    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, size || 256);\n  }\n  /**\n   * Will ensure the data in the buffer is uploaded to the GPU.\n   * @param {Buffer} buffer - the buffer to update\n   */\n  updateBuffer(buffer) {\n    const { _gl: gl } = this;\n    const glBuffer = this.getGlBuffer(buffer);\n    if (buffer._updateID === glBuffer.updateID) {\n      return glBuffer;\n    }\n    glBuffer.updateID = buffer._updateID;\n    gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n    const data = buffer.data;\n    const drawType = buffer.descriptor.usage & BufferUsage.STATIC ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;\n    if (data) {\n      if (glBuffer.byteLength >= data.byteLength) {\n        gl.bufferSubData(glBuffer.type, 0, data, 0, buffer._updateSize / data.BYTES_PER_ELEMENT);\n      } else {\n        glBuffer.byteLength = data.byteLength;\n        gl.bufferData(glBuffer.type, data, drawType);\n      }\n    } else {\n      glBuffer.byteLength = buffer.descriptor.size;\n      gl.bufferData(glBuffer.type, glBuffer.byteLength, drawType);\n    }\n    return glBuffer;\n  }\n  /** dispose all WebGL resources of all managed buffers */\n  destroyAll() {\n    const gl = this._gl;\n    for (const id in this._gpuBuffers) {\n      gl.deleteBuffer(this._gpuBuffers[id].buffer);\n    }\n    this._gpuBuffers = /* @__PURE__ */ Object.create(null);\n  }\n  /**\n   * Disposes buffer\n   * @param {Buffer} buffer - buffer with data\n   * @param {boolean} [contextLost=false] - If context was lost, we suppress deleteVertexArray\n   */\n  onBufferDestroy(buffer, contextLost) {\n    const glBuffer = this._gpuBuffers[buffer.uid];\n    const gl = this._gl;\n    if (!contextLost) {\n      gl.deleteBuffer(glBuffer.buffer);\n    }\n    this._gpuBuffers[buffer.uid] = null;\n  }\n  /**\n   * creates and attaches a GLBuffer object tied to the current context.\n   * @param buffer\n   * @protected\n   */\n  createGLBuffer(buffer) {\n    const { _gl: gl } = this;\n    let type = BUFFER_TYPE.ARRAY_BUFFER;\n    if (buffer.descriptor.usage & BufferUsage.INDEX) {\n      type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n    } else if (buffer.descriptor.usage & BufferUsage.UNIFORM) {\n      type = BUFFER_TYPE.UNIFORM_BUFFER;\n    }\n    const glBuffer = new GlBuffer(gl.createBuffer(), type);\n    this._gpuBuffers[buffer.uid] = glBuffer;\n    buffer.on(\"destroy\", this.onBufferDestroy, this);\n    return glBuffer;\n  }\n  resetState() {\n    this._boundBufferBases = /* @__PURE__ */ Object.create(null);\n  }\n}\n/** @ignore */\nGlBufferSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"buffer\"\n};\n\nexport { GlBufferSystem };\n//# sourceMappingURL=GlBufferSystem.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nconst _GlContextSystem = class _GlContextSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    /**\n     * Features supported by current renderer.\n     * @type {object}\n     * @readonly\n     */\n    this.supports = {\n      /** Support for 32-bit indices buffer. */\n      uint32Indices: true,\n      /** Support for UniformBufferObjects */\n      uniformBufferObject: true,\n      /** Support for VertexArrayObjects */\n      vertexArrayObject: true,\n      /** Support for SRGB texture format */\n      srgbTextures: true,\n      /** Support for wrapping modes if a texture is non-power of two */\n      nonPowOf2wrapping: true,\n      /** Support for MSAA (antialiasing of dynamic textures) */\n      msaa: true,\n      /** Support for mipmaps if a texture is non-power of two */\n      nonPowOf2mipmaps: true\n    };\n    this._renderer = renderer;\n    this.extensions = /* @__PURE__ */ Object.create(null);\n    this.handleContextLost = this.handleContextLost.bind(this);\n    this.handleContextRestored = this.handleContextRestored.bind(this);\n  }\n  /**\n   * `true` if the context is lost\n   * @readonly\n   */\n  get isLost() {\n    return !this.gl || this.gl.isContextLost();\n  }\n  /**\n   * Handles the context change event.\n   * @param {WebGLRenderingContext} gl - New WebGL context.\n   */\n  contextChange(gl) {\n    this.gl = gl;\n    this._renderer.gl = gl;\n  }\n  init(options) {\n    options = { ..._GlContextSystem.defaultOptions, ...options };\n    let multiView = this.multiView = options.multiView;\n    if (options.context && multiView) {\n      warn(\"Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together.\");\n      multiView = false;\n    }\n    if (multiView) {\n      this.canvas = DOMAdapter.get().createCanvas(this._renderer.canvas.width, this._renderer.canvas.height);\n    } else {\n      this.canvas = this._renderer.view.canvas;\n    }\n    if (options.context) {\n      this.initFromContext(options.context);\n    } else {\n      const alpha = this._renderer.background.alpha < 1;\n      const premultipliedAlpha = options.premultipliedAlpha ?? true;\n      const antialias = options.antialias && !this._renderer.backBuffer.useBackBuffer;\n      this.createContext(options.preferWebGLVersion, {\n        alpha,\n        premultipliedAlpha,\n        antialias,\n        stencil: true,\n        preserveDrawingBuffer: options.preserveDrawingBuffer,\n        powerPreference: options.powerPreference ?? \"default\"\n      });\n    }\n  }\n  ensureCanvasSize(targetCanvas) {\n    if (!this.multiView) {\n      if (targetCanvas !== this.canvas) {\n        warn(\"multiView is disabled, but targetCanvas is not the main canvas\");\n      }\n      return;\n    }\n    const { canvas } = this;\n    if (canvas.width < targetCanvas.width || canvas.height < targetCanvas.height) {\n      canvas.width = Math.max(targetCanvas.width, targetCanvas.width);\n      canvas.height = Math.max(targetCanvas.height, targetCanvas.height);\n    }\n  }\n  /**\n   * Initializes the context.\n   * @protected\n   * @param {WebGLRenderingContext} gl - WebGL context\n   */\n  initFromContext(gl) {\n    this.gl = gl;\n    this.webGLVersion = gl instanceof DOMAdapter.get().getWebGLRenderingContext() ? 1 : 2;\n    this.getExtensions();\n    this.validateContext(gl);\n    this._renderer.runners.contextChange.emit(gl);\n    const element = this._renderer.view.canvas;\n    element.addEventListener(\"webglcontextlost\", this.handleContextLost, false);\n    element.addEventListener(\"webglcontextrestored\", this.handleContextRestored, false);\n  }\n  /**\n   * Initialize from context options\n   * @protected\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\n   * @param preferWebGLVersion\n   * @param {object} options - context attributes\n   */\n  createContext(preferWebGLVersion, options) {\n    let gl;\n    const canvas = this.canvas;\n    if (preferWebGLVersion === 2) {\n      gl = canvas.getContext(\"webgl2\", options);\n    }\n    if (!gl) {\n      gl = canvas.getContext(\"webgl\", options);\n      if (!gl) {\n        throw new Error(\"This browser does not support WebGL. Try using the canvas renderer\");\n      }\n    }\n    this.gl = gl;\n    this.initFromContext(this.gl);\n  }\n  /** Auto-populate the {@link GlContextSystem.extensions extensions}. */\n  getExtensions() {\n    const { gl } = this;\n    const common = {\n      anisotropicFiltering: gl.getExtension(\"EXT_texture_filter_anisotropic\"),\n      floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n      s3tc: gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n      s3tc_sRGB: gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n      // eslint-disable-line camelcase\n      etc: gl.getExtension(\"WEBGL_compressed_texture_etc\"),\n      etc1: gl.getExtension(\"WEBGL_compressed_texture_etc1\"),\n      pvrtc: gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n      atc: gl.getExtension(\"WEBGL_compressed_texture_atc\"),\n      astc: gl.getExtension(\"WEBGL_compressed_texture_astc\"),\n      bptc: gl.getExtension(\"EXT_texture_compression_bptc\"),\n      rgtc: gl.getExtension(\"EXT_texture_compression_rgtc\"),\n      loseContext: gl.getExtension(\"WEBGL_lose_context\")\n    };\n    if (this.webGLVersion === 1) {\n      this.extensions = {\n        ...common,\n        drawBuffers: gl.getExtension(\"WEBGL_draw_buffers\"),\n        depthTexture: gl.getExtension(\"WEBGL_depth_texture\"),\n        vertexArrayObject: gl.getExtension(\"OES_vertex_array_object\") || gl.getExtension(\"MOZ_OES_vertex_array_object\") || gl.getExtension(\"WEBKIT_OES_vertex_array_object\"),\n        uint32ElementIndex: gl.getExtension(\"OES_element_index_uint\"),\n        // Floats and half-floats\n        floatTexture: gl.getExtension(\"OES_texture_float\"),\n        floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n        textureHalfFloat: gl.getExtension(\"OES_texture_half_float\"),\n        textureHalfFloatLinear: gl.getExtension(\"OES_texture_half_float_linear\"),\n        vertexAttribDivisorANGLE: gl.getExtension(\"ANGLE_instanced_arrays\"),\n        srgb: gl.getExtension(\"EXT_sRGB\")\n      };\n    } else {\n      this.extensions = {\n        ...common,\n        colorBufferFloat: gl.getExtension(\"EXT_color_buffer_float\")\n      };\n      const provokeExt = gl.getExtension(\"WEBGL_provoking_vertex\");\n      if (provokeExt) {\n        provokeExt.provokingVertexWEBGL(provokeExt.FIRST_VERTEX_CONVENTION_WEBGL);\n      }\n    }\n  }\n  /**\n   * Handles a lost webgl context\n   * @param {WebGLContextEvent} event - The context lost event.\n   */\n  handleContextLost(event) {\n    event.preventDefault();\n    if (this._contextLossForced) {\n      this._contextLossForced = false;\n      setTimeout(() => {\n        if (this.gl.isContextLost()) {\n          this.extensions.loseContext?.restoreContext();\n        }\n      }, 0);\n    }\n  }\n  /** Handles a restored webgl context. */\n  handleContextRestored() {\n    this.getExtensions();\n    this._renderer.runners.contextChange.emit(this.gl);\n  }\n  destroy() {\n    const element = this._renderer.view.canvas;\n    this._renderer = null;\n    element.removeEventListener(\"webglcontextlost\", this.handleContextLost);\n    element.removeEventListener(\"webglcontextrestored\", this.handleContextRestored);\n    this.gl.useProgram(null);\n    this.extensions.loseContext?.loseContext();\n  }\n  /**\n   * this function can be called to force a webGL context loss\n   * this will release all resources on the GPU.\n   * Useful if you need to put Pixi to sleep, and save some GPU memory\n   *\n   * As soon as render is called - all resources will be created again.\n   */\n  forceContextLoss() {\n    this.extensions.loseContext?.loseContext();\n    this._contextLossForced = true;\n  }\n  /**\n   * Validate context.\n   * @param {WebGLRenderingContext} gl - Render context.\n   */\n  validateContext(gl) {\n    const attributes = gl.getContextAttributes();\n    if (attributes && !attributes.stencil) {\n      warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\");\n    }\n    const supports = this.supports;\n    const isWebGl2 = this.webGLVersion === 2;\n    const extensions = this.extensions;\n    supports.uint32Indices = isWebGl2 || !!extensions.uint32ElementIndex;\n    supports.uniformBufferObject = isWebGl2;\n    supports.vertexArrayObject = isWebGl2 || !!extensions.vertexArrayObject;\n    supports.srgbTextures = isWebGl2 || !!extensions.srgb;\n    supports.nonPowOf2wrapping = isWebGl2;\n    supports.nonPowOf2mipmaps = isWebGl2;\n    supports.msaa = isWebGl2;\n    if (!supports.uint32Indices) {\n      warn(\"Provided WebGL context does not support 32 index buffer, large scenes may not render correctly\");\n    }\n  }\n};\n/** @ignore */\n_GlContextSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"context\"\n};\n/** The default options for the system. */\n_GlContextSystem.defaultOptions = {\n  /**\n   * {@link WebGLOptions.context}\n   * @default null\n   */\n  context: null,\n  /**\n   * {@link WebGLOptions.premultipliedAlpha}\n   * @default true\n   */\n  premultipliedAlpha: true,\n  /**\n   * {@link WebGLOptions.preserveDrawingBuffer}\n   * @default false\n   */\n  preserveDrawingBuffer: false,\n  /**\n   * {@link WebGLOptions.powerPreference}\n   * @default default\n   */\n  powerPreference: void 0,\n  /**\n   * {@link WebGLOptions.webGLVersion}\n   * @default 2\n   */\n  preferWebGLVersion: 2,\n  /**\n   * {@link WebGLOptions.multiView}\n   * @default false\n   */\n  multiView: false\n};\nlet GlContextSystem = _GlContextSystem;\n\nexport { GlContextSystem };\n//# sourceMappingURL=GlContextSystem.mjs.map\n","import { warn } from '../../../../../utils/logging/warn.mjs';\nimport { getAttributeInfoFromFormat } from '../../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\n\n\"use strict\";\nfunction ensureAttributes(geometry, extractedData) {\n  for (const i in geometry.attributes) {\n    const attribute = geometry.attributes[i];\n    const attributeData = extractedData[i];\n    if (attributeData) {\n      attribute.format ?? (attribute.format = attributeData.format);\n      attribute.offset ?? (attribute.offset = attributeData.offset);\n      attribute.instance ?? (attribute.instance = attributeData.instance);\n    } else {\n      warn(`Attribute ${i} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`);\n    }\n  }\n  ensureStartAndStride(geometry);\n}\nfunction ensureStartAndStride(geometry) {\n  const { buffers, attributes } = geometry;\n  const tempStride = {};\n  const tempStart = {};\n  for (const j in buffers) {\n    const buffer = buffers[j];\n    tempStride[buffer.uid] = 0;\n    tempStart[buffer.uid] = 0;\n  }\n  for (const j in attributes) {\n    const attribute = attributes[j];\n    tempStride[attribute.buffer.uid] += getAttributeInfoFromFormat(attribute.format).stride;\n  }\n  for (const j in attributes) {\n    const attribute = attributes[j];\n    attribute.stride ?? (attribute.stride = tempStride[attribute.buffer.uid]);\n    attribute.start ?? (attribute.start = tempStart[attribute.buffer.uid]);\n    tempStart[attribute.buffer.uid] += getAttributeInfoFromFormat(attribute.format).stride;\n  }\n}\n\nexport { ensureAttributes };\n//# sourceMappingURL=ensureAttributes.mjs.map\n","\"use strict\";\nvar GL_FORMATS = /* @__PURE__ */ ((GL_FORMATS2) => {\n  GL_FORMATS2[GL_FORMATS2[\"RGBA\"] = 6408] = \"RGBA\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB\"] = 6407] = \"RGB\";\n  GL_FORMATS2[GL_FORMATS2[\"RG\"] = 33319] = \"RG\";\n  GL_FORMATS2[GL_FORMATS2[\"RED\"] = 6403] = \"RED\";\n  GL_FORMATS2[GL_FORMATS2[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"ALPHA\"] = 6406] = \"ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n  return GL_FORMATS2;\n})(GL_FORMATS || {});\nvar GL_TARGETS = /* @__PURE__ */ ((GL_TARGETS2) => {\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_2D_ARRAY\"] = 35866] = \"TEXTURE_2D_ARRAY\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n  return GL_TARGETS2;\n})(GL_TARGETS || {});\nvar GL_WRAP_MODES = /* @__PURE__ */ ((GL_WRAP_MODES2) => {\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"CLAMP\"] = 33071] = \"CLAMP\";\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"REPEAT\"] = 10497] = \"REPEAT\";\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n  return GL_WRAP_MODES2;\n})(GL_WRAP_MODES || {});\nvar GL_TYPES = /* @__PURE__ */ ((GL_TYPES2) => {\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n  GL_TYPES2[GL_TYPES2[\"BYTE\"] = 5120] = \"BYTE\";\n  GL_TYPES2[GL_TYPES2[\"SHORT\"] = 5122] = \"SHORT\";\n  GL_TYPES2[GL_TYPES2[\"INT\"] = 5124] = \"INT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT\"] = 5126] = \"FLOAT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n  GL_TYPES2[GL_TYPES2[\"HALF_FLOAT\"] = 36193] = \"HALF_FLOAT\";\n  return GL_TYPES2;\n})(GL_TYPES || {});\n\nexport { GL_FORMATS, GL_TARGETS, GL_TYPES, GL_WRAP_MODES };\n//# sourceMappingURL=const.mjs.map\n","import { GL_TYPES } from '../../texture/const.mjs';\n\n\"use strict\";\nconst infoMap = {\n  uint8x2: GL_TYPES.UNSIGNED_BYTE,\n  uint8x4: GL_TYPES.UNSIGNED_BYTE,\n  sint8x2: GL_TYPES.BYTE,\n  sint8x4: GL_TYPES.BYTE,\n  unorm8x2: GL_TYPES.UNSIGNED_BYTE,\n  unorm8x4: GL_TYPES.UNSIGNED_BYTE,\n  snorm8x2: GL_TYPES.BYTE,\n  snorm8x4: GL_TYPES.BYTE,\n  uint16x2: GL_TYPES.UNSIGNED_SHORT,\n  uint16x4: GL_TYPES.UNSIGNED_SHORT,\n  sint16x2: GL_TYPES.SHORT,\n  sint16x4: GL_TYPES.SHORT,\n  unorm16x2: GL_TYPES.UNSIGNED_SHORT,\n  unorm16x4: GL_TYPES.UNSIGNED_SHORT,\n  snorm16x2: GL_TYPES.SHORT,\n  snorm16x4: GL_TYPES.SHORT,\n  float16x2: GL_TYPES.HALF_FLOAT,\n  float16x4: GL_TYPES.HALF_FLOAT,\n  float32: GL_TYPES.FLOAT,\n  float32x2: GL_TYPES.FLOAT,\n  float32x3: GL_TYPES.FLOAT,\n  float32x4: GL_TYPES.FLOAT,\n  uint32: GL_TYPES.UNSIGNED_INT,\n  uint32x2: GL_TYPES.UNSIGNED_INT,\n  uint32x3: GL_TYPES.UNSIGNED_INT,\n  uint32x4: GL_TYPES.UNSIGNED_INT,\n  sint32: GL_TYPES.INT,\n  sint32x2: GL_TYPES.INT,\n  sint32x3: GL_TYPES.INT,\n  sint32x4: GL_TYPES.INT\n};\nfunction getGlTypeFromFormat(format) {\n  return infoMap[format] ?? infoMap.float32;\n}\n\nexport { getGlTypeFromFormat };\n//# sourceMappingURL=getGlTypeFromFormat.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { getAttributeInfoFromFormat } from '../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nimport { ensureAttributes } from '../shader/program/ensureAttributes.mjs';\nimport { getGlTypeFromFormat } from './utils/getGlTypeFromFormat.mjs';\n\n\"use strict\";\nconst topologyToGlMap = {\n  \"point-list\": 0,\n  \"line-list\": 1,\n  \"line-strip\": 3,\n  \"triangle-list\": 4,\n  \"triangle-strip\": 5\n};\nclass GlGeometrySystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    this._geometryVaoHash = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    this._activeGeometry = null;\n    this._activeVao = null;\n    this.hasVao = true;\n    this.hasInstance = true;\n    this._renderer.renderableGC.addManagedHash(this, \"_geometryVaoHash\");\n  }\n  /** Sets up the renderer context and necessary buffers. */\n  contextChange() {\n    const gl = this.gl = this._renderer.gl;\n    if (!this._renderer.context.supports.vertexArrayObject) {\n      throw new Error(\"[PixiJS] Vertex Array Objects are not supported on this device\");\n    }\n    const nativeVaoExtension = this._renderer.context.extensions.vertexArrayObject;\n    if (nativeVaoExtension) {\n      gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();\n      gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);\n      gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);\n    }\n    const nativeInstancedExtension = this._renderer.context.extensions.vertexAttribDivisorANGLE;\n    if (nativeInstancedExtension) {\n      gl.drawArraysInstanced = (a, b, c, d) => {\n        nativeInstancedExtension.drawArraysInstancedANGLE(a, b, c, d);\n      };\n      gl.drawElementsInstanced = (a, b, c, d, e) => {\n        nativeInstancedExtension.drawElementsInstancedANGLE(a, b, c, d, e);\n      };\n      gl.vertexAttribDivisor = (a, b) => nativeInstancedExtension.vertexAttribDivisorANGLE(a, b);\n    }\n    this._activeGeometry = null;\n    this._activeVao = null;\n    this._geometryVaoHash = /* @__PURE__ */ Object.create(null);\n  }\n  /**\n   * Binds geometry so that is can be drawn. Creating a Vao if required\n   * @param geometry - Instance of geometry to bind.\n   * @param program - Instance of program to use vao for.\n   */\n  bind(geometry, program) {\n    const gl = this.gl;\n    this._activeGeometry = geometry;\n    const vao = this.getVao(geometry, program);\n    if (this._activeVao !== vao) {\n      this._activeVao = vao;\n      gl.bindVertexArray(vao);\n    }\n    this.updateBuffers();\n  }\n  /** Reset and unbind any active VAO and geometry. */\n  resetState() {\n    this.unbind();\n  }\n  /** Update buffers of the currently bound geometry. */\n  updateBuffers() {\n    const geometry = this._activeGeometry;\n    const bufferSystem = this._renderer.buffer;\n    for (let i = 0; i < geometry.buffers.length; i++) {\n      const buffer = geometry.buffers[i];\n      bufferSystem.updateBuffer(buffer);\n    }\n  }\n  /**\n   * Check compatibility between a geometry and a program\n   * @param geometry - Geometry instance.\n   * @param program - Program instance.\n   */\n  checkCompatibility(geometry, program) {\n    const geometryAttributes = geometry.attributes;\n    const shaderAttributes = program._attributeData;\n    for (const j in shaderAttributes) {\n      if (!geometryAttributes[j]) {\n        throw new Error(`shader and geometry incompatible, geometry missing the \"${j}\" attribute`);\n      }\n    }\n  }\n  /**\n   * Takes a geometry and program and generates a unique signature for them.\n   * @param geometry - To get signature from.\n   * @param program - To test geometry against.\n   * @returns - Unique signature of the geometry and program\n   */\n  getSignature(geometry, program) {\n    const attribs = geometry.attributes;\n    const shaderAttributes = program._attributeData;\n    const strings = [\"g\", geometry.uid];\n    for (const i in attribs) {\n      if (shaderAttributes[i]) {\n        strings.push(i, shaderAttributes[i].location);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  getVao(geometry, program) {\n    return this._geometryVaoHash[geometry.uid]?.[program._key] || this.initGeometryVao(geometry, program);\n  }\n  /**\n   * Creates or gets Vao with the same structure as the geometry and stores it on the geometry.\n   * If vao is created, it is bound automatically. We use a shader to infer what and how to set up the\n   * attribute locations.\n   * @param geometry - Instance of geometry to to generate Vao for.\n   * @param program\n   * @param _incRefCount - Increment refCount of all geometry buffers.\n   */\n  initGeometryVao(geometry, program, _incRefCount = true) {\n    const gl = this._renderer.gl;\n    const bufferSystem = this._renderer.buffer;\n    this._renderer.shader._getProgramData(program);\n    this.checkCompatibility(geometry, program);\n    const signature = this.getSignature(geometry, program);\n    if (!this._geometryVaoHash[geometry.uid]) {\n      this._geometryVaoHash[geometry.uid] = /* @__PURE__ */ Object.create(null);\n      geometry.on(\"destroy\", this.onGeometryDestroy, this);\n    }\n    const vaoObjectHash = this._geometryVaoHash[geometry.uid];\n    let vao = vaoObjectHash[signature];\n    if (vao) {\n      vaoObjectHash[program._key] = vao;\n      return vao;\n    }\n    ensureAttributes(geometry, program._attributeData);\n    const buffers = geometry.buffers;\n    vao = gl.createVertexArray();\n    gl.bindVertexArray(vao);\n    for (let i = 0; i < buffers.length; i++) {\n      const buffer = buffers[i];\n      bufferSystem.bind(buffer);\n    }\n    this.activateVao(geometry, program);\n    vaoObjectHash[program._key] = vao;\n    vaoObjectHash[signature] = vao;\n    gl.bindVertexArray(null);\n    return vao;\n  }\n  /**\n   * Disposes geometry.\n   * @param geometry - Geometry with buffers. Only VAO will be disposed\n   * @param [contextLost=false] - If context was lost, we suppress deleteVertexArray\n   */\n  onGeometryDestroy(geometry, contextLost) {\n    const vaoObjectHash = this._geometryVaoHash[geometry.uid];\n    const gl = this.gl;\n    if (vaoObjectHash) {\n      if (contextLost) {\n        for (const i in vaoObjectHash) {\n          if (this._activeVao !== vaoObjectHash[i]) {\n            this.unbind();\n          }\n          gl.deleteVertexArray(vaoObjectHash[i]);\n        }\n      }\n      this._geometryVaoHash[geometry.uid] = null;\n    }\n  }\n  /**\n   * Dispose all WebGL resources of all managed geometries.\n   * @param [contextLost=false] - If context was lost, we suppress `gl.delete` calls\n   */\n  destroyAll(contextLost = false) {\n    const gl = this.gl;\n    for (const i in this._geometryVaoHash) {\n      if (contextLost) {\n        for (const j in this._geometryVaoHash[i]) {\n          const vaoObjectHash = this._geometryVaoHash[i];\n          if (this._activeVao !== vaoObjectHash) {\n            this.unbind();\n          }\n          gl.deleteVertexArray(vaoObjectHash[j]);\n        }\n      }\n      this._geometryVaoHash[i] = null;\n    }\n  }\n  /**\n   * Activate vertex array object.\n   * @param geometry - Geometry instance.\n   * @param program - Shader program instance.\n   */\n  activateVao(geometry, program) {\n    const gl = this._renderer.gl;\n    const bufferSystem = this._renderer.buffer;\n    const attributes = geometry.attributes;\n    if (geometry.indexBuffer) {\n      bufferSystem.bind(geometry.indexBuffer);\n    }\n    let lastBuffer = null;\n    for (const j in attributes) {\n      const attribute = attributes[j];\n      const buffer = attribute.buffer;\n      const glBuffer = bufferSystem.getGlBuffer(buffer);\n      const programAttrib = program._attributeData[j];\n      if (programAttrib) {\n        if (lastBuffer !== glBuffer) {\n          bufferSystem.bind(buffer);\n          lastBuffer = glBuffer;\n        }\n        const location = programAttrib.location;\n        gl.enableVertexAttribArray(location);\n        const attributeInfo = getAttributeInfoFromFormat(attribute.format);\n        const type = getGlTypeFromFormat(attribute.format);\n        if (programAttrib.format?.substring(1, 4) === \"int\") {\n          gl.vertexAttribIPointer(\n            location,\n            attributeInfo.size,\n            type,\n            attribute.stride,\n            attribute.offset\n          );\n        } else {\n          gl.vertexAttribPointer(\n            location,\n            attributeInfo.size,\n            type,\n            attributeInfo.normalised,\n            attribute.stride,\n            attribute.offset\n          );\n        }\n        if (attribute.instance) {\n          if (this.hasInstance) {\n            const divisor = attribute.divisor ?? 1;\n            gl.vertexAttribDivisor(location, divisor);\n          } else {\n            throw new Error(\"geometry error, GPU Instancing is not supported on this device\");\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Draws the currently bound geometry.\n   * @param topology - The type primitive to render.\n   * @param size - The number of elements to be rendered. If not specified, all vertices after the\n   *  starting vertex will be drawn.\n   * @param start - The starting vertex in the geometry to start drawing from. If not specified,\n   *  drawing will start from the first vertex.\n   * @param instanceCount - The number of instances of the set of elements to execute. If not specified,\n   *  all instances will be drawn.\n   * @returns This instance of the geometry system.\n   */\n  draw(topology, size, start, instanceCount) {\n    const { gl } = this._renderer;\n    const geometry = this._activeGeometry;\n    const glTopology = topologyToGlMap[topology || geometry.topology];\n    instanceCount ?? (instanceCount = geometry.instanceCount);\n    if (geometry.indexBuffer) {\n      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n      if (instanceCount > 1) {\n        gl.drawElementsInstanced(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount);\n      } else {\n        gl.drawElements(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);\n      }\n    } else if (instanceCount > 1) {\n      gl.drawArraysInstanced(glTopology, start || 0, size || geometry.getSize(), instanceCount);\n    } else {\n      gl.drawArrays(glTopology, start || 0, size || geometry.getSize());\n    }\n    return this;\n  }\n  /** Unbind/reset everything. */\n  unbind() {\n    this.gl.bindVertexArray(null);\n    this._activeVao = null;\n    this._activeGeometry = null;\n  }\n  destroy() {\n    this._renderer = null;\n    this.gl = null;\n    this._activeVao = null;\n    this._activeGeometry = null;\n    this._geometryVaoHash = null;\n  }\n}\n/** @ignore */\nGlGeometrySystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"geometry\"\n};\n\nexport { GlGeometrySystem };\n//# sourceMappingURL=GlGeometrySystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\nimport { Geometry } from '../shared/geometry/Geometry.mjs';\nimport { Shader } from '../shared/shader/Shader.mjs';\nimport { State } from '../shared/state/State.mjs';\nimport { TextureSource } from '../shared/texture/sources/TextureSource.mjs';\nimport { Texture } from '../shared/texture/Texture.mjs';\nimport { GlProgram } from './shader/GlProgram.mjs';\n\n\"use strict\";\nconst bigTriangleGeometry = new Geometry({\n  attributes: {\n    aPosition: [\n      -1,\n      -1,\n      // Bottom left corner\n      3,\n      -1,\n      // Bottom right corner, extending beyond right edge\n      -1,\n      3\n      // Top left corner, extending beyond top edge\n    ]\n  }\n});\nconst _GlBackBufferSystem = class _GlBackBufferSystem {\n  constructor(renderer) {\n    /** if true, the back buffer is used */\n    this.useBackBuffer = false;\n    this._useBackBufferThisRender = false;\n    this._renderer = renderer;\n  }\n  init(options = {}) {\n    const { useBackBuffer, antialias } = { ..._GlBackBufferSystem.defaultOptions, ...options };\n    this.useBackBuffer = useBackBuffer;\n    this._antialias = antialias;\n    if (!this._renderer.context.supports.msaa) {\n      warn(\"antialiasing, is not supported on when using the back buffer\");\n      this._antialias = false;\n    }\n    this._state = State.for2d();\n    const bigTriangleProgram = new GlProgram({\n      vertex: `\n                attribute vec2 aPosition;\n                out vec2 vUv;\n\n                void main() {\n                    gl_Position = vec4(aPosition, 0.0, 1.0);\n\n                    vUv = (aPosition + 1.0) / 2.0;\n\n                    // flip dem UVs\n                    vUv.y = 1.0 - vUv.y;\n                }`,\n      fragment: `\n                in vec2 vUv;\n                out vec4 finalColor;\n\n                uniform sampler2D uTexture;\n\n                void main() {\n                    finalColor = texture(uTexture, vUv);\n                }`,\n      name: \"big-triangle\"\n    });\n    this._bigTriangleShader = new Shader({\n      glProgram: bigTriangleProgram,\n      resources: {\n        uTexture: Texture.WHITE.source\n      }\n    });\n  }\n  /**\n   * This is called before the RenderTargetSystem is started. This is where\n   * we replace the target with the back buffer if required.\n   * @param options - The options for this render.\n   */\n  renderStart(options) {\n    const renderTarget = this._renderer.renderTarget.getRenderTarget(options.target);\n    this._useBackBufferThisRender = this.useBackBuffer && !!renderTarget.isRoot;\n    if (this._useBackBufferThisRender) {\n      const renderTarget2 = this._renderer.renderTarget.getRenderTarget(options.target);\n      this._targetTexture = renderTarget2.colorTexture;\n      options.target = this._getBackBufferTexture(renderTarget2.colorTexture);\n    }\n  }\n  renderEnd() {\n    this._presentBackBuffer();\n  }\n  _presentBackBuffer() {\n    const renderer = this._renderer;\n    renderer.renderTarget.finishRenderPass();\n    if (!this._useBackBufferThisRender)\n      return;\n    renderer.renderTarget.bind(this._targetTexture, false);\n    this._bigTriangleShader.resources.uTexture = this._backBufferTexture.source;\n    renderer.encoder.draw({\n      geometry: bigTriangleGeometry,\n      shader: this._bigTriangleShader,\n      state: this._state\n    });\n  }\n  _getBackBufferTexture(targetSourceTexture) {\n    this._backBufferTexture = this._backBufferTexture || new Texture({\n      source: new TextureSource({\n        width: targetSourceTexture.width,\n        height: targetSourceTexture.height,\n        resolution: targetSourceTexture._resolution,\n        antialias: this._antialias\n      })\n    });\n    this._backBufferTexture.source.resize(\n      targetSourceTexture.width,\n      targetSourceTexture.height,\n      targetSourceTexture._resolution\n    );\n    return this._backBufferTexture;\n  }\n  /** destroys the back buffer */\n  destroy() {\n    if (this._backBufferTexture) {\n      this._backBufferTexture.destroy();\n      this._backBufferTexture = null;\n    }\n  }\n};\n/** @ignore */\n_GlBackBufferSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"backBuffer\",\n  priority: 1\n};\n/** default options for the back buffer system */\n_GlBackBufferSystem.defaultOptions = {\n  /** if true will use the back buffer where required */\n  useBackBuffer: false\n};\nlet GlBackBufferSystem = _GlBackBufferSystem;\n\nexport { GlBackBufferSystem };\n//# sourceMappingURL=GlBackBufferSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GlColorMaskSystem {\n  constructor(renderer) {\n    this._colorMaskCache = 15;\n    this._renderer = renderer;\n  }\n  setMask(colorMask) {\n    if (this._colorMaskCache === colorMask)\n      return;\n    this._colorMaskCache = colorMask;\n    this._renderer.gl.colorMask(\n      !!(colorMask & 8),\n      !!(colorMask & 4),\n      !!(colorMask & 2),\n      !!(colorMask & 1)\n    );\n  }\n}\n/** @ignore */\nGlColorMaskSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"colorMask\"\n};\n\nexport { GlColorMaskSystem };\n//# sourceMappingURL=GlColorMaskSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GlEncoderSystem {\n  constructor(renderer) {\n    this.commandFinished = Promise.resolve();\n    this._renderer = renderer;\n  }\n  setGeometry(geometry, shader) {\n    this._renderer.geometry.bind(geometry, shader.glProgram);\n  }\n  finishRenderPass() {\n  }\n  draw(options) {\n    const renderer = this._renderer;\n    const { geometry, shader, state, skipSync, topology: type, size, start, instanceCount } = options;\n    renderer.shader.bind(shader, skipSync);\n    renderer.geometry.bind(geometry, renderer.shader._activeProgram);\n    if (state) {\n      renderer.state.set(state);\n    }\n    renderer.geometry.draw(type, size, start, instanceCount ?? geometry.instanceCount);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nGlEncoderSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"encoder\"\n};\n\nexport { GlEncoderSystem };\n//# sourceMappingURL=GlEncoderSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkMaxIfStatementsInShader } from '../../batcher/gl/utils/checkMaxIfStatementsInShader.mjs';\n\n\"use strict\";\nclass GlLimitsSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  contextChange() {\n    const gl = this._renderer.gl;\n    this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.maxBatchableTextures = checkMaxIfStatementsInShader(this.maxTextures, gl);\n    const isWebGl2 = this._renderer.context.webGLVersion === 2;\n    this.maxUniformBindings = isWebGl2 ? gl.getParameter(gl.MAX_UNIFORM_BUFFER_BINDINGS) : 0;\n  }\n  destroy() {\n  }\n}\n/** @ignore */\nGlLimitsSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"limits\"\n};\n\nexport { GlLimitsSystem };\n//# sourceMappingURL=GlLimitsSystem.mjs.map\n","\"use strict\";\nclass GlRenderTarget {\n  constructor() {\n    this.width = -1;\n    this.height = -1;\n    this.msaa = false;\n    this.msaaRenderBuffer = [];\n  }\n}\n\nexport { GlRenderTarget };\n//# sourceMappingURL=GlRenderTarget.mjs.map\n","import { STENCIL_MODES } from '../../shared/state/const.mjs';\n\n\"use strict\";\nconst GpuStencilModesToPixi = [];\nGpuStencilModesToPixi[STENCIL_MODES.NONE] = void 0;\nGpuStencilModesToPixi[STENCIL_MODES.DISABLED] = {\n  stencilWriteMask: 0,\n  stencilReadMask: 0\n};\nGpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_ADD] = {\n  stencilFront: {\n    compare: \"equal\",\n    passOp: \"increment-clamp\"\n  },\n  stencilBack: {\n    compare: \"equal\",\n    passOp: \"increment-clamp\"\n  }\n};\nGpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_REMOVE] = {\n  stencilFront: {\n    compare: \"equal\",\n    passOp: \"decrement-clamp\"\n  },\n  stencilBack: {\n    compare: \"equal\",\n    passOp: \"decrement-clamp\"\n  }\n};\nGpuStencilModesToPixi[STENCIL_MODES.MASK_ACTIVE] = {\n  stencilWriteMask: 0,\n  stencilFront: {\n    compare: \"equal\",\n    passOp: \"keep\"\n  },\n  stencilBack: {\n    compare: \"equal\",\n    passOp: \"keep\"\n  }\n};\nGpuStencilModesToPixi[STENCIL_MODES.INVERSE_MASK_ACTIVE] = {\n  stencilWriteMask: 0,\n  stencilFront: {\n    compare: \"not-equal\",\n    passOp: \"keep\"\n  },\n  stencilBack: {\n    compare: \"not-equal\",\n    passOp: \"keep\"\n  }\n};\n\nexport { GpuStencilModesToPixi };\n//# sourceMappingURL=GpuStencilModesToPixi.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GpuStencilModesToPixi } from '../gpu/state/GpuStencilModesToPixi.mjs';\nimport { STENCIL_MODES } from '../shared/state/const.mjs';\n\n\"use strict\";\nclass GlStencilSystem {\n  constructor(renderer) {\n    this._stencilCache = {\n      enabled: false,\n      stencilReference: 0,\n      stencilMode: STENCIL_MODES.NONE\n    };\n    this._renderTargetStencilState = /* @__PURE__ */ Object.create(null);\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    this._comparisonFuncMapping = {\n      always: gl.ALWAYS,\n      never: gl.NEVER,\n      equal: gl.EQUAL,\n      \"not-equal\": gl.NOTEQUAL,\n      less: gl.LESS,\n      \"less-equal\": gl.LEQUAL,\n      greater: gl.GREATER,\n      \"greater-equal\": gl.GEQUAL\n    };\n    this._stencilOpsMapping = {\n      keep: gl.KEEP,\n      zero: gl.ZERO,\n      replace: gl.REPLACE,\n      invert: gl.INVERT,\n      \"increment-clamp\": gl.INCR,\n      \"decrement-clamp\": gl.DECR,\n      \"increment-wrap\": gl.INCR_WRAP,\n      \"decrement-wrap\": gl.DECR_WRAP\n    };\n    this.resetState();\n  }\n  onRenderTargetChange(renderTarget) {\n    if (this._activeRenderTarget === renderTarget)\n      return;\n    this._activeRenderTarget = renderTarget;\n    let stencilState = this._renderTargetStencilState[renderTarget.uid];\n    if (!stencilState) {\n      stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n        stencilMode: STENCIL_MODES.DISABLED,\n        stencilReference: 0\n      };\n    }\n    this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n  }\n  resetState() {\n    this._stencilCache.enabled = false;\n    this._stencilCache.stencilMode = STENCIL_MODES.NONE;\n    this._stencilCache.stencilReference = 0;\n  }\n  setStencilMode(stencilMode, stencilReference) {\n    const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n    const gl = this._gl;\n    const mode = GpuStencilModesToPixi[stencilMode];\n    const _stencilCache = this._stencilCache;\n    stencilState.stencilMode = stencilMode;\n    stencilState.stencilReference = stencilReference;\n    if (stencilMode === STENCIL_MODES.DISABLED) {\n      if (this._stencilCache.enabled) {\n        this._stencilCache.enabled = false;\n        gl.disable(gl.STENCIL_TEST);\n      }\n      return;\n    }\n    if (!this._stencilCache.enabled) {\n      this._stencilCache.enabled = true;\n      gl.enable(gl.STENCIL_TEST);\n    }\n    if (stencilMode !== _stencilCache.stencilMode || _stencilCache.stencilReference !== stencilReference) {\n      _stencilCache.stencilMode = stencilMode;\n      _stencilCache.stencilReference = stencilReference;\n      gl.stencilFunc(this._comparisonFuncMapping[mode.stencilBack.compare], stencilReference, 255);\n      gl.stencilOp(gl.KEEP, gl.KEEP, this._stencilOpsMapping[mode.stencilBack.passOp]);\n    }\n  }\n}\n/** @ignore */\nGlStencilSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"stencil\"\n};\n\nexport { GlStencilSystem };\n//# sourceMappingURL=GlStencilSystem.mjs.map\n","import { unsafeEvalSupported } from '../../../../utils/browser/unsafeEvalSupported.mjs';\nimport { Buffer } from '../buffer/Buffer.mjs';\nimport { BufferUsage } from '../buffer/const.mjs';\n\n\"use strict\";\nclass UboSystem {\n  constructor(adaptor) {\n    /** Cache of uniform buffer layouts and sync functions, so we don't have to re-create them */\n    this._syncFunctionHash = /* @__PURE__ */ Object.create(null);\n    this._adaptor = adaptor;\n    this._systemCheck();\n  }\n  /**\n   * Overridable function by `pixi.js/unsafe-eval` to silence\n   * throwing an error if platform doesn't support unsafe-evals.\n   * @private\n   */\n  _systemCheck() {\n    if (!unsafeEvalSupported()) {\n      throw new Error(\"Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.\");\n    }\n  }\n  ensureUniformGroup(uniformGroup) {\n    const uniformData = this.getUniformGroupData(uniformGroup);\n    uniformGroup.buffer || (uniformGroup.buffer = new Buffer({\n      data: new Float32Array(uniformData.layout.size / 4),\n      usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST\n    }));\n  }\n  getUniformGroupData(uniformGroup) {\n    return this._syncFunctionHash[uniformGroup._signature] || this._initUniformGroup(uniformGroup);\n  }\n  _initUniformGroup(uniformGroup) {\n    const uniformGroupSignature = uniformGroup._signature;\n    let uniformData = this._syncFunctionHash[uniformGroupSignature];\n    if (!uniformData) {\n      const elements = Object.keys(uniformGroup.uniformStructures).map((i) => uniformGroup.uniformStructures[i]);\n      const layout = this._adaptor.createUboElements(elements);\n      const syncFunction = this._generateUboSync(layout.uboElements);\n      uniformData = this._syncFunctionHash[uniformGroupSignature] = {\n        layout,\n        syncFunction\n      };\n    }\n    return this._syncFunctionHash[uniformGroupSignature];\n  }\n  _generateUboSync(uboElements) {\n    return this._adaptor.generateUboSync(uboElements);\n  }\n  syncUniformGroup(uniformGroup, data, offset) {\n    const uniformGroupData = this.getUniformGroupData(uniformGroup);\n    uniformGroup.buffer || (uniformGroup.buffer = new Buffer({\n      data: new Float32Array(uniformGroupData.layout.size / 4),\n      usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST\n    }));\n    let dataInt32 = null;\n    if (!data) {\n      data = uniformGroup.buffer.data;\n      dataInt32 = uniformGroup.buffer.dataInt32;\n    }\n    offset || (offset = 0);\n    uniformGroupData.syncFunction(uniformGroup.uniforms, data, dataInt32, offset);\n    return true;\n  }\n  updateUniformGroup(uniformGroup) {\n    if (uniformGroup.isStatic && !uniformGroup._dirtyId)\n      return false;\n    uniformGroup._dirtyId = 0;\n    const synced = this.syncUniformGroup(uniformGroup);\n    uniformGroup.buffer.update();\n    return synced;\n  }\n  destroy() {\n    this._syncFunctionHash = null;\n  }\n}\n\nexport { UboSystem };\n//# sourceMappingURL=UboSystem.mjs.map\n","\"use strict\";\nconst WGSL_TO_STD40_SIZE = {\n  f32: 4,\n  i32: 4,\n  \"vec2<f32>\": 8,\n  \"vec3<f32>\": 12,\n  \"vec4<f32>\": 16,\n  \"vec2<i32>\": 8,\n  \"vec3<i32>\": 12,\n  \"vec4<i32>\": 16,\n  \"mat2x2<f32>\": 16 * 2,\n  \"mat3x3<f32>\": 16 * 3,\n  \"mat4x4<f32>\": 16 * 4\n  // TODO - not essential for now but support these in the future\n  // int:      4,\n  // ivec2:    8,\n  // ivec3:    12,\n  // ivec4:    16,\n  // uint:     4,\n  // uvec2:    8,\n  // uvec3:    12,\n  // uvec4:    16,\n  // bool:     4,\n  // bvec2:    8,\n  // bvec3:    12,\n  // bvec4:    16,\n  // mat2:     16 * 2,\n  // mat3:     16 * 3,\n  // mat4:     16 * 4,\n};\nfunction createUboElementsSTD40(uniformData) {\n  const uboElements = uniformData.map((data) => ({\n    data,\n    offset: 0,\n    size: 0\n  }));\n  const chunkSize = 16;\n  let size = 0;\n  let offset = 0;\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    size = WGSL_TO_STD40_SIZE[uboElement.data.type];\n    if (!size) {\n      throw new Error(`Unknown type ${uboElement.data.type}`);\n    }\n    if (uboElement.data.size > 1) {\n      size = Math.max(size, chunkSize) * uboElement.data.size;\n    }\n    const boundary = size === 12 ? 16 : size;\n    uboElement.size = size;\n    const curOffset = offset % chunkSize;\n    if (curOffset > 0 && chunkSize - curOffset < boundary) {\n      offset += (chunkSize - curOffset) % 16;\n    } else {\n      offset += (size - curOffset % size) % size;\n    }\n    uboElement.offset = offset;\n    offset += size;\n  }\n  offset = Math.ceil(offset / 16) * 16;\n  return { uboElements, size: offset };\n}\n\nexport { WGSL_TO_STD40_SIZE, createUboElementsSTD40 };\n//# sourceMappingURL=createUboElementsSTD40.mjs.map\n","\"use strict\";\nconst uniformParsers = [\n  // uploading pixi matrix object to mat3\n  {\n    type: \"mat3x3<f32>\",\n    test: (data) => {\n      const value = data.value;\n      return value.a !== void 0;\n    },\n    ubo: `\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        `,\n    uniform: `\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        `\n  },\n  // uploading a pixi rectangle as a vec4\n  {\n    type: \"vec4<f32>\",\n    test: (data) => data.type === \"vec4<f32>\" && data.size === 1 && data.value.width !== void 0,\n    ubo: `\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        `,\n    uniform: `\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        `\n  },\n  // uploading a pixi point as a vec2\n  {\n    type: \"vec2<f32>\",\n    test: (data) => data.type === \"vec2<f32>\" && data.size === 1 && data.value.x !== void 0,\n    ubo: `\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        `,\n    uniform: `\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        `\n  },\n  // uploading a pixi color as a vec4\n  {\n    type: \"vec4<f32>\",\n    test: (data) => data.type === \"vec4<f32>\" && data.size === 1 && data.value.red !== void 0,\n    ubo: `\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        `,\n    uniform: `\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        `\n  },\n  // uploading a pixi color as a vec3\n  {\n    type: \"vec3<f32>\",\n    test: (data) => data.type === \"vec3<f32>\" && data.size === 1 && data.value.red !== void 0,\n    ubo: `\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        `,\n    uniform: `\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        `\n  }\n];\n\nexport { uniformParsers };\n//# sourceMappingURL=uniformParsers.mjs.map\n","import { uniformParsers } from './uniformParsers.mjs';\n\n\"use strict\";\nfunction createUboSyncFunction(uboElements, parserCode, arrayGenerationFunction, singleSettersMap) {\n  const funcFragments = [`\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    `];\n  let prev = 0;\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    const name = uboElement.data.name;\n    let parsed = false;\n    let offset = 0;\n    for (let j = 0; j < uniformParsers.length; j++) {\n      const uniformParser = uniformParsers[j];\n      if (uniformParser.test(uboElement.data)) {\n        offset = uboElement.offset / 4;\n        funcFragments.push(\n          `name = \"${name}\";`,\n          `offset += ${offset - prev};`,\n          uniformParsers[j][parserCode] || uniformParsers[j].ubo\n        );\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      if (uboElement.data.size > 1) {\n        offset = uboElement.offset / 4;\n        funcFragments.push(arrayGenerationFunction(uboElement, offset - prev));\n      } else {\n        const template = singleSettersMap[uboElement.data.type];\n        offset = uboElement.offset / 4;\n        funcFragments.push(\n          /* wgsl */\n          `\n                    v = uv.${name};\n                    offset += ${offset - prev};\n                    ${template};\n                `\n        );\n      }\n    }\n    prev = offset;\n  }\n  const fragmentSrc = funcFragments.join(\"\\n\");\n  return new Function(\n    \"uv\",\n    \"data\",\n    \"dataInt32\",\n    \"offset\",\n    fragmentSrc\n  );\n}\n\nexport { createUboSyncFunction };\n//# sourceMappingURL=createUboSyncFunction.mjs.map\n","\"use strict\";\nfunction loopMatrix(col, row) {\n  const total = col * row;\n  return `\n        for (let i = 0; i < ${total}; i++) {\n            data[offset + (((i / ${col})|0) * 4) + (i % ${col})] = v[i];\n        }\n    `;\n}\nconst uboSyncFunctionsSTD40 = {\n  f32: `\n        data[offset] = v;`,\n  i32: `\n        dataInt32[offset] = v;`,\n  \"vec2<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];`,\n  \"vec3<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];`,\n  \"vec4<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];`,\n  \"vec2<i32>\": `\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];`,\n  \"vec3<i32>\": `\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];`,\n  \"vec4<i32>\": `\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];`,\n  \"mat2x2<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];`,\n  \"mat3x3<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];`,\n  \"mat4x4<f32>\": `\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }`,\n  \"mat3x2<f32>\": loopMatrix(3, 2),\n  \"mat4x2<f32>\": loopMatrix(4, 2),\n  \"mat2x3<f32>\": loopMatrix(2, 3),\n  \"mat4x3<f32>\": loopMatrix(4, 3),\n  \"mat2x4<f32>\": loopMatrix(2, 4),\n  \"mat3x4<f32>\": loopMatrix(3, 4)\n};\nconst uboSyncFunctionsWGSL = {\n  ...uboSyncFunctionsSTD40,\n  \"mat2x2<f32>\": `\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    `\n};\n\nexport { uboSyncFunctionsSTD40, uboSyncFunctionsWGSL };\n//# sourceMappingURL=uboSyncFunctions.mjs.map\n","import { WGSL_TO_STD40_SIZE } from './createUboElementsSTD40.mjs';\n\n\"use strict\";\nfunction generateArraySyncSTD40(uboElement, offsetToAdd) {\n  const rowSize = Math.max(WGSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);\n  const elementSize = uboElement.data.value.length / uboElement.data.size;\n  const remainder = (4 - elementSize % 4) % 4;\n  const data = uboElement.data.type.indexOf(\"i32\") >= 0 ? \"dataInt32\" : \"data\";\n  return `\n        v = uv.${uboElement.data.name};\n        offset += ${offsetToAdd};\n\n        arrayOffset = offset;\n\n        t = 0;\n\n        for(var i=0; i < ${uboElement.data.size * rowSize}; i++)\n        {\n            for(var j = 0; j < ${elementSize}; j++)\n            {\n                ${data}[arrayOffset++] = v[t++];\n            }\n            ${remainder !== 0 ? `arrayOffset += ${remainder};` : \"\"}\n        }\n    `;\n}\n\nexport { generateArraySyncSTD40 };\n//# sourceMappingURL=generateArraySyncSTD40.mjs.map\n","import { createUboSyncFunction } from '../../../shared/shader/utils/createUboSyncFunction.mjs';\nimport { uboSyncFunctionsSTD40 } from '../../../shared/shader/utils/uboSyncFunctions.mjs';\nimport { generateArraySyncSTD40 } from './generateArraySyncSTD40.mjs';\n\n\"use strict\";\nfunction createUboSyncFunctionSTD40(uboElements) {\n  return createUboSyncFunction(\n    uboElements,\n    \"uboStd40\",\n    generateArraySyncSTD40,\n    uboSyncFunctionsSTD40\n  );\n}\n\nexport { createUboSyncFunctionSTD40 };\n//# sourceMappingURL=createUboSyncSTD40.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { UboSystem } from '../shared/shader/UboSystem.mjs';\nimport { createUboElementsSTD40 } from './shader/utils/createUboElementsSTD40.mjs';\nimport { createUboSyncFunctionSTD40 } from './shader/utils/createUboSyncSTD40.mjs';\n\n\"use strict\";\nclass GlUboSystem extends UboSystem {\n  constructor() {\n    super({\n      createUboElements: createUboElementsSTD40,\n      generateUboSync: createUboSyncFunctionSTD40\n    });\n  }\n}\n/** @ignore */\nGlUboSystem.extension = {\n  type: [ExtensionType.WebGLSystem],\n  name: \"ubo\"\n};\n\nexport { GlUboSystem };\n//# sourceMappingURL=GlUboSystem.mjs.map\n","import { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { CanvasSource } from '../../shared/texture/sources/CanvasSource.mjs';\nimport { CLEAR } from '../const.mjs';\nimport { GlRenderTarget } from '../GlRenderTarget.mjs';\n\n\"use strict\";\nclass GlRenderTargetAdaptor {\n  constructor() {\n    this._clearColorCache = [0, 0, 0, 0];\n    this._viewPortCache = new Rectangle();\n  }\n  init(renderer, renderTargetSystem) {\n    this._renderer = renderer;\n    this._renderTargetSystem = renderTargetSystem;\n    renderer.runners.contextChange.add(this);\n  }\n  contextChange() {\n    this._clearColorCache = [0, 0, 0, 0];\n    this._viewPortCache = new Rectangle();\n  }\n  copyToTexture(sourceRenderSurfaceTexture, destinationTexture, originSrc, size, originDest) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const renderer = this._renderer;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(sourceRenderSurfaceTexture);\n    const gl = renderer.gl;\n    this.finishRenderPass(sourceRenderSurfaceTexture);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n    renderer.texture.bind(destinationTexture, 0);\n    gl.copyTexSubImage2D(\n      gl.TEXTURE_2D,\n      0,\n      originDest.x,\n      originDest.y,\n      originSrc.x,\n      originSrc.y,\n      size.width,\n      size.height\n    );\n    return destinationTexture;\n  }\n  startRenderPass(renderTarget, clear = true, clearColor, viewport) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const source = renderTarget.colorTexture;\n    const gpuRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    let viewPortY = viewport.y;\n    if (renderTarget.isRoot) {\n      viewPortY = source.pixelHeight - viewport.height;\n    }\n    renderTarget.colorTextures.forEach((texture) => {\n      this._renderer.texture.unbind(texture);\n    });\n    const gl = this._renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, gpuRenderTarget.framebuffer);\n    const viewPortCache = this._viewPortCache;\n    if (viewPortCache.x !== viewport.x || viewPortCache.y !== viewPortY || viewPortCache.width !== viewport.width || viewPortCache.height !== viewport.height) {\n      viewPortCache.x = viewport.x;\n      viewPortCache.y = viewPortY;\n      viewPortCache.width = viewport.width;\n      viewPortCache.height = viewport.height;\n      gl.viewport(\n        viewport.x,\n        viewPortY,\n        viewport.width,\n        viewport.height\n      );\n    }\n    if (!gpuRenderTarget.depthStencilRenderBuffer && (renderTarget.stencil || renderTarget.depth)) {\n      this._initStencil(gpuRenderTarget);\n    }\n    this.clear(renderTarget, clear, clearColor);\n  }\n  finishRenderPass(renderTarget) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    if (!glRenderTarget.msaa)\n      return;\n    const gl = this._renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, glRenderTarget.framebuffer);\n    gl.blitFramebuffer(\n      0,\n      0,\n      glRenderTarget.width,\n      glRenderTarget.height,\n      0,\n      0,\n      glRenderTarget.width,\n      glRenderTarget.height,\n      gl.COLOR_BUFFER_BIT,\n      gl.NEAREST\n    );\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.framebuffer);\n  }\n  initGpuRenderTarget(renderTarget) {\n    const renderer = this._renderer;\n    const gl = renderer.gl;\n    const glRenderTarget = new GlRenderTarget();\n    const colorTexture = renderTarget.colorTexture;\n    if (colorTexture instanceof CanvasSource) {\n      this._renderer.context.ensureCanvasSize(renderTarget.colorTexture.resource);\n      glRenderTarget.framebuffer = null;\n      return glRenderTarget;\n    }\n    this._initColor(renderTarget, glRenderTarget);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    return glRenderTarget;\n  }\n  destroyGpuRenderTarget(gpuRenderTarget) {\n    const gl = this._renderer.gl;\n    if (gpuRenderTarget.framebuffer) {\n      gl.deleteFramebuffer(gpuRenderTarget.framebuffer);\n      gpuRenderTarget.framebuffer = null;\n    }\n    if (gpuRenderTarget.resolveTargetFramebuffer) {\n      gl.deleteFramebuffer(gpuRenderTarget.resolveTargetFramebuffer);\n      gpuRenderTarget.resolveTargetFramebuffer = null;\n    }\n    if (gpuRenderTarget.depthStencilRenderBuffer) {\n      gl.deleteRenderbuffer(gpuRenderTarget.depthStencilRenderBuffer);\n      gpuRenderTarget.depthStencilRenderBuffer = null;\n    }\n    gpuRenderTarget.msaaRenderBuffer.forEach((renderBuffer) => {\n      gl.deleteRenderbuffer(renderBuffer);\n    });\n    gpuRenderTarget.msaaRenderBuffer = null;\n  }\n  clear(_renderTarget, clear, clearColor) {\n    if (!clear)\n      return;\n    const renderTargetSystem = this._renderTargetSystem;\n    if (typeof clear === \"boolean\") {\n      clear = clear ? CLEAR.ALL : CLEAR.NONE;\n    }\n    const gl = this._renderer.gl;\n    if (clear & CLEAR.COLOR) {\n      clearColor ?? (clearColor = renderTargetSystem.defaultClearColor);\n      const clearColorCache = this._clearColorCache;\n      const clearColorArray = clearColor;\n      if (clearColorCache[0] !== clearColorArray[0] || clearColorCache[1] !== clearColorArray[1] || clearColorCache[2] !== clearColorArray[2] || clearColorCache[3] !== clearColorArray[3]) {\n        clearColorCache[0] = clearColorArray[0];\n        clearColorCache[1] = clearColorArray[1];\n        clearColorCache[2] = clearColorArray[2];\n        clearColorCache[3] = clearColorArray[3];\n        gl.clearColor(clearColorArray[0], clearColorArray[1], clearColorArray[2], clearColorArray[3]);\n      }\n    }\n    gl.clear(clear);\n  }\n  resizeGpuRenderTarget(renderTarget) {\n    if (renderTarget.isRoot)\n      return;\n    const renderTargetSystem = this._renderTargetSystem;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    this._resizeColor(renderTarget, glRenderTarget);\n    if (renderTarget.stencil || renderTarget.depth) {\n      this._resizeStencil(glRenderTarget);\n    }\n  }\n  _initColor(renderTarget, glRenderTarget) {\n    const renderer = this._renderer;\n    const gl = renderer.gl;\n    const resolveTargetFramebuffer = gl.createFramebuffer();\n    glRenderTarget.resolveTargetFramebuffer = resolveTargetFramebuffer;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, resolveTargetFramebuffer);\n    glRenderTarget.width = renderTarget.colorTexture.source.pixelWidth;\n    glRenderTarget.height = renderTarget.colorTexture.source.pixelHeight;\n    renderTarget.colorTextures.forEach((colorTexture, i) => {\n      const source = colorTexture.source;\n      if (source.antialias) {\n        if (renderer.context.supports.msaa) {\n          glRenderTarget.msaa = true;\n        } else {\n          warn(\"[RenderTexture] Antialiasing on textures is not supported in WebGL1\");\n        }\n      }\n      renderer.texture.bindSource(source, 0);\n      const glSource = renderer.texture.getGlSource(source);\n      const glTexture = glSource.texture;\n      gl.framebufferTexture2D(\n        gl.FRAMEBUFFER,\n        gl.COLOR_ATTACHMENT0 + i,\n        3553,\n        // texture.target,\n        glTexture,\n        0\n      );\n    });\n    if (glRenderTarget.msaa) {\n      const viewFramebuffer = gl.createFramebuffer();\n      glRenderTarget.framebuffer = viewFramebuffer;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n      renderTarget.colorTextures.forEach((_, i) => {\n        const msaaRenderBuffer = gl.createRenderbuffer();\n        glRenderTarget.msaaRenderBuffer[i] = msaaRenderBuffer;\n      });\n    } else {\n      glRenderTarget.framebuffer = resolveTargetFramebuffer;\n    }\n    this._resizeColor(renderTarget, glRenderTarget);\n  }\n  _resizeColor(renderTarget, glRenderTarget) {\n    const source = renderTarget.colorTexture.source;\n    glRenderTarget.width = source.pixelWidth;\n    glRenderTarget.height = source.pixelHeight;\n    renderTarget.colorTextures.forEach((colorTexture, i) => {\n      if (i === 0)\n        return;\n      colorTexture.source.resize(source.width, source.height, source._resolution);\n    });\n    if (glRenderTarget.msaa) {\n      const renderer = this._renderer;\n      const gl = renderer.gl;\n      const viewFramebuffer = glRenderTarget.framebuffer;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n      renderTarget.colorTextures.forEach((colorTexture, i) => {\n        const source2 = colorTexture.source;\n        renderer.texture.bindSource(source2, 0);\n        const glSource = renderer.texture.getGlSource(source2);\n        const glInternalFormat = glSource.internalFormat;\n        const msaaRenderBuffer = glRenderTarget.msaaRenderBuffer[i];\n        gl.bindRenderbuffer(\n          gl.RENDERBUFFER,\n          msaaRenderBuffer\n        );\n        gl.renderbufferStorageMultisample(\n          gl.RENDERBUFFER,\n          4,\n          glInternalFormat,\n          source2.pixelWidth,\n          source2.pixelHeight\n        );\n        gl.framebufferRenderbuffer(\n          gl.FRAMEBUFFER,\n          gl.COLOR_ATTACHMENT0 + i,\n          gl.RENDERBUFFER,\n          msaaRenderBuffer\n        );\n      });\n    }\n  }\n  _initStencil(glRenderTarget) {\n    if (glRenderTarget.framebuffer === null)\n      return;\n    const gl = this._renderer.gl;\n    const depthStencilRenderBuffer = gl.createRenderbuffer();\n    glRenderTarget.depthStencilRenderBuffer = depthStencilRenderBuffer;\n    gl.bindRenderbuffer(\n      gl.RENDERBUFFER,\n      depthStencilRenderBuffer\n    );\n    gl.framebufferRenderbuffer(\n      gl.FRAMEBUFFER,\n      gl.DEPTH_STENCIL_ATTACHMENT,\n      gl.RENDERBUFFER,\n      depthStencilRenderBuffer\n    );\n    this._resizeStencil(glRenderTarget);\n  }\n  _resizeStencil(glRenderTarget) {\n    const gl = this._renderer.gl;\n    gl.bindRenderbuffer(\n      gl.RENDERBUFFER,\n      glRenderTarget.depthStencilRenderBuffer\n    );\n    if (glRenderTarget.msaa) {\n      gl.renderbufferStorageMultisample(\n        gl.RENDERBUFFER,\n        4,\n        gl.DEPTH24_STENCIL8,\n        glRenderTarget.width,\n        glRenderTarget.height\n      );\n    } else {\n      gl.renderbufferStorage(\n        gl.RENDERBUFFER,\n        this._renderer.context.webGLVersion === 2 ? gl.DEPTH24_STENCIL8 : gl.DEPTH_STENCIL,\n        glRenderTarget.width,\n        glRenderTarget.height\n      );\n    }\n  }\n  prerender(renderTarget) {\n    const resource = renderTarget.colorTexture.resource;\n    if (this._renderer.context.multiView && CanvasSource.test(resource)) {\n      this._renderer.context.ensureCanvasSize(resource);\n    }\n  }\n  postrender(renderTarget) {\n    if (!this._renderer.context.multiView)\n      return;\n    if (CanvasSource.test(renderTarget.colorTexture.resource)) {\n      const contextCanvas = this._renderer.context.canvas;\n      const canvasSource = renderTarget.colorTexture;\n      canvasSource.context2D.drawImage(\n        contextCanvas,\n        0,\n        canvasSource.pixelHeight - contextCanvas.height\n      );\n    }\n  }\n}\n\nexport { GlRenderTargetAdaptor };\n//# sourceMappingURL=GlRenderTargetAdaptor.mjs.map\n","\"use strict\";\nfunction calculateProjection(pm, x, y, width, height, flipY) {\n  const sign = flipY ? 1 : -1;\n  pm.identity();\n  pm.a = 1 / width * 2;\n  pm.d = sign * (1 / height * 2);\n  pm.tx = -1 - x * pm.a;\n  pm.ty = -sign - y * pm.d;\n  return pm;\n}\n\nexport { calculateProjection };\n//# sourceMappingURL=calculateProjection.mjs.map\n","import { GlobalResourceRegistry } from '../../../../../utils/pool/GlobalResourceRegistry.mjs';\nimport { CanvasSource } from '../sources/CanvasSource.mjs';\nimport { Texture } from '../Texture.mjs';\n\n\"use strict\";\nconst canvasCache = /* @__PURE__ */ new Map();\nGlobalResourceRegistry.register(canvasCache);\nfunction getCanvasTexture(canvas, options) {\n  if (!canvasCache.has(canvas)) {\n    const texture = new Texture({\n      source: new CanvasSource({\n        resource: canvas,\n        ...options\n      })\n    });\n    const onDestroy = () => {\n      if (canvasCache.get(canvas) === texture) {\n        canvasCache.delete(canvas);\n      }\n    };\n    texture.once(\"destroy\", onDestroy);\n    texture.source.once(\"destroy\", onDestroy);\n    canvasCache.set(canvas, texture);\n  }\n  return canvasCache.get(canvas);\n}\nfunction hasCachedCanvasTexture(canvas) {\n  return canvasCache.has(canvas);\n}\n\nexport { getCanvasTexture, hasCachedCanvasTexture };\n//# sourceMappingURL=getCanvasTexture.mjs.map\n","\"use strict\";\nfunction isRenderingToScreen(renderTarget) {\n  const resource = renderTarget.colorTexture.source.resource;\n  return globalThis.HTMLCanvasElement && resource instanceof HTMLCanvasElement && document.body.contains(resource);\n}\n\nexport { isRenderingToScreen };\n//# sourceMappingURL=isRenderingToScreen.mjs.map\n","import { uid } from '../../../../utils/data/uid.mjs';\nimport { TextureSource } from '../texture/sources/TextureSource.mjs';\nimport { Texture } from '../texture/Texture.mjs';\n\n\"use strict\";\nconst _RenderTarget = class _RenderTarget {\n  /**\n   * @param [descriptor] - Options for creating a render target.\n   */\n  constructor(descriptor = {}) {\n    /** unique id for this render target */\n    this.uid = uid(\"renderTarget\");\n    /**\n     * An array of textures that can be written to by the GPU - mostly this has one texture in Pixi, but you could\n     * write to multiple if required! (eg deferred lighting)\n     */\n    this.colorTextures = [];\n    this.dirtyId = 0;\n    this.isRoot = false;\n    this._size = new Float32Array(2);\n    /** if true, then when the render target is destroyed, it will destroy all the textures that were created for it. */\n    this._managedColorTextures = false;\n    descriptor = { ..._RenderTarget.defaultOptions, ...descriptor };\n    this.stencil = descriptor.stencil;\n    this.depth = descriptor.depth;\n    this.isRoot = descriptor.isRoot;\n    if (typeof descriptor.colorTextures === \"number\") {\n      this._managedColorTextures = true;\n      for (let i = 0; i < descriptor.colorTextures; i++) {\n        this.colorTextures.push(\n          new TextureSource({\n            width: descriptor.width,\n            height: descriptor.height,\n            resolution: descriptor.resolution,\n            antialias: descriptor.antialias\n          })\n        );\n      }\n    } else {\n      this.colorTextures = [...descriptor.colorTextures.map((texture) => texture.source)];\n      const colorSource = this.colorTexture.source;\n      this.resize(colorSource.width, colorSource.height, colorSource._resolution);\n    }\n    this.colorTexture.source.on(\"resize\", this.onSourceResize, this);\n    if (descriptor.depthStencilTexture || this.stencil) {\n      if (descriptor.depthStencilTexture instanceof Texture || descriptor.depthStencilTexture instanceof TextureSource) {\n        this.depthStencilTexture = descriptor.depthStencilTexture.source;\n      } else {\n        this.ensureDepthStencilTexture();\n      }\n    }\n  }\n  get size() {\n    const _size = this._size;\n    _size[0] = this.pixelWidth;\n    _size[1] = this.pixelHeight;\n    return _size;\n  }\n  get width() {\n    return this.colorTexture.source.width;\n  }\n  get height() {\n    return this.colorTexture.source.height;\n  }\n  get pixelWidth() {\n    return this.colorTexture.source.pixelWidth;\n  }\n  get pixelHeight() {\n    return this.colorTexture.source.pixelHeight;\n  }\n  get resolution() {\n    return this.colorTexture.source._resolution;\n  }\n  get colorTexture() {\n    return this.colorTextures[0];\n  }\n  onSourceResize(source) {\n    this.resize(source.width, source.height, source._resolution, true);\n  }\n  /**\n   * This will ensure a depthStencil texture is created for this render target.\n   * Most likely called by the mask system to make sure we have stencil buffer added.\n   * @internal\n   */\n  ensureDepthStencilTexture() {\n    if (!this.depthStencilTexture) {\n      this.depthStencilTexture = new TextureSource({\n        width: this.width,\n        height: this.height,\n        resolution: this.resolution,\n        format: \"depth24plus-stencil8\",\n        autoGenerateMipmaps: false,\n        antialias: false,\n        mipLevelCount: 1\n        // sampleCount: handled by the render target system..\n      });\n    }\n  }\n  resize(width, height, resolution = this.resolution, skipColorTexture = false) {\n    this.dirtyId++;\n    this.colorTextures.forEach((colorTexture, i) => {\n      if (skipColorTexture && i === 0)\n        return;\n      colorTexture.source.resize(width, height, resolution);\n    });\n    if (this.depthStencilTexture) {\n      this.depthStencilTexture.source.resize(width, height, resolution);\n    }\n  }\n  destroy() {\n    this.colorTexture.source.off(\"resize\", this.onSourceResize, this);\n    if (this._managedColorTextures) {\n      this.colorTextures.forEach((texture) => {\n        texture.destroy();\n      });\n    }\n    if (this.depthStencilTexture) {\n      this.depthStencilTexture.destroy();\n      delete this.depthStencilTexture;\n    }\n  }\n};\n/** The default options for a render target */\n_RenderTarget.defaultOptions = {\n  /** the width of the RenderTarget */\n  width: 0,\n  /** the height of the RenderTarget */\n  height: 0,\n  /** the resolution of the RenderTarget */\n  resolution: 1,\n  /** an array of textures, or a number indicating how many color textures there should be */\n  colorTextures: 1,\n  /** should this render target have a stencil buffer? */\n  stencil: false,\n  /** should this render target have a depth buffer? */\n  depth: false,\n  /** should this render target be antialiased? */\n  antialias: false,\n  // save on perf by default!\n  /** is this a root element, true if this is gl context owners render target */\n  isRoot: false\n};\nlet RenderTarget = _RenderTarget;\n\nexport { RenderTarget };\n//# sourceMappingURL=RenderTarget.mjs.map\n","import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { CLEAR } from '../../gl/const.mjs';\nimport { calculateProjection } from '../../gpu/renderTarget/calculateProjection.mjs';\nimport { SystemRunner } from '../system/SystemRunner.mjs';\nimport { CanvasSource } from '../texture/sources/CanvasSource.mjs';\nimport { TextureSource } from '../texture/sources/TextureSource.mjs';\nimport { Texture } from '../texture/Texture.mjs';\nimport { getCanvasTexture } from '../texture/utils/getCanvasTexture.mjs';\nimport { isRenderingToScreen } from './isRenderingToScreen.mjs';\nimport { RenderTarget } from './RenderTarget.mjs';\n\n\"use strict\";\nclass RenderTargetSystem {\n  constructor(renderer) {\n    /** This is the root viewport for the render pass*/\n    this.rootViewPort = new Rectangle();\n    /** the current viewport that the gpu is using */\n    this.viewport = new Rectangle();\n    /**\n     * a runner that lets systems know if the active render target has changed.\n     * Eg the Stencil System needs to know so it can manage the stencil buffer\n     */\n    this.onRenderTargetChange = new SystemRunner(\"onRenderTargetChange\");\n    /** the projection matrix that is used by the shaders based on the active render target and the viewport */\n    this.projectionMatrix = new Matrix();\n    /** the default clear color for render targets */\n    this.defaultClearColor = [0, 0, 0, 0];\n    /**\n     * a hash that stores the render target for a given render surface. When you pass in a texture source,\n     * a render target is created for it. This map stores and makes it easy to retrieve the render target\n     */\n    this._renderSurfaceToRenderTargetHash = /* @__PURE__ */ new Map();\n    /** A hash that stores a gpu render target for a given render target. */\n    this._gpuRenderTargetHash = /* @__PURE__ */ Object.create(null);\n    /**\n     * A stack that stores the render target and frame that is currently being rendered to.\n     * When push is called, the current render target is stored in this stack.\n     * When pop is called, the previous render target is restored.\n     */\n    this._renderTargetStack = [];\n    this._renderer = renderer;\n    renderer.renderableGC.addManagedHash(this, \"_gpuRenderTargetHash\");\n  }\n  /** called when dev wants to finish a render pass */\n  finishRenderPass() {\n    this.adaptor.finishRenderPass(this.renderTarget);\n  }\n  /**\n   * called when the renderer starts to render a scene.\n   * @param options\n   * @param options.target - the render target to render to\n   * @param options.clear - the clear mode to use. Can be true or a CLEAR number 'COLOR | DEPTH | STENCIL' 0b111\n   * @param options.clearColor - the color to clear to\n   * @param options.frame - the frame to render to\n   */\n  renderStart({\n    target,\n    clear,\n    clearColor,\n    frame\n  }) {\n    this._renderTargetStack.length = 0;\n    this.push(\n      target,\n      clear,\n      clearColor,\n      frame\n    );\n    this.rootViewPort.copyFrom(this.viewport);\n    this.rootRenderTarget = this.renderTarget;\n    this.renderingToScreen = isRenderingToScreen(this.rootRenderTarget);\n    this.adaptor.prerender?.(this.rootRenderTarget);\n  }\n  postrender() {\n    this.adaptor.postrender?.(this.rootRenderTarget);\n  }\n  /**\n   * Binding a render surface! This is the main function of the render target system.\n   * It will take the RenderSurface (which can be a texture, canvas, or render target) and bind it to the renderer.\n   * Once bound all draw calls will be rendered to the render surface.\n   *\n   * If a frame is not provide and the render surface is a texture, the frame of the texture will be used.\n   * @param renderSurface - the render surface to bind\n   * @param clear - the clear mode to use. Can be true or a CLEAR number 'COLOR | DEPTH | STENCIL' 0b111\n   * @param clearColor - the color to clear to\n   * @param frame - the frame to render to\n   * @returns the render target that was bound\n   */\n  bind(renderSurface, clear = true, clearColor, frame) {\n    const renderTarget = this.getRenderTarget(renderSurface);\n    const didChange = this.renderTarget !== renderTarget;\n    this.renderTarget = renderTarget;\n    this.renderSurface = renderSurface;\n    const gpuRenderTarget = this.getGpuRenderTarget(renderTarget);\n    if (renderTarget.pixelWidth !== gpuRenderTarget.width || renderTarget.pixelHeight !== gpuRenderTarget.height) {\n      this.adaptor.resizeGpuRenderTarget(renderTarget);\n      gpuRenderTarget.width = renderTarget.pixelWidth;\n      gpuRenderTarget.height = renderTarget.pixelHeight;\n    }\n    const source = renderTarget.colorTexture;\n    const viewport = this.viewport;\n    const pixelWidth = source.pixelWidth;\n    const pixelHeight = source.pixelHeight;\n    if (!frame && renderSurface instanceof Texture) {\n      frame = renderSurface.frame;\n    }\n    if (frame) {\n      const resolution = source._resolution;\n      viewport.x = frame.x * resolution + 0.5 | 0;\n      viewport.y = frame.y * resolution + 0.5 | 0;\n      viewport.width = frame.width * resolution + 0.5 | 0;\n      viewport.height = frame.height * resolution + 0.5 | 0;\n    } else {\n      viewport.x = 0;\n      viewport.y = 0;\n      viewport.width = pixelWidth;\n      viewport.height = pixelHeight;\n    }\n    calculateProjection(\n      this.projectionMatrix,\n      0,\n      0,\n      viewport.width / source.resolution,\n      viewport.height / source.resolution,\n      !renderTarget.isRoot\n    );\n    this.adaptor.startRenderPass(renderTarget, clear, clearColor, viewport);\n    if (didChange) {\n      this.onRenderTargetChange.emit(renderTarget);\n    }\n    return renderTarget;\n  }\n  clear(target, clear = CLEAR.ALL, clearColor) {\n    if (!clear)\n      return;\n    if (target) {\n      target = this.getRenderTarget(target);\n    }\n    this.adaptor.clear(\n      target || this.renderTarget,\n      clear,\n      clearColor,\n      this.viewport\n    );\n  }\n  contextChange() {\n    this._gpuRenderTargetHash = /* @__PURE__ */ Object.create(null);\n  }\n  /**\n   * Push a render surface to the renderer. This will bind the render surface to the renderer,\n   * @param renderSurface - the render surface to push\n   * @param clear - the clear mode to use. Can be true or a CLEAR number 'COLOR | DEPTH | STENCIL' 0b111\n   * @param clearColor - the color to clear to\n   * @param frame - the frame to use when rendering to the render surface\n   */\n  push(renderSurface, clear = CLEAR.ALL, clearColor, frame) {\n    const renderTarget = this.bind(renderSurface, clear, clearColor, frame);\n    this._renderTargetStack.push({\n      renderTarget,\n      frame\n    });\n    return renderTarget;\n  }\n  /** Pops the current render target from the renderer and restores the previous render target. */\n  pop() {\n    this._renderTargetStack.pop();\n    const currentRenderTargetData = this._renderTargetStack[this._renderTargetStack.length - 1];\n    this.bind(currentRenderTargetData.renderTarget, false, null, currentRenderTargetData.frame);\n  }\n  /**\n   * Gets the render target from the provide render surface. Eg if its a texture,\n   * it will return the render target for the texture.\n   * If its a render target, it will return the same render target.\n   * @param renderSurface - the render surface to get the render target for\n   * @returns the render target for the render surface\n   */\n  getRenderTarget(renderSurface) {\n    if (renderSurface.isTexture) {\n      renderSurface = renderSurface.source;\n    }\n    return this._renderSurfaceToRenderTargetHash.get(renderSurface) ?? this._initRenderTarget(renderSurface);\n  }\n  /**\n   * Copies a render surface to another texture.\n   *\n   * NOTE:\n   * for sourceRenderSurfaceTexture, The render target must be something that is written too by the renderer\n   *\n   * The following is not valid:\n   * @example\n   * const canvas = document.createElement('canvas')\n   * canvas.width = 200;\n   * canvas.height = 200;\n   *\n   * const ctx = canvas2.getContext('2d')!\n   * ctx.fillStyle = 'red'\n   * ctx.fillRect(0, 0, 200, 200);\n   *\n   * const texture = RenderTexture.create({\n   *   width: 200,\n   *   height: 200,\n   * })\n   * const renderTarget = renderer.renderTarget.getRenderTarget(canvas2);\n   *\n   * renderer.renderTarget.copyToTexture(renderTarget,texture, {x:0,y:0},{width:200,height:200},{x:0,y:0});\n   *\n   * The best way to copy a canvas is to create a texture from it. Then render with that.\n   *\n   * Parsing in a RenderTarget canvas context (with a 2d context)\n   * @param sourceRenderSurfaceTexture - the render surface to copy from\n   * @param destinationTexture - the texture to copy to\n   * @param originSrc - the origin of the copy\n   * @param originSrc.x - the x origin of the copy\n   * @param originSrc.y - the y origin of the copy\n   * @param size - the size of the copy\n   * @param size.width - the width of the copy\n   * @param size.height - the height of the copy\n   * @param originDest - the destination origin (top left to paste from!)\n   * @param originDest.x - the x origin of the paste\n   * @param originDest.y - the y origin of the paste\n   */\n  copyToTexture(sourceRenderSurfaceTexture, destinationTexture, originSrc, size, originDest) {\n    if (originSrc.x < 0) {\n      size.width += originSrc.x;\n      originDest.x -= originSrc.x;\n      originSrc.x = 0;\n    }\n    if (originSrc.y < 0) {\n      size.height += originSrc.y;\n      originDest.y -= originSrc.y;\n      originSrc.y = 0;\n    }\n    const { pixelWidth, pixelHeight } = sourceRenderSurfaceTexture;\n    size.width = Math.min(size.width, pixelWidth - originSrc.x);\n    size.height = Math.min(size.height, pixelHeight - originSrc.y);\n    return this.adaptor.copyToTexture(\n      sourceRenderSurfaceTexture,\n      destinationTexture,\n      originSrc,\n      size,\n      originDest\n    );\n  }\n  /**\n   * ensures that we have a depth stencil buffer available to render to\n   * This is used by the mask system to make sure we have a stencil buffer.\n   */\n  ensureDepthStencil() {\n    if (!this.renderTarget.stencil) {\n      this.renderTarget.stencil = true;\n      this.adaptor.startRenderPass(this.renderTarget, false, null, this.viewport);\n    }\n  }\n  /** nukes the render target system */\n  destroy() {\n    this._renderer = null;\n    this._renderSurfaceToRenderTargetHash.forEach((renderTarget, key) => {\n      if (renderTarget !== key) {\n        renderTarget.destroy();\n      }\n    });\n    this._renderSurfaceToRenderTargetHash.clear();\n    this._gpuRenderTargetHash = /* @__PURE__ */ Object.create(null);\n  }\n  _initRenderTarget(renderSurface) {\n    let renderTarget = null;\n    if (CanvasSource.test(renderSurface)) {\n      renderSurface = getCanvasTexture(renderSurface).source;\n    }\n    if (renderSurface instanceof RenderTarget) {\n      renderTarget = renderSurface;\n    } else if (renderSurface instanceof TextureSource) {\n      renderTarget = new RenderTarget({\n        colorTextures: [renderSurface]\n      });\n      if (renderSurface.source instanceof CanvasSource) {\n        renderTarget.isRoot = true;\n      }\n      renderSurface.once(\"destroy\", () => {\n        renderTarget.destroy();\n        this._renderSurfaceToRenderTargetHash.delete(renderSurface);\n        const gpuRenderTarget = this._gpuRenderTargetHash[renderTarget.uid];\n        if (gpuRenderTarget) {\n          this._gpuRenderTargetHash[renderTarget.uid] = null;\n          this.adaptor.destroyGpuRenderTarget(gpuRenderTarget);\n        }\n      });\n    }\n    this._renderSurfaceToRenderTargetHash.set(renderSurface, renderTarget);\n    return renderTarget;\n  }\n  getGpuRenderTarget(renderTarget) {\n    return this._gpuRenderTargetHash[renderTarget.uid] || (this._gpuRenderTargetHash[renderTarget.uid] = this.adaptor.initGpuRenderTarget(renderTarget));\n  }\n  resetState() {\n    this.renderTarget = null;\n    this.renderSurface = null;\n  }\n}\n\nexport { RenderTargetSystem };\n//# sourceMappingURL=RenderTargetSystem.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { RenderTargetSystem } from '../../shared/renderTarget/RenderTargetSystem.mjs';\nimport { GlRenderTargetAdaptor } from './GlRenderTargetAdaptor.mjs';\n\n\"use strict\";\nclass GlRenderTargetSystem extends RenderTargetSystem {\n  constructor(renderer) {\n    super(renderer);\n    this.adaptor = new GlRenderTargetAdaptor();\n    this.adaptor.init(renderer, this);\n  }\n}\n/** @ignore */\nGlRenderTargetSystem.extension = {\n  type: [ExtensionType.WebGLSystem],\n  name: \"renderTarget\"\n};\n\nexport { GlRenderTargetSystem };\n//# sourceMappingURL=GlRenderTargetSystem.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { uid } from '../../../../utils/data/uid.mjs';\n\n\"use strict\";\nclass BufferResource extends EventEmitter {\n  /**\n   * Create a new Buffer Resource.\n   * @param options - The options for the buffer resource\n   * @param options.buffer - The underlying buffer that this resource is using\n   * @param options.offset - The offset of the buffer this resource is using.\n   * If not provided, then it will use the offset of the buffer.\n   * @param options.size - The size of the buffer this resource is using.\n   * If not provided, then it will use the size of the buffer.\n   */\n  constructor({ buffer, offset, size }) {\n    super();\n    /**\n     * emits when the underlying buffer has changed shape (i.e. resized)\n     * letting the renderer know that it needs to discard the old buffer on the GPU and create a new one\n     * @event change\n     */\n    /** a unique id for this uniform group used through the renderer */\n    this.uid = uid(\"buffer\");\n    /**\n     * a resource type, used to identify how to handle it when its in a bind group / shader resource\n     * @internal\n     */\n    this._resourceType = \"bufferResource\";\n    /**\n     * used internally to know if a uniform group was used in the last render pass\n     * @internal\n     */\n    this._touched = 0;\n    /**\n     * the resource id used internally by the renderer to build bind group keys\n     * @internal\n     */\n    this._resourceId = uid(\"resource\");\n    /**\n     * A cheeky hint to the GL renderer to let it know this is a BufferResource\n     * @internal\n     */\n    this._bufferResource = true;\n    /**\n     * Has the Buffer resource been destroyed?\n     * @readonly\n     */\n    this.destroyed = false;\n    this.buffer = buffer;\n    this.offset = offset | 0;\n    this.size = size;\n    this.buffer.on(\"change\", this.onBufferChange, this);\n  }\n  onBufferChange() {\n    this._resourceId = uid(\"resource\");\n    this.emit(\"change\", this);\n  }\n  /**\n   * Destroys this resource. Make sure the underlying buffer is not used anywhere else\n   * if you want to destroy it as well, or code will explode\n   * @param destroyBuffer - Should the underlying buffer be destroyed as well?\n   */\n  destroy(destroyBuffer = false) {\n    this.destroyed = true;\n    if (destroyBuffer) {\n      this.buffer.destroy();\n    }\n    this.emit(\"change\", this);\n    this.buffer = null;\n  }\n}\n\nexport { BufferResource };\n//# sourceMappingURL=BufferResource.mjs.map\n","import { BufferResource } from '../../shared/buffer/BufferResource.mjs';\nimport { UniformGroup } from '../../shared/shader/UniformGroup.mjs';\nimport { TextureSource } from '../../shared/texture/sources/TextureSource.mjs';\n\n\"use strict\";\nfunction generateShaderSyncCode(shader, shaderSystem) {\n  const funcFragments = [];\n  const headerFragments = [`\n        var g = s.groups;\n        var sS = r.shader;\n        var p = s.glProgram;\n        var ugS = r.uniformGroup;\n        var resources;\n    `];\n  let addedTextreSystem = false;\n  let textureCount = 0;\n  const programData = shaderSystem._getProgramData(shader.glProgram);\n  for (const i in shader.groups) {\n    const group = shader.groups[i];\n    funcFragments.push(`\n            resources = g[${i}].resources;\n        `);\n    for (const j in group.resources) {\n      const resource = group.resources[j];\n      if (resource instanceof UniformGroup) {\n        if (resource.ubo) {\n          const resName = shader._uniformBindMap[i][Number(j)];\n          funcFragments.push(`\n                        sS.bindUniformBlock(\n                            resources[${j}],\n                            '${resName}',\n                            ${shader.glProgram._uniformBlockData[resName].index}\n                        );\n                    `);\n        } else {\n          funcFragments.push(`\n                        ugS.updateUniformGroup(resources[${j}], p, sD);\n                    `);\n        }\n      } else if (resource instanceof BufferResource) {\n        const resName = shader._uniformBindMap[i][Number(j)];\n        funcFragments.push(`\n                    sS.bindUniformBlock(\n                        resources[${j}],\n                        '${resName}',\n                        ${shader.glProgram._uniformBlockData[resName].index}\n                    );\n                `);\n      } else if (resource instanceof TextureSource) {\n        const uniformName = shader._uniformBindMap[i][j];\n        const uniformData = programData.uniformData[uniformName];\n        if (uniformData) {\n          if (!addedTextreSystem) {\n            addedTextreSystem = true;\n            headerFragments.push(`\n                        var tS = r.texture;\n                        `);\n          }\n          shaderSystem._gl.uniform1i(uniformData.location, textureCount);\n          funcFragments.push(`\n                        tS.bind(resources[${j}], ${textureCount});\n                    `);\n          textureCount++;\n        }\n      }\n    }\n  }\n  const functionSource = [...headerFragments, ...funcFragments].join(\"\\n\");\n  return new Function(\"r\", \"s\", \"sD\", functionSource);\n}\n\nexport { generateShaderSyncCode };\n//# sourceMappingURL=GenerateShaderSyncCode.mjs.map\n","\"use strict\";\nclass IGLUniformData {\n}\nclass GlProgramData {\n  /**\n   * Makes a new Pixi program.\n   * @param program - webgl program\n   * @param uniformData - uniforms\n   */\n  constructor(program, uniformData) {\n    this.program = program;\n    this.uniformData = uniformData;\n    this.uniformGroups = {};\n    this.uniformDirtyGroups = {};\n    this.uniformBlockBindings = {};\n  }\n  /** Destroys this program. */\n  destroy() {\n    this.uniformData = null;\n    this.uniformGroups = null;\n    this.uniformDirtyGroups = null;\n    this.uniformBlockBindings = null;\n    this.program = null;\n  }\n}\n\nexport { GlProgramData, IGLUniformData };\n//# sourceMappingURL=GlProgramData.mjs.map\n","\"use strict\";\nfunction compileShader(gl, type, src) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, src);\n  gl.compileShader(shader);\n  return shader;\n}\n\nexport { compileShader };\n//# sourceMappingURL=compileShader.mjs.map\n","\"use strict\";\nfunction booleanArray(size) {\n  const array = new Array(size);\n  for (let i = 0; i < array.length; i++) {\n    array[i] = false;\n  }\n  return array;\n}\nfunction defaultValue(type, size) {\n  switch (type) {\n    case \"float\":\n      return 0;\n    case \"vec2\":\n      return new Float32Array(2 * size);\n    case \"vec3\":\n      return new Float32Array(3 * size);\n    case \"vec4\":\n      return new Float32Array(4 * size);\n    case \"int\":\n    case \"uint\":\n    case \"sampler2D\":\n    case \"sampler2DArray\":\n      return 0;\n    case \"ivec2\":\n      return new Int32Array(2 * size);\n    case \"ivec3\":\n      return new Int32Array(3 * size);\n    case \"ivec4\":\n      return new Int32Array(4 * size);\n    case \"uvec2\":\n      return new Uint32Array(2 * size);\n    case \"uvec3\":\n      return new Uint32Array(3 * size);\n    case \"uvec4\":\n      return new Uint32Array(4 * size);\n    case \"bool\":\n      return false;\n    case \"bvec2\":\n      return booleanArray(2 * size);\n    case \"bvec3\":\n      return booleanArray(3 * size);\n    case \"bvec4\":\n      return booleanArray(4 * size);\n    case \"mat2\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case \"mat3\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case \"mat4\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\n\nexport { defaultValue };\n//# sourceMappingURL=defaultValue.mjs.map\n","\"use strict\";\nlet GL_TABLE = null;\nconst GL_TO_GLSL_TYPES = {\n  FLOAT: \"float\",\n  FLOAT_VEC2: \"vec2\",\n  FLOAT_VEC3: \"vec3\",\n  FLOAT_VEC4: \"vec4\",\n  INT: \"int\",\n  INT_VEC2: \"ivec2\",\n  INT_VEC3: \"ivec3\",\n  INT_VEC4: \"ivec4\",\n  UNSIGNED_INT: \"uint\",\n  UNSIGNED_INT_VEC2: \"uvec2\",\n  UNSIGNED_INT_VEC3: \"uvec3\",\n  UNSIGNED_INT_VEC4: \"uvec4\",\n  BOOL: \"bool\",\n  BOOL_VEC2: \"bvec2\",\n  BOOL_VEC3: \"bvec3\",\n  BOOL_VEC4: \"bvec4\",\n  FLOAT_MAT2: \"mat2\",\n  FLOAT_MAT3: \"mat3\",\n  FLOAT_MAT4: \"mat4\",\n  SAMPLER_2D: \"sampler2D\",\n  INT_SAMPLER_2D: \"sampler2D\",\n  UNSIGNED_INT_SAMPLER_2D: \"sampler2D\",\n  SAMPLER_CUBE: \"samplerCube\",\n  INT_SAMPLER_CUBE: \"samplerCube\",\n  UNSIGNED_INT_SAMPLER_CUBE: \"samplerCube\",\n  SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  INT_SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: \"sampler2DArray\"\n};\nconst GLSL_TO_VERTEX_TYPES = {\n  float: \"float32\",\n  vec2: \"float32x2\",\n  vec3: \"float32x3\",\n  vec4: \"float32x4\",\n  int: \"sint32\",\n  ivec2: \"sint32x2\",\n  ivec3: \"sint32x3\",\n  ivec4: \"sint32x4\",\n  uint: \"uint32\",\n  uvec2: \"uint32x2\",\n  uvec3: \"uint32x3\",\n  uvec4: \"uint32x4\",\n  bool: \"uint32\",\n  bvec2: \"uint32x2\",\n  bvec3: \"uint32x3\",\n  bvec4: \"uint32x4\"\n};\nfunction mapType(gl, type) {\n  if (!GL_TABLE) {\n    const typeNames = Object.keys(GL_TO_GLSL_TYPES);\n    GL_TABLE = {};\n    for (let i = 0; i < typeNames.length; ++i) {\n      const tn = typeNames[i];\n      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n    }\n  }\n  return GL_TABLE[type];\n}\nfunction mapGlToVertexFormat(gl, type) {\n  const typeValue = mapType(gl, type);\n  return GLSL_TO_VERTEX_TYPES[typeValue] || \"float32\";\n}\n\nexport { mapGlToVertexFormat, mapType };\n//# sourceMappingURL=mapType.mjs.map\n","import { getAttributeInfoFromFormat } from '../../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nimport { mapGlToVertexFormat } from './mapType.mjs';\n\n\"use strict\";\nfunction extractAttributesFromGlProgram(program, gl, sortAttributes = false) {\n  const attributes = {};\n  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < totalAttributes; i++) {\n    const attribData = gl.getActiveAttrib(program, i);\n    if (attribData.name.startsWith(\"gl_\")) {\n      continue;\n    }\n    const format = mapGlToVertexFormat(gl, attribData.type);\n    attributes[attribData.name] = {\n      location: 0,\n      // set further down..\n      format,\n      stride: getAttributeInfoFromFormat(format).stride,\n      offset: 0,\n      instance: false,\n      start: 0\n    };\n  }\n  const keys = Object.keys(attributes);\n  if (sortAttributes) {\n    keys.sort((a, b) => a > b ? 1 : -1);\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = i;\n      gl.bindAttribLocation(program, i, keys[i]);\n    }\n    gl.linkProgram(program);\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = gl.getAttribLocation(program, keys[i]);\n    }\n  }\n  return attributes;\n}\n\nexport { extractAttributesFromGlProgram };\n//# sourceMappingURL=extractAttributesFromGlProgram.mjs.map\n","\"use strict\";\nfunction getUboData(program, gl) {\n  if (!gl.ACTIVE_UNIFORM_BLOCKS)\n    return {};\n  const uniformBlocks = {};\n  const totalUniformsBlocks = gl.getProgramParameter(program, gl.ACTIVE_UNIFORM_BLOCKS);\n  for (let i = 0; i < totalUniformsBlocks; i++) {\n    const name = gl.getActiveUniformBlockName(program, i);\n    const uniformBlockIndex = gl.getUniformBlockIndex(program, name);\n    const size = gl.getActiveUniformBlockParameter(program, i, gl.UNIFORM_BLOCK_DATA_SIZE);\n    uniformBlocks[name] = {\n      name,\n      index: uniformBlockIndex,\n      size\n    };\n  }\n  return uniformBlocks;\n}\n\nexport { getUboData };\n//# sourceMappingURL=getUboData.mjs.map\n","import { defaultValue } from './defaultValue.mjs';\nimport { mapType } from './mapType.mjs';\n\n\"use strict\";\nfunction getUniformData(program, gl) {\n  const uniforms = {};\n  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (let i = 0; i < totalUniforms; i++) {\n    const uniformData = gl.getActiveUniform(program, i);\n    const name = uniformData.name.replace(/\\[.*?\\]$/, \"\");\n    const isArray = !!uniformData.name.match(/\\[.*?\\]$/);\n    const type = mapType(gl, uniformData.type);\n    uniforms[name] = {\n      name,\n      index: i,\n      type,\n      size: uniformData.size,\n      isArray,\n      value: defaultValue(type, uniformData.size)\n    };\n  }\n  return uniforms;\n}\n\nexport { getUniformData };\n//# sourceMappingURL=getUniformData.mjs.map\n","\"use strict\";\nfunction logPrettyShaderError(gl, shader) {\n  const shaderSrc = gl.getShaderSource(shader).split(\"\\n\").map((line, index) => `${index}: ${line}`);\n  const shaderLog = gl.getShaderInfoLog(shader);\n  const splitShader = shaderLog.split(\"\\n\");\n  const dedupe = {};\n  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\\: 0\\:([\\d]+)\\:.*$/, \"$1\"))).filter((n) => {\n    if (n && !dedupe[n]) {\n      dedupe[n] = true;\n      return true;\n    }\n    return false;\n  });\n  const logArgs = [\"\"];\n  lineNumbers.forEach((number) => {\n    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;\n    logArgs.push(\"background: #FF0000; color:#FFFFFF; font-size: 10px\", \"font-size: 10px\");\n  });\n  const fragmentSourceToLog = shaderSrc.join(\"\\n\");\n  logArgs[0] = fragmentSourceToLog;\n  console.error(shaderLog);\n  console.groupCollapsed(\"click to view full shader code\");\n  console.warn(...logArgs);\n  console.groupEnd();\n}\nfunction logProgramError(gl, program, vertexShader, fragmentShader) {\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, vertexShader);\n    }\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, fragmentShader);\n    }\n    console.error(\"PixiJS Error: Could not initialize shader.\");\n    if (gl.getProgramInfoLog(program) !== \"\") {\n      console.warn(\"PixiJS Warning: gl.getProgramInfoLog()\", gl.getProgramInfoLog(program));\n    }\n  }\n}\n\nexport { logProgramError };\n//# sourceMappingURL=logProgramError.mjs.map\n","import { warn } from '../../../../../utils/logging/warn.mjs';\nimport { GlProgramData } from '../GlProgramData.mjs';\nimport { compileShader } from './compileShader.mjs';\nimport { defaultValue } from './defaultValue.mjs';\nimport { extractAttributesFromGlProgram } from './extractAttributesFromGlProgram.mjs';\nimport { getUboData } from './getUboData.mjs';\nimport { getUniformData } from './getUniformData.mjs';\nimport { logProgramError } from './logProgramError.mjs';\n\n\"use strict\";\nfunction generateProgram(gl, program) {\n  const glVertShader = compileShader(gl, gl.VERTEX_SHADER, program.vertex);\n  const glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, program.fragment);\n  const webGLProgram = gl.createProgram();\n  gl.attachShader(webGLProgram, glVertShader);\n  gl.attachShader(webGLProgram, glFragShader);\n  const transformFeedbackVaryings = program.transformFeedbackVaryings;\n  if (transformFeedbackVaryings) {\n    if (typeof gl.transformFeedbackVaryings !== \"function\") {\n      warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);\n    } else {\n      gl.transformFeedbackVaryings(\n        webGLProgram,\n        transformFeedbackVaryings.names,\n        transformFeedbackVaryings.bufferMode === \"separate\" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS\n      );\n    }\n  }\n  gl.linkProgram(webGLProgram);\n  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {\n    logProgramError(gl, webGLProgram, glVertShader, glFragShader);\n  }\n  program._attributeData = extractAttributesFromGlProgram(\n    webGLProgram,\n    gl,\n    !/^[ \\t]*#[ \\t]*version[ \\t]+300[ \\t]+es[ \\t]*$/m.test(program.vertex)\n  );\n  program._uniformData = getUniformData(webGLProgram, gl);\n  program._uniformBlockData = getUboData(webGLProgram, gl);\n  gl.deleteShader(glVertShader);\n  gl.deleteShader(glFragShader);\n  const uniformData = {};\n  for (const i in program._uniformData) {\n    const data = program._uniformData[i];\n    uniformData[i] = {\n      location: gl.getUniformLocation(webGLProgram, i),\n      value: defaultValue(data.type, data.size)\n    };\n  }\n  const glProgram = new GlProgramData(webGLProgram, uniformData);\n  return glProgram;\n}\n\nexport { generateProgram };\n//# sourceMappingURL=generateProgram.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { generateShaderSyncCode } from './GenerateShaderSyncCode.mjs';\nimport { generateProgram } from './program/generateProgram.mjs';\n\n\"use strict\";\nconst defaultSyncData = {\n  textureCount: 0,\n  blockIndex: 0\n};\nclass GlShaderSystem {\n  constructor(renderer) {\n    /** @internal */\n    this._activeProgram = null;\n    this._programDataHash = /* @__PURE__ */ Object.create(null);\n    this._shaderSyncFunctions = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    this._renderer.renderableGC.addManagedHash(this, \"_programDataHash\");\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    this._programDataHash = /* @__PURE__ */ Object.create(null);\n    this._shaderSyncFunctions = /* @__PURE__ */ Object.create(null);\n    this._activeProgram = null;\n  }\n  /**\n   * Changes the current shader to the one given in parameter.\n   * @param shader - the new shader\n   * @param skipSync - false if the shader should automatically sync its uniforms.\n   * @returns the glProgram that belongs to the shader.\n   */\n  bind(shader, skipSync) {\n    this._setProgram(shader.glProgram);\n    if (skipSync)\n      return;\n    defaultSyncData.textureCount = 0;\n    defaultSyncData.blockIndex = 0;\n    let syncFunction = this._shaderSyncFunctions[shader.glProgram._key];\n    if (!syncFunction) {\n      syncFunction = this._shaderSyncFunctions[shader.glProgram._key] = this._generateShaderSync(shader, this);\n    }\n    this._renderer.buffer.nextBindBase(!!shader.glProgram.transformFeedbackVaryings);\n    syncFunction(this._renderer, shader, defaultSyncData);\n  }\n  /**\n   * Updates the uniform group.\n   * @param uniformGroup - the uniform group to update\n   */\n  updateUniformGroup(uniformGroup) {\n    this._renderer.uniformGroup.updateUniformGroup(uniformGroup, this._activeProgram, defaultSyncData);\n  }\n  /**\n   * Binds a uniform block to the shader.\n   * @param uniformGroup - the uniform group to bind\n   * @param name - the name of the uniform block\n   * @param index - the index of the uniform block\n   */\n  bindUniformBlock(uniformGroup, name, index = 0) {\n    const bufferSystem = this._renderer.buffer;\n    const programData = this._getProgramData(this._activeProgram);\n    const isBufferResource = uniformGroup._bufferResource;\n    if (!isBufferResource) {\n      this._renderer.ubo.updateUniformGroup(uniformGroup);\n    }\n    const buffer = uniformGroup.buffer;\n    const glBuffer = bufferSystem.updateBuffer(buffer);\n    const boundLocation = bufferSystem.freeLocationForBufferBase(glBuffer);\n    if (isBufferResource) {\n      const { offset, size } = uniformGroup;\n      if (offset === 0 && size === buffer.data.byteLength) {\n        bufferSystem.bindBufferBase(glBuffer, boundLocation);\n      } else {\n        bufferSystem.bindBufferRange(glBuffer, boundLocation, offset);\n      }\n    } else if (bufferSystem.getLastBindBaseLocation(glBuffer) !== boundLocation) {\n      bufferSystem.bindBufferBase(glBuffer, boundLocation);\n    }\n    const uniformBlockIndex = this._activeProgram._uniformBlockData[name].index;\n    if (programData.uniformBlockBindings[index] === boundLocation)\n      return;\n    programData.uniformBlockBindings[index] = boundLocation;\n    this._renderer.gl.uniformBlockBinding(programData.program, uniformBlockIndex, boundLocation);\n  }\n  _setProgram(program) {\n    if (this._activeProgram === program)\n      return;\n    this._activeProgram = program;\n    const programData = this._getProgramData(program);\n    this._gl.useProgram(programData.program);\n  }\n  /**\n   * @param program - the program to get the data for\n   * @internal\n   */\n  _getProgramData(program) {\n    return this._programDataHash[program._key] || this._createProgramData(program);\n  }\n  _createProgramData(program) {\n    const key = program._key;\n    this._programDataHash[key] = generateProgram(this._gl, program);\n    return this._programDataHash[key];\n  }\n  destroy() {\n    for (const key of Object.keys(this._programDataHash)) {\n      const programData = this._programDataHash[key];\n      programData.destroy();\n      this._programDataHash[key] = null;\n    }\n    this._programDataHash = null;\n    this._shaderSyncFunctions = null;\n    this._activeProgram = null;\n    this._renderer = null;\n    this._gl = null;\n  }\n  /**\n   * Creates a function that can be executed that will sync the shader as efficiently as possible.\n   * Overridden by the unsafe eval package if you don't want eval used in your project.\n   * @param shader - the shader to generate the sync function for\n   * @param shaderSystem - the shader system to use\n   * @returns - the generated sync function\n   * @ignore\n   */\n  _generateShaderSync(shader, shaderSystem) {\n    return generateShaderSyncCode(shader, shaderSystem);\n  }\n  resetState() {\n    this._activeProgram = null;\n  }\n}\n/** @ignore */\nGlShaderSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"shader\"\n};\n\nexport { GlShaderSystem };\n//# sourceMappingURL=GlShaderSystem.mjs.map\n","\"use strict\";\nconst UNIFORM_TO_SINGLE_SETTERS = {\n  f32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1f(location, v);\n        }`,\n  \"vec2<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2f(location, v[0], v[1]);\n        }`,\n  \"vec3<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3f(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n        }`,\n  i32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }`,\n  \"vec2<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }`,\n  \"vec3<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }`,\n  u32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1ui(location, v);\n        }`,\n  \"vec2<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2ui(location, v[0], v[1]);\n        }`,\n  \"vec3<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3ui(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n        }`,\n  bool: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }`,\n  \"vec2<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }`,\n  \"vec3<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }`,\n  \"mat2x2<f32>\": `gl.uniformMatrix2fv(location, false, v);`,\n  \"mat3x3<f32>\": `gl.uniformMatrix3fv(location, false, v);`,\n  \"mat4x4<f32>\": `gl.uniformMatrix4fv(location, false, v);`\n};\nconst UNIFORM_TO_ARRAY_SETTERS = {\n  f32: `gl.uniform1fv(location, v);`,\n  \"vec2<f32>\": `gl.uniform2fv(location, v);`,\n  \"vec3<f32>\": `gl.uniform3fv(location, v);`,\n  \"vec4<f32>\": `gl.uniform4fv(location, v);`,\n  \"mat2x2<f32>\": `gl.uniformMatrix2fv(location, false, v);`,\n  \"mat3x3<f32>\": `gl.uniformMatrix3fv(location, false, v);`,\n  \"mat4x4<f32>\": `gl.uniformMatrix4fv(location, false, v);`,\n  i32: `gl.uniform1iv(location, v);`,\n  \"vec2<i32>\": `gl.uniform2iv(location, v);`,\n  \"vec3<i32>\": `gl.uniform3iv(location, v);`,\n  \"vec4<i32>\": `gl.uniform4iv(location, v);`,\n  u32: `gl.uniform1iv(location, v);`,\n  \"vec2<u32>\": `gl.uniform2iv(location, v);`,\n  \"vec3<u32>\": `gl.uniform3iv(location, v);`,\n  \"vec4<u32>\": `gl.uniform4iv(location, v);`,\n  bool: `gl.uniform1iv(location, v);`,\n  \"vec2<bool>\": `gl.uniform2iv(location, v);`,\n  \"vec3<bool>\": `gl.uniform3iv(location, v);`,\n  \"vec4<bool>\": `gl.uniform4iv(location, v);`\n};\n\nexport { UNIFORM_TO_ARRAY_SETTERS, UNIFORM_TO_SINGLE_SETTERS };\n//# sourceMappingURL=generateUniformsSyncTypes.mjs.map\n","import { BufferResource } from '../../../shared/buffer/BufferResource.mjs';\nimport { UniformGroup } from '../../../shared/shader/UniformGroup.mjs';\nimport { uniformParsers } from '../../../shared/shader/utils/uniformParsers.mjs';\nimport { UNIFORM_TO_SINGLE_SETTERS, UNIFORM_TO_ARRAY_SETTERS } from './generateUniformsSyncTypes.mjs';\n\n\"use strict\";\nfunction generateUniformsSync(group, uniformData) {\n  const funcFragments = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n        var name = null;\n    `];\n  for (const i in group.uniforms) {\n    if (!uniformData[i]) {\n      if (group.uniforms[i] instanceof UniformGroup) {\n        if (group.uniforms[i].ubo) {\n          funcFragments.push(`\n                        renderer.shader.bindUniformBlock(uv.${i}, \"${i}\");\n                    `);\n        } else {\n          funcFragments.push(`\n                        renderer.shader.updateUniformGroup(uv.${i});\n                    `);\n        }\n      } else if (group.uniforms[i] instanceof BufferResource) {\n        funcFragments.push(`\n                        renderer.shader.bindBufferResource(uv.${i}, \"${i}\");\n                    `);\n      }\n      continue;\n    }\n    const uniform = group.uniformStructures[i];\n    let parsed = false;\n    for (let j = 0; j < uniformParsers.length; j++) {\n      const parser = uniformParsers[j];\n      if (uniform.type === parser.type && parser.test(uniform)) {\n        funcFragments.push(`name = \"${i}\";`, uniformParsers[j].uniform);\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      const templateType = uniform.size === 1 ? UNIFORM_TO_SINGLE_SETTERS : UNIFORM_TO_ARRAY_SETTERS;\n      const template = templateType[uniform.type].replace(\"location\", `ud[\"${i}\"].location`);\n      funcFragments.push(`\n            cu = ud[\"${i}\"];\n            cv = cu.value;\n            v = uv[\"${i}\"];\n            ${template};`);\n    }\n  }\n  return new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", funcFragments.join(\"\\n\"));\n}\n\nexport { generateUniformsSync };\n//# sourceMappingURL=generateUniformsSync.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { generateUniformsSync } from './utils/generateUniformsSync.mjs';\n\n\"use strict\";\nclass GlUniformGroupSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    /** Cache to holds the generated functions. Stored against UniformObjects unique signature. */\n    this._cache = {};\n    this._uniformGroupSyncHash = {};\n    this._renderer = renderer;\n    this.gl = null;\n    this._cache = {};\n  }\n  contextChange(gl) {\n    this.gl = gl;\n  }\n  /**\n   * Uploads the uniforms values to the currently bound shader.\n   * @param group - the uniforms values that be applied to the current shader\n   * @param program\n   * @param syncData\n   * @param syncData.textureCount\n   */\n  updateUniformGroup(group, program, syncData) {\n    const programData = this._renderer.shader._getProgramData(program);\n    if (!group.isStatic || group._dirtyId !== programData.uniformDirtyGroups[group.uid]) {\n      programData.uniformDirtyGroups[group.uid] = group._dirtyId;\n      const syncFunc = this._getUniformSyncFunction(group, program);\n      syncFunc(programData.uniformData, group.uniforms, this._renderer, syncData);\n    }\n  }\n  /**\n   * Overridable by the pixi.js/unsafe-eval package to use static syncUniforms instead.\n   * @param group\n   * @param program\n   */\n  _getUniformSyncFunction(group, program) {\n    return this._uniformGroupSyncHash[group._signature]?.[program._key] || this._createUniformSyncFunction(group, program);\n  }\n  _createUniformSyncFunction(group, program) {\n    const uniformGroupSyncHash = this._uniformGroupSyncHash[group._signature] || (this._uniformGroupSyncHash[group._signature] = {});\n    const id = this._getSignature(group, program._uniformData, \"u\");\n    if (!this._cache[id]) {\n      this._cache[id] = this._generateUniformsSync(group, program._uniformData);\n    }\n    uniformGroupSyncHash[program._key] = this._cache[id];\n    return uniformGroupSyncHash[program._key];\n  }\n  _generateUniformsSync(group, uniformData) {\n    return generateUniformsSync(group, uniformData);\n  }\n  /**\n   * Takes a uniform group and data and generates a unique signature for them.\n   * @param group - The uniform group to get signature of\n   * @param group.uniforms\n   * @param uniformData - Uniform information generated by the shader\n   * @param preFix\n   * @returns Unique signature of the uniform group\n   */\n  _getSignature(group, uniformData, preFix) {\n    const uniforms = group.uniforms;\n    const strings = [`${preFix}-`];\n    for (const i in uniforms) {\n      strings.push(i);\n      if (uniformData[i]) {\n        strings.push(uniformData[i].type);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  /** Destroys this System and removes all its textures. */\n  destroy() {\n    this._renderer = null;\n    this._cache = null;\n  }\n}\n/** @ignore */\nGlUniformGroupSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"uniformGroup\"\n};\n\nexport { GlUniformGroupSystem };\n//# sourceMappingURL=GlUniformGroupSystem.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\n\n\"use strict\";\nfunction mapWebGLBlendModesToPixi(gl) {\n  const blendMap = {};\n  blendMap.normal = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.add = [gl.ONE, gl.ONE];\n  blendMap.multiply = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.screen = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.none = [0, 0];\n  blendMap[\"normal-npm\"] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap[\"add-npm\"] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];\n  blendMap[\"screen-npm\"] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.erase = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];\n  const isWebGl2 = !(gl instanceof DOMAdapter.get().getWebGLRenderingContext());\n  if (isWebGl2) {\n    blendMap.min = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.MIN, gl.MIN];\n    blendMap.max = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.MAX, gl.MAX];\n  } else {\n    const ext = gl.getExtension(\"EXT_blend_minmax\");\n    if (ext) {\n      blendMap.min = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, ext.MIN_EXT, ext.MIN_EXT];\n      blendMap.max = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, ext.MAX_EXT, ext.MAX_EXT];\n    }\n  }\n  return blendMap;\n}\n\nexport { mapWebGLBlendModesToPixi };\n//# sourceMappingURL=mapWebGLBlendModesToPixi.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { State } from '../../shared/state/State.mjs';\nimport { mapWebGLBlendModesToPixi } from './mapWebGLBlendModesToPixi.mjs';\n\n\"use strict\";\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nconst _GlStateSystem = class _GlStateSystem {\n  constructor(renderer) {\n    /**\n     * Whether to invert the front face when rendering\n     * This is used for render textures where the Y-coordinate is flipped\n     * @default false\n     */\n    this._invertFrontFace = false;\n    this.gl = null;\n    this.stateId = 0;\n    this.polygonOffset = 0;\n    this.blendMode = \"none\";\n    this._blendEq = false;\n    this.map = [];\n    this.map[BLEND] = this.setBlend;\n    this.map[OFFSET] = this.setOffset;\n    this.map[CULLING] = this.setCullFace;\n    this.map[DEPTH_TEST] = this.setDepthTest;\n    this.map[WINDING] = this.setFrontFace;\n    this.map[DEPTH_MASK] = this.setDepthMask;\n    this.checks = [];\n    this.defaultState = State.for2d();\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  onRenderTargetChange(renderTarget) {\n    this._invertFrontFace = !renderTarget.isRoot;\n    if (this._cullFace) {\n      this.setFrontFace(this._frontFace);\n    } else {\n      this._frontFaceDirty = true;\n    }\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.blendModesMap = mapWebGLBlendModesToPixi(gl);\n    this.resetState();\n  }\n  /**\n   * Sets the current state\n   * @param {*} state - The state to set.\n   */\n  set(state) {\n    state || (state = this.defaultState);\n    if (this.stateId !== state.data) {\n      let diff = this.stateId ^ state.data;\n      let i = 0;\n      while (diff) {\n        if (diff & 1) {\n          this.map[i].call(this, !!(state.data & 1 << i));\n        }\n        diff >>= 1;\n        i++;\n      }\n      this.stateId = state.data;\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n  }\n  /**\n   * Sets the state, when previous state is unknown.\n   * @param {*} state - The state to set\n   */\n  forceState(state) {\n    state || (state = this.defaultState);\n    for (let i = 0; i < this.map.length; i++) {\n      this.map[i].call(this, !!(state.data & 1 << i));\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n    this.stateId = state.data;\n  }\n  /**\n   * Sets whether to enable or disable blending.\n   * @param value - Turn on or off WebGl blending.\n   */\n  setBlend(value) {\n    this._updateCheck(_GlStateSystem._checkBlendMode, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.BLEND);\n  }\n  /**\n   * Sets whether to enable or disable polygon offset fill.\n   * @param value - Turn on or off webgl polygon offset testing.\n   */\n  setOffset(value) {\n    this._updateCheck(_GlStateSystem._checkPolygonOffset, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.POLYGON_OFFSET_FILL);\n  }\n  /**\n   * Sets whether to enable or disable depth test.\n   * @param value - Turn on or off webgl depth testing.\n   */\n  setDepthTest(value) {\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.DEPTH_TEST);\n  }\n  /**\n   * Sets whether to enable or disable depth mask.\n   * @param value - Turn on or off webgl depth mask.\n   */\n  setDepthMask(value) {\n    this.gl.depthMask(value);\n  }\n  /**\n   * Sets whether to enable or disable cull face.\n   * @param {boolean} value - Turn on or off webgl cull face.\n   */\n  setCullFace(value) {\n    this._cullFace = value;\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.CULL_FACE);\n    if (this._cullFace && this._frontFaceDirty) {\n      this.setFrontFace(this._frontFace);\n    }\n  }\n  /**\n   * Sets the gl front face.\n   * @param {boolean} value - true is clockwise and false is counter-clockwise\n   */\n  setFrontFace(value) {\n    this._frontFace = value;\n    this._frontFaceDirty = false;\n    const faceMode = this._invertFrontFace ? !value : value;\n    if (this._glFrontFace !== faceMode) {\n      this._glFrontFace = faceMode;\n      this.gl.frontFace(this.gl[faceMode ? \"CW\" : \"CCW\"]);\n    }\n  }\n  /**\n   * Sets the blend mode.\n   * @param {number} value - The blend mode to set to.\n   */\n  setBlendMode(value) {\n    if (!this.blendModesMap[value]) {\n      value = \"normal\";\n    }\n    if (value === this.blendMode) {\n      return;\n    }\n    this.blendMode = value;\n    const mode = this.blendModesMap[value];\n    const gl = this.gl;\n    if (mode.length === 2) {\n      gl.blendFunc(mode[0], mode[1]);\n    } else {\n      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);\n    }\n    if (mode.length === 6) {\n      this._blendEq = true;\n      gl.blendEquationSeparate(mode[4], mode[5]);\n    } else if (this._blendEq) {\n      this._blendEq = false;\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n    }\n  }\n  /**\n   * Sets the polygon offset.\n   * @param {number} value - the polygon offset\n   * @param {number} scale - the polygon offset scale\n   */\n  setPolygonOffset(value, scale) {\n    this.gl.polygonOffset(value, scale);\n  }\n  /** Resets all the logic and disables the VAOs. */\n  resetState() {\n    this._glFrontFace = false;\n    this._frontFace = false;\n    this._cullFace = false;\n    this._frontFaceDirty = false;\n    this._invertFrontFace = false;\n    this.gl.frontFace(this.gl.CCW);\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);\n    this.forceState(this.defaultState);\n    this._blendEq = true;\n    this.blendMode = \"\";\n    this.setBlendMode(\"normal\");\n  }\n  /**\n   * Checks to see which updates should be checked based on which settings have been activated.\n   *\n   * For example, if blend is enabled then we should check the blend modes each time the state is changed\n   * or if polygon fill is activated then we need to check if the polygon offset changes.\n   * The idea is that we only check what we have too.\n   * @param func - the checking function to add or remove\n   * @param value - should the check function be added or removed.\n   */\n  _updateCheck(func, value) {\n    const index = this.checks.indexOf(func);\n    if (value && index === -1) {\n      this.checks.push(func);\n    } else if (!value && index !== -1) {\n      this.checks.splice(index, 1);\n    }\n  }\n  /**\n   * A private little wrapper function that we call to check the blend mode.\n   * @param system - the System to perform the state check on\n   * @param state - the state that the blendMode will pulled from\n   */\n  static _checkBlendMode(system, state) {\n    system.setBlendMode(state.blendMode);\n  }\n  /**\n   * A private little wrapper function that we call to check the polygon offset.\n   * @param system - the System to perform the state check on\n   * @param state - the state that the blendMode will pulled from\n   */\n  static _checkPolygonOffset(system, state) {\n    system.setPolygonOffset(1, state.polygonOffset);\n  }\n  /** @ignore */\n  destroy() {\n    this.gl = null;\n    this.checks.length = 0;\n  }\n};\n/** @ignore */\n_GlStateSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"state\"\n};\nlet GlStateSystem = _GlStateSystem;\n\nexport { GlStateSystem };\n//# sourceMappingURL=GlStateSystem.mjs.map\n","import { GL_TARGETS, GL_TYPES, GL_FORMATS } from './const.mjs';\n\n\"use strict\";\nclass GlTexture {\n  constructor(texture) {\n    this.target = GL_TARGETS.TEXTURE_2D;\n    this.texture = texture;\n    this.width = -1;\n    this.height = -1;\n    this.type = GL_TYPES.UNSIGNED_BYTE;\n    this.internalFormat = GL_FORMATS.RGBA;\n    this.format = GL_FORMATS.RGBA;\n    this.samplerType = 0;\n  }\n}\n\nexport { GlTexture };\n//# sourceMappingURL=GlTexture.mjs.map\n","\"use strict\";\nconst glUploadBufferImageResource = {\n  id: \"buffer\",\n  upload(source, glTexture, gl) {\n    if (glTexture.width === source.width || glTexture.height === source.height) {\n      gl.texSubImage2D(\n        gl.TEXTURE_2D,\n        0,\n        0,\n        0,\n        source.width,\n        source.height,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        source.width,\n        source.height,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    }\n    glTexture.width = source.width;\n    glTexture.height = source.height;\n  }\n};\n\nexport { glUploadBufferImageResource };\n//# sourceMappingURL=glUploadBufferImageResource.mjs.map\n","\"use strict\";\nconst compressedFormatMap = {\n  \"bc1-rgba-unorm\": true,\n  \"bc1-rgba-unorm-srgb\": true,\n  \"bc2-rgba-unorm\": true,\n  \"bc2-rgba-unorm-srgb\": true,\n  \"bc3-rgba-unorm\": true,\n  \"bc3-rgba-unorm-srgb\": true,\n  \"bc4-r-unorm\": true,\n  \"bc4-r-snorm\": true,\n  \"bc5-rg-unorm\": true,\n  \"bc5-rg-snorm\": true,\n  \"bc6h-rgb-ufloat\": true,\n  \"bc6h-rgb-float\": true,\n  \"bc7-rgba-unorm\": true,\n  \"bc7-rgba-unorm-srgb\": true,\n  // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n  // supported by the device/user agent and enabled in requestDevice.\n  \"etc2-rgb8unorm\": true,\n  \"etc2-rgb8unorm-srgb\": true,\n  \"etc2-rgb8a1unorm\": true,\n  \"etc2-rgb8a1unorm-srgb\": true,\n  \"etc2-rgba8unorm\": true,\n  \"etc2-rgba8unorm-srgb\": true,\n  \"eac-r11unorm\": true,\n  \"eac-r11snorm\": true,\n  \"eac-rg11unorm\": true,\n  \"eac-rg11snorm\": true,\n  // ASTC compressed formats usable if \"texture-compression-astc\" is both\n  // supported by the device/user agent and enabled in requestDevice.\n  \"astc-4x4-unorm\": true,\n  \"astc-4x4-unorm-srgb\": true,\n  \"astc-5x4-unorm\": true,\n  \"astc-5x4-unorm-srgb\": true,\n  \"astc-5x5-unorm\": true,\n  \"astc-5x5-unorm-srgb\": true,\n  \"astc-6x5-unorm\": true,\n  \"astc-6x5-unorm-srgb\": true,\n  \"astc-6x6-unorm\": true,\n  \"astc-6x6-unorm-srgb\": true,\n  \"astc-8x5-unorm\": true,\n  \"astc-8x5-unorm-srgb\": true,\n  \"astc-8x6-unorm\": true,\n  \"astc-8x6-unorm-srgb\": true,\n  \"astc-8x8-unorm\": true,\n  \"astc-8x8-unorm-srgb\": true,\n  \"astc-10x5-unorm\": true,\n  \"astc-10x5-unorm-srgb\": true,\n  \"astc-10x6-unorm\": true,\n  \"astc-10x6-unorm-srgb\": true,\n  \"astc-10x8-unorm\": true,\n  \"astc-10x8-unorm-srgb\": true,\n  \"astc-10x10-unorm\": true,\n  \"astc-10x10-unorm-srgb\": true,\n  \"astc-12x10-unorm\": true,\n  \"astc-12x10-unorm-srgb\": true,\n  \"astc-12x12-unorm\": true,\n  \"astc-12x12-unorm-srgb\": true\n};\nconst glUploadCompressedTextureResource = {\n  id: \"compressed\",\n  upload(source, glTexture, gl) {\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n    let mipWidth = source.pixelWidth;\n    let mipHeight = source.pixelHeight;\n    const compressed = !!compressedFormatMap[source.format];\n    for (let i = 0; i < source.resource.length; i++) {\n      const levelBuffer = source.resource[i];\n      if (compressed) {\n        gl.compressedTexImage2D(\n          gl.TEXTURE_2D,\n          i,\n          glTexture.internalFormat,\n          mipWidth,\n          mipHeight,\n          0,\n          levelBuffer\n        );\n      } else {\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          i,\n          glTexture.internalFormat,\n          mipWidth,\n          mipHeight,\n          0,\n          glTexture.format,\n          glTexture.type,\n          levelBuffer\n        );\n      }\n      mipWidth = Math.max(mipWidth >> 1, 1);\n      mipHeight = Math.max(mipHeight >> 1, 1);\n    }\n  }\n};\n\nexport { glUploadCompressedTextureResource };\n//# sourceMappingURL=glUploadCompressedTextureResource.mjs.map\n","\"use strict\";\nconst glUploadImageResource = {\n  id: \"image\",\n  upload(source, glTexture, gl, webGLVersion) {\n    const glWidth = glTexture.width;\n    const glHeight = glTexture.height;\n    const textureWidth = source.pixelWidth;\n    const textureHeight = source.pixelHeight;\n    const resourceWidth = source.resourceWidth;\n    const resourceHeight = source.resourceHeight;\n    if (resourceWidth < textureWidth || resourceHeight < textureHeight) {\n      if (glWidth !== textureWidth || glHeight !== textureHeight) {\n        gl.texImage2D(\n          glTexture.target,\n          0,\n          glTexture.internalFormat,\n          textureWidth,\n          textureHeight,\n          0,\n          glTexture.format,\n          glTexture.type,\n          null\n        );\n      }\n      if (webGLVersion === 2) {\n        gl.texSubImage2D(\n          gl.TEXTURE_2D,\n          0,\n          0,\n          0,\n          resourceWidth,\n          resourceHeight,\n          glTexture.format,\n          glTexture.type,\n          source.resource\n        );\n      } else {\n        gl.texSubImage2D(\n          gl.TEXTURE_2D,\n          0,\n          0,\n          0,\n          glTexture.format,\n          glTexture.type,\n          source.resource\n        );\n      }\n    } else if (glWidth === textureWidth && glHeight === textureHeight) {\n      gl.texSubImage2D(\n        gl.TEXTURE_2D,\n        0,\n        0,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else if (webGLVersion === 2) {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        textureWidth,\n        textureHeight,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    }\n    glTexture.width = textureWidth;\n    glTexture.height = textureHeight;\n  }\n};\n\nexport { glUploadImageResource };\n//# sourceMappingURL=glUploadImageResource.mjs.map\n","import { glUploadImageResource } from './glUploadImageResource.mjs';\n\n\"use strict\";\nconst glUploadVideoResource = {\n  id: \"video\",\n  upload(source, glTexture, gl, webGLVersion) {\n    if (!source.isValid) {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        1,\n        1,\n        0,\n        glTexture.format,\n        glTexture.type,\n        null\n      );\n      return;\n    }\n    glUploadImageResource.upload(source, glTexture, gl, webGLVersion);\n  }\n};\n\nexport { glUploadVideoResource };\n//# sourceMappingURL=glUploadVideoResource.mjs.map\n","\"use strict\";\nconst scaleModeToGlFilter = {\n  linear: 9729,\n  nearest: 9728\n};\nconst mipmapScaleModeToGlFilter = {\n  linear: {\n    linear: 9987,\n    nearest: 9985\n  },\n  nearest: {\n    linear: 9986,\n    nearest: 9984\n  }\n};\nconst wrapModeToGlAddress = {\n  \"clamp-to-edge\": 33071,\n  repeat: 10497,\n  \"mirror-repeat\": 33648\n};\nconst compareModeToGlCompare = {\n  never: 512,\n  less: 513,\n  equal: 514,\n  \"less-equal\": 515,\n  greater: 516,\n  \"not-equal\": 517,\n  \"greater-equal\": 518,\n  always: 519\n};\n\nexport { compareModeToGlCompare, mipmapScaleModeToGlFilter, scaleModeToGlFilter, wrapModeToGlAddress };\n//# sourceMappingURL=pixiToGlMaps.mjs.map\n","import { wrapModeToGlAddress, scaleModeToGlFilter, mipmapScaleModeToGlFilter, compareModeToGlCompare } from './pixiToGlMaps.mjs';\n\n\"use strict\";\nfunction applyStyleParams(style, gl, mipmaps, anisotropicExt, glFunctionName, firstParam, forceClamp, firstCreation) {\n  const castParam = firstParam;\n  if (!firstCreation || style.addressModeU !== \"repeat\" || style.addressModeV !== \"repeat\" || style.addressModeW !== \"repeat\") {\n    const wrapModeS = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeU];\n    const wrapModeT = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeV];\n    const wrapModeR = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeW];\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_S, wrapModeS);\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_T, wrapModeT);\n    if (gl.TEXTURE_WRAP_R)\n      gl[glFunctionName](castParam, gl.TEXTURE_WRAP_R, wrapModeR);\n  }\n  if (!firstCreation || style.magFilter !== \"linear\") {\n    gl[glFunctionName](castParam, gl.TEXTURE_MAG_FILTER, scaleModeToGlFilter[style.magFilter]);\n  }\n  if (mipmaps) {\n    if (!firstCreation || style.mipmapFilter !== \"linear\") {\n      const glFilterMode = mipmapScaleModeToGlFilter[style.minFilter][style.mipmapFilter];\n      gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, glFilterMode);\n    }\n  } else {\n    gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, scaleModeToGlFilter[style.minFilter]);\n  }\n  if (anisotropicExt && style.maxAnisotropy > 1) {\n    const level = Math.min(style.maxAnisotropy, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));\n    gl[glFunctionName](castParam, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);\n  }\n  if (style.compare) {\n    gl[glFunctionName](castParam, gl.TEXTURE_COMPARE_FUNC, compareModeToGlCompare[style.compare]);\n  }\n}\n\nexport { applyStyleParams };\n//# sourceMappingURL=applyStyleParams.mjs.map\n","\"use strict\";\nfunction mapFormatToGlFormat(gl) {\n  return {\n    // 8-bit formats\n    r8unorm: gl.RED,\n    r8snorm: gl.RED,\n    r8uint: gl.RED,\n    r8sint: gl.RED,\n    // 16-bit formats\n    r16uint: gl.RED,\n    r16sint: gl.RED,\n    r16float: gl.RED,\n    rg8unorm: gl.RG,\n    rg8snorm: gl.RG,\n    rg8uint: gl.RG,\n    rg8sint: gl.RG,\n    // 32-bit formats\n    r32uint: gl.RED,\n    r32sint: gl.RED,\n    r32float: gl.RED,\n    rg16uint: gl.RG,\n    rg16sint: gl.RG,\n    rg16float: gl.RG,\n    rgba8unorm: gl.RGBA,\n    \"rgba8unorm-srgb\": gl.RGBA,\n    // Packed 32-bit formats\n    rgba8snorm: gl.RGBA,\n    rgba8uint: gl.RGBA,\n    rgba8sint: gl.RGBA,\n    bgra8unorm: gl.RGBA,\n    \"bgra8unorm-srgb\": gl.RGBA,\n    rgb9e5ufloat: gl.RGB,\n    rgb10a2unorm: gl.RGBA,\n    rg11b10ufloat: gl.RGB,\n    // 64-bit formats\n    rg32uint: gl.RG,\n    rg32sint: gl.RG,\n    rg32float: gl.RG,\n    rgba16uint: gl.RGBA,\n    rgba16sint: gl.RGBA,\n    rgba16float: gl.RGBA,\n    // 128-bit formats\n    rgba32uint: gl.RGBA,\n    rgba32sint: gl.RGBA,\n    rgba32float: gl.RGBA,\n    // Depth/stencil formats\n    stencil8: gl.STENCIL_INDEX8,\n    depth16unorm: gl.DEPTH_COMPONENT,\n    depth24plus: gl.DEPTH_COMPONENT,\n    \"depth24plus-stencil8\": gl.DEPTH_STENCIL,\n    depth32float: gl.DEPTH_COMPONENT,\n    \"depth32float-stencil8\": gl.DEPTH_STENCIL\n  };\n}\n\nexport { mapFormatToGlFormat };\n//# sourceMappingURL=mapFormatToGlFormat.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\n\n\"use strict\";\nfunction mapFormatToGlInternalFormat(gl, extensions) {\n  let srgb = {};\n  let bgra8unorm = gl.RGBA;\n  if (!(gl instanceof DOMAdapter.get().getWebGLRenderingContext())) {\n    srgb = {\n      \"rgba8unorm-srgb\": gl.SRGB8_ALPHA8,\n      \"bgra8unorm-srgb\": gl.SRGB8_ALPHA8\n    };\n    bgra8unorm = gl.RGBA8;\n  } else if (extensions.srgb) {\n    srgb = {\n      \"rgba8unorm-srgb\": extensions.srgb.SRGB8_ALPHA8_EXT,\n      \"bgra8unorm-srgb\": extensions.srgb.SRGB8_ALPHA8_EXT\n    };\n  }\n  return {\n    // 8-bit formats\n    r8unorm: gl.R8,\n    r8snorm: gl.R8_SNORM,\n    r8uint: gl.R8UI,\n    r8sint: gl.R8I,\n    // 16-bit formats\n    r16uint: gl.R16UI,\n    r16sint: gl.R16I,\n    r16float: gl.R16F,\n    rg8unorm: gl.RG8,\n    rg8snorm: gl.RG8_SNORM,\n    rg8uint: gl.RG8UI,\n    rg8sint: gl.RG8I,\n    // 32-bit formats\n    r32uint: gl.R32UI,\n    r32sint: gl.R32I,\n    r32float: gl.R32F,\n    rg16uint: gl.RG16UI,\n    rg16sint: gl.RG16I,\n    rg16float: gl.RG16F,\n    rgba8unorm: gl.RGBA,\n    ...srgb,\n    // Packed 32-bit formats\n    rgba8snorm: gl.RGBA8_SNORM,\n    rgba8uint: gl.RGBA8UI,\n    rgba8sint: gl.RGBA8I,\n    bgra8unorm,\n    rgb9e5ufloat: gl.RGB9_E5,\n    rgb10a2unorm: gl.RGB10_A2,\n    rg11b10ufloat: gl.R11F_G11F_B10F,\n    // 64-bit formats\n    rg32uint: gl.RG32UI,\n    rg32sint: gl.RG32I,\n    rg32float: gl.RG32F,\n    rgba16uint: gl.RGBA16UI,\n    rgba16sint: gl.RGBA16I,\n    rgba16float: gl.RGBA16F,\n    // 128-bit formats\n    rgba32uint: gl.RGBA32UI,\n    rgba32sint: gl.RGBA32I,\n    rgba32float: gl.RGBA32F,\n    // Depth/stencil formats\n    stencil8: gl.STENCIL_INDEX8,\n    depth16unorm: gl.DEPTH_COMPONENT16,\n    depth24plus: gl.DEPTH_COMPONENT24,\n    \"depth24plus-stencil8\": gl.DEPTH24_STENCIL8,\n    depth32float: gl.DEPTH_COMPONENT32F,\n    \"depth32float-stencil8\": gl.DEPTH32F_STENCIL8,\n    // Compressed formats\n    ...extensions.s3tc ? {\n      \"bc1-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n      \"bc2-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n      \"bc3-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT\n    } : {},\n    ...extensions.s3tc_sRGB ? {\n      \"bc1-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,\n      \"bc2-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,\n      \"bc3-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\n    } : {},\n    ...extensions.rgtc ? {\n      \"bc4-r-unorm\": extensions.rgtc.COMPRESSED_RED_RGTC1_EXT,\n      \"bc4-r-snorm\": extensions.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,\n      \"bc5-rg-unorm\": extensions.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,\n      \"bc5-rg-snorm\": extensions.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT\n    } : {},\n    ...extensions.bptc ? {\n      \"bc6h-rgb-float\": extensions.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,\n      \"bc6h-rgb-ufloat\": extensions.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,\n      \"bc7-rgba-unorm\": extensions.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,\n      \"bc7-rgba-unorm-srgb\": extensions.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT\n    } : {},\n    ...extensions.etc ? {\n      \"etc2-rgb8unorm\": extensions.etc.COMPRESSED_RGB8_ETC2,\n      \"etc2-rgb8unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_ETC2,\n      \"etc2-rgb8a1unorm\": extensions.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,\n      \"etc2-rgb8a1unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,\n      \"etc2-rgba8unorm\": extensions.etc.COMPRESSED_RGBA8_ETC2_EAC,\n      \"etc2-rgba8unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,\n      \"eac-r11unorm\": extensions.etc.COMPRESSED_R11_EAC,\n      // 'eac-r11snorm'\n      \"eac-rg11unorm\": extensions.etc.COMPRESSED_SIGNED_RG11_EAC\n      // 'eac-rg11snorm'\n    } : {},\n    ...extensions.astc ? {\n      \"astc-4x4-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,\n      \"astc-4x4-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,\n      \"astc-5x4-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,\n      \"astc-5x4-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,\n      \"astc-5x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,\n      \"astc-5x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,\n      \"astc-6x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,\n      \"astc-6x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,\n      \"astc-6x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,\n      \"astc-6x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,\n      \"astc-8x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,\n      \"astc-8x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,\n      \"astc-8x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,\n      \"astc-8x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,\n      \"astc-8x8-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,\n      \"astc-8x8-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,\n      \"astc-10x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,\n      \"astc-10x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,\n      \"astc-10x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,\n      \"astc-10x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,\n      \"astc-10x8-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,\n      \"astc-10x8-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,\n      \"astc-10x10-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,\n      \"astc-10x10-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,\n      \"astc-12x10-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,\n      \"astc-12x10-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,\n      \"astc-12x12-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,\n      \"astc-12x12-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR\n    } : {}\n  };\n}\n\nexport { mapFormatToGlInternalFormat };\n//# sourceMappingURL=mapFormatToGlInternalFormat.mjs.map\n","\"use strict\";\nfunction mapFormatToGlType(gl) {\n  return {\n    // 8-bit formats\n    r8unorm: gl.UNSIGNED_BYTE,\n    r8snorm: gl.BYTE,\n    r8uint: gl.UNSIGNED_BYTE,\n    r8sint: gl.BYTE,\n    // 16-bit formats\n    r16uint: gl.UNSIGNED_SHORT,\n    r16sint: gl.SHORT,\n    r16float: gl.HALF_FLOAT,\n    rg8unorm: gl.UNSIGNED_BYTE,\n    rg8snorm: gl.BYTE,\n    rg8uint: gl.UNSIGNED_BYTE,\n    rg8sint: gl.BYTE,\n    // 32-bit formats\n    r32uint: gl.UNSIGNED_INT,\n    r32sint: gl.INT,\n    r32float: gl.FLOAT,\n    rg16uint: gl.UNSIGNED_SHORT,\n    rg16sint: gl.SHORT,\n    rg16float: gl.HALF_FLOAT,\n    rgba8unorm: gl.UNSIGNED_BYTE,\n    \"rgba8unorm-srgb\": gl.UNSIGNED_BYTE,\n    // Packed 32-bit formats\n    rgba8snorm: gl.BYTE,\n    rgba8uint: gl.UNSIGNED_BYTE,\n    rgba8sint: gl.BYTE,\n    bgra8unorm: gl.UNSIGNED_BYTE,\n    \"bgra8unorm-srgb\": gl.UNSIGNED_BYTE,\n    rgb9e5ufloat: gl.UNSIGNED_INT_5_9_9_9_REV,\n    rgb10a2unorm: gl.UNSIGNED_INT_2_10_10_10_REV,\n    rg11b10ufloat: gl.UNSIGNED_INT_10F_11F_11F_REV,\n    // 64-bit formats\n    rg32uint: gl.UNSIGNED_INT,\n    rg32sint: gl.INT,\n    rg32float: gl.FLOAT,\n    rgba16uint: gl.UNSIGNED_SHORT,\n    rgba16sint: gl.SHORT,\n    rgba16float: gl.HALF_FLOAT,\n    // 128-bit formats\n    rgba32uint: gl.UNSIGNED_INT,\n    rgba32sint: gl.INT,\n    rgba32float: gl.FLOAT,\n    // Depth/stencil formats\n    stencil8: gl.UNSIGNED_BYTE,\n    depth16unorm: gl.UNSIGNED_SHORT,\n    depth24plus: gl.UNSIGNED_INT,\n    \"depth24plus-stencil8\": gl.UNSIGNED_INT_24_8,\n    depth32float: gl.FLOAT,\n    \"depth32float-stencil8\": gl.FLOAT_32_UNSIGNED_INT_24_8_REV\n  };\n}\n\nexport { mapFormatToGlType };\n//# sourceMappingURL=mapFormatToGlType.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Texture } from '../../shared/texture/Texture.mjs';\nimport { GlTexture } from './GlTexture.mjs';\nimport { glUploadBufferImageResource } from './uploaders/glUploadBufferImageResource.mjs';\nimport { glUploadCompressedTextureResource } from './uploaders/glUploadCompressedTextureResource.mjs';\nimport { glUploadImageResource } from './uploaders/glUploadImageResource.mjs';\nimport { glUploadVideoResource } from './uploaders/glUploadVideoResource.mjs';\nimport { applyStyleParams } from './utils/applyStyleParams.mjs';\nimport { mapFormatToGlFormat } from './utils/mapFormatToGlFormat.mjs';\nimport { mapFormatToGlInternalFormat } from './utils/mapFormatToGlInternalFormat.mjs';\nimport { mapFormatToGlType } from './utils/mapFormatToGlType.mjs';\nimport './utils/unpremultiplyAlpha.mjs';\n\n\"use strict\";\nconst BYTES_PER_PIXEL = 4;\nclass GlTextureSystem {\n  constructor(renderer) {\n    this.managedTextures = [];\n    this._glTextures = /* @__PURE__ */ Object.create(null);\n    this._glSamplers = /* @__PURE__ */ Object.create(null);\n    this._boundTextures = [];\n    this._activeTextureLocation = -1;\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    this._uploads = {\n      image: glUploadImageResource,\n      buffer: glUploadBufferImageResource,\n      video: glUploadVideoResource,\n      compressed: glUploadCompressedTextureResource\n    };\n    this._premultiplyAlpha = false;\n    // TODO - separate samplers will be a cool thing to add, but not right now!\n    this._useSeparateSamplers = false;\n    this._renderer = renderer;\n    this._renderer.renderableGC.addManagedHash(this, \"_glTextures\");\n    this._renderer.renderableGC.addManagedHash(this, \"_glSamplers\");\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    if (!this._mapFormatToInternalFormat) {\n      this._mapFormatToInternalFormat = mapFormatToGlInternalFormat(gl, this._renderer.context.extensions);\n      this._mapFormatToType = mapFormatToGlType(gl);\n      this._mapFormatToFormat = mapFormatToGlFormat(gl);\n    }\n    this._glTextures = /* @__PURE__ */ Object.create(null);\n    this._glSamplers = /* @__PURE__ */ Object.create(null);\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    this._premultiplyAlpha = false;\n    for (let i = 0; i < 16; i++) {\n      this.bind(Texture.EMPTY, i);\n    }\n  }\n  /**\n   * Initializes a texture source, if it has already been initialized nothing will happen.\n   * @param source - The texture source to initialize.\n   * @returns The initialized texture source.\n   */\n  initSource(source) {\n    this.bind(source);\n  }\n  bind(texture, location = 0) {\n    const source = texture.source;\n    if (texture) {\n      this.bindSource(source, location);\n      if (this._useSeparateSamplers) {\n        this._bindSampler(source.style, location);\n      }\n    } else {\n      this.bindSource(null, location);\n      if (this._useSeparateSamplers) {\n        this._bindSampler(null, location);\n      }\n    }\n  }\n  bindSource(source, location = 0) {\n    const gl = this._gl;\n    source._touched = this._renderer.textureGC.count;\n    if (this._boundTextures[location] !== source) {\n      this._boundTextures[location] = source;\n      this._activateLocation(location);\n      source || (source = Texture.EMPTY.source);\n      const glTexture = this.getGlSource(source);\n      gl.bindTexture(glTexture.target, glTexture.texture);\n    }\n  }\n  _bindSampler(style, location = 0) {\n    const gl = this._gl;\n    if (!style) {\n      this._boundSamplers[location] = null;\n      gl.bindSampler(location, null);\n      return;\n    }\n    const sampler = this._getGlSampler(style);\n    if (this._boundSamplers[location] !== sampler) {\n      this._boundSamplers[location] = sampler;\n      gl.bindSampler(location, sampler);\n    }\n  }\n  unbind(texture) {\n    const source = texture.source;\n    const boundTextures = this._boundTextures;\n    const gl = this._gl;\n    for (let i = 0; i < boundTextures.length; i++) {\n      if (boundTextures[i] === source) {\n        this._activateLocation(i);\n        const glTexture = this.getGlSource(source);\n        gl.bindTexture(glTexture.target, null);\n        boundTextures[i] = null;\n      }\n    }\n  }\n  _activateLocation(location) {\n    if (this._activeTextureLocation !== location) {\n      this._activeTextureLocation = location;\n      this._gl.activeTexture(this._gl.TEXTURE0 + location);\n    }\n  }\n  _initSource(source) {\n    const gl = this._gl;\n    const glTexture = new GlTexture(gl.createTexture());\n    glTexture.type = this._mapFormatToType[source.format];\n    glTexture.internalFormat = this._mapFormatToInternalFormat[source.format];\n    glTexture.format = this._mapFormatToFormat[source.format];\n    if (source.autoGenerateMipmaps && (this._renderer.context.supports.nonPowOf2mipmaps || source.isPowerOfTwo)) {\n      const biggestDimension = Math.max(source.width, source.height);\n      source.mipLevelCount = Math.floor(Math.log2(biggestDimension)) + 1;\n    }\n    this._glTextures[source.uid] = glTexture;\n    if (!this.managedTextures.includes(source)) {\n      source.on(\"update\", this.onSourceUpdate, this);\n      source.on(\"resize\", this.onSourceUpdate, this);\n      source.on(\"styleChange\", this.onStyleChange, this);\n      source.on(\"destroy\", this.onSourceDestroy, this);\n      source.on(\"unload\", this.onSourceUnload, this);\n      source.on(\"updateMipmaps\", this.onUpdateMipmaps, this);\n      this.managedTextures.push(source);\n    }\n    this.onSourceUpdate(source);\n    this.updateStyle(source, false);\n    return glTexture;\n  }\n  onStyleChange(source) {\n    this.updateStyle(source, false);\n  }\n  updateStyle(source, firstCreation) {\n    const gl = this._gl;\n    const glTexture = this.getGlSource(source);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n    this._boundTextures[this._activeTextureLocation] = source;\n    applyStyleParams(\n      source.style,\n      gl,\n      source.mipLevelCount > 1,\n      this._renderer.context.extensions.anisotropicFiltering,\n      \"texParameteri\",\n      gl.TEXTURE_2D,\n      // will force a clamp to edge if the texture is not a power of two\n      !this._renderer.context.supports.nonPowOf2wrapping && !source.isPowerOfTwo,\n      firstCreation\n    );\n  }\n  onSourceUnload(source) {\n    const glTexture = this._glTextures[source.uid];\n    if (!glTexture)\n      return;\n    this.unbind(source);\n    this._glTextures[source.uid] = null;\n    this._gl.deleteTexture(glTexture.texture);\n  }\n  onSourceUpdate(source) {\n    const gl = this._gl;\n    const glTexture = this.getGlSource(source);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n    this._boundTextures[this._activeTextureLocation] = source;\n    const premultipliedAlpha = source.alphaMode === \"premultiply-alpha-on-upload\";\n    if (this._premultiplyAlpha !== premultipliedAlpha) {\n      this._premultiplyAlpha = premultipliedAlpha;\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultipliedAlpha);\n    }\n    if (this._uploads[source.uploadMethodId]) {\n      this._uploads[source.uploadMethodId].upload(source, glTexture, gl, this._renderer.context.webGLVersion);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, source.pixelWidth, source.pixelHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    }\n    if (source.autoGenerateMipmaps && source.mipLevelCount > 1) {\n      this.onUpdateMipmaps(source, false);\n    }\n  }\n  onUpdateMipmaps(source, bind = true) {\n    if (bind)\n      this.bindSource(source, 0);\n    const glTexture = this.getGlSource(source);\n    this._gl.generateMipmap(glTexture.target);\n  }\n  onSourceDestroy(source) {\n    source.off(\"destroy\", this.onSourceDestroy, this);\n    source.off(\"update\", this.onSourceUpdate, this);\n    source.off(\"resize\", this.onSourceUpdate, this);\n    source.off(\"unload\", this.onSourceUnload, this);\n    source.off(\"styleChange\", this.onStyleChange, this);\n    source.off(\"updateMipmaps\", this.onUpdateMipmaps, this);\n    this.managedTextures.splice(this.managedTextures.indexOf(source), 1);\n    this.onSourceUnload(source);\n  }\n  _initSampler(style) {\n    const gl = this._gl;\n    const glSampler = this._gl.createSampler();\n    this._glSamplers[style._resourceId] = glSampler;\n    applyStyleParams(\n      style,\n      gl,\n      this._boundTextures[this._activeTextureLocation].mipLevelCount > 1,\n      this._renderer.context.extensions.anisotropicFiltering,\n      \"samplerParameteri\",\n      glSampler,\n      false,\n      true\n    );\n    return this._glSamplers[style._resourceId];\n  }\n  _getGlSampler(sampler) {\n    return this._glSamplers[sampler._resourceId] || this._initSampler(sampler);\n  }\n  getGlSource(source) {\n    return this._glTextures[source.uid] || this._initSource(source);\n  }\n  generateCanvas(texture) {\n    const { pixels, width, height } = this.getPixels(texture);\n    const canvas = DOMAdapter.get().createCanvas();\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      const imageData = ctx.createImageData(width, height);\n      imageData.data.set(pixels);\n      ctx.putImageData(imageData, 0, 0);\n    }\n    return canvas;\n  }\n  getPixels(texture) {\n    const resolution = texture.source.resolution;\n    const frame = texture.frame;\n    const width = Math.max(Math.round(frame.width * resolution), 1);\n    const height = Math.max(Math.round(frame.height * resolution), 1);\n    const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);\n    const renderer = this._renderer;\n    const renderTarget = renderer.renderTarget.getRenderTarget(texture);\n    const glRenterTarget = renderer.renderTarget.getGpuRenderTarget(renderTarget);\n    const gl = renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenterTarget.resolveTargetFramebuffer);\n    gl.readPixels(\n      Math.round(frame.x * resolution),\n      Math.round(frame.y * resolution),\n      width,\n      height,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      pixels\n    );\n    if (false) {\n      unpremultiplyAlpha(pixels);\n    }\n    return { pixels: new Uint8ClampedArray(pixels.buffer), width, height };\n  }\n  destroy() {\n    this.managedTextures.slice().forEach((source) => this.onSourceDestroy(source));\n    this.managedTextures = null;\n    this._glTextures = null;\n    this._glSamplers = null;\n    this._boundTextures = null;\n    this._boundSamplers = null;\n    this._mapFormatToInternalFormat = null;\n    this._mapFormatToType = null;\n    this._mapFormatToFormat = null;\n    this._uploads = null;\n    this._renderer = null;\n  }\n  resetState() {\n    this._activeTextureLocation = -1;\n    this._boundTextures.fill(Texture.EMPTY.source);\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    const gl = this._gl;\n    this._premultiplyAlpha = false;\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiplyAlpha);\n  }\n}\n/** @ignore */\nGlTextureSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"texture\"\n};\n\nexport { GlTextureSystem };\n//# sourceMappingURL=GlTextureSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit.mjs';\nimport { generateTextureBatchBitGl } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { getBatchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\n\n\"use strict\";\nclass GlGraphicsAdaptor {\n  contextChange(renderer) {\n    const uniforms = new UniformGroup({\n      uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n      uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uRound: { value: 0, type: \"f32\" }\n    });\n    const maxTextures = renderer.limits.maxBatchableTextures;\n    const glProgram = compileHighShaderGlProgram({\n      name: \"graphics\",\n      bits: [\n        colorBitGl,\n        generateTextureBatchBitGl(maxTextures),\n        localUniformBitGl,\n        roundPixelsBitGl\n      ]\n    });\n    this.shader = new Shader({\n      glProgram,\n      resources: {\n        localUniforms: uniforms,\n        batchSamplers: getBatchSamplersUniformGroup(maxTextures)\n      }\n    });\n  }\n  execute(graphicsPipe, renderable) {\n    const context = renderable.context;\n    const shader = context.customShader || this.shader;\n    const renderer = graphicsPipe.renderer;\n    const contextSystem = renderer.graphicsContext;\n    const {\n      batcher,\n      instructions\n    } = contextSystem.getContextRenderData(context);\n    shader.groups[0] = renderer.globalUniforms.bindGroup;\n    renderer.state.set(graphicsPipe.state);\n    renderer.shader.bind(shader);\n    renderer.geometry.bind(batcher.geometry, shader.glProgram);\n    const batches = instructions.instructions;\n    for (let i = 0; i < instructions.instructionSize; i++) {\n      const batch = batches[i];\n      if (batch.size) {\n        for (let j = 0; j < batch.textures.count; j++) {\n          renderer.texture.bind(batch.textures.textures[j], j);\n        }\n        renderer.geometry.draw(batch.topology, batch.size, batch.start);\n      }\n    }\n  }\n  destroy() {\n    this.shader.destroy(true);\n    this.shader = null;\n  }\n}\n/** @ignore */\nGlGraphicsAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"graphics\"\n};\n\nexport { GlGraphicsAdaptor };\n//# sourceMappingURL=GlGraphicsAdaptor.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { textureBitGl } from '../../../rendering/high-shader/shader-bits/textureBit.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\n\n\"use strict\";\nclass GlMeshAdaptor {\n  init() {\n    const glProgram = compileHighShaderGlProgram({\n      name: \"mesh\",\n      bits: [\n        localUniformBitGl,\n        textureBitGl,\n        roundPixelsBitGl\n      ]\n    });\n    this._shader = new Shader({\n      glProgram,\n      resources: {\n        uTexture: Texture.EMPTY.source,\n        textureUniforms: {\n          uTextureMatrix: { type: \"mat3x3<f32>\", value: new Matrix() }\n        }\n      }\n    });\n  }\n  execute(meshPipe, mesh) {\n    const renderer = meshPipe.renderer;\n    let shader = mesh._shader;\n    if (!shader) {\n      shader = this._shader;\n      const texture = mesh.texture;\n      const source = texture.source;\n      shader.resources.uTexture = source;\n      shader.resources.uSampler = source.style;\n      shader.resources.textureUniforms.uniforms.uTextureMatrix = texture.textureMatrix.mapCoord;\n    } else if (!shader.glProgram) {\n      warn(\"Mesh shader has no glProgram\", mesh.shader);\n      return;\n    }\n    shader.groups[100] = renderer.globalUniforms.bindGroup;\n    shader.groups[101] = meshPipe.localUniformsBindGroup;\n    renderer.encoder.draw({\n      geometry: mesh._geometry,\n      shader,\n      state: mesh.state\n    });\n  }\n  destroy() {\n    this._shader.destroy(true);\n    this._shader = null;\n  }\n}\nGlMeshAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"mesh\"\n};\n\nexport { GlMeshAdaptor };\n//# sourceMappingURL=GlMeshAdaptor.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass CustomRenderPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  updateRenderable() {\n  }\n  destroyRenderable() {\n  }\n  validateRenderable() {\n    return false;\n  }\n  addRenderable(container, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add(container);\n  }\n  execute(container) {\n    if (!container.isRenderable)\n      return;\n    container.render(this._renderer);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\nCustomRenderPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"customRender\"\n};\n\nexport { CustomRenderPipe };\n//# sourceMappingURL=CustomRenderPipe.mjs.map\n","\"use strict\";\nclass BatchableSprite {\n  constructor() {\n    this.batcherName = \"default\";\n    this.topology = \"triangle-list\";\n    // batch specific..\n    this.attributeSize = 4;\n    this.indexSize = 6;\n    this.packAsQuad = true;\n    this.roundPixels = 0;\n    this._attributeStart = 0;\n    // location in the buffer\n    this._batcher = null;\n    this._batch = null;\n  }\n  get blendMode() {\n    return this.renderable.groupBlendMode;\n  }\n  get color() {\n    return this.renderable.groupColorAlpha;\n  }\n  reset() {\n    this.renderable = null;\n    this.texture = null;\n    this._batcher = null;\n    this._batch = null;\n    this.bounds = null;\n  }\n  destroy() {\n  }\n}\n\nexport { BatchableSprite };\n//# sourceMappingURL=BatchableSprite.mjs.map\n","\"use strict\";\nfunction executeInstructions(renderGroup, renderer) {\n  const instructionSet = renderGroup.instructionSet;\n  const instructions = instructionSet.instructions;\n  for (let i = 0; i < instructionSet.instructionSize; i++) {\n    const instruction = instructions[i];\n    renderer[instruction.renderPipeId].execute(instruction);\n  }\n}\n\nexport { executeInstructions };\n//# sourceMappingURL=executeInstructions.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { BigPool } from '../../utils/pool/PoolGroup.mjs';\nimport { BatchableSprite } from '../sprite/BatchableSprite.mjs';\nimport { executeInstructions } from './utils/executeInstructions.mjs';\n\n\"use strict\";\nconst tempMatrix = new Matrix();\nclass RenderGroupPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  addRenderGroup(renderGroup, instructionSet) {\n    if (renderGroup.isCachedAsTexture) {\n      this._addRenderableCacheAsTexture(renderGroup, instructionSet);\n    } else {\n      this._addRenderableDirect(renderGroup, instructionSet);\n    }\n  }\n  execute(renderGroup) {\n    if (!renderGroup.isRenderable)\n      return;\n    if (renderGroup.isCachedAsTexture) {\n      this._executeCacheAsTexture(renderGroup);\n    } else {\n      this._executeDirect(renderGroup);\n    }\n  }\n  destroy() {\n    this._renderer = null;\n  }\n  _addRenderableDirect(renderGroup, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    if (renderGroup._batchableRenderGroup) {\n      BigPool.return(renderGroup._batchableRenderGroup);\n      renderGroup._batchableRenderGroup = null;\n    }\n    instructionSet.add(renderGroup);\n  }\n  _addRenderableCacheAsTexture(renderGroup, instructionSet) {\n    const batchableRenderGroup = renderGroup._batchableRenderGroup ?? (renderGroup._batchableRenderGroup = BigPool.get(BatchableSprite));\n    batchableRenderGroup.renderable = renderGroup.root;\n    batchableRenderGroup.transform = renderGroup.root.relativeGroupTransform;\n    batchableRenderGroup.texture = renderGroup.texture;\n    batchableRenderGroup.bounds = renderGroup._textureBounds;\n    instructionSet.add(renderGroup);\n    this._renderer.renderPipes.blendMode.pushBlendMode(renderGroup, renderGroup.root.groupBlendMode, instructionSet);\n    this._renderer.renderPipes.batch.addToBatch(batchableRenderGroup, instructionSet);\n    this._renderer.renderPipes.blendMode.popBlendMode(instructionSet);\n  }\n  _executeCacheAsTexture(renderGroup) {\n    if (renderGroup.textureNeedsUpdate) {\n      renderGroup.textureNeedsUpdate = false;\n      const worldTransformMatrix = tempMatrix.identity().translate(\n        -renderGroup._textureBounds.x,\n        -renderGroup._textureBounds.y\n      );\n      this._renderer.renderTarget.push(renderGroup.texture, true, null, renderGroup.texture.frame);\n      this._renderer.globalUniforms.push({\n        worldTransformMatrix,\n        worldColor: 4294967295,\n        offset: { x: 0, y: 0 }\n      });\n      executeInstructions(renderGroup, this._renderer.renderPipes);\n      this._renderer.renderTarget.finishRenderPass();\n      this._renderer.renderTarget.pop();\n      this._renderer.globalUniforms.pop();\n    }\n    renderGroup._batchableRenderGroup._batcher.updateElement(renderGroup._batchableRenderGroup);\n    renderGroup._batchableRenderGroup._batcher.geometry.buffers[0].update();\n  }\n  _executeDirect(renderGroup) {\n    this._renderer.globalUniforms.push({\n      worldTransformMatrix: renderGroup.inverseParentTextureTransform,\n      worldColor: renderGroup.worldColorAlpha\n    });\n    executeInstructions(renderGroup, this._renderer.renderPipes);\n    this._renderer.globalUniforms.pop();\n  }\n}\nRenderGroupPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"renderGroup\"\n};\n\nexport { RenderGroupPipe };\n//# sourceMappingURL=RenderGroupPipe.mjs.map\n","\"use strict\";\nfunction clearList(list, index) {\n  index || (index = 0);\n  for (let j = index; j < list.length; j++) {\n    if (list[j]) {\n      list[j] = null;\n    } else {\n      break;\n    }\n  }\n}\n\nexport { clearList };\n//# sourceMappingURL=clearList.mjs.map\n","import { Container, UPDATE_VISIBLE, UPDATE_COLOR, UPDATE_BLEND } from '../Container.mjs';\nimport { clearList } from './clearList.mjs';\nimport { multiplyColors } from './multiplyColors.mjs';\n\n\"use strict\";\nconst tempContainer = new Container();\nconst UPDATE_BLEND_COLOR_VISIBLE = UPDATE_VISIBLE | UPDATE_COLOR | UPDATE_BLEND;\nfunction updateRenderGroupTransforms(renderGroup, updateChildRenderGroups = false) {\n  updateRenderGroupTransform(renderGroup);\n  const childrenToUpdate = renderGroup.childrenToUpdate;\n  const updateTick = renderGroup.updateTick++;\n  for (const j in childrenToUpdate) {\n    const renderGroupDepth = Number(j);\n    const childrenAtDepth = childrenToUpdate[j];\n    const list = childrenAtDepth.list;\n    const index = childrenAtDepth.index;\n    for (let i = 0; i < index; i++) {\n      const child = list[i];\n      if (child.parentRenderGroup === renderGroup && child.relativeRenderGroupDepth === renderGroupDepth) {\n        updateTransformAndChildren(child, updateTick, 0);\n      }\n    }\n    clearList(list, index);\n    childrenAtDepth.index = 0;\n  }\n  if (updateChildRenderGroups) {\n    for (let i = 0; i < renderGroup.renderGroupChildren.length; i++) {\n      updateRenderGroupTransforms(renderGroup.renderGroupChildren[i], updateChildRenderGroups);\n    }\n  }\n}\nfunction updateRenderGroupTransform(renderGroup) {\n  const root = renderGroup.root;\n  let worldAlpha;\n  if (renderGroup.renderGroupParent) {\n    const renderGroupParent = renderGroup.renderGroupParent;\n    renderGroup.worldTransform.appendFrom(\n      root.relativeGroupTransform,\n      renderGroupParent.worldTransform\n    );\n    renderGroup.worldColor = multiplyColors(\n      root.groupColor,\n      renderGroupParent.worldColor\n    );\n    worldAlpha = root.groupAlpha * renderGroupParent.worldAlpha;\n  } else {\n    renderGroup.worldTransform.copyFrom(root.localTransform);\n    renderGroup.worldColor = root.localColor;\n    worldAlpha = root.localAlpha;\n  }\n  worldAlpha = worldAlpha < 0 ? 0 : worldAlpha > 1 ? 1 : worldAlpha;\n  renderGroup.worldAlpha = worldAlpha;\n  renderGroup.worldColorAlpha = renderGroup.worldColor + ((worldAlpha * 255 | 0) << 24);\n}\nfunction updateTransformAndChildren(container, updateTick, updateFlags) {\n  if (updateTick === container.updateTick)\n    return;\n  container.updateTick = updateTick;\n  container.didChange = false;\n  const localTransform = container.localTransform;\n  container.updateLocalTransform();\n  const parent = container.parent;\n  if (parent && !parent.renderGroup) {\n    updateFlags |= container._updateFlags;\n    container.relativeGroupTransform.appendFrom(\n      localTransform,\n      parent.relativeGroupTransform\n    );\n    if (updateFlags & UPDATE_BLEND_COLOR_VISIBLE) {\n      updateColorBlendVisibility(container, parent, updateFlags);\n    }\n  } else {\n    updateFlags = container._updateFlags;\n    container.relativeGroupTransform.copyFrom(localTransform);\n    if (updateFlags & UPDATE_BLEND_COLOR_VISIBLE) {\n      updateColorBlendVisibility(container, tempContainer, updateFlags);\n    }\n  }\n  if (!container.renderGroup) {\n    const children = container.children;\n    const length = children.length;\n    for (let i = 0; i < length; i++) {\n      updateTransformAndChildren(children[i], updateTick, updateFlags);\n    }\n    const renderGroup = container.parentRenderGroup;\n    const renderable = container;\n    if (renderable.renderPipeId && !renderGroup.structureDidChange) {\n      renderGroup.updateRenderable(renderable);\n    }\n  }\n}\nfunction updateColorBlendVisibility(container, parent, updateFlags) {\n  if (updateFlags & UPDATE_COLOR) {\n    container.groupColor = multiplyColors(\n      container.localColor,\n      parent.groupColor\n    );\n    let groupAlpha = container.localAlpha * parent.groupAlpha;\n    groupAlpha = groupAlpha < 0 ? 0 : groupAlpha > 1 ? 1 : groupAlpha;\n    container.groupAlpha = groupAlpha;\n    container.groupColorAlpha = container.groupColor + ((groupAlpha * 255 | 0) << 24);\n  }\n  if (updateFlags & UPDATE_BLEND) {\n    container.groupBlendMode = container.localBlendMode === \"inherit\" ? parent.groupBlendMode : container.localBlendMode;\n  }\n  if (updateFlags & UPDATE_VISIBLE) {\n    container.globalDisplayStatus = container.localDisplayStatus & parent.globalDisplayStatus;\n  }\n  container._updateFlags = 0;\n}\n\nexport { updateRenderGroupTransform, updateRenderGroupTransforms, updateTransformAndChildren };\n//# sourceMappingURL=updateRenderGroupTransforms.mjs.map\n","\"use strict\";\nfunction validateRenderables(renderGroup, renderPipes) {\n  const { list, index } = renderGroup.childrenRenderablesToUpdate;\n  let rebuildRequired = false;\n  for (let i = 0; i < index; i++) {\n    const container = list[i];\n    const renderable = container;\n    const pipe = renderPipes[renderable.renderPipeId];\n    rebuildRequired = pipe.validateRenderable(container);\n    if (rebuildRequired) {\n      break;\n    }\n  }\n  renderGroup.structureDidChange = rebuildRequired;\n  return rebuildRequired;\n}\n\nexport { validateRenderables };\n//# sourceMappingURL=validateRenderables.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { TexturePool } from '../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { Bounds } from './bounds/Bounds.mjs';\nimport { clearList } from './utils/clearList.mjs';\nimport { executeInstructions } from './utils/executeInstructions.mjs';\nimport { updateRenderGroupTransforms } from './utils/updateRenderGroupTransforms.mjs';\nimport { validateRenderables } from './utils/validateRenderables.mjs';\n\n\"use strict\";\nconst tempMatrix = new Matrix();\nclass RenderGroupSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  render({ container, transform }) {\n    const parent = container.parent;\n    const renderGroupParent = container.renderGroup.renderGroupParent;\n    container.parent = null;\n    container.renderGroup.renderGroupParent = null;\n    const renderer = this._renderer;\n    const originalLocalTransform = tempMatrix;\n    if (transform) {\n      originalLocalTransform.copyFrom(container.renderGroup.localTransform);\n      container.renderGroup.localTransform.copyFrom(transform);\n    }\n    const renderPipes = renderer.renderPipes;\n    this._updateCachedRenderGroups(container.renderGroup, null);\n    this._updateRenderGroups(container.renderGroup);\n    renderer.globalUniforms.start({\n      worldTransformMatrix: transform ? container.renderGroup.localTransform : container.renderGroup.worldTransform,\n      worldColor: container.renderGroup.worldColorAlpha\n    });\n    executeInstructions(container.renderGroup, renderPipes);\n    if (renderPipes.uniformBatch) {\n      renderPipes.uniformBatch.renderEnd();\n    }\n    if (transform) {\n      container.renderGroup.localTransform.copyFrom(originalLocalTransform);\n    }\n    container.parent = parent;\n    container.renderGroup.renderGroupParent = renderGroupParent;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n  _updateCachedRenderGroups(renderGroup, closestCacheAsTexture) {\n    renderGroup._parentCacheAsTextureRenderGroup = closestCacheAsTexture;\n    if (renderGroup.isCachedAsTexture) {\n      if (!renderGroup.textureNeedsUpdate)\n        return;\n      closestCacheAsTexture = renderGroup;\n    }\n    for (let i = renderGroup.renderGroupChildren.length - 1; i >= 0; i--) {\n      this._updateCachedRenderGroups(renderGroup.renderGroupChildren[i], closestCacheAsTexture);\n    }\n    renderGroup.invalidateMatrices();\n    if (renderGroup.isCachedAsTexture) {\n      if (renderGroup.textureNeedsUpdate) {\n        const bounds = renderGroup.root.getLocalBounds();\n        bounds.ceil();\n        const lastTexture = renderGroup.texture;\n        if (renderGroup.texture) {\n          TexturePool.returnTexture(renderGroup.texture, true);\n        }\n        const renderer = this._renderer;\n        const resolution = renderGroup.textureOptions.resolution || renderer.view.resolution;\n        const antialias = renderGroup.textureOptions.antialias ?? renderer.view.antialias;\n        const scaleMode = renderGroup.textureOptions.scaleMode ?? \"linear\";\n        const texture = TexturePool.getOptimalTexture(\n          bounds.width,\n          bounds.height,\n          resolution,\n          antialias\n        );\n        texture._source.style = new TextureStyle({ scaleMode });\n        renderGroup.texture = texture;\n        renderGroup._textureBounds || (renderGroup._textureBounds = new Bounds());\n        renderGroup._textureBounds.copyFrom(bounds);\n        if (lastTexture !== renderGroup.texture) {\n          if (renderGroup.renderGroupParent) {\n            renderGroup.renderGroupParent.structureDidChange = true;\n          }\n        }\n      }\n    } else if (renderGroup.texture) {\n      TexturePool.returnTexture(renderGroup.texture, true);\n      renderGroup.texture = null;\n    }\n  }\n  _updateRenderGroups(renderGroup) {\n    const renderer = this._renderer;\n    const renderPipes = renderer.renderPipes;\n    renderGroup.runOnRender(renderer);\n    renderGroup.instructionSet.renderPipes = renderPipes;\n    if (!renderGroup.structureDidChange) {\n      validateRenderables(renderGroup, renderPipes);\n    } else {\n      clearList(renderGroup.childrenRenderablesToUpdate.list, 0);\n    }\n    updateRenderGroupTransforms(renderGroup);\n    if (renderGroup.structureDidChange) {\n      renderGroup.structureDidChange = false;\n      this._buildInstructions(renderGroup, renderer);\n    } else {\n      this._updateRenderables(renderGroup);\n    }\n    renderGroup.childrenRenderablesToUpdate.index = 0;\n    renderer.renderPipes.batch.upload(renderGroup.instructionSet);\n    if (renderGroup.isCachedAsTexture && !renderGroup.textureNeedsUpdate)\n      return;\n    for (let i = 0; i < renderGroup.renderGroupChildren.length; i++) {\n      this._updateRenderGroups(renderGroup.renderGroupChildren[i]);\n    }\n  }\n  _updateRenderables(renderGroup) {\n    const { list, index } = renderGroup.childrenRenderablesToUpdate;\n    for (let i = 0; i < index; i++) {\n      const container = list[i];\n      if (container.didViewUpdate) {\n        renderGroup.updateRenderable(container);\n      }\n    }\n    clearList(list, index);\n  }\n  _buildInstructions(renderGroup, rendererOrPipes) {\n    const root = renderGroup.root;\n    const instructionSet = renderGroup.instructionSet;\n    instructionSet.reset();\n    const renderer = rendererOrPipes.renderPipes ? rendererOrPipes : rendererOrPipes.batch.renderer;\n    const renderPipes = renderer.renderPipes;\n    renderPipes.batch.buildStart(instructionSet);\n    renderPipes.blendMode.buildStart();\n    renderPipes.colorMask.buildStart();\n    if (root.sortableChildren) {\n      root.sortChildren();\n    }\n    root.collectRenderablesWithEffects(instructionSet, renderer, null);\n    renderPipes.batch.buildEnd(instructionSet);\n    renderPipes.blendMode.buildEnd(instructionSet);\n  }\n}\n/** @ignore */\nRenderGroupSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"renderGroup\"\n};\n\nexport { RenderGroupSystem };\n//# sourceMappingURL=RenderGroupSystem.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { BatchableSprite } from './BatchableSprite.mjs';\n\n\"use strict\";\nclass SpritePipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  addRenderable(sprite, instructionSet) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    if (sprite.didViewUpdate)\n      this._updateBatchableSprite(sprite, gpuSprite);\n    this._renderer.renderPipes.batch.addToBatch(gpuSprite, instructionSet);\n  }\n  updateRenderable(sprite) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    if (sprite.didViewUpdate)\n      this._updateBatchableSprite(sprite, gpuSprite);\n    gpuSprite._batcher.updateElement(gpuSprite);\n  }\n  validateRenderable(sprite) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    return !gpuSprite._batcher.checkAndUpdateTexture(\n      gpuSprite,\n      sprite._texture\n    );\n  }\n  _updateBatchableSprite(sprite, batchableSprite) {\n    batchableSprite.bounds = sprite.visualBounds;\n    batchableSprite.texture = sprite._texture;\n  }\n  _getGpuSprite(sprite) {\n    return sprite._gpuData[this._renderer.uid] || this._initGPUSprite(sprite);\n  }\n  _initGPUSprite(sprite) {\n    const batchableSprite = new BatchableSprite();\n    batchableSprite.renderable = sprite;\n    batchableSprite.transform = sprite.groupTransform;\n    batchableSprite.texture = sprite._texture;\n    batchableSprite.bounds = sprite.visualBounds;\n    batchableSprite.roundPixels = this._renderer._roundPixels | sprite._roundPixels;\n    sprite._gpuData[this._renderer.uid] = batchableSprite;\n    return batchableSprite;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nSpritePipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"sprite\"\n};\n\nexport { SpritePipe };\n//# sourceMappingURL=SpritePipe.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nconst _BackgroundSystem = class _BackgroundSystem {\n  constructor() {\n    this.clearBeforeRender = true;\n    this._backgroundColor = new Color(0);\n    this.color = this._backgroundColor;\n    this.alpha = 1;\n  }\n  /**\n   * initiates the background system\n   * @param options - the options for the background colors\n   */\n  init(options) {\n    options = { ..._BackgroundSystem.defaultOptions, ...options };\n    this.clearBeforeRender = options.clearBeforeRender;\n    this.color = options.background || options.backgroundColor || this._backgroundColor;\n    this.alpha = options.backgroundAlpha;\n    this._backgroundColor.setAlpha(options.backgroundAlpha);\n  }\n  /** The background color to fill if not transparent */\n  get color() {\n    return this._backgroundColor;\n  }\n  set color(value) {\n    const incoming = Color.shared.setValue(value);\n    if (incoming.alpha < 1 && this._backgroundColor.alpha === 1) {\n      warn(\n        \"Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application.\"\n      );\n    }\n    this._backgroundColor.setValue(value);\n  }\n  /** The background color alpha. Setting this to 0 will make the canvas transparent. */\n  get alpha() {\n    return this._backgroundColor.alpha;\n  }\n  set alpha(value) {\n    this._backgroundColor.setAlpha(value);\n  }\n  /** The background color as an [R, G, B, A] array. */\n  get colorRgba() {\n    return this._backgroundColor.toArray();\n  }\n  /**\n   * destroys the background system\n   * @internal\n   */\n  destroy() {\n  }\n};\n/** @ignore */\n_BackgroundSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"background\",\n  priority: 0\n};\n/** default options used by the system */\n_BackgroundSystem.defaultOptions = {\n  /**\n   * {@link WebGLOptions.backgroundAlpha}\n   * @default 1\n   */\n  backgroundAlpha: 1,\n  /**\n   * {@link WebGLOptions.backgroundColor}\n   * @default 0x000000\n   */\n  backgroundColor: 0,\n  /**\n   * {@link WebGLOptions.clearBeforeRender}\n   * @default true\n   */\n  clearBeforeRender: true\n};\nlet BackgroundSystem = _BackgroundSystem;\n\nexport { BackgroundSystem };\n//# sourceMappingURL=BackgroundSystem.mjs.map\n","import { extensions, ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { FilterEffect } from '../../../../filters/FilterEffect.mjs';\nimport { RenderGroup } from '../../../../scene/container/RenderGroup.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nconst BLEND_MODE_FILTERS = {};\nextensions.handle(ExtensionType.BlendMode, (value) => {\n  if (!value.name) {\n    throw new Error(\"BlendMode extension must have a name property\");\n  }\n  BLEND_MODE_FILTERS[value.name] = value.ref;\n}, (value) => {\n  delete BLEND_MODE_FILTERS[value.name];\n});\nclass BlendModePipe {\n  constructor(renderer) {\n    this._blendModeStack = [];\n    this._isAdvanced = false;\n    this._filterHash = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    this._renderer.runners.prerender.add(this);\n  }\n  prerender() {\n    this._activeBlendMode = \"normal\";\n    this._isAdvanced = false;\n  }\n  /**\n   * Push a blend mode onto the internal stack and apply it to the instruction set if needed.\n   * @param renderable - The renderable or {@link RenderGroup} associated with the change.\n   * @param blendMode - The blend mode to activate.\n   * @param instructionSet - The instruction set being built.\n   */\n  pushBlendMode(renderable, blendMode, instructionSet) {\n    this._blendModeStack.push(blendMode);\n    this.setBlendMode(renderable, blendMode, instructionSet);\n  }\n  /**\n   * Pop the last blend mode from the stack and apply the new top-of-stack mode.\n   * @param instructionSet - The instruction set being built.\n   */\n  popBlendMode(instructionSet) {\n    this._blendModeStack.pop();\n    const blendMode = this._blendModeStack[this._activeBlendMode.length - 1] ?? \"normal\";\n    this.setBlendMode(null, blendMode, instructionSet);\n  }\n  /**\n   * Ensure a blend mode switch is added to the instruction set when the mode changes.\n   * If an advanced blend mode is active, subsequent renderables will be collected so they can be\n   * rendered within a single filter pass.\n   * @param renderable - The renderable or {@link RenderGroup} to associate with the change, or null when unwinding.\n   * @param blendMode - The target blend mode.\n   * @param instructionSet - The instruction set being built.\n   */\n  setBlendMode(renderable, blendMode, instructionSet) {\n    const isRenderGroup = renderable instanceof RenderGroup;\n    if (this._activeBlendMode === blendMode) {\n      if (this._isAdvanced && renderable && !isRenderGroup) {\n        this._renderableList?.push(renderable);\n      }\n      return;\n    }\n    if (this._isAdvanced)\n      this._endAdvancedBlendMode(instructionSet);\n    this._activeBlendMode = blendMode;\n    if (!renderable)\n      return;\n    this._isAdvanced = !!BLEND_MODE_FILTERS[blendMode];\n    if (this._isAdvanced)\n      this._beginAdvancedBlendMode(renderable, instructionSet);\n  }\n  _beginAdvancedBlendMode(renderable, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    const blendMode = this._activeBlendMode;\n    if (!BLEND_MODE_FILTERS[blendMode]) {\n      warn(`Unable to assign BlendMode: '${blendMode}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);\n      return;\n    }\n    const filterEffect = this._ensureFilterEffect(blendMode);\n    const isRenderGroup = renderable instanceof RenderGroup;\n    const instruction = {\n      renderPipeId: \"filter\",\n      action: \"pushFilter\",\n      filterEffect,\n      renderables: isRenderGroup ? null : [renderable],\n      container: isRenderGroup ? renderable.root : null,\n      canBundle: false\n    };\n    this._renderableList = instruction.renderables;\n    instructionSet.add(instruction);\n  }\n  _ensureFilterEffect(blendMode) {\n    let filterEffect = this._filterHash[blendMode];\n    if (!filterEffect) {\n      filterEffect = this._filterHash[blendMode] = new FilterEffect();\n      filterEffect.filters = [new BLEND_MODE_FILTERS[blendMode]()];\n    }\n    return filterEffect;\n  }\n  _endAdvancedBlendMode(instructionSet) {\n    this._isAdvanced = false;\n    this._renderableList = null;\n    this._renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"filter\",\n      action: \"popFilter\",\n      canBundle: false\n    });\n  }\n  /**\n   * called when the instruction build process is starting this will reset internally to the default blend mode\n   * @internal\n   */\n  buildStart() {\n    this._isAdvanced = false;\n  }\n  /**\n   * called when the instruction build process is finished, ensuring that if there is an advanced blend mode\n   * active, we add the final render instructions added to the instruction set\n   * @param instructionSet - The instruction set we are adding to\n   * @internal\n   */\n  buildEnd(instructionSet) {\n    if (!this._isAdvanced)\n      return;\n    this._endAdvancedBlendMode(instructionSet);\n  }\n  /** @internal */\n  destroy() {\n    this._renderer = null;\n    this._renderableList = null;\n    for (const i in this._filterHash) {\n      this._filterHash[i].destroy();\n    }\n    this._filterHash = null;\n  }\n}\n/** @ignore */\nBlendModePipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"blendMode\"\n};\n\nexport { BlendModePipe };\n//# sourceMappingURL=BlendModePipe.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Container } from '../../../../scene/container/Container.mjs';\nimport { Texture } from '../texture/Texture.mjs';\n\n\"use strict\";\nconst imageTypes = {\n  png: \"image/png\",\n  jpg: \"image/jpeg\",\n  webp: \"image/webp\"\n};\nconst _ExtractSystem = class _ExtractSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  _normalizeOptions(options, defaults = {}) {\n    if (options instanceof Container || options instanceof Texture) {\n      return {\n        target: options,\n        ...defaults\n      };\n    }\n    return {\n      ...defaults,\n      ...options\n    };\n  }\n  /**\n   * Creates an IImage from a display object or texture.\n   * @param options - Options for creating the image, or the target to extract\n   * @returns Promise that resolves with the generated IImage\n   * @example\n   * ```ts\n   * // Basic usage with a sprite\n   * const sprite = new Sprite(texture);\n   * const image = await renderer.extract.image(sprite);\n   * document.body.appendChild(image);\n   *\n   * // Advanced usage with options\n   * const image = await renderer.extract.image({\n   *     target: container,\n   *     format: 'webp',\n   *     quality: 0.8,\n   *     frame: new Rectangle(0, 0, 100, 100),\n   *     resolution: 2,\n   *     clearColor: '#ff0000',\n   *     antialias: true\n   * });\n   *\n   * // Extract directly from a texture\n   * const texture = Texture.from('myTexture.png');\n   * const image = await renderer.extract.image(texture);\n   * ```\n   * @see {@link ExtractImageOptions} For detailed options\n   * @see {@link ExtractSystem.base64} For base64 string output\n   * @see {@link ExtractSystem.canvas} For canvas output\n   * @see {@link ImageLike} For the image interface\n   * @category rendering\n   */\n  async image(options) {\n    const image = DOMAdapter.get().createImage();\n    image.src = await this.base64(options);\n    return image;\n  }\n  /**\n   * Converts the target into a base64 encoded string.\n   *\n   * This method works by first creating\n   * a canvas using `Extract.canvas` and then converting it to a base64 string.\n   * @param options - The options for creating the base64 string, or the target to extract\n   * @returns Promise that resolves with the base64 encoded string\n   * @example\n   * ```ts\n   * // Basic usage with a sprite\n   * const sprite = new Sprite(texture);\n   * const base64 = await renderer.extract.base64(sprite);\n   * console.log(base64); // data:image/png;base64,...\n   *\n   * // Advanced usage with options\n   * const base64 = await renderer.extract.base64({\n   *     target: container,\n   *     format: 'webp',\n   *     quality: 0.8,\n   *     frame: new Rectangle(0, 0, 100, 100),\n   *     resolution: 2\n   * });\n   * ```\n   * @throws Will throw an error if the platform doesn't support any of:\n   * - ICanvas.toDataURL\n   * - ICanvas.toBlob\n   * - ICanvas.convertToBlob\n   * @see {@link ExtractImageOptions} For detailed options\n   * @see {@link ExtractSystem.canvas} For canvas output\n   * @see {@link ExtractSystem.image} For HTMLImage output\n   * @category rendering\n   */\n  async base64(options) {\n    options = this._normalizeOptions(\n      options,\n      _ExtractSystem.defaultImageOptions\n    );\n    const { format, quality } = options;\n    const canvas = this.canvas(options);\n    if (canvas.toBlob !== void 0) {\n      return new Promise((resolve, reject) => {\n        canvas.toBlob((blob) => {\n          if (!blob) {\n            reject(new Error(\"ICanvas.toBlob failed!\"));\n            return;\n          }\n          const reader = new FileReader();\n          reader.onload = () => resolve(reader.result);\n          reader.onerror = reject;\n          reader.readAsDataURL(blob);\n        }, imageTypes[format], quality);\n      });\n    }\n    if (canvas.toDataURL !== void 0) {\n      return canvas.toDataURL(imageTypes[format], quality);\n    }\n    if (canvas.convertToBlob !== void 0) {\n      const blob = await canvas.convertToBlob({ type: imageTypes[format], quality });\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n      });\n    }\n    throw new Error(\"Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented\");\n  }\n  /**\n   * Creates a Canvas element, renders the target to it and returns it.\n   * This method is useful for creating static images or when you need direct canvas access.\n   * @param options - The options for creating the canvas, or the target to extract\n   * @returns A Canvas element with the texture rendered on\n   * @example\n   * ```ts\n   * // Basic canvas extraction from a sprite\n   * const sprite = new Sprite(texture);\n   * const canvas = renderer.extract.canvas(sprite);\n   * document.body.appendChild(canvas);\n   *\n   * // Extract with custom region\n   * const canvas = renderer.extract.canvas({\n   *     target: container,\n   *     frame: new Rectangle(0, 0, 100, 100)\n   * });\n   *\n   * // Extract with high resolution\n   * const canvas = renderer.extract.canvas({\n   *     target: sprite,\n   *     resolution: 2,\n   *     clearColor: '#ff0000'\n   * });\n   *\n   * // Extract directly from a texture\n   * const texture = Texture.from('myTexture.png');\n   * const canvas = renderer.extract.canvas(texture);\n   *\n   * // Extract with anti-aliasing\n   * const canvas = renderer.extract.canvas({\n   *     target: graphics,\n   *     antialias: true\n   * });\n   * ```\n   * @see {@link ExtractOptions} For detailed options\n   * @see {@link ExtractSystem.image} For HTMLImage output\n   * @see {@link ExtractSystem.pixels} For raw pixel data\n   * @category rendering\n   */\n  canvas(options) {\n    options = this._normalizeOptions(options);\n    const target = options.target;\n    const renderer = this._renderer;\n    if (target instanceof Texture) {\n      return renderer.texture.generateCanvas(target);\n    }\n    const texture = renderer.textureGenerator.generateTexture(options);\n    const canvas = renderer.texture.generateCanvas(texture);\n    texture.destroy(true);\n    return canvas;\n  }\n  /**\n   * Returns a one-dimensional array containing the pixel data of the entire texture in RGBA order,\n   * with integer values between 0 and 255 (inclusive).\n   * > [!NOE] The returned array is a flat Uint8Array where every 4 values represent RGBA\n   * @param options - The options for extracting the image, or the target to extract\n   * @returns One-dimensional Uint8Array containing the pixel data in RGBA format\n   * @example\n   * ```ts\n   * // Basic pixel extraction\n   * const sprite = new Sprite(texture);\n   * const pixels = renderer.extract.pixels(sprite);\n   * console.log(pixels[0], pixels[1], pixels[2], pixels[3]); // R,G,B,A values\n   *\n   * // Extract with custom region\n   * const pixels = renderer.extract.pixels({\n   *     target: sprite,\n   *     frame: new Rectangle(0, 0, 100, 100)\n   * });\n   *\n   * // Extract with high resolution\n   * const pixels = renderer.extract.pixels({\n   *     target: sprite,\n   *     resolution: 2\n   * });\n   * ```\n   * @see {@link ExtractOptions} For detailed options\n   * @see {@link ExtractSystem.canvas} For canvas output\n   * @see {@link ExtractSystem.image} For image output\n   * @category rendering\n   */\n  pixels(options) {\n    options = this._normalizeOptions(options);\n    const target = options.target;\n    const renderer = this._renderer;\n    const texture = target instanceof Texture ? target : renderer.textureGenerator.generateTexture(options);\n    const pixelInfo = renderer.texture.getPixels(texture);\n    if (target instanceof Container) {\n      texture.destroy(true);\n    }\n    return pixelInfo;\n  }\n  /**\n   * Creates a texture from a display object or existing texture.\n   *\n   * This is useful for creating\n   * reusable textures from rendered content or making copies of existing textures.\n   * > [!NOTE] The returned texture should be destroyed when no longer needed\n   * @param options - The options for creating the texture, or the target to extract\n   * @returns A new texture containing the extracted content\n   * @example\n   * ```ts\n   * // Basic texture extraction from a sprite\n   * const sprite = new Sprite(texture);\n   * const extractedTexture = renderer.extract.texture(sprite);\n   *\n   * // Extract with custom region\n   * const regionTexture = renderer.extract.texture({\n   *     target: container,\n   *     frame: new Rectangle(0, 0, 100, 100)\n   * });\n   *\n   * // Extract with high resolution\n   * const hiResTexture = renderer.extract.texture({\n   *     target: sprite,\n   *     resolution: 2,\n   *     clearColor: '#ff0000'\n   * });\n   *\n   * // Create a new sprite from extracted texture\n   * const newSprite = new Sprite(\n   *     renderer.extract.texture({\n   *         target: graphics,\n   *         antialias: true\n   *     })\n   * );\n   *\n   * // Clean up when done\n   * extractedTexture.destroy(true);\n   * ```\n   * @see {@link ExtractOptions} For detailed options\n   * @see {@link Texture} For texture management\n   * @see {@link GenerateTextureSystem} For texture generation\n   * @category rendering\n   */\n  texture(options) {\n    options = this._normalizeOptions(options);\n    if (options.target instanceof Texture)\n      return options.target;\n    return this._renderer.textureGenerator.generateTexture(options);\n  }\n  /**\n   * Extracts and downloads content from the renderer as an image file.\n   * This is a convenient way to save screenshots or export rendered content.\n   * > [!NOTE] The download will use PNG format regardless of the filename extension\n   * @param options - The options for downloading and extracting the image, or the target to extract\n   * @example\n   * ```ts\n   * // Basic download with default filename\n   * const sprite = new Sprite(texture);\n   * renderer.extract.download(sprite); // Downloads as 'image.png'\n   *\n   * // Download with custom filename\n   * renderer.extract.download({\n   *     target: sprite,\n   *     filename: 'screenshot.png'\n   * });\n   *\n   * // Download with custom region\n   * renderer.extract.download({\n   *     target: container,\n   *     filename: 'region.png',\n   *     frame: new Rectangle(0, 0, 100, 100)\n   * });\n   *\n   * // Download with high resolution and background\n   * renderer.extract.download({\n   *     target: stage,\n   *     filename: 'hd-screenshot.png',\n   *     resolution: 2,\n   *     clearColor: '#ff0000'\n   * });\n   *\n   * // Download with anti-aliasing\n   * renderer.extract.download({\n   *     target: graphics,\n   *     filename: 'smooth.png',\n   *     antialias: true\n   * });\n   * ```\n   * @see {@link ExtractDownloadOptions} For detailed options\n   * @see {@link ExtractSystem.image} For creating images without download\n   * @see {@link ExtractSystem.canvas} For canvas output\n   * @category rendering\n   */\n  download(options) {\n    options = this._normalizeOptions(options);\n    const canvas = this.canvas(options);\n    const link = document.createElement(\"a\");\n    link.download = options.filename ?? \"image.png\";\n    link.href = canvas.toDataURL(\"image/png\");\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n  /**\n   * Logs the target to the console as an image. This is a useful way to debug what's happening in the renderer.\n   * The image will be displayed in the browser's console using CSS background images.\n   * @param options - The options for logging the image, or the target to log\n   * @param options.width - The width of the logged image preview in the console (in pixels)\n   * @example\n   * ```ts\n   * // Basic usage\n   * const sprite = new Sprite(texture);\n   * renderer.extract.log(sprite);\n   * ```\n   * @see {@link ExtractSystem.canvas} For getting raw canvas output\n   * @see {@link ExtractSystem.pixels} For raw pixel data\n   * @category rendering\n   * @advanced\n   */\n  log(options) {\n    const width = options.width ?? 200;\n    options = this._normalizeOptions(options);\n    const canvas = this.canvas(options);\n    const base64 = canvas.toDataURL();\n    console.log(`[Pixi Texture] ${canvas.width}px ${canvas.height}px`);\n    const style = [\n      \"font-size: 1px;\",\n      `padding: ${width}px ${300}px;`,\n      `background: url(${base64}) no-repeat;`,\n      \"background-size: contain;\"\n    ].join(\" \");\n    console.log(\"%c \", style);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n};\n/** @ignore */\n_ExtractSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"extract\"\n};\n/**\n * Default options for image extraction.\n * @example\n * ```ts\n * // Customize default options\n * ExtractSystem.defaultImageOptions.format = 'webp';\n * ExtractSystem.defaultImageOptions.quality = 0.8;\n *\n * // Use defaults\n * const image = await renderer.extract.image(sprite);\n * ```\n */\n_ExtractSystem.defaultImageOptions = {\n  format: \"png\",\n  quality: 1\n};\nlet ExtractSystem = _ExtractSystem;\n\nexport { ExtractSystem };\n//# sourceMappingURL=ExtractSystem.mjs.map\n","import { TextureSource } from './sources/TextureSource.mjs';\nimport { Texture } from './Texture.mjs';\n\n\"use strict\";\nclass RenderTexture extends Texture {\n  static create(options) {\n    return new RenderTexture({\n      source: new TextureSource(options)\n    });\n  }\n  /**\n   * Resizes the render texture.\n   * @param width - The new width of the render texture.\n   * @param height - The new height of the render texture.\n   * @param resolution - The new resolution of the render texture.\n   * @returns This texture.\n   */\n  resize(width, height, resolution) {\n    this.source.resize(width, height, resolution);\n    return this;\n  }\n}\n\nexport { RenderTexture };\n//# sourceMappingURL=RenderTexture.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { Bounds } from '../../../../scene/container/bounds/Bounds.mjs';\nimport { getLocalBounds } from '../../../../scene/container/bounds/getLocalBounds.mjs';\nimport { Container } from '../../../../scene/container/Container.mjs';\nimport { RenderTexture } from '../texture/RenderTexture.mjs';\n\n\"use strict\";\nconst tempRect = new Rectangle();\nconst tempBounds = new Bounds();\nconst noColor = [0, 0, 0, 0];\nclass GenerateTextureSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  /**\n   * Creates a texture from a display object that can be used for creating sprites and other textures.\n   * This is particularly useful for optimizing performance when a complex container needs to be reused.\n   * @param options - Generate texture options or a container to convert to texture\n   * @returns A new RenderTexture containing the rendered display object\n   * @example\n   * ```ts\n   * // Basic usage with a container\n   * const container = new Container();\n   * container.addChild(\n   *     new Graphics()\n   *         .circle(0, 0, 50)\n   *         .fill('red')\n   * );\n   *\n   * const texture = renderer.textureGenerator.generateTexture(container);\n   *\n   * // Advanced usage with options\n   * const texture = renderer.textureGenerator.generateTexture({\n   *     target: container,\n   *     frame: new Rectangle(0, 0, 100, 100), // Specific region\n   *     resolution: 2,                        // High DPI\n   *     clearColor: '#ff0000',               // Red background\n   *     antialias: true                      // Smooth edges\n   * });\n   *\n   * // Create a sprite from the generated texture\n   * const sprite = new Sprite(texture);\n   *\n   * // Clean up when done\n   * texture.destroy(true);\n   * ```\n   * @see {@link GenerateTextureOptions} For detailed texture generation options\n   * @see {@link RenderTexture} For the type of texture created\n   * @category rendering\n   */\n  generateTexture(options) {\n    if (options instanceof Container) {\n      options = {\n        target: options,\n        frame: void 0,\n        textureSourceOptions: {},\n        resolution: void 0\n      };\n    }\n    const resolution = options.resolution || this._renderer.resolution;\n    const antialias = options.antialias || this._renderer.view.antialias;\n    const container = options.target;\n    let clearColor = options.clearColor;\n    if (clearColor) {\n      const isRGBAArray = Array.isArray(clearColor) && clearColor.length === 4;\n      clearColor = isRGBAArray ? clearColor : Color.shared.setValue(clearColor).toArray();\n    } else {\n      clearColor = noColor;\n    }\n    const region = options.frame?.copyTo(tempRect) || getLocalBounds(container, tempBounds).rectangle;\n    region.width = Math.max(region.width, 1 / resolution) | 0;\n    region.height = Math.max(region.height, 1 / resolution) | 0;\n    const target = RenderTexture.create({\n      ...options.textureSourceOptions,\n      width: region.width,\n      height: region.height,\n      resolution,\n      antialias\n    });\n    const transform = Matrix.shared.translate(-region.x, -region.y);\n    this._renderer.render({\n      container,\n      transform,\n      target,\n      clearColor\n    });\n    target.source.updateMipmaps();\n    return target;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nGenerateTextureSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"textureGenerator\"\n};\n\nexport { GenerateTextureSystem };\n//# sourceMappingURL=GenerateTextureSystem.mjs.map\n","\"use strict\";\nfunction colorToUniform(rgb, alpha, out, offset) {\n  out[offset++] = (rgb >> 16 & 255) / 255;\n  out[offset++] = (rgb >> 8 & 255) / 255;\n  out[offset++] = (rgb & 255) / 255;\n  out[offset++] = alpha;\n}\nfunction color32BitToUniform(abgr, out, offset) {\n  const alpha = (abgr >> 24 & 255) / 255;\n  out[offset++] = (abgr & 255) / 255 * alpha;\n  out[offset++] = (abgr >> 8 & 255) / 255 * alpha;\n  out[offset++] = (abgr >> 16 & 255) / 255 * alpha;\n  out[offset++] = alpha;\n}\n\nexport { color32BitToUniform, colorToUniform };\n//# sourceMappingURL=colorToUniform.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { Point } from '../../../../maths/point/Point.mjs';\nimport { color32BitToUniform } from '../../../../scene/graphics/gpu/colorToUniform.mjs';\nimport { BindGroup } from '../../gpu/shader/BindGroup.mjs';\nimport { RendererType } from '../../types.mjs';\nimport { UniformGroup } from '../shader/UniformGroup.mjs';\n\n\"use strict\";\nclass GlobalUniformSystem {\n  constructor(renderer) {\n    this._stackIndex = 0;\n    this._globalUniformDataStack = [];\n    this._uniformsPool = [];\n    this._activeUniforms = [];\n    this._bindGroupPool = [];\n    this._activeBindGroups = [];\n    this._renderer = renderer;\n  }\n  reset() {\n    this._stackIndex = 0;\n    for (let i = 0; i < this._activeUniforms.length; i++) {\n      this._uniformsPool.push(this._activeUniforms[i]);\n    }\n    for (let i = 0; i < this._activeBindGroups.length; i++) {\n      this._bindGroupPool.push(this._activeBindGroups[i]);\n    }\n    this._activeUniforms.length = 0;\n    this._activeBindGroups.length = 0;\n  }\n  start(options) {\n    this.reset();\n    this.push(options);\n  }\n  bind({\n    size,\n    projectionMatrix,\n    worldTransformMatrix,\n    worldColor,\n    offset\n  }) {\n    const renderTarget = this._renderer.renderTarget.renderTarget;\n    const currentGlobalUniformData = this._stackIndex ? this._globalUniformDataStack[this._stackIndex - 1] : {\n      projectionData: renderTarget,\n      worldTransformMatrix: new Matrix(),\n      worldColor: 4294967295,\n      offset: new Point()\n    };\n    const globalUniformData = {\n      projectionMatrix: projectionMatrix || this._renderer.renderTarget.projectionMatrix,\n      resolution: size || renderTarget.size,\n      worldTransformMatrix: worldTransformMatrix || currentGlobalUniformData.worldTransformMatrix,\n      worldColor: worldColor || currentGlobalUniformData.worldColor,\n      offset: offset || currentGlobalUniformData.offset,\n      bindGroup: null\n    };\n    const uniformGroup = this._uniformsPool.pop() || this._createUniforms();\n    this._activeUniforms.push(uniformGroup);\n    const uniforms = uniformGroup.uniforms;\n    uniforms.uProjectionMatrix = globalUniformData.projectionMatrix;\n    uniforms.uResolution = globalUniformData.resolution;\n    uniforms.uWorldTransformMatrix.copyFrom(globalUniformData.worldTransformMatrix);\n    uniforms.uWorldTransformMatrix.tx -= globalUniformData.offset.x;\n    uniforms.uWorldTransformMatrix.ty -= globalUniformData.offset.y;\n    color32BitToUniform(\n      globalUniformData.worldColor,\n      uniforms.uWorldColorAlpha,\n      0\n    );\n    uniformGroup.update();\n    let bindGroup;\n    if (this._renderer.renderPipes.uniformBatch) {\n      bindGroup = this._renderer.renderPipes.uniformBatch.getUniformBindGroup(uniformGroup, false);\n    } else {\n      bindGroup = this._bindGroupPool.pop() || new BindGroup();\n      this._activeBindGroups.push(bindGroup);\n      bindGroup.setResource(uniformGroup, 0);\n    }\n    globalUniformData.bindGroup = bindGroup;\n    this._currentGlobalUniformData = globalUniformData;\n  }\n  push(options) {\n    this.bind(options);\n    this._globalUniformDataStack[this._stackIndex++] = this._currentGlobalUniformData;\n  }\n  pop() {\n    this._currentGlobalUniformData = this._globalUniformDataStack[--this._stackIndex - 1];\n    if (this._renderer.type === RendererType.WEBGL) {\n      this._currentGlobalUniformData.bindGroup.resources[0].update();\n    }\n  }\n  get bindGroup() {\n    return this._currentGlobalUniformData.bindGroup;\n  }\n  get globalUniformData() {\n    return this._currentGlobalUniformData;\n  }\n  get uniformGroup() {\n    return this._currentGlobalUniformData.bindGroup.resources[0];\n  }\n  _createUniforms() {\n    const globalUniforms = new UniformGroup({\n      uProjectionMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uWorldTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      // TODO - someone smart - set this to be a unorm8x4 rather than a vec4<f32>\n      uWorldColorAlpha: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uResolution: { value: [0, 0], type: \"vec2<f32>\" }\n    }, {\n      isStatic: true\n    });\n    return globalUniforms;\n  }\n  destroy() {\n    this._renderer = null;\n    this._globalUniformDataStack.length = 0;\n    this._uniformsPool.length = 0;\n    this._activeUniforms.length = 0;\n    this._bindGroupPool.length = 0;\n    this._activeBindGroups.length = 0;\n    this._currentGlobalUniformData = null;\n  }\n}\n/** @ignore */\nGlobalUniformSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"globalUniforms\"\n};\n\nexport { GlobalUniformSystem };\n//# sourceMappingURL=GlobalUniformSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Ticker } from '../../../ticker/Ticker.mjs';\n\n\"use strict\";\nlet uid = 1;\nclass SchedulerSystem {\n  constructor() {\n    this._tasks = [];\n    /** a small off set to apply to the repeat schedules. This is just to make sure they run at slightly different times */\n    this._offset = 0;\n  }\n  /** Initializes the scheduler system and starts the ticker. */\n  init() {\n    Ticker.system.add(this._update, this);\n  }\n  /**\n   * Schedules a repeating task.\n   * @param func - The function to execute.\n   * @param duration - The interval duration in milliseconds.\n   * @param useOffset - this will spread out tasks so that they do not all run at the same time\n   * @returns The unique identifier for the scheduled task.\n   */\n  repeat(func, duration, useOffset = true) {\n    const id = uid++;\n    let offset = 0;\n    if (useOffset) {\n      this._offset += 1e3;\n      offset = this._offset;\n    }\n    this._tasks.push({\n      func,\n      duration,\n      start: performance.now(),\n      offset,\n      last: performance.now(),\n      repeat: true,\n      id\n    });\n    return id;\n  }\n  /**\n   * Cancels a scheduled task.\n   * @param id - The unique identifier of the task to cancel.\n   */\n  cancel(id) {\n    for (let i = 0; i < this._tasks.length; i++) {\n      if (this._tasks[i].id === id) {\n        this._tasks.splice(i, 1);\n        return;\n      }\n    }\n  }\n  /**\n   * Updates and executes the scheduled tasks.\n   * @private\n   */\n  _update() {\n    const now = performance.now();\n    for (let i = 0; i < this._tasks.length; i++) {\n      const task = this._tasks[i];\n      if (now - task.offset - task.last >= task.duration) {\n        const elapsed = now - task.start;\n        task.func(elapsed);\n        task.last = now;\n      }\n    }\n  }\n  /**\n   * Destroys the scheduler system and removes all tasks.\n   * @internal\n   */\n  destroy() {\n    Ticker.system.remove(this._update, this);\n    this._tasks.length = 0;\n  }\n}\n/** @ignore */\nSchedulerSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"scheduler\",\n  priority: 0\n};\n\nexport { SchedulerSystem };\n//# sourceMappingURL=SchedulerSystem.mjs.map\n","import { DOMAdapter } from '../environment/adapter.mjs';\nimport { VERSION } from './const.mjs';\n\n\"use strict\";\nlet saidHello = false;\nfunction sayHello(type) {\n  if (saidHello) {\n    return;\n  }\n  if (DOMAdapter.get().getNavigator().userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\n    const args = [\n      `%c  %c  %c  %c  %c PixiJS %c v${VERSION} (${type}) http://www.pixijs.com/\n\n`,\n      \"background: #E72264; padding:5px 0;\",\n      \"background: #6CA2EA; padding:5px 0;\",\n      \"background: #B5D33D; padding:5px 0;\",\n      \"background: #FED23F; padding:5px 0;\",\n      \"color: #FFFFFF; background: #E72264; padding:5px 0;\",\n      \"color: #E72264; background: #FFFFFF; padding:5px 0;\"\n    ];\n    globalThis.console.log(...args);\n  } else if (globalThis.console) {\n    globalThis.console.log(`PixiJS ${VERSION} - ${type} - http://www.pixijs.com/`);\n  }\n  saidHello = true;\n}\n\nexport { sayHello };\n//# sourceMappingURL=sayHello.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { sayHello } from '../../../../utils/sayHello.mjs';\nimport { RendererType } from '../../types.mjs';\n\n\"use strict\";\nclass HelloSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  /**\n   * It all starts here! This initiates every system, passing in the options for any system by name.\n   * @param options - the config for the renderer and all its systems\n   */\n  init(options) {\n    if (options.hello) {\n      let name = this._renderer.name;\n      if (this._renderer.type === RendererType.WEBGL) {\n        name += ` ${this._renderer.context.webGLVersion}`;\n      }\n      sayHello(name);\n    }\n  }\n}\n/** @ignore */\nHelloSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"hello\",\n  priority: -2\n};\n/** The default options for the system. */\nHelloSystem.defaultOptions = {\n  /** {@link WebGLOptions.hello} */\n  hello: false\n};\n\nexport { HelloSystem };\n//# sourceMappingURL=HelloSystem.mjs.map\n","\"use strict\";\nfunction cleanHash(hash) {\n  let clean = false;\n  for (const i in hash) {\n    if (hash[i] == void 0) {\n      clean = true;\n      break;\n    }\n  }\n  if (!clean)\n    return hash;\n  const cleanHash2 = /* @__PURE__ */ Object.create(null);\n  for (const i in hash) {\n    const value = hash[i];\n    if (value) {\n      cleanHash2[i] = value;\n    }\n  }\n  return cleanHash2;\n}\nfunction cleanArray(arr) {\n  let offset = 0;\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] == void 0) {\n      offset++;\n    } else {\n      arr[i - offset] = arr[i];\n    }\n  }\n  arr.length -= offset;\n  return arr;\n}\n\nexport { cleanArray, cleanHash };\n//# sourceMappingURL=clean.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { cleanHash, cleanArray } from '../../../../utils/data/clean.mjs';\n\n\"use strict\";\nlet renderableGCTick = 0;\nconst _RenderableGCSystem = class _RenderableGCSystem {\n  /**\n   * Creates a new RenderableGCSystem instance.\n   * @param renderer - The renderer this garbage collection system works for\n   */\n  constructor(renderer) {\n    /** Array of renderables being tracked for garbage collection */\n    this._managedRenderables = [];\n    /** Array of hash objects being tracked for cleanup */\n    this._managedHashes = [];\n    /** Array of arrays being tracked for cleanup */\n    this._managedArrays = [];\n    this._renderer = renderer;\n  }\n  /**\n   * Initializes the garbage collection system with the provided options.\n   * @param options - Configuration options for the renderer\n   */\n  init(options) {\n    options = { ..._RenderableGCSystem.defaultOptions, ...options };\n    this.maxUnusedTime = options.renderableGCMaxUnusedTime;\n    this._frequency = options.renderableGCFrequency;\n    this.enabled = options.renderableGCActive;\n  }\n  /**\n   * Gets whether the garbage collection system is currently enabled.\n   * @returns True if GC is enabled, false otherwise\n   */\n  get enabled() {\n    return !!this._handler;\n  }\n  /**\n   * Enables or disables the garbage collection system.\n   * When enabled, schedules periodic cleanup of resources.\n   * When disabled, cancels all scheduled cleanups.\n   */\n  set enabled(value) {\n    if (this.enabled === value)\n      return;\n    if (value) {\n      this._handler = this._renderer.scheduler.repeat(\n        () => this.run(),\n        this._frequency,\n        false\n      );\n      this._hashHandler = this._renderer.scheduler.repeat(\n        () => {\n          for (const hash of this._managedHashes) {\n            hash.context[hash.hash] = cleanHash(hash.context[hash.hash]);\n          }\n        },\n        this._frequency\n      );\n      this._arrayHandler = this._renderer.scheduler.repeat(\n        () => {\n          for (const array of this._managedArrays) {\n            cleanArray(array.context[array.hash]);\n          }\n        },\n        this._frequency\n      );\n    } else {\n      this._renderer.scheduler.cancel(this._handler);\n      this._renderer.scheduler.cancel(this._hashHandler);\n      this._renderer.scheduler.cancel(this._arrayHandler);\n    }\n  }\n  /**\n   * Adds a hash table to be managed by the garbage collector.\n   * @param context - The object containing the hash table\n   * @param hash - The property name of the hash table\n   */\n  addManagedHash(context, hash) {\n    this._managedHashes.push({ context, hash });\n  }\n  /**\n   * Adds an array to be managed by the garbage collector.\n   * @param context - The object containing the array\n   * @param hash - The property name of the array\n   */\n  addManagedArray(context, hash) {\n    this._managedArrays.push({ context, hash });\n  }\n  /**\n   * Updates the GC timestamp and tracking before rendering.\n   * @param options - The render options\n   * @param options.container - The container to render\n   */\n  prerender({\n    container\n  }) {\n    this._now = performance.now();\n    container.renderGroup.gcTick = renderableGCTick++;\n    this._updateInstructionGCTick(container.renderGroup, container.renderGroup.gcTick);\n  }\n  /**\n   * Starts tracking a renderable for garbage collection.\n   * @param renderable - The renderable to track\n   */\n  addRenderable(renderable) {\n    if (!this.enabled)\n      return;\n    if (renderable._lastUsed === -1) {\n      this._managedRenderables.push(renderable);\n      renderable.once(\"destroyed\", this._removeRenderable, this);\n    }\n    renderable._lastUsed = this._now;\n  }\n  /**\n   * Performs garbage collection by cleaning up unused renderables.\n   * Removes renderables that haven't been used for longer than maxUnusedTime.\n   */\n  run() {\n    const now = this._now;\n    const managedRenderables = this._managedRenderables;\n    const renderPipes = this._renderer.renderPipes;\n    let offset = 0;\n    for (let i = 0; i < managedRenderables.length; i++) {\n      const renderable = managedRenderables[i];\n      if (renderable === null) {\n        offset++;\n        continue;\n      }\n      const renderGroup = renderable.renderGroup ?? renderable.parentRenderGroup;\n      const currentTick = renderGroup?.instructionSet?.gcTick ?? -1;\n      if ((renderGroup?.gcTick ?? 0) === currentTick) {\n        renderable._lastUsed = now;\n      }\n      if (now - renderable._lastUsed > this.maxUnusedTime) {\n        if (!renderable.destroyed) {\n          const rp = renderPipes;\n          if (renderGroup)\n            renderGroup.structureDidChange = true;\n          rp[renderable.renderPipeId].destroyRenderable(renderable);\n        }\n        renderable._lastUsed = -1;\n        offset++;\n        renderable.off(\"destroyed\", this._removeRenderable, this);\n      } else {\n        managedRenderables[i - offset] = renderable;\n      }\n    }\n    managedRenderables.length -= offset;\n  }\n  /** Cleans up the garbage collection system. Disables GC and removes all tracked resources. */\n  destroy() {\n    this.enabled = false;\n    this._renderer = null;\n    this._managedRenderables.length = 0;\n    this._managedHashes.length = 0;\n    this._managedArrays.length = 0;\n  }\n  /**\n   * Removes a renderable from being tracked when it's destroyed.\n   * @param renderable - The renderable to stop tracking\n   */\n  _removeRenderable(renderable) {\n    const index = this._managedRenderables.indexOf(renderable);\n    if (index >= 0) {\n      renderable.off(\"destroyed\", this._removeRenderable, this);\n      this._managedRenderables[index] = null;\n    }\n  }\n  /**\n   * Updates the GC tick counter for a render group and its children.\n   * @param renderGroup - The render group to update\n   * @param gcTick - The new tick value\n   */\n  _updateInstructionGCTick(renderGroup, gcTick) {\n    renderGroup.instructionSet.gcTick = gcTick;\n    for (const child of renderGroup.renderGroupChildren) {\n      this._updateInstructionGCTick(child, gcTick);\n    }\n  }\n};\n/**\n * Extension metadata for registering this system with the renderer.\n * @ignore\n */\n_RenderableGCSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"renderableGC\",\n  priority: 0\n};\n/**\n * Default configuration options for the garbage collection system.\n * These can be overridden when initializing the renderer.\n */\n_RenderableGCSystem.defaultOptions = {\n  /** Enable/disable the garbage collector */\n  renderableGCActive: true,\n  /** Time in ms before an unused resource is collected (default 1 minute) */\n  renderableGCMaxUnusedTime: 6e4,\n  /** How often to run garbage collection in ms (default 30 seconds) */\n  renderableGCFrequency: 3e4\n};\nlet RenderableGCSystem = _RenderableGCSystem;\n\nexport { RenderableGCSystem };\n//# sourceMappingURL=RenderableGCSystem.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst _TextureGCSystem = class _TextureGCSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    this._renderer = renderer;\n    this.count = 0;\n    this.checkCount = 0;\n  }\n  init(options) {\n    options = { ..._TextureGCSystem.defaultOptions, ...options };\n    this.checkCountMax = options.textureGCCheckCountMax;\n    this.maxIdle = options.textureGCAMaxIdle ?? options.textureGCMaxIdle;\n    this.active = options.textureGCActive;\n  }\n  /**\n   * Checks to see when the last time a texture was used.\n   * If the texture has not been used for a specified amount of time, it will be removed from the GPU.\n   */\n  postrender() {\n    if (!this._renderer.renderingToScreen) {\n      return;\n    }\n    this.count++;\n    if (!this.active)\n      return;\n    this.checkCount++;\n    if (this.checkCount > this.checkCountMax) {\n      this.checkCount = 0;\n      this.run();\n    }\n  }\n  /**\n   * Checks to see when the last time a texture was used.\n   * If the texture has not been used for a specified amount of time, it will be removed from the GPU.\n   */\n  run() {\n    const managedTextures = this._renderer.texture.managedTextures;\n    for (let i = 0; i < managedTextures.length; i++) {\n      const texture = managedTextures[i];\n      if (texture.autoGarbageCollect && texture.resource && texture._touched > -1 && this.count - texture._touched > this.maxIdle) {\n        texture._touched = -1;\n        texture.unload();\n      }\n    }\n  }\n  destroy() {\n    this._renderer = null;\n  }\n};\n/** @ignore */\n_TextureGCSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"textureGC\"\n};\n/** default options for the TextureGCSystem */\n_TextureGCSystem.defaultOptions = {\n  /**\n   * If set to true, this will enable the garbage collector on the GPU.\n   * @default true\n   */\n  textureGCActive: true,\n  /**\n   * @deprecated since 8.3.0\n   * @see {@link TextureGCSystemOptions.textureGCMaxIdle}\n   */\n  textureGCAMaxIdle: null,\n  /**\n   * The maximum idle frames before a texture is destroyed by garbage collection.\n   * @default 60 * 60\n   */\n  textureGCMaxIdle: 60 * 60,\n  /**\n   * Frames between two garbage collections.\n   * @default 600\n   */\n  textureGCCheckCountMax: 600\n};\nlet TextureGCSystem = _TextureGCSystem;\n\nexport { TextureGCSystem };\n//# sourceMappingURL=TextureGCSystem.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\nimport { RenderTarget } from '../renderTarget/RenderTarget.mjs';\nimport { getCanvasTexture } from '../texture/utils/getCanvasTexture.mjs';\n\n\"use strict\";\nconst _ViewSystem = class _ViewSystem {\n  /**\n   * Whether CSS dimensions of canvas view should be resized to screen dimensions automatically.\n   * This is only supported for HTMLCanvasElement and will be ignored if the canvas is an OffscreenCanvas.\n   * @type {boolean}\n   */\n  get autoDensity() {\n    return this.texture.source.autoDensity;\n  }\n  set autoDensity(value) {\n    this.texture.source.autoDensity = value;\n  }\n  /** The resolution / device pixel ratio of the renderer. */\n  get resolution() {\n    return this.texture.source._resolution;\n  }\n  set resolution(value) {\n    this.texture.source.resize(\n      this.texture.source.width,\n      this.texture.source.height,\n      value\n    );\n  }\n  /**\n   * initiates the view system\n   * @param options - the options for the view\n   */\n  init(options) {\n    options = {\n      ..._ViewSystem.defaultOptions,\n      ...options\n    };\n    if (options.view) {\n      deprecation(v8_0_0, \"ViewSystem.view has been renamed to ViewSystem.canvas\");\n      options.canvas = options.view;\n    }\n    this.screen = new Rectangle(0, 0, options.width, options.height);\n    this.canvas = options.canvas || DOMAdapter.get().createCanvas();\n    this.antialias = !!options.antialias;\n    this.texture = getCanvasTexture(this.canvas, options);\n    this.renderTarget = new RenderTarget({\n      colorTextures: [this.texture],\n      depth: !!options.depth,\n      isRoot: true\n    });\n    this.texture.source.transparent = options.backgroundAlpha < 1;\n    this.resolution = options.resolution;\n  }\n  /**\n   * Resizes the screen and canvas to the specified dimensions.\n   * @param desiredScreenWidth - The new width of the screen.\n   * @param desiredScreenHeight - The new height of the screen.\n   * @param resolution\n   */\n  resize(desiredScreenWidth, desiredScreenHeight, resolution) {\n    this.texture.source.resize(desiredScreenWidth, desiredScreenHeight, resolution);\n    this.screen.width = this.texture.frame.width;\n    this.screen.height = this.texture.frame.height;\n  }\n  /**\n   * Destroys this System and optionally removes the canvas from the dom.\n   * @param {options | false} options - The options for destroying the view, or \"false\".\n   * @example\n   * viewSystem.destroy();\n   * viewSystem.destroy(true);\n   * viewSystem.destroy({ removeView: true });\n   */\n  destroy(options = false) {\n    const removeView = typeof options === \"boolean\" ? options : !!options?.removeView;\n    if (removeView && this.canvas.parentNode) {\n      this.canvas.parentNode.removeChild(this.canvas);\n    }\n    this.texture.destroy();\n  }\n};\n/** @ignore */\n_ViewSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"view\",\n  priority: 0\n};\n/** The default options for the view system. */\n_ViewSystem.defaultOptions = {\n  /**\n   * {@link WebGLOptions.width}\n   * @default 800\n   */\n  width: 800,\n  /**\n   * {@link WebGLOptions.height}\n   * @default 600\n   */\n  height: 600,\n  /**\n   * {@link WebGLOptions.autoDensity}\n   * @default false\n   */\n  autoDensity: false,\n  /**\n   * {@link WebGLOptions.antialias}\n   * @default false\n   */\n  antialias: false\n};\nlet ViewSystem = _ViewSystem;\n\nexport { ViewSystem };\n//# sourceMappingURL=ViewSystem.mjs.map\n","import { CustomRenderPipe } from '../../../../scene/container/CustomRenderPipe.mjs';\nimport { RenderGroupPipe } from '../../../../scene/container/RenderGroupPipe.mjs';\nimport { RenderGroupSystem } from '../../../../scene/container/RenderGroupSystem.mjs';\nimport { SpritePipe } from '../../../../scene/sprite/SpritePipe.mjs';\nimport { RendererInitHook } from '../../../../utils/global/globalHooks.mjs';\nimport { BatcherPipe } from '../../../batcher/shared/BatcherPipe.mjs';\nimport { AlphaMaskPipe } from '../../../mask/alpha/AlphaMaskPipe.mjs';\nimport { ColorMaskPipe } from '../../../mask/color/ColorMaskPipe.mjs';\nimport { StencilMaskPipe } from '../../../mask/stencil/StencilMaskPipe.mjs';\nimport { BackgroundSystem } from '../background/BackgroundSystem.mjs';\nimport { BlendModePipe } from '../blendModes/BlendModePipe.mjs';\nimport { ExtractSystem } from '../extract/ExtractSystem.mjs';\nimport { GenerateTextureSystem } from '../extract/GenerateTextureSystem.mjs';\nimport { GlobalUniformSystem } from '../renderTarget/GlobalUniformSystem.mjs';\nimport { SchedulerSystem } from '../SchedulerSystem.mjs';\nimport { HelloSystem } from '../startup/HelloSystem.mjs';\nimport { RenderableGCSystem } from '../texture/RenderableGCSystem.mjs';\nimport { TextureGCSystem } from '../texture/TextureGCSystem.mjs';\nimport { ViewSystem } from '../view/ViewSystem.mjs';\n\n\"use strict\";\nconst SharedSystems = [\n  BackgroundSystem,\n  GlobalUniformSystem,\n  HelloSystem,\n  ViewSystem,\n  RenderGroupSystem,\n  TextureGCSystem,\n  GenerateTextureSystem,\n  ExtractSystem,\n  RendererInitHook,\n  RenderableGCSystem,\n  SchedulerSystem\n];\nconst SharedRenderPipes = [\n  BlendModePipe,\n  BatcherPipe,\n  SpritePipe,\n  RenderGroupPipe,\n  AlphaMaskPipe,\n  StencilMaskPipe,\n  ColorMaskPipe,\n  CustomRenderPipe\n];\n\nexport { SharedRenderPipes, SharedSystems };\n//# sourceMappingURL=SharedSystems.mjs.map\n","import { extensions, ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GlGraphicsAdaptor } from '../../../scene/graphics/gl/GlGraphicsAdaptor.mjs';\nimport { GlMeshAdaptor } from '../../../scene/mesh/gl/GlMeshAdaptor.mjs';\nimport { GlBatchAdaptor } from '../../batcher/gl/GlBatchAdaptor.mjs';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer.mjs';\nimport { SharedSystems, SharedRenderPipes } from '../shared/system/SharedSystems.mjs';\nimport { RendererType } from '../types.mjs';\nimport { GlBufferSystem } from './buffer/GlBufferSystem.mjs';\nimport { GlContextSystem } from './context/GlContextSystem.mjs';\nimport { GlGeometrySystem } from './geometry/GlGeometrySystem.mjs';\nimport { GlBackBufferSystem } from './GlBackBufferSystem.mjs';\nimport { GlColorMaskSystem } from './GlColorMaskSystem.mjs';\nimport { GlEncoderSystem } from './GlEncoderSystem.mjs';\nimport { GlLimitsSystem } from './GlLimitsSystem.mjs';\nimport { GlStencilSystem } from './GlStencilSystem.mjs';\nimport { GlUboSystem } from './GlUboSystem.mjs';\nimport { GlRenderTargetSystem } from './renderTarget/GlRenderTargetSystem.mjs';\nimport { GlShaderSystem } from './shader/GlShaderSystem.mjs';\nimport { GlUniformGroupSystem } from './shader/GlUniformGroupSystem.mjs';\nimport { GlStateSystem } from './state/GlStateSystem.mjs';\nimport { GlTextureSystem } from './texture/GlTextureSystem.mjs';\n\n\"use strict\";\nconst DefaultWebGLSystems = [\n  ...SharedSystems,\n  GlUboSystem,\n  GlBackBufferSystem,\n  GlContextSystem,\n  GlLimitsSystem,\n  GlBufferSystem,\n  GlTextureSystem,\n  GlRenderTargetSystem,\n  GlGeometrySystem,\n  GlUniformGroupSystem,\n  GlShaderSystem,\n  GlEncoderSystem,\n  GlStateSystem,\n  GlStencilSystem,\n  GlColorMaskSystem\n];\nconst DefaultWebGLPipes = [...SharedRenderPipes];\nconst DefaultWebGLAdapters = [GlBatchAdaptor, GlMeshAdaptor, GlGraphicsAdaptor];\nconst systems = [];\nconst renderPipes = [];\nconst renderPipeAdaptors = [];\nextensions.handleByNamedList(ExtensionType.WebGLSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGLPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGLPipesAdaptor, renderPipeAdaptors);\nextensions.add(...DefaultWebGLSystems, ...DefaultWebGLPipes, ...DefaultWebGLAdapters);\nclass WebGLRenderer extends AbstractRenderer {\n  constructor() {\n    const systemConfig = {\n      name: \"webgl\",\n      type: RendererType.WEBGL,\n      systems,\n      renderPipes,\n      renderPipeAdaptors\n    };\n    super(systemConfig);\n  }\n}\n\nexport { WebGLRenderer };\n//# sourceMappingURL=WebGLRenderer.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass BindGroupSystem {\n  constructor(renderer) {\n    this._hash = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    this._renderer.renderableGC.addManagedHash(this, \"_hash\");\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n  }\n  getBindGroup(bindGroup, program, groupIndex) {\n    bindGroup._updateKey();\n    const gpuBindGroup = this._hash[bindGroup._key] || this._createBindGroup(bindGroup, program, groupIndex);\n    return gpuBindGroup;\n  }\n  _createBindGroup(group, program, groupIndex) {\n    const device = this._gpu.device;\n    const groupLayout = program.layout[groupIndex];\n    const entries = [];\n    const renderer = this._renderer;\n    for (const j in groupLayout) {\n      const resource = group.resources[j] ?? group.resources[groupLayout[j]];\n      let gpuResource;\n      if (resource._resourceType === \"uniformGroup\") {\n        const uniformGroup = resource;\n        renderer.ubo.updateUniformGroup(uniformGroup);\n        const buffer = uniformGroup.buffer;\n        gpuResource = {\n          buffer: renderer.buffer.getGPUBuffer(buffer),\n          offset: 0,\n          size: buffer.descriptor.size\n        };\n      } else if (resource._resourceType === \"buffer\") {\n        const buffer = resource;\n        gpuResource = {\n          buffer: renderer.buffer.getGPUBuffer(buffer),\n          offset: 0,\n          size: buffer.descriptor.size\n        };\n      } else if (resource._resourceType === \"bufferResource\") {\n        const bufferResource = resource;\n        gpuResource = {\n          buffer: renderer.buffer.getGPUBuffer(bufferResource.buffer),\n          offset: bufferResource.offset,\n          size: bufferResource.size\n        };\n      } else if (resource._resourceType === \"textureSampler\") {\n        const sampler = resource;\n        gpuResource = renderer.texture.getGpuSampler(sampler);\n      } else if (resource._resourceType === \"textureSource\") {\n        const texture = resource;\n        gpuResource = renderer.texture.getGpuSource(texture).createView({});\n      }\n      entries.push({\n        binding: groupLayout[j],\n        resource: gpuResource\n      });\n    }\n    const layout = renderer.shader.getProgramData(program).bindGroups[groupIndex];\n    const gpuBindGroup = device.createBindGroup({\n      layout,\n      entries\n    });\n    this._hash[group._key] = gpuBindGroup;\n    return gpuBindGroup;\n  }\n  destroy() {\n    for (const key of Object.keys(this._hash)) {\n      this._hash[key] = null;\n    }\n    this._hash = null;\n    this._renderer = null;\n  }\n}\n/** @ignore */\nBindGroupSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"bindGroup\"\n};\n\nexport { BindGroupSystem };\n//# sourceMappingURL=BindGroupSystem.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { fastCopy } from '../../shared/buffer/utils/fastCopy.mjs';\n\n\"use strict\";\nclass GpuBufferSystem {\n  constructor(renderer) {\n    this._gpuBuffers = /* @__PURE__ */ Object.create(null);\n    this._managedBuffers = [];\n    renderer.renderableGC.addManagedHash(this, \"_gpuBuffers\");\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n  }\n  getGPUBuffer(buffer) {\n    return this._gpuBuffers[buffer.uid] || this.createGPUBuffer(buffer);\n  }\n  updateBuffer(buffer) {\n    const gpuBuffer = this._gpuBuffers[buffer.uid] || this.createGPUBuffer(buffer);\n    const data = buffer.data;\n    if (buffer._updateID && data) {\n      buffer._updateID = 0;\n      this._gpu.device.queue.writeBuffer(\n        gpuBuffer,\n        0,\n        data.buffer,\n        0,\n        // round to the nearest 4 bytes\n        (buffer._updateSize || data.byteLength) + 3 & ~3\n      );\n    }\n    return gpuBuffer;\n  }\n  /** dispose all WebGL resources of all managed buffers */\n  destroyAll() {\n    for (const id in this._gpuBuffers) {\n      this._gpuBuffers[id].destroy();\n    }\n    this._gpuBuffers = {};\n  }\n  createGPUBuffer(buffer) {\n    if (!this._gpuBuffers[buffer.uid]) {\n      buffer.on(\"update\", this.updateBuffer, this);\n      buffer.on(\"change\", this.onBufferChange, this);\n      buffer.on(\"destroy\", this.onBufferDestroy, this);\n      this._managedBuffers.push(buffer);\n    }\n    const gpuBuffer = this._gpu.device.createBuffer(buffer.descriptor);\n    buffer._updateID = 0;\n    if (buffer.data) {\n      fastCopy(buffer.data.buffer, gpuBuffer.getMappedRange());\n      gpuBuffer.unmap();\n    }\n    this._gpuBuffers[buffer.uid] = gpuBuffer;\n    return gpuBuffer;\n  }\n  onBufferChange(buffer) {\n    const gpuBuffer = this._gpuBuffers[buffer.uid];\n    gpuBuffer.destroy();\n    buffer._updateID = 0;\n    this._gpuBuffers[buffer.uid] = this.createGPUBuffer(buffer);\n  }\n  /**\n   * Disposes buffer\n   * @param buffer - buffer with data\n   */\n  onBufferDestroy(buffer) {\n    this._managedBuffers.splice(this._managedBuffers.indexOf(buffer), 1);\n    this._destroyBuffer(buffer);\n  }\n  destroy() {\n    this._managedBuffers.forEach((buffer) => this._destroyBuffer(buffer));\n    this._managedBuffers = null;\n    this._gpuBuffers = null;\n  }\n  _destroyBuffer(buffer) {\n    const gpuBuffer = this._gpuBuffers[buffer.uid];\n    gpuBuffer.destroy();\n    buffer.off(\"update\", this.updateBuffer, this);\n    buffer.off(\"change\", this.onBufferChange, this);\n    buffer.off(\"destroy\", this.onBufferDestroy, this);\n    this._gpuBuffers[buffer.uid] = null;\n  }\n}\n/** @ignore */\nGpuBufferSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"buffer\"\n};\n\nexport { GpuBufferSystem };\n//# sourceMappingURL=GpuBufferSystem.mjs.map\n","\"use strict\";\nclass UboBatch {\n  constructor({ minUniformOffsetAlignment }) {\n    this._minUniformOffsetAlignment = 256;\n    this.byteIndex = 0;\n    this._minUniformOffsetAlignment = minUniformOffsetAlignment;\n    this.data = new Float32Array(65535);\n  }\n  clear() {\n    this.byteIndex = 0;\n  }\n  addEmptyGroup(size) {\n    if (size > this._minUniformOffsetAlignment / 4) {\n      throw new Error(`UniformBufferBatch: array is too large: ${size * 4}`);\n    }\n    const start = this.byteIndex;\n    let newSize = start + size * 4;\n    newSize = Math.ceil(newSize / this._minUniformOffsetAlignment) * this._minUniformOffsetAlignment;\n    if (newSize > this.data.length * 4) {\n      throw new Error(\"UniformBufferBatch: ubo batch got too big\");\n    }\n    this.byteIndex = newSize;\n    return start;\n  }\n  addGroup(array) {\n    const offset = this.addEmptyGroup(array.length);\n    for (let i = 0; i < array.length; i++) {\n      this.data[offset / 4 + i] = array[i];\n    }\n    return offset;\n  }\n  destroy() {\n    this.data = null;\n  }\n}\n\nexport { UboBatch };\n//# sourceMappingURL=UboBatch.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GpuColorMaskSystem {\n  constructor(renderer) {\n    this._colorMaskCache = 15;\n    this._renderer = renderer;\n  }\n  setMask(colorMask) {\n    if (this._colorMaskCache === colorMask)\n      return;\n    this._colorMaskCache = colorMask;\n    this._renderer.pipeline.setColorMask(colorMask);\n  }\n  destroy() {\n    this._renderer = null;\n    this._colorMaskCache = null;\n  }\n}\n/** @ignore */\nGpuColorMaskSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"colorMask\"\n};\n\nexport { GpuColorMaskSystem };\n//# sourceMappingURL=GpuColorMaskSystem.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GpuDeviceSystem {\n  /**\n   * @param {WebGPURenderer} renderer - The renderer this System works for.\n   */\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  async init(options) {\n    if (this._initPromise)\n      return this._initPromise;\n    this._initPromise = (options.gpu ? Promise.resolve(options.gpu) : this._createDeviceAndAdaptor(options)).then((gpu) => {\n      this.gpu = gpu;\n      this._renderer.runners.contextChange.emit(this.gpu);\n    });\n    return this._initPromise;\n  }\n  /**\n   * Handle the context change event\n   * @param gpu\n   */\n  contextChange(gpu) {\n    this._renderer.gpu = gpu;\n  }\n  /**\n   * Helper class to create a WebGL Context\n   * @param {object} options - An options object that gets passed in to the canvas element containing the\n   *    context attributes\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext\n   * @returns {WebGLRenderingContext} the WebGL context\n   */\n  async _createDeviceAndAdaptor(options) {\n    const adapter = await DOMAdapter.get().getNavigator().gpu.requestAdapter({\n      powerPreference: options.powerPreference,\n      forceFallbackAdapter: options.forceFallbackAdapter\n    });\n    const requiredFeatures = [\n      \"texture-compression-bc\",\n      \"texture-compression-astc\",\n      \"texture-compression-etc2\"\n    ].filter((feature) => adapter.features.has(feature));\n    const device = await adapter.requestDevice({\n      requiredFeatures\n    });\n    return { adapter, device };\n  }\n  destroy() {\n    this.gpu = null;\n    this._renderer = null;\n  }\n}\n/** @ignore */\nGpuDeviceSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"device\"\n};\n/** The default options for the GpuDeviceSystem. */\nGpuDeviceSystem.defaultOptions = {\n  /**\n   * {@link WebGPUOptions.powerPreference}\n   * @default default\n   */\n  powerPreference: void 0,\n  /**\n   * Force the use of the fallback adapter\n   * @default false\n   */\n  forceFallbackAdapter: false\n};\n\nexport { GpuDeviceSystem };\n//# sourceMappingURL=GpuDeviceSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GpuEncoderSystem {\n  constructor(renderer) {\n    this._boundBindGroup = /* @__PURE__ */ Object.create(null);\n    this._boundVertexBuffer = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n  }\n  renderStart() {\n    this.commandFinished = new Promise((resolve) => {\n      this._resolveCommandFinished = resolve;\n    });\n    this.commandEncoder = this._renderer.gpu.device.createCommandEncoder();\n  }\n  beginRenderPass(gpuRenderTarget) {\n    this.endRenderPass();\n    this._clearCache();\n    this.renderPassEncoder = this.commandEncoder.beginRenderPass(gpuRenderTarget.descriptor);\n  }\n  endRenderPass() {\n    if (this.renderPassEncoder) {\n      this.renderPassEncoder.end();\n    }\n    this.renderPassEncoder = null;\n  }\n  setViewport(viewport) {\n    this.renderPassEncoder.setViewport(viewport.x, viewport.y, viewport.width, viewport.height, 0, 1);\n  }\n  setPipelineFromGeometryProgramAndState(geometry, program, state, topology) {\n    const pipeline = this._renderer.pipeline.getPipeline(geometry, program, state, topology);\n    this.setPipeline(pipeline);\n  }\n  setPipeline(pipeline) {\n    if (this._boundPipeline === pipeline)\n      return;\n    this._boundPipeline = pipeline;\n    this.renderPassEncoder.setPipeline(pipeline);\n  }\n  _setVertexBuffer(index, buffer) {\n    if (this._boundVertexBuffer[index] === buffer)\n      return;\n    this._boundVertexBuffer[index] = buffer;\n    this.renderPassEncoder.setVertexBuffer(index, this._renderer.buffer.updateBuffer(buffer));\n  }\n  _setIndexBuffer(buffer) {\n    if (this._boundIndexBuffer === buffer)\n      return;\n    this._boundIndexBuffer = buffer;\n    const indexFormat = buffer.data.BYTES_PER_ELEMENT === 2 ? \"uint16\" : \"uint32\";\n    this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(buffer), indexFormat);\n  }\n  resetBindGroup(index) {\n    this._boundBindGroup[index] = null;\n  }\n  setBindGroup(index, bindGroup, program) {\n    if (this._boundBindGroup[index] === bindGroup)\n      return;\n    this._boundBindGroup[index] = bindGroup;\n    bindGroup._touch(this._renderer.textureGC.count);\n    const gpuBindGroup = this._renderer.bindGroup.getBindGroup(bindGroup, program, index);\n    this.renderPassEncoder.setBindGroup(index, gpuBindGroup);\n  }\n  setGeometry(geometry, program) {\n    const buffersToBind = this._renderer.pipeline.getBufferNamesToBind(geometry, program);\n    for (const i in buffersToBind) {\n      this._setVertexBuffer(parseInt(i, 10), geometry.attributes[buffersToBind[i]].buffer);\n    }\n    if (geometry.indexBuffer) {\n      this._setIndexBuffer(geometry.indexBuffer);\n    }\n  }\n  _setShaderBindGroups(shader, skipSync) {\n    for (const i in shader.groups) {\n      const bindGroup = shader.groups[i];\n      if (!skipSync) {\n        this._syncBindGroup(bindGroup);\n      }\n      this.setBindGroup(i, bindGroup, shader.gpuProgram);\n    }\n  }\n  _syncBindGroup(bindGroup) {\n    for (const j in bindGroup.resources) {\n      const resource = bindGroup.resources[j];\n      if (resource.isUniformGroup) {\n        this._renderer.ubo.updateUniformGroup(resource);\n      }\n    }\n  }\n  draw(options) {\n    const { geometry, shader, state, topology, size, start, instanceCount, skipSync } = options;\n    this.setPipelineFromGeometryProgramAndState(geometry, shader.gpuProgram, state, topology);\n    this.setGeometry(geometry, shader.gpuProgram);\n    this._setShaderBindGroups(shader, skipSync);\n    if (geometry.indexBuffer) {\n      this.renderPassEncoder.drawIndexed(\n        size || geometry.indexBuffer.data.length,\n        instanceCount ?? geometry.instanceCount,\n        start || 0\n      );\n    } else {\n      this.renderPassEncoder.draw(size || geometry.getSize(), instanceCount ?? geometry.instanceCount, start || 0);\n    }\n  }\n  finishRenderPass() {\n    if (this.renderPassEncoder) {\n      this.renderPassEncoder.end();\n      this.renderPassEncoder = null;\n    }\n  }\n  postrender() {\n    this.finishRenderPass();\n    this._gpu.device.queue.submit([this.commandEncoder.finish()]);\n    this._resolveCommandFinished();\n    this.commandEncoder = null;\n  }\n  // restores a render pass if finishRenderPass was called\n  // not optimised as really used for debugging!\n  // used when we want to stop drawing and log a texture..\n  restoreRenderPass() {\n    const descriptor = this._renderer.renderTarget.adaptor.getDescriptor(\n      this._renderer.renderTarget.renderTarget,\n      false,\n      [0, 0, 0, 1]\n    );\n    this.renderPassEncoder = this.commandEncoder.beginRenderPass(descriptor);\n    const boundPipeline = this._boundPipeline;\n    const boundVertexBuffer = { ...this._boundVertexBuffer };\n    const boundIndexBuffer = this._boundIndexBuffer;\n    const boundBindGroup = { ...this._boundBindGroup };\n    this._clearCache();\n    const viewport = this._renderer.renderTarget.viewport;\n    this.renderPassEncoder.setViewport(viewport.x, viewport.y, viewport.width, viewport.height, 0, 1);\n    this.setPipeline(boundPipeline);\n    for (const i in boundVertexBuffer) {\n      this._setVertexBuffer(i, boundVertexBuffer[i]);\n    }\n    for (const i in boundBindGroup) {\n      this.setBindGroup(i, boundBindGroup[i], null);\n    }\n    this._setIndexBuffer(boundIndexBuffer);\n  }\n  _clearCache() {\n    for (let i = 0; i < 16; i++) {\n      this._boundBindGroup[i] = null;\n      this._boundVertexBuffer[i] = null;\n    }\n    this._boundIndexBuffer = null;\n    this._boundPipeline = null;\n  }\n  destroy() {\n    this._renderer = null;\n    this._gpu = null;\n    this._boundBindGroup = null;\n    this._boundVertexBuffer = null;\n    this._boundIndexBuffer = null;\n    this._boundPipeline = null;\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n  }\n}\n/** @ignore */\nGpuEncoderSystem.extension = {\n  type: [ExtensionType.WebGPUSystem],\n  name: \"encoder\",\n  priority: 1\n};\n\nexport { GpuEncoderSystem };\n//# sourceMappingURL=GpuEncoderSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GpuLimitsSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  contextChange() {\n    this.maxTextures = this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage;\n    this.maxBatchableTextures = this.maxTextures;\n  }\n  destroy() {\n  }\n}\n/** @ignore */\nGpuLimitsSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"limits\"\n};\n\nexport { GpuLimitsSystem };\n//# sourceMappingURL=GpuLimitsSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { STENCIL_MODES } from '../shared/state/const.mjs';\n\n\"use strict\";\nclass GpuStencilSystem {\n  constructor(renderer) {\n    this._renderTargetStencilState = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  onRenderTargetChange(renderTarget) {\n    let stencilState = this._renderTargetStencilState[renderTarget.uid];\n    if (!stencilState) {\n      stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n        stencilMode: STENCIL_MODES.DISABLED,\n        stencilReference: 0\n      };\n    }\n    this._activeRenderTarget = renderTarget;\n    this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n  }\n  setStencilMode(stencilMode, stencilReference) {\n    const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n    stencilState.stencilMode = stencilMode;\n    stencilState.stencilReference = stencilReference;\n    const renderer = this._renderer;\n    renderer.pipeline.setStencilMode(stencilMode);\n    renderer.encoder.renderPassEncoder.setStencilReference(stencilReference);\n  }\n  destroy() {\n    this._renderer.renderTarget.onRenderTargetChange.remove(this);\n    this._renderer = null;\n    this._activeRenderTarget = null;\n    this._renderTargetStencilState = null;\n  }\n}\n/** @ignore */\nGpuStencilSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"stencil\"\n};\n\nexport { GpuStencilSystem };\n//# sourceMappingURL=GpuStencilSystem.mjs.map\n","\"use strict\";\nconst WGSL_ALIGN_SIZE_DATA = {\n  i32: { align: 4, size: 4 },\n  u32: { align: 4, size: 4 },\n  f32: { align: 4, size: 4 },\n  f16: { align: 2, size: 2 },\n  \"vec2<i32>\": { align: 8, size: 8 },\n  \"vec2<u32>\": { align: 8, size: 8 },\n  \"vec2<f32>\": { align: 8, size: 8 },\n  \"vec2<f16>\": { align: 4, size: 4 },\n  \"vec3<i32>\": { align: 16, size: 12 },\n  \"vec3<u32>\": { align: 16, size: 12 },\n  \"vec3<f32>\": { align: 16, size: 12 },\n  \"vec3<f16>\": { align: 8, size: 6 },\n  \"vec4<i32>\": { align: 16, size: 16 },\n  \"vec4<u32>\": { align: 16, size: 16 },\n  \"vec4<f32>\": { align: 16, size: 16 },\n  \"vec4<f16>\": { align: 8, size: 8 },\n  \"mat2x2<f32>\": { align: 8, size: 16 },\n  \"mat2x2<f16>\": { align: 4, size: 8 },\n  \"mat3x2<f32>\": { align: 8, size: 24 },\n  \"mat3x2<f16>\": { align: 4, size: 12 },\n  \"mat4x2<f32>\": { align: 8, size: 32 },\n  \"mat4x2<f16>\": { align: 4, size: 16 },\n  \"mat2x3<f32>\": { align: 16, size: 32 },\n  \"mat2x3<f16>\": { align: 8, size: 16 },\n  \"mat3x3<f32>\": { align: 16, size: 48 },\n  \"mat3x3<f16>\": { align: 8, size: 24 },\n  \"mat4x3<f32>\": { align: 16, size: 64 },\n  \"mat4x3<f16>\": { align: 8, size: 32 },\n  \"mat2x4<f32>\": { align: 16, size: 32 },\n  \"mat2x4<f16>\": { align: 8, size: 16 },\n  \"mat3x4<f32>\": { align: 16, size: 48 },\n  \"mat3x4<f16>\": { align: 8, size: 24 },\n  \"mat4x4<f32>\": { align: 16, size: 64 },\n  \"mat4x4<f16>\": { align: 8, size: 32 }\n};\nfunction createUboElementsWGSL(uniformData) {\n  const uboElements = uniformData.map((data) => ({\n    data,\n    offset: 0,\n    size: 0\n  }));\n  let offset = 0;\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    let size = WGSL_ALIGN_SIZE_DATA[uboElement.data.type].size;\n    const align = WGSL_ALIGN_SIZE_DATA[uboElement.data.type].align;\n    if (!WGSL_ALIGN_SIZE_DATA[uboElement.data.type]) {\n      throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${uboElement.data.type}`);\n    }\n    if (uboElement.data.size > 1) {\n      size = Math.max(size, align) * uboElement.data.size;\n    }\n    offset = Math.ceil(offset / align) * align;\n    uboElement.size = size;\n    uboElement.offset = offset;\n    offset += size;\n  }\n  offset = Math.ceil(offset / 16) * 16;\n  return { uboElements, size: offset };\n}\n\nexport { WGSL_ALIGN_SIZE_DATA, createUboElementsWGSL };\n//# sourceMappingURL=createUboElementsWGSL.mjs.map\n","import { WGSL_ALIGN_SIZE_DATA } from './createUboElementsWGSL.mjs';\n\n\"use strict\";\nfunction generateArraySyncWGSL(uboElement, offsetToAdd) {\n  const { size, align } = WGSL_ALIGN_SIZE_DATA[uboElement.data.type];\n  const remainder = (align - size) / 4;\n  const data = uboElement.data.type.indexOf(\"i32\") >= 0 ? \"dataInt32\" : \"data\";\n  return `\n         v = uv.${uboElement.data.name};\n         ${offsetToAdd !== 0 ? `offset += ${offsetToAdd};` : \"\"}\n\n         arrayOffset = offset;\n\n         t = 0;\n\n         for(var i=0; i < ${uboElement.data.size * (size / 4)}; i++)\n         {\n             for(var j = 0; j < ${size / 4}; j++)\n             {\n                 ${data}[arrayOffset++] = v[t++];\n             }\n             ${remainder !== 0 ? `arrayOffset += ${remainder};` : \"\"}\n         }\n     `;\n}\n\nexport { generateArraySyncWGSL };\n//# sourceMappingURL=generateArraySyncWGSL.mjs.map\n","import { createUboSyncFunction } from '../../../shared/shader/utils/createUboSyncFunction.mjs';\nimport { uboSyncFunctionsWGSL } from '../../../shared/shader/utils/uboSyncFunctions.mjs';\nimport { generateArraySyncWGSL } from './generateArraySyncWGSL.mjs';\n\n\"use strict\";\nfunction createUboSyncFunctionWGSL(uboElements) {\n  return createUboSyncFunction(\n    uboElements,\n    \"uboWgsl\",\n    generateArraySyncWGSL,\n    uboSyncFunctionsWGSL\n  );\n}\n\nexport { createUboSyncFunctionWGSL };\n//# sourceMappingURL=createUboSyncFunctionWGSL.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { UboSystem } from '../shared/shader/UboSystem.mjs';\nimport { createUboElementsWGSL } from './shader/utils/createUboElementsWGSL.mjs';\nimport { createUboSyncFunctionWGSL } from './shader/utils/createUboSyncFunctionWGSL.mjs';\n\n\"use strict\";\nclass GpuUboSystem extends UboSystem {\n  constructor() {\n    super({\n      createUboElements: createUboElementsWGSL,\n      generateUboSync: createUboSyncFunctionWGSL\n    });\n  }\n}\n/** @ignore */\nGpuUboSystem.extension = {\n  type: [ExtensionType.WebGPUSystem],\n  name: \"ubo\"\n};\n\nexport { GpuUboSystem };\n//# sourceMappingURL=GpuUboSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Buffer } from '../shared/buffer/Buffer.mjs';\nimport { BufferResource } from '../shared/buffer/BufferResource.mjs';\nimport { BufferUsage } from '../shared/buffer/const.mjs';\nimport { UboBatch } from './buffer/UboBatch.mjs';\nimport { BindGroup } from './shader/BindGroup.mjs';\n\n\"use strict\";\nconst minUniformOffsetAlignment = 128;\nclass GpuUniformBatchPipe {\n  constructor(renderer) {\n    this._bindGroupHash = /* @__PURE__ */ Object.create(null);\n    // number of buffers..\n    this._buffers = [];\n    this._bindGroups = [];\n    this._bufferResources = [];\n    this._renderer = renderer;\n    this._renderer.renderableGC.addManagedHash(this, \"_bindGroupHash\");\n    this._batchBuffer = new UboBatch({ minUniformOffsetAlignment });\n    const totalBuffers = 256 / minUniformOffsetAlignment;\n    for (let i = 0; i < totalBuffers; i++) {\n      let usage = BufferUsage.UNIFORM | BufferUsage.COPY_DST;\n      if (i === 0)\n        usage |= BufferUsage.COPY_SRC;\n      this._buffers.push(new Buffer({\n        data: this._batchBuffer.data,\n        usage\n      }));\n    }\n  }\n  renderEnd() {\n    this._uploadBindGroups();\n    this._resetBindGroups();\n  }\n  _resetBindGroups() {\n    for (const i in this._bindGroupHash) {\n      this._bindGroupHash[i] = null;\n    }\n    this._batchBuffer.clear();\n  }\n  // just works for single bind groups for now\n  getUniformBindGroup(group, duplicate) {\n    if (!duplicate && this._bindGroupHash[group.uid]) {\n      return this._bindGroupHash[group.uid];\n    }\n    this._renderer.ubo.ensureUniformGroup(group);\n    const data = group.buffer.data;\n    const offset = this._batchBuffer.addEmptyGroup(data.length);\n    this._renderer.ubo.syncUniformGroup(group, this._batchBuffer.data, offset / 4);\n    this._bindGroupHash[group.uid] = this._getBindGroup(offset / minUniformOffsetAlignment);\n    return this._bindGroupHash[group.uid];\n  }\n  getUboResource(group) {\n    this._renderer.ubo.updateUniformGroup(group);\n    const data = group.buffer.data;\n    const offset = this._batchBuffer.addGroup(data);\n    return this._getBufferResource(offset / minUniformOffsetAlignment);\n  }\n  getArrayBindGroup(data) {\n    const offset = this._batchBuffer.addGroup(data);\n    return this._getBindGroup(offset / minUniformOffsetAlignment);\n  }\n  getArrayBufferResource(data) {\n    const offset = this._batchBuffer.addGroup(data);\n    const index = offset / minUniformOffsetAlignment;\n    return this._getBufferResource(index);\n  }\n  _getBufferResource(index) {\n    if (!this._bufferResources[index]) {\n      const buffer = this._buffers[index % 2];\n      this._bufferResources[index] = new BufferResource({\n        buffer,\n        offset: (index / 2 | 0) * 256,\n        size: minUniformOffsetAlignment\n      });\n    }\n    return this._bufferResources[index];\n  }\n  _getBindGroup(index) {\n    if (!this._bindGroups[index]) {\n      const bindGroup = new BindGroup({\n        0: this._getBufferResource(index)\n      });\n      this._bindGroups[index] = bindGroup;\n    }\n    return this._bindGroups[index];\n  }\n  _uploadBindGroups() {\n    const bufferSystem = this._renderer.buffer;\n    const firstBuffer = this._buffers[0];\n    firstBuffer.update(this._batchBuffer.byteIndex);\n    bufferSystem.updateBuffer(firstBuffer);\n    const commandEncoder = this._renderer.gpu.device.createCommandEncoder();\n    for (let i = 1; i < this._buffers.length; i++) {\n      const buffer = this._buffers[i];\n      commandEncoder.copyBufferToBuffer(\n        bufferSystem.getGPUBuffer(firstBuffer),\n        minUniformOffsetAlignment,\n        bufferSystem.getGPUBuffer(buffer),\n        0,\n        this._batchBuffer.byteIndex\n      );\n    }\n    this._renderer.gpu.device.queue.submit([commandEncoder.finish()]);\n  }\n  destroy() {\n    for (let i = 0; i < this._bindGroups.length; i++) {\n      this._bindGroups[i]?.destroy();\n    }\n    this._bindGroups = null;\n    this._bindGroupHash = null;\n    for (let i = 0; i < this._buffers.length; i++) {\n      this._buffers[i].destroy();\n    }\n    this._buffers = null;\n    for (let i = 0; i < this._bufferResources.length; i++) {\n      this._bufferResources[i].destroy();\n    }\n    this._bufferResources = null;\n    this._batchBuffer.destroy();\n    this._bindGroupHash = null;\n    this._renderer = null;\n  }\n}\n/** @ignore */\nGpuUniformBatchPipe.extension = {\n  type: [\n    ExtensionType.WebGPUPipes\n  ],\n  name: \"uniformBatch\"\n};\n\nexport { GpuUniformBatchPipe };\n//# sourceMappingURL=GpuUniformBatchPipe.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { ensureAttributes } from '../../gl/shader/program/ensureAttributes.mjs';\nimport { STENCIL_MODES } from '../../shared/state/const.mjs';\nimport { createIdFromString } from '../../shared/utils/createIdFromString.mjs';\nimport { GpuStencilModesToPixi } from '../state/GpuStencilModesToPixi.mjs';\n\n\"use strict\";\nconst topologyStringToId = {\n  \"point-list\": 0,\n  \"line-list\": 1,\n  \"line-strip\": 2,\n  \"triangle-list\": 3,\n  \"triangle-strip\": 4\n};\nfunction getGraphicsStateKey(geometryLayout, shaderKey, state, blendMode, topology) {\n  return geometryLayout << 24 | shaderKey << 16 | state << 10 | blendMode << 5 | topology;\n}\nfunction getGlobalStateKey(stencilStateId, multiSampleCount, colorMask, renderTarget) {\n  return colorMask << 6 | stencilStateId << 3 | renderTarget << 1 | multiSampleCount;\n}\nclass PipelineSystem {\n  constructor(renderer) {\n    this._moduleCache = /* @__PURE__ */ Object.create(null);\n    this._bufferLayoutsCache = /* @__PURE__ */ Object.create(null);\n    this._bindingNamesCache = /* @__PURE__ */ Object.create(null);\n    this._pipeCache = /* @__PURE__ */ Object.create(null);\n    this._pipeStateCaches = /* @__PURE__ */ Object.create(null);\n    this._colorMask = 15;\n    this._multisampleCount = 1;\n    this._renderer = renderer;\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n    this.setStencilMode(STENCIL_MODES.DISABLED);\n    this._updatePipeHash();\n  }\n  setMultisampleCount(multisampleCount) {\n    if (this._multisampleCount === multisampleCount)\n      return;\n    this._multisampleCount = multisampleCount;\n    this._updatePipeHash();\n  }\n  setRenderTarget(renderTarget) {\n    this._multisampleCount = renderTarget.msaaSamples;\n    this._depthStencilAttachment = renderTarget.descriptor.depthStencilAttachment ? 1 : 0;\n    this._updatePipeHash();\n  }\n  setColorMask(colorMask) {\n    if (this._colorMask === colorMask)\n      return;\n    this._colorMask = colorMask;\n    this._updatePipeHash();\n  }\n  setStencilMode(stencilMode) {\n    if (this._stencilMode === stencilMode)\n      return;\n    this._stencilMode = stencilMode;\n    this._stencilState = GpuStencilModesToPixi[stencilMode];\n    this._updatePipeHash();\n  }\n  setPipeline(geometry, program, state, passEncoder) {\n    const pipeline = this.getPipeline(geometry, program, state);\n    passEncoder.setPipeline(pipeline);\n  }\n  getPipeline(geometry, program, state, topology) {\n    if (!geometry._layoutKey) {\n      ensureAttributes(geometry, program.attributeData);\n      this._generateBufferKey(geometry);\n    }\n    topology || (topology = geometry.topology);\n    const key = getGraphicsStateKey(\n      geometry._layoutKey,\n      program._layoutKey,\n      state.data,\n      state._blendModeId,\n      topologyStringToId[topology]\n    );\n    if (this._pipeCache[key])\n      return this._pipeCache[key];\n    this._pipeCache[key] = this._createPipeline(geometry, program, state, topology);\n    return this._pipeCache[key];\n  }\n  _createPipeline(geometry, program, state, topology) {\n    const device = this._gpu.device;\n    const buffers = this._createVertexBufferLayouts(geometry, program);\n    const blendModes = this._renderer.state.getColorTargets(state);\n    blendModes[0].writeMask = this._stencilMode === STENCIL_MODES.RENDERING_MASK_ADD ? 0 : this._colorMask;\n    const layout = this._renderer.shader.getProgramData(program).pipeline;\n    const descriptor = {\n      // TODO later check if its helpful to create..\n      // layout,\n      vertex: {\n        module: this._getModule(program.vertex.source),\n        entryPoint: program.vertex.entryPoint,\n        // geometry..\n        buffers\n      },\n      fragment: {\n        module: this._getModule(program.fragment.source),\n        entryPoint: program.fragment.entryPoint,\n        targets: blendModes\n      },\n      primitive: {\n        topology,\n        cullMode: state.cullMode\n      },\n      layout,\n      multisample: {\n        count: this._multisampleCount\n      },\n      // depthStencil,\n      label: `PIXI Pipeline`\n    };\n    if (this._depthStencilAttachment) {\n      descriptor.depthStencil = {\n        ...this._stencilState,\n        format: \"depth24plus-stencil8\",\n        depthWriteEnabled: state.depthTest,\n        depthCompare: state.depthTest ? \"less\" : \"always\"\n      };\n    }\n    const pipeline = device.createRenderPipeline(descriptor);\n    return pipeline;\n  }\n  _getModule(code) {\n    return this._moduleCache[code] || this._createModule(code);\n  }\n  _createModule(code) {\n    const device = this._gpu.device;\n    this._moduleCache[code] = device.createShaderModule({\n      code\n    });\n    return this._moduleCache[code];\n  }\n  _generateBufferKey(geometry) {\n    const keyGen = [];\n    let index = 0;\n    const attributeKeys = Object.keys(geometry.attributes).sort();\n    for (let i = 0; i < attributeKeys.length; i++) {\n      const attribute = geometry.attributes[attributeKeys[i]];\n      keyGen[index++] = attribute.offset;\n      keyGen[index++] = attribute.format;\n      keyGen[index++] = attribute.stride;\n      keyGen[index++] = attribute.instance;\n    }\n    const stringKey = keyGen.join(\"|\");\n    geometry._layoutKey = createIdFromString(stringKey, \"geometry\");\n    return geometry._layoutKey;\n  }\n  _generateAttributeLocationsKey(program) {\n    const keyGen = [];\n    let index = 0;\n    const attributeKeys = Object.keys(program.attributeData).sort();\n    for (let i = 0; i < attributeKeys.length; i++) {\n      const attribute = program.attributeData[attributeKeys[i]];\n      keyGen[index++] = attribute.location;\n    }\n    const stringKey = keyGen.join(\"|\");\n    program._attributeLocationsKey = createIdFromString(stringKey, \"programAttributes\");\n    return program._attributeLocationsKey;\n  }\n  /**\n   * Returns a hash of buffer names mapped to bind locations.\n   * This is used to bind the correct buffer to the correct location in the shader.\n   * @param geometry - The geometry where to get the buffer names\n   * @param program - The program where to get the buffer names\n   * @returns An object of buffer names mapped to the bind location.\n   */\n  getBufferNamesToBind(geometry, program) {\n    const key = geometry._layoutKey << 16 | program._attributeLocationsKey;\n    if (this._bindingNamesCache[key])\n      return this._bindingNamesCache[key];\n    const data = this._createVertexBufferLayouts(geometry, program);\n    const bufferNamesToBind = /* @__PURE__ */ Object.create(null);\n    const attributeData = program.attributeData;\n    for (let i = 0; i < data.length; i++) {\n      const attributes = Object.values(data[i].attributes);\n      const shaderLocation = attributes[0].shaderLocation;\n      for (const j in attributeData) {\n        if (attributeData[j].location === shaderLocation) {\n          bufferNamesToBind[i] = j;\n          break;\n        }\n      }\n    }\n    this._bindingNamesCache[key] = bufferNamesToBind;\n    return bufferNamesToBind;\n  }\n  _createVertexBufferLayouts(geometry, program) {\n    if (!program._attributeLocationsKey)\n      this._generateAttributeLocationsKey(program);\n    const key = geometry._layoutKey << 16 | program._attributeLocationsKey;\n    if (this._bufferLayoutsCache[key]) {\n      return this._bufferLayoutsCache[key];\n    }\n    const vertexBuffersLayout = [];\n    geometry.buffers.forEach((buffer) => {\n      const bufferEntry = {\n        arrayStride: 0,\n        stepMode: \"vertex\",\n        attributes: []\n      };\n      const bufferEntryAttributes = bufferEntry.attributes;\n      for (const i in program.attributeData) {\n        const attribute = geometry.attributes[i];\n        if ((attribute.divisor ?? 1) !== 1) {\n          warn(`Attribute ${i} has an invalid divisor value of '${attribute.divisor}'. WebGPU only supports a divisor value of 1`);\n        }\n        if (attribute.buffer === buffer) {\n          bufferEntry.arrayStride = attribute.stride;\n          bufferEntry.stepMode = attribute.instance ? \"instance\" : \"vertex\";\n          bufferEntryAttributes.push({\n            shaderLocation: program.attributeData[i].location,\n            offset: attribute.offset,\n            format: attribute.format\n          });\n        }\n      }\n      if (bufferEntryAttributes.length) {\n        vertexBuffersLayout.push(bufferEntry);\n      }\n    });\n    this._bufferLayoutsCache[key] = vertexBuffersLayout;\n    return vertexBuffersLayout;\n  }\n  _updatePipeHash() {\n    const key = getGlobalStateKey(\n      this._stencilMode,\n      this._multisampleCount,\n      this._colorMask,\n      this._depthStencilAttachment\n    );\n    if (!this._pipeStateCaches[key]) {\n      this._pipeStateCaches[key] = /* @__PURE__ */ Object.create(null);\n    }\n    this._pipeCache = this._pipeStateCaches[key];\n  }\n  destroy() {\n    this._renderer = null;\n    this._bufferLayoutsCache = null;\n  }\n}\n/** @ignore */\nPipelineSystem.extension = {\n  type: [ExtensionType.WebGPUSystem],\n  name: \"pipeline\"\n};\n\nexport { PipelineSystem };\n//# sourceMappingURL=PipelineSystem.mjs.map\n","\"use strict\";\nclass GpuRenderTarget {\n  constructor() {\n    this.contexts = [];\n    this.msaaTextures = [];\n    this.msaaSamples = 1;\n  }\n}\n\nexport { GpuRenderTarget };\n//# sourceMappingURL=GpuRenderTarget.mjs.map\n","import { CLEAR } from '../../gl/const.mjs';\nimport { CanvasSource } from '../../shared/texture/sources/CanvasSource.mjs';\nimport { TextureSource } from '../../shared/texture/sources/TextureSource.mjs';\nimport { GpuRenderTarget } from './GpuRenderTarget.mjs';\n\n\"use strict\";\nclass GpuRenderTargetAdaptor {\n  init(renderer, renderTargetSystem) {\n    this._renderer = renderer;\n    this._renderTargetSystem = renderTargetSystem;\n  }\n  copyToTexture(sourceRenderSurfaceTexture, destinationTexture, originSrc, size, originDest) {\n    const renderer = this._renderer;\n    const baseGpuTexture = this._getGpuColorTexture(\n      sourceRenderSurfaceTexture\n    );\n    const backGpuTexture = renderer.texture.getGpuSource(\n      destinationTexture.source\n    );\n    renderer.encoder.commandEncoder.copyTextureToTexture(\n      {\n        texture: baseGpuTexture,\n        origin: originSrc\n      },\n      {\n        texture: backGpuTexture,\n        origin: originDest\n      },\n      size\n    );\n    return destinationTexture;\n  }\n  startRenderPass(renderTarget, clear = true, clearColor, viewport) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const gpuRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    const descriptor = this.getDescriptor(renderTarget, clear, clearColor);\n    gpuRenderTarget.descriptor = descriptor;\n    this._renderer.pipeline.setRenderTarget(gpuRenderTarget);\n    this._renderer.encoder.beginRenderPass(gpuRenderTarget);\n    this._renderer.encoder.setViewport(viewport);\n  }\n  finishRenderPass() {\n    this._renderer.encoder.endRenderPass();\n  }\n  /**\n   * returns the gpu texture for the first color texture in the render target\n   * mainly used by the filter manager to get copy the texture for blending\n   * @param renderTarget\n   * @returns a gpu texture\n   */\n  _getGpuColorTexture(renderTarget) {\n    const gpuRenderTarget = this._renderTargetSystem.getGpuRenderTarget(renderTarget);\n    if (gpuRenderTarget.contexts[0]) {\n      return gpuRenderTarget.contexts[0].getCurrentTexture();\n    }\n    return this._renderer.texture.getGpuSource(\n      renderTarget.colorTextures[0].source\n    );\n  }\n  getDescriptor(renderTarget, clear, clearValue) {\n    if (typeof clear === \"boolean\") {\n      clear = clear ? CLEAR.ALL : CLEAR.NONE;\n    }\n    const renderTargetSystem = this._renderTargetSystem;\n    const gpuRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    const colorAttachments = renderTarget.colorTextures.map(\n      (texture, i) => {\n        const context = gpuRenderTarget.contexts[i];\n        let view;\n        let resolveTarget;\n        if (context) {\n          const currentTexture = context.getCurrentTexture();\n          const canvasTextureView = currentTexture.createView();\n          view = canvasTextureView;\n        } else {\n          view = this._renderer.texture.getGpuSource(texture).createView({\n            mipLevelCount: 1\n          });\n        }\n        if (gpuRenderTarget.msaaTextures[i]) {\n          resolveTarget = view;\n          view = this._renderer.texture.getTextureView(\n            gpuRenderTarget.msaaTextures[i]\n          );\n        }\n        const loadOp = clear & CLEAR.COLOR ? \"clear\" : \"load\";\n        clearValue ?? (clearValue = renderTargetSystem.defaultClearColor);\n        return {\n          view,\n          resolveTarget,\n          clearValue,\n          storeOp: \"store\",\n          loadOp\n        };\n      }\n    );\n    let depthStencilAttachment;\n    if ((renderTarget.stencil || renderTarget.depth) && !renderTarget.depthStencilTexture) {\n      renderTarget.ensureDepthStencilTexture();\n      renderTarget.depthStencilTexture.source.sampleCount = gpuRenderTarget.msaa ? 4 : 1;\n    }\n    if (renderTarget.depthStencilTexture) {\n      const stencilLoadOp = clear & CLEAR.STENCIL ? \"clear\" : \"load\";\n      const depthLoadOp = clear & CLEAR.DEPTH ? \"clear\" : \"load\";\n      depthStencilAttachment = {\n        view: this._renderer.texture.getGpuSource(renderTarget.depthStencilTexture.source).createView(),\n        stencilStoreOp: \"store\",\n        stencilLoadOp,\n        depthClearValue: 1,\n        depthLoadOp,\n        depthStoreOp: \"store\"\n      };\n    }\n    const descriptor = {\n      colorAttachments,\n      depthStencilAttachment\n    };\n    return descriptor;\n  }\n  clear(renderTarget, clear = true, clearColor, viewport) {\n    if (!clear)\n      return;\n    const { gpu, encoder } = this._renderer;\n    const device = gpu.device;\n    const standAlone = encoder.commandEncoder === null;\n    if (standAlone) {\n      const commandEncoder = device.createCommandEncoder();\n      const renderPassDescriptor = this.getDescriptor(renderTarget, clear, clearColor);\n      const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\n      passEncoder.setViewport(viewport.x, viewport.y, viewport.width, viewport.height, 0, 1);\n      passEncoder.end();\n      const gpuCommands = commandEncoder.finish();\n      device.queue.submit([gpuCommands]);\n    } else {\n      this.startRenderPass(renderTarget, clear, clearColor, viewport);\n    }\n  }\n  initGpuRenderTarget(renderTarget) {\n    renderTarget.isRoot = true;\n    const gpuRenderTarget = new GpuRenderTarget();\n    renderTarget.colorTextures.forEach((colorTexture, i) => {\n      if (colorTexture instanceof CanvasSource) {\n        const context = colorTexture.resource.getContext(\n          \"webgpu\"\n        );\n        const alphaMode = colorTexture.transparent ? \"premultiplied\" : \"opaque\";\n        try {\n          context.configure({\n            device: this._renderer.gpu.device,\n            usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,\n            format: \"bgra8unorm\",\n            alphaMode\n          });\n        } catch (e) {\n          console.error(e);\n        }\n        gpuRenderTarget.contexts[i] = context;\n      }\n      gpuRenderTarget.msaa = colorTexture.source.antialias;\n      if (colorTexture.source.antialias) {\n        const msaaTexture = new TextureSource({\n          width: 0,\n          height: 0,\n          sampleCount: 4\n        });\n        gpuRenderTarget.msaaTextures[i] = msaaTexture;\n      }\n    });\n    if (gpuRenderTarget.msaa) {\n      gpuRenderTarget.msaaSamples = 4;\n      if (renderTarget.depthStencilTexture) {\n        renderTarget.depthStencilTexture.source.sampleCount = 4;\n      }\n    }\n    return gpuRenderTarget;\n  }\n  destroyGpuRenderTarget(gpuRenderTarget) {\n    gpuRenderTarget.contexts.forEach((context) => {\n      context.unconfigure();\n    });\n    gpuRenderTarget.msaaTextures.forEach((texture) => {\n      texture.destroy();\n    });\n    gpuRenderTarget.msaaTextures.length = 0;\n    gpuRenderTarget.contexts.length = 0;\n  }\n  ensureDepthStencilTexture(renderTarget) {\n    const gpuRenderTarget = this._renderTargetSystem.getGpuRenderTarget(renderTarget);\n    if (renderTarget.depthStencilTexture && gpuRenderTarget.msaa) {\n      renderTarget.depthStencilTexture.source.sampleCount = 4;\n    }\n  }\n  resizeGpuRenderTarget(renderTarget) {\n    const gpuRenderTarget = this._renderTargetSystem.getGpuRenderTarget(renderTarget);\n    gpuRenderTarget.width = renderTarget.width;\n    gpuRenderTarget.height = renderTarget.height;\n    if (gpuRenderTarget.msaa) {\n      renderTarget.colorTextures.forEach((colorTexture, i) => {\n        const msaaTexture = gpuRenderTarget.msaaTextures[i];\n        msaaTexture?.resize(\n          colorTexture.source.width,\n          colorTexture.source.height,\n          colorTexture.source._resolution\n        );\n      });\n    }\n  }\n}\n\nexport { GpuRenderTargetAdaptor };\n//# sourceMappingURL=GpuRenderTargetAdaptor.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { RenderTargetSystem } from '../../shared/renderTarget/RenderTargetSystem.mjs';\nimport { GpuRenderTargetAdaptor } from './GpuRenderTargetAdaptor.mjs';\n\n\"use strict\";\nclass GpuRenderTargetSystem extends RenderTargetSystem {\n  constructor(renderer) {\n    super(renderer);\n    this.adaptor = new GpuRenderTargetAdaptor();\n    this.adaptor.init(renderer, this);\n  }\n}\n/** @ignore */\nGpuRenderTargetSystem.extension = {\n  type: [ExtensionType.WebGPUSystem],\n  name: \"renderTarget\"\n};\n\nexport { GpuRenderTargetSystem };\n//# sourceMappingURL=GpuRenderTargetSystem.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GpuShaderSystem {\n  constructor() {\n    this._gpuProgramData = /* @__PURE__ */ Object.create(null);\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n  }\n  getProgramData(program) {\n    return this._gpuProgramData[program._layoutKey] || this._createGPUProgramData(program);\n  }\n  _createGPUProgramData(program) {\n    const device = this._gpu.device;\n    const bindGroups = program.gpuLayout.map((group) => device.createBindGroupLayout({ entries: group }));\n    const pipelineLayoutDesc = { bindGroupLayouts: bindGroups };\n    this._gpuProgramData[program._layoutKey] = {\n      bindGroups,\n      pipeline: device.createPipelineLayout(pipelineLayoutDesc)\n    };\n    return this._gpuProgramData[program._layoutKey];\n  }\n  destroy() {\n    this._gpu = null;\n    this._gpuProgramData = null;\n  }\n}\n/** @ignore */\nGpuShaderSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"shader\"\n};\n\nexport { GpuShaderSystem };\n//# sourceMappingURL=GpuShaderSystem.mjs.map\n","\"use strict\";\nconst GpuBlendModesToPixi = {};\nGpuBlendModesToPixi.normal = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.add = {\n  alpha: {\n    srcFactor: \"src-alpha\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.multiply = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"dst\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.screen = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.overlay = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.none = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"zero\",\n    dstFactor: \"zero\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi[\"normal-npm\"] = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"src-alpha\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi[\"add-npm\"] = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"src-alpha\",\n    dstFactor: \"one\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi[\"screen-npm\"] = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"src-alpha\",\n    dstFactor: \"one-minus-src\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.erase = {\n  alpha: {\n    srcFactor: \"zero\",\n    dstFactor: \"one-minus-src-alpha\",\n    operation: \"add\"\n  },\n  color: {\n    srcFactor: \"zero\",\n    dstFactor: \"one-minus-src\",\n    operation: \"add\"\n  }\n};\nGpuBlendModesToPixi.min = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"min\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"min\"\n  }\n};\nGpuBlendModesToPixi.max = {\n  alpha: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"max\"\n  },\n  color: {\n    srcFactor: \"one\",\n    dstFactor: \"one\",\n    operation: \"max\"\n  }\n};\n\nexport { GpuBlendModesToPixi };\n//# sourceMappingURL=GpuBlendModesToPixi.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { State } from '../../shared/state/State.mjs';\nimport { GpuBlendModesToPixi } from './GpuBlendModesToPixi.mjs';\n\n\"use strict\";\nclass GpuStateSystem {\n  constructor() {\n    this.defaultState = new State();\n    this.defaultState.blend = true;\n  }\n  contextChange(gpu) {\n    this.gpu = gpu;\n  }\n  /**\n   * Gets the blend mode data for the current state\n   * @param state - The state to get the blend mode from\n   */\n  getColorTargets(state) {\n    const blend = GpuBlendModesToPixi[state.blendMode] || GpuBlendModesToPixi.normal;\n    return [\n      {\n        format: \"bgra8unorm\",\n        writeMask: 0,\n        blend\n      }\n    ];\n  }\n  destroy() {\n    this.gpu = null;\n  }\n}\n/** @ignore */\nGpuStateSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"state\"\n};\n\nexport { GpuStateSystem };\n//# sourceMappingURL=GpuStateSystem.mjs.map\n","\"use strict\";\nconst gpuUploadBufferImageResource = {\n  type: \"image\",\n  upload(source, gpuTexture, gpu) {\n    const resource = source.resource;\n    const total = (source.pixelWidth | 0) * (source.pixelHeight | 0);\n    const bytesPerPixel = resource.byteLength / total;\n    gpu.device.queue.writeTexture(\n      { texture: gpuTexture },\n      resource,\n      {\n        offset: 0,\n        rowsPerImage: source.pixelHeight,\n        bytesPerRow: source.pixelHeight * bytesPerPixel\n      },\n      {\n        width: source.pixelWidth,\n        height: source.pixelHeight,\n        depthOrArrayLayers: 1\n      }\n    );\n  }\n};\n\nexport { gpuUploadBufferImageResource };\n//# sourceMappingURL=gpuUploadBufferImageResource.mjs.map\n","\"use strict\";\nconst blockDataMap = {\n  \"bc1-rgba-unorm\": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },\n  \"bc2-rgba-unorm\": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },\n  \"bc3-rgba-unorm\": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },\n  \"bc7-rgba-unorm\": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },\n  \"etc1-rgb-unorm\": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },\n  \"etc2-rgba8unorm\": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },\n  \"astc-4x4-unorm\": { blockBytes: 16, blockWidth: 4, blockHeight: 4 }\n};\nconst defaultBlockData = { blockBytes: 4, blockWidth: 1, blockHeight: 1 };\nconst gpuUploadCompressedTextureResource = {\n  type: \"compressed\",\n  upload(source, gpuTexture, gpu) {\n    let mipWidth = source.pixelWidth;\n    let mipHeight = source.pixelHeight;\n    const blockData = blockDataMap[source.format] || defaultBlockData;\n    for (let i = 0; i < source.resource.length; i++) {\n      const levelBuffer = source.resource[i];\n      const bytesPerRow = Math.ceil(mipWidth / blockData.blockWidth) * blockData.blockBytes;\n      gpu.device.queue.writeTexture(\n        {\n          texture: gpuTexture,\n          mipLevel: i\n        },\n        levelBuffer,\n        {\n          offset: 0,\n          bytesPerRow\n        },\n        {\n          width: Math.ceil(mipWidth / blockData.blockWidth) * blockData.blockWidth,\n          height: Math.ceil(mipHeight / blockData.blockHeight) * blockData.blockHeight,\n          depthOrArrayLayers: 1\n        }\n      );\n      mipWidth = Math.max(mipWidth >> 1, 1);\n      mipHeight = Math.max(mipHeight >> 1, 1);\n    }\n  }\n};\n\nexport { blockDataMap, gpuUploadCompressedTextureResource };\n//# sourceMappingURL=gpuUploadCompressedTextureResource.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\nimport { warn } from '../../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nconst gpuUploadImageResource = {\n  type: \"image\",\n  upload(source, gpuTexture, gpu) {\n    const resource = source.resource;\n    if (!resource)\n      return;\n    if (globalThis.HTMLImageElement && resource instanceof HTMLImageElement) {\n      const canvas = DOMAdapter.get().createCanvas(resource.width, resource.height);\n      const context = canvas.getContext(\"2d\");\n      context.drawImage(resource, 0, 0, resource.width, resource.height);\n      source.resource = canvas;\n      warn(\"ImageSource: Image element passed, converting to canvas and replacing resource.\");\n    }\n    const width = Math.min(gpuTexture.width, source.resourceWidth || source.pixelWidth);\n    const height = Math.min(gpuTexture.height, source.resourceHeight || source.pixelHeight);\n    const premultipliedAlpha = source.alphaMode === \"premultiply-alpha-on-upload\";\n    gpu.device.queue.copyExternalImageToTexture(\n      { source: resource },\n      { texture: gpuTexture, premultipliedAlpha },\n      {\n        width,\n        height\n      }\n    );\n  }\n};\n\nexport { gpuUploadImageResource };\n//# sourceMappingURL=gpuUploadImageSource.mjs.map\n","import { gpuUploadImageResource } from './gpuUploadImageSource.mjs';\n\n\"use strict\";\nconst gpuUploadVideoResource = {\n  type: \"video\",\n  upload(source, gpuTexture, gpu) {\n    gpuUploadImageResource.upload(source, gpuTexture, gpu);\n  }\n};\n\nexport { gpuUploadVideoResource };\n//# sourceMappingURL=gpuUploadVideoSource.mjs.map\n","\"use strict\";\nclass GpuMipmapGenerator {\n  constructor(device) {\n    this.device = device;\n    this.sampler = device.createSampler({ minFilter: \"linear\" });\n    this.pipelines = {};\n  }\n  _getMipmapPipeline(format) {\n    let pipeline = this.pipelines[format];\n    if (!pipeline) {\n      if (!this.mipmapShaderModule) {\n        this.mipmapShaderModule = this.device.createShaderModule({\n          code: (\n            /* wgsl */\n            `\n                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));\n\n                        struct VertexOutput {\n                        @builtin(position) position : vec4<f32>,\n                        @location(0) texCoord : vec2<f32>,\n                        };\n\n                        @vertex\n                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {\n                        var output : VertexOutput;\n                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);\n                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);\n                        return output;\n                        }\n\n                        @group(0) @binding(0) var imgSampler : sampler;\n                        @group(0) @binding(1) var img : texture_2d<f32>;\n\n                        @fragment\n                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {\n                        return textureSample(img, imgSampler, texCoord);\n                        }\n                    `\n          )\n        });\n      }\n      pipeline = this.device.createRenderPipeline({\n        layout: \"auto\",\n        vertex: {\n          module: this.mipmapShaderModule,\n          entryPoint: \"vertexMain\"\n        },\n        fragment: {\n          module: this.mipmapShaderModule,\n          entryPoint: \"fragmentMain\",\n          targets: [{ format }]\n        }\n      });\n      this.pipelines[format] = pipeline;\n    }\n    return pipeline;\n  }\n  /**\n   * Generates mipmaps for the given GPUTexture from the data in level 0.\n   * @param {module:External.GPUTexture} texture - Texture to generate mipmaps for.\n   * @returns {module:External.GPUTexture} - The originally passed texture\n   */\n  generateMipmap(texture) {\n    const pipeline = this._getMipmapPipeline(texture.format);\n    if (texture.dimension === \"3d\" || texture.dimension === \"1d\") {\n      throw new Error(\"Generating mipmaps for non-2d textures is currently unsupported!\");\n    }\n    let mipTexture = texture;\n    const arrayLayerCount = texture.depthOrArrayLayers || 1;\n    const renderToSource = texture.usage & GPUTextureUsage.RENDER_ATTACHMENT;\n    if (!renderToSource) {\n      const mipTextureDescriptor = {\n        size: {\n          width: Math.ceil(texture.width / 2),\n          height: Math.ceil(texture.height / 2),\n          depthOrArrayLayers: arrayLayerCount\n        },\n        format: texture.format,\n        usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT,\n        mipLevelCount: texture.mipLevelCount - 1\n      };\n      mipTexture = this.device.createTexture(mipTextureDescriptor);\n    }\n    const commandEncoder = this.device.createCommandEncoder({});\n    const bindGroupLayout = pipeline.getBindGroupLayout(0);\n    for (let arrayLayer = 0; arrayLayer < arrayLayerCount; ++arrayLayer) {\n      let srcView = texture.createView({\n        baseMipLevel: 0,\n        mipLevelCount: 1,\n        dimension: \"2d\",\n        baseArrayLayer: arrayLayer,\n        arrayLayerCount: 1\n      });\n      let dstMipLevel = renderToSource ? 1 : 0;\n      for (let i = 1; i < texture.mipLevelCount; ++i) {\n        const dstView = mipTexture.createView({\n          baseMipLevel: dstMipLevel++,\n          mipLevelCount: 1,\n          dimension: \"2d\",\n          baseArrayLayer: arrayLayer,\n          arrayLayerCount: 1\n        });\n        const passEncoder = commandEncoder.beginRenderPass({\n          colorAttachments: [{\n            view: dstView,\n            storeOp: \"store\",\n            loadOp: \"clear\",\n            clearValue: { r: 0, g: 0, b: 0, a: 0 }\n          }]\n        });\n        const bindGroup = this.device.createBindGroup({\n          layout: bindGroupLayout,\n          entries: [{\n            binding: 0,\n            resource: this.sampler\n          }, {\n            binding: 1,\n            resource: srcView\n          }]\n        });\n        passEncoder.setPipeline(pipeline);\n        passEncoder.setBindGroup(0, bindGroup);\n        passEncoder.draw(3, 1, 0, 0);\n        passEncoder.end();\n        srcView = dstView;\n      }\n    }\n    if (!renderToSource) {\n      const mipLevelSize = {\n        width: Math.ceil(texture.width / 2),\n        height: Math.ceil(texture.height / 2),\n        depthOrArrayLayers: arrayLayerCount\n      };\n      for (let i = 1; i < texture.mipLevelCount; ++i) {\n        commandEncoder.copyTextureToTexture({\n          texture: mipTexture,\n          mipLevel: i - 1\n        }, {\n          texture,\n          mipLevel: i\n        }, mipLevelSize);\n        mipLevelSize.width = Math.ceil(mipLevelSize.width / 2);\n        mipLevelSize.height = Math.ceil(mipLevelSize.height / 2);\n      }\n    }\n    this.device.queue.submit([commandEncoder.finish()]);\n    if (!renderToSource) {\n      mipTexture.destroy();\n    }\n    return texture;\n  }\n}\n\nexport { GpuMipmapGenerator };\n//# sourceMappingURL=GpuMipmapGenerator.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { UniformGroup } from '../../shared/shader/UniformGroup.mjs';\nimport { CanvasPool } from '../../shared/texture/CanvasPool.mjs';\nimport { BindGroup } from '../shader/BindGroup.mjs';\nimport { gpuUploadBufferImageResource } from './uploaders/gpuUploadBufferImageResource.mjs';\nimport { gpuUploadCompressedTextureResource, blockDataMap } from './uploaders/gpuUploadCompressedTextureResource.mjs';\nimport { gpuUploadImageResource } from './uploaders/gpuUploadImageSource.mjs';\nimport { gpuUploadVideoResource } from './uploaders/gpuUploadVideoSource.mjs';\nimport { GpuMipmapGenerator } from './utils/GpuMipmapGenerator.mjs';\n\n\"use strict\";\nclass GpuTextureSystem {\n  constructor(renderer) {\n    this.managedTextures = [];\n    this._gpuSources = /* @__PURE__ */ Object.create(null);\n    this._gpuSamplers = /* @__PURE__ */ Object.create(null);\n    this._bindGroupHash = /* @__PURE__ */ Object.create(null);\n    this._textureViewHash = /* @__PURE__ */ Object.create(null);\n    this._uploads = {\n      image: gpuUploadImageResource,\n      buffer: gpuUploadBufferImageResource,\n      video: gpuUploadVideoResource,\n      compressed: gpuUploadCompressedTextureResource\n    };\n    this._renderer = renderer;\n    renderer.renderableGC.addManagedHash(this, \"_gpuSources\");\n    renderer.renderableGC.addManagedHash(this, \"_gpuSamplers\");\n    renderer.renderableGC.addManagedHash(this, \"_bindGroupHash\");\n    renderer.renderableGC.addManagedHash(this, \"_textureViewHash\");\n  }\n  contextChange(gpu) {\n    this._gpu = gpu;\n  }\n  /**\n   * Initializes a texture source, if it has already been initialized nothing will happen.\n   * @param source - The texture source to initialize.\n   * @returns The initialized texture source.\n   */\n  initSource(source) {\n    if (this._gpuSources[source.uid]) {\n      return this._gpuSources[source.uid];\n    }\n    return this._initSource(source);\n  }\n  _initSource(source) {\n    if (source.autoGenerateMipmaps) {\n      const biggestDimension = Math.max(source.pixelWidth, source.pixelHeight);\n      source.mipLevelCount = Math.floor(Math.log2(biggestDimension)) + 1;\n    }\n    let usage = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;\n    if (source.uploadMethodId !== \"compressed\") {\n      usage |= GPUTextureUsage.RENDER_ATTACHMENT;\n      usage |= GPUTextureUsage.COPY_SRC;\n    }\n    const blockData = blockDataMap[source.format] || { blockBytes: 4, blockWidth: 1, blockHeight: 1 };\n    const width = Math.ceil(source.pixelWidth / blockData.blockWidth) * blockData.blockWidth;\n    const height = Math.ceil(source.pixelHeight / blockData.blockHeight) * blockData.blockHeight;\n    const textureDescriptor = {\n      label: source.label,\n      size: { width, height },\n      format: source.format,\n      sampleCount: source.sampleCount,\n      mipLevelCount: source.mipLevelCount,\n      dimension: source.dimension,\n      usage\n    };\n    const gpuTexture = this._gpuSources[source.uid] = this._gpu.device.createTexture(textureDescriptor);\n    if (!this.managedTextures.includes(source)) {\n      source.on(\"update\", this.onSourceUpdate, this);\n      source.on(\"resize\", this.onSourceResize, this);\n      source.on(\"destroy\", this.onSourceDestroy, this);\n      source.on(\"unload\", this.onSourceUnload, this);\n      source.on(\"updateMipmaps\", this.onUpdateMipmaps, this);\n      this.managedTextures.push(source);\n    }\n    this.onSourceUpdate(source);\n    return gpuTexture;\n  }\n  onSourceUpdate(source) {\n    const gpuTexture = this.getGpuSource(source);\n    if (!gpuTexture)\n      return;\n    if (this._uploads[source.uploadMethodId]) {\n      this._uploads[source.uploadMethodId].upload(source, gpuTexture, this._gpu);\n    }\n    if (source.autoGenerateMipmaps && source.mipLevelCount > 1) {\n      this.onUpdateMipmaps(source);\n    }\n  }\n  onSourceUnload(source) {\n    const gpuTexture = this._gpuSources[source.uid];\n    if (gpuTexture) {\n      this._gpuSources[source.uid] = null;\n      gpuTexture.destroy();\n    }\n  }\n  onUpdateMipmaps(source) {\n    if (!this._mipmapGenerator) {\n      this._mipmapGenerator = new GpuMipmapGenerator(this._gpu.device);\n    }\n    const gpuTexture = this.getGpuSource(source);\n    this._mipmapGenerator.generateMipmap(gpuTexture);\n  }\n  onSourceDestroy(source) {\n    source.off(\"update\", this.onSourceUpdate, this);\n    source.off(\"unload\", this.onSourceUnload, this);\n    source.off(\"destroy\", this.onSourceDestroy, this);\n    source.off(\"resize\", this.onSourceResize, this);\n    source.off(\"updateMipmaps\", this.onUpdateMipmaps, this);\n    this.managedTextures.splice(this.managedTextures.indexOf(source), 1);\n    this.onSourceUnload(source);\n  }\n  onSourceResize(source) {\n    const gpuTexture = this._gpuSources[source.uid];\n    if (!gpuTexture) {\n      this.initSource(source);\n    } else if (gpuTexture.width !== source.pixelWidth || gpuTexture.height !== source.pixelHeight) {\n      this._textureViewHash[source.uid] = null;\n      this._bindGroupHash[source.uid] = null;\n      this.onSourceUnload(source);\n      this.initSource(source);\n    }\n  }\n  _initSampler(sampler) {\n    this._gpuSamplers[sampler._resourceId] = this._gpu.device.createSampler(sampler);\n    return this._gpuSamplers[sampler._resourceId];\n  }\n  getGpuSampler(sampler) {\n    return this._gpuSamplers[sampler._resourceId] || this._initSampler(sampler);\n  }\n  getGpuSource(source) {\n    return this._gpuSources[source.uid] || this.initSource(source);\n  }\n  /**\n   * this returns s bind group for a specific texture, the bind group contains\n   * - the texture source\n   * - the texture style\n   * - the texture matrix\n   * This is cached so the bind group should only be created once per texture\n   * @param texture - the texture you want the bindgroup for\n   * @returns the bind group for the texture\n   */\n  getTextureBindGroup(texture) {\n    return this._bindGroupHash[texture.uid] ?? this._createTextureBindGroup(texture);\n  }\n  _createTextureBindGroup(texture) {\n    const source = texture.source;\n    this._bindGroupHash[texture.uid] = new BindGroup({\n      0: source,\n      1: source.style,\n      2: new UniformGroup({\n        uTextureMatrix: { type: \"mat3x3<f32>\", value: texture.textureMatrix.mapCoord }\n      })\n    });\n    return this._bindGroupHash[texture.uid];\n  }\n  getTextureView(texture) {\n    const source = texture.source;\n    return this._textureViewHash[source.uid] ?? this._createTextureView(source);\n  }\n  _createTextureView(texture) {\n    this._textureViewHash[texture.uid] = this.getGpuSource(texture).createView();\n    return this._textureViewHash[texture.uid];\n  }\n  generateCanvas(texture) {\n    const renderer = this._renderer;\n    const commandEncoder = renderer.gpu.device.createCommandEncoder();\n    const canvas = DOMAdapter.get().createCanvas();\n    canvas.width = texture.source.pixelWidth;\n    canvas.height = texture.source.pixelHeight;\n    const context = canvas.getContext(\"webgpu\");\n    context.configure({\n      device: renderer.gpu.device,\n      usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,\n      format: DOMAdapter.get().getNavigator().gpu.getPreferredCanvasFormat(),\n      alphaMode: \"premultiplied\"\n    });\n    commandEncoder.copyTextureToTexture({\n      texture: renderer.texture.getGpuSource(texture.source),\n      origin: {\n        x: 0,\n        y: 0\n      }\n    }, {\n      texture: context.getCurrentTexture()\n    }, {\n      width: canvas.width,\n      height: canvas.height\n    });\n    renderer.gpu.device.queue.submit([commandEncoder.finish()]);\n    return canvas;\n  }\n  getPixels(texture) {\n    const webGPUCanvas = this.generateCanvas(texture);\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(webGPUCanvas.width, webGPUCanvas.height);\n    const context = canvasAndContext.context;\n    context.drawImage(webGPUCanvas, 0, 0);\n    const { width, height } = webGPUCanvas;\n    const imageData = context.getImageData(0, 0, width, height);\n    const pixels = new Uint8ClampedArray(imageData.data.buffer);\n    CanvasPool.returnCanvasAndContext(canvasAndContext);\n    return { pixels, width, height };\n  }\n  destroy() {\n    this.managedTextures.slice().forEach((source) => this.onSourceDestroy(source));\n    this.managedTextures = null;\n    for (const k of Object.keys(this._bindGroupHash)) {\n      const key = Number(k);\n      const bindGroup = this._bindGroupHash[key];\n      bindGroup?.destroy();\n      this._bindGroupHash[key] = null;\n    }\n    this._gpu = null;\n    this._mipmapGenerator = null;\n    this._gpuSources = null;\n    this._bindGroupHash = null;\n    this._textureViewHash = null;\n    this._gpuSamplers = null;\n  }\n}\n/** @ignore */\nGpuTextureSystem.extension = {\n  type: [\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"texture\"\n};\n\nexport { GpuTextureSystem };\n//# sourceMappingURL=GpuTextureSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { getTextureBatchBindGroup } from '../../../rendering/batcher/gpu/getTextureBatchBindGroup.mjs';\nimport { compileHighShaderGpuProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { colorBit } from '../../../rendering/high-shader/shader-bits/colorBit.mjs';\nimport { generateTextureBatchBit } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nimport { localUniformBitGroup2 } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBit } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\n\n\"use strict\";\nclass GpuGraphicsAdaptor {\n  constructor() {\n    this._maxTextures = 0;\n  }\n  contextChange(renderer) {\n    const localUniforms = new UniformGroup({\n      uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n      uRound: { value: 0, type: \"f32\" }\n    });\n    this._maxTextures = renderer.limits.maxBatchableTextures;\n    const gpuProgram = compileHighShaderGpuProgram({\n      name: \"graphics\",\n      bits: [\n        colorBit,\n        generateTextureBatchBit(this._maxTextures),\n        localUniformBitGroup2,\n        roundPixelsBit\n      ]\n    });\n    this.shader = new Shader({\n      gpuProgram,\n      resources: {\n        // added on the fly!\n        localUniforms\n      }\n    });\n  }\n  execute(graphicsPipe, renderable) {\n    const context = renderable.context;\n    const shader = context.customShader || this.shader;\n    const renderer = graphicsPipe.renderer;\n    const contextSystem = renderer.graphicsContext;\n    const {\n      batcher,\n      instructions\n    } = contextSystem.getContextRenderData(context);\n    const encoder = renderer.encoder;\n    encoder.setGeometry(batcher.geometry, shader.gpuProgram);\n    const globalUniformsBindGroup = renderer.globalUniforms.bindGroup;\n    encoder.setBindGroup(0, globalUniformsBindGroup, shader.gpuProgram);\n    const localBindGroup = renderer.renderPipes.uniformBatch.getUniformBindGroup(shader.resources.localUniforms, true);\n    encoder.setBindGroup(2, localBindGroup, shader.gpuProgram);\n    const batches = instructions.instructions;\n    let topology = null;\n    for (let i = 0; i < instructions.instructionSize; i++) {\n      const batch = batches[i];\n      if (batch.topology !== topology) {\n        topology = batch.topology;\n        encoder.setPipelineFromGeometryProgramAndState(\n          batcher.geometry,\n          shader.gpuProgram,\n          graphicsPipe.state,\n          batch.topology\n        );\n      }\n      shader.groups[1] = batch.bindGroup;\n      if (!batch.gpuBindGroup) {\n        const textureBatch = batch.textures;\n        batch.bindGroup = getTextureBatchBindGroup(\n          textureBatch.textures,\n          textureBatch.count,\n          this._maxTextures\n        );\n        batch.gpuBindGroup = renderer.bindGroup.getBindGroup(\n          batch.bindGroup,\n          shader.gpuProgram,\n          1\n        );\n      }\n      encoder.setBindGroup(1, batch.bindGroup, shader.gpuProgram);\n      encoder.renderPassEncoder.drawIndexed(batch.size, 1, batch.start);\n    }\n  }\n  destroy() {\n    this.shader.destroy(true);\n    this.shader = null;\n  }\n}\n/** @ignore */\nGpuGraphicsAdaptor.extension = {\n  type: [\n    ExtensionType.WebGPUPipesAdaptor\n  ],\n  name: \"graphics\"\n};\n\nexport { GpuGraphicsAdaptor };\n//# sourceMappingURL=GpuGraphicsAdaptor.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGpuProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { localUniformBit } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBit } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { textureBit } from '../../../rendering/high-shader/shader-bits/textureBit.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\n\n\"use strict\";\nclass GpuMeshAdapter {\n  init() {\n    const gpuProgram = compileHighShaderGpuProgram({\n      name: \"mesh\",\n      bits: [\n        localUniformBit,\n        textureBit,\n        roundPixelsBit\n      ]\n    });\n    this._shader = new Shader({\n      gpuProgram,\n      resources: {\n        uTexture: Texture.EMPTY._source,\n        uSampler: Texture.EMPTY._source.style,\n        textureUniforms: {\n          uTextureMatrix: { type: \"mat3x3<f32>\", value: new Matrix() }\n        }\n      }\n    });\n  }\n  execute(meshPipe, mesh) {\n    const renderer = meshPipe.renderer;\n    let shader = mesh._shader;\n    if (!shader) {\n      shader = this._shader;\n      shader.groups[2] = renderer.texture.getTextureBindGroup(mesh.texture);\n    } else if (!shader.gpuProgram) {\n      warn(\"Mesh shader has no gpuProgram\", mesh.shader);\n      return;\n    }\n    const gpuProgram = shader.gpuProgram;\n    if (gpuProgram.autoAssignGlobalUniforms) {\n      shader.groups[0] = renderer.globalUniforms.bindGroup;\n    }\n    if (gpuProgram.autoAssignLocalUniforms) {\n      const localUniforms = meshPipe.localUniforms;\n      shader.groups[1] = renderer.renderPipes.uniformBatch.getUniformBindGroup(localUniforms, true);\n    }\n    renderer.encoder.draw({\n      geometry: mesh._geometry,\n      shader,\n      state: mesh.state\n    });\n  }\n  destroy() {\n    this._shader.destroy(true);\n    this._shader = null;\n  }\n}\n/** @ignore */\nGpuMeshAdapter.extension = {\n  type: [\n    ExtensionType.WebGPUPipesAdaptor\n  ],\n  name: \"mesh\"\n};\n\nexport { GpuMeshAdapter };\n//# sourceMappingURL=GpuMeshAdapter.mjs.map\n","import { extensions, ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GpuGraphicsAdaptor } from '../../../scene/graphics/gpu/GpuGraphicsAdaptor.mjs';\nimport { GpuMeshAdapter } from '../../../scene/mesh/gpu/GpuMeshAdapter.mjs';\nimport { GpuBatchAdaptor } from '../../batcher/gpu/GpuBatchAdaptor.mjs';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer.mjs';\nimport { SharedSystems, SharedRenderPipes } from '../shared/system/SharedSystems.mjs';\nimport { RendererType } from '../types.mjs';\nimport { BindGroupSystem } from './BindGroupSystem.mjs';\nimport { GpuBufferSystem } from './buffer/GpuBufferSystem.mjs';\nimport { GpuColorMaskSystem } from './GpuColorMaskSystem.mjs';\nimport { GpuDeviceSystem } from './GpuDeviceSystem.mjs';\nimport { GpuEncoderSystem } from './GpuEncoderSystem.mjs';\nimport { GpuLimitsSystem } from './GpuLimitsSystem.mjs';\nimport { GpuStencilSystem } from './GpuStencilSystem.mjs';\nimport { GpuUboSystem } from './GpuUboSystem.mjs';\nimport { GpuUniformBatchPipe } from './GpuUniformBatchPipe.mjs';\nimport { PipelineSystem } from './pipeline/PipelineSystem.mjs';\nimport { GpuRenderTargetSystem } from './renderTarget/GpuRenderTargetSystem.mjs';\nimport { GpuShaderSystem } from './shader/GpuShaderSystem.mjs';\nimport { GpuStateSystem } from './state/GpuStateSystem.mjs';\nimport { GpuTextureSystem } from './texture/GpuTextureSystem.mjs';\n\n\"use strict\";\nconst DefaultWebGPUSystems = [\n  ...SharedSystems,\n  GpuUboSystem,\n  GpuEncoderSystem,\n  GpuDeviceSystem,\n  GpuLimitsSystem,\n  GpuBufferSystem,\n  GpuTextureSystem,\n  GpuRenderTargetSystem,\n  GpuShaderSystem,\n  GpuStateSystem,\n  PipelineSystem,\n  GpuColorMaskSystem,\n  GpuStencilSystem,\n  BindGroupSystem\n];\nconst DefaultWebGPUPipes = [...SharedRenderPipes, GpuUniformBatchPipe];\nconst DefaultWebGPUAdapters = [GpuBatchAdaptor, GpuMeshAdapter, GpuGraphicsAdaptor];\nconst systems = [];\nconst renderPipes = [];\nconst renderPipeAdaptors = [];\nextensions.handleByNamedList(ExtensionType.WebGPUSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGPUPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGPUPipesAdaptor, renderPipeAdaptors);\nextensions.add(...DefaultWebGPUSystems, ...DefaultWebGPUPipes, ...DefaultWebGPUAdapters);\nclass WebGPURenderer extends AbstractRenderer {\n  constructor() {\n    const systemConfig = {\n      name: \"webgpu\",\n      type: RendererType.WEBGPU,\n      systems,\n      renderPipes,\n      renderPipeAdaptors\n    };\n    super(systemConfig);\n  }\n}\n\nexport { WebGPURenderer };\n//# sourceMappingURL=WebGPURenderer.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { State } from '../../../rendering/renderers/shared/state/State.mjs';\nimport { BigPool } from '../../../utils/pool/PoolGroup.mjs';\nimport { color32BitToUniform } from '../gpu/colorToUniform.mjs';\nimport { BatchableGraphics } from './BatchableGraphics.mjs';\n\n\"use strict\";\nclass GraphicsGpuData {\n  constructor() {\n    this.batches = [];\n    this.batched = false;\n  }\n  destroy() {\n    this.batches.forEach((batch) => {\n      BigPool.return(batch);\n    });\n    this.batches.length = 0;\n  }\n}\nclass GraphicsPipe {\n  constructor(renderer, adaptor) {\n    this.state = State.for2d();\n    this.renderer = renderer;\n    this._adaptor = adaptor;\n    this.renderer.runners.contextChange.add(this);\n  }\n  contextChange() {\n    this._adaptor.contextChange(this.renderer);\n  }\n  validateRenderable(graphics) {\n    const context = graphics.context;\n    const wasBatched = !!graphics._gpuData;\n    const gpuContext = this.renderer.graphicsContext.updateGpuContext(context);\n    if (gpuContext.isBatchable || wasBatched !== gpuContext.isBatchable) {\n      return true;\n    }\n    return false;\n  }\n  addRenderable(graphics, instructionSet) {\n    const gpuContext = this.renderer.graphicsContext.updateGpuContext(graphics.context);\n    if (graphics.didViewUpdate) {\n      this._rebuild(graphics);\n    }\n    if (gpuContext.isBatchable) {\n      this._addToBatcher(graphics, instructionSet);\n    } else {\n      this.renderer.renderPipes.batch.break(instructionSet);\n      instructionSet.add(graphics);\n    }\n  }\n  updateRenderable(graphics) {\n    const gpuData = this._getGpuDataForRenderable(graphics);\n    const batches = gpuData.batches;\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches[i];\n      batch._batcher.updateElement(batch);\n    }\n  }\n  execute(graphics) {\n    if (!graphics.isRenderable)\n      return;\n    const renderer = this.renderer;\n    const context = graphics.context;\n    const contextSystem = renderer.graphicsContext;\n    if (!contextSystem.getGpuContext(context).batches.length) {\n      return;\n    }\n    const shader = context.customShader || this._adaptor.shader;\n    this.state.blendMode = graphics.groupBlendMode;\n    const localUniforms = shader.resources.localUniforms.uniforms;\n    localUniforms.uTransformMatrix = graphics.groupTransform;\n    localUniforms.uRound = renderer._roundPixels | graphics._roundPixels;\n    color32BitToUniform(\n      graphics.groupColorAlpha,\n      localUniforms.uColor,\n      0\n    );\n    this._adaptor.execute(this, graphics);\n  }\n  _rebuild(graphics) {\n    const gpuData = this._getGpuDataForRenderable(graphics);\n    const gpuContext = this.renderer.graphicsContext.updateGpuContext(graphics.context);\n    gpuData.destroy();\n    if (gpuContext.isBatchable) {\n      this._updateBatchesForRenderable(graphics, gpuData);\n    }\n  }\n  _addToBatcher(graphics, instructionSet) {\n    const batchPipe = this.renderer.renderPipes.batch;\n    const batches = this._getGpuDataForRenderable(graphics).batches;\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches[i];\n      batchPipe.addToBatch(batch, instructionSet);\n    }\n  }\n  _getGpuDataForRenderable(graphics) {\n    return graphics._gpuData[this.renderer.uid] || this._initGpuDataForRenderable(graphics);\n  }\n  _initGpuDataForRenderable(graphics) {\n    const gpuData = new GraphicsGpuData();\n    graphics._gpuData[this.renderer.uid] = gpuData;\n    return gpuData;\n  }\n  _updateBatchesForRenderable(graphics, gpuData) {\n    const context = graphics.context;\n    const gpuContext = this.renderer.graphicsContext.getGpuContext(context);\n    const roundPixels = this.renderer._roundPixels | graphics._roundPixels;\n    gpuData.batches = gpuContext.batches.map((batch) => {\n      const batchClone = BigPool.get(BatchableGraphics);\n      batch.copyTo(batchClone);\n      batchClone.renderable = graphics;\n      batchClone.roundPixels = roundPixels;\n      return batchClone;\n    });\n  }\n  destroy() {\n    this.renderer = null;\n    this._adaptor.destroy();\n    this._adaptor = null;\n    this.state = null;\n  }\n}\n/** @ignore */\nGraphicsPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"graphics\"\n};\n\nexport { GraphicsGpuData, GraphicsPipe };\n//# sourceMappingURL=GraphicsPipe.mjs.map\n","import { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry.mjs';\n\n\"use strict\";\nconst _PlaneGeometry = class _PlaneGeometry extends MeshGeometry {\n  constructor(...args) {\n    super({});\n    let options = args[0] ?? {};\n    if (typeof options === \"number\") {\n      deprecation(v8_0_0, \"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead\");\n      options = {\n        width: options,\n        height: args[1],\n        verticesX: args[2],\n        verticesY: args[3]\n      };\n    }\n    this.build(options);\n  }\n  /**\n   * Refreshes plane coordinates\n   * @param options - Options to be applied to plane geometry\n   */\n  build(options) {\n    options = { ..._PlaneGeometry.defaultOptions, ...options };\n    this.verticesX = this.verticesX ?? options.verticesX;\n    this.verticesY = this.verticesY ?? options.verticesY;\n    this.width = this.width ?? options.width;\n    this.height = this.height ?? options.height;\n    const total = this.verticesX * this.verticesY;\n    const verts = [];\n    const uvs = [];\n    const indices = [];\n    const verticesX = this.verticesX - 1;\n    const verticesY = this.verticesY - 1;\n    const sizeX = this.width / verticesX;\n    const sizeY = this.height / verticesY;\n    for (let i = 0; i < total; i++) {\n      const x = i % this.verticesX;\n      const y = i / this.verticesX | 0;\n      verts.push(x * sizeX, y * sizeY);\n      uvs.push(x / verticesX, y / verticesY);\n    }\n    const totalSub = verticesX * verticesY;\n    for (let i = 0; i < totalSub; i++) {\n      const xpos = i % verticesX;\n      const ypos = i / verticesX | 0;\n      const value = ypos * this.verticesX + xpos;\n      const value2 = ypos * this.verticesX + xpos + 1;\n      const value3 = (ypos + 1) * this.verticesX + xpos;\n      const value4 = (ypos + 1) * this.verticesX + xpos + 1;\n      indices.push(\n        value,\n        value2,\n        value3,\n        value2,\n        value4,\n        value3\n      );\n    }\n    this.buffers[0].data = new Float32Array(verts);\n    this.buffers[1].data = new Float32Array(uvs);\n    this.indexBuffer.data = new Uint32Array(indices);\n    this.buffers[0].update();\n    this.buffers[1].update();\n    this.indexBuffer.update();\n  }\n};\n_PlaneGeometry.defaultOptions = {\n  width: 100,\n  height: 100,\n  verticesX: 10,\n  verticesY: 10\n};\nlet PlaneGeometry = _PlaneGeometry;\n\nexport { PlaneGeometry };\n//# sourceMappingURL=PlaneGeometry.mjs.map\n","\"use strict\";\nclass BatchableMesh {\n  constructor() {\n    this.batcherName = \"default\";\n    this.packAsQuad = false;\n    this.indexOffset = 0;\n    this.attributeOffset = 0;\n    this.roundPixels = 0;\n    this._batcher = null;\n    this._batch = null;\n    this._textureMatrixUpdateId = -1;\n    this._uvUpdateId = -1;\n  }\n  get blendMode() {\n    return this.renderable.groupBlendMode;\n  }\n  get topology() {\n    return this._topology || this.geometry.topology;\n  }\n  set topology(value) {\n    this._topology = value;\n  }\n  reset() {\n    this.renderable = null;\n    this.texture = null;\n    this._batcher = null;\n    this._batch = null;\n    this.geometry = null;\n    this._uvUpdateId = -1;\n    this._textureMatrixUpdateId = -1;\n  }\n  /**\n   * Sets the texture for the batchable mesh.\n   * As it does so, it resets the texture matrix update ID.\n   * this is to ensure that the texture matrix is recalculated when the uvs are referenced\n   * @param value - The texture to set.\n   */\n  setTexture(value) {\n    if (this.texture === value)\n      return;\n    this.texture = value;\n    this._textureMatrixUpdateId = -1;\n  }\n  get uvs() {\n    const geometry = this.geometry;\n    const uvBuffer = geometry.getBuffer(\"aUV\");\n    const uvs = uvBuffer.data;\n    let transformedUvs = uvs;\n    const textureMatrix = this.texture.textureMatrix;\n    if (!textureMatrix.isSimple) {\n      transformedUvs = this._transformedUvs;\n      if (this._textureMatrixUpdateId !== textureMatrix._updateID || this._uvUpdateId !== uvBuffer._updateID) {\n        if (!transformedUvs || transformedUvs.length < uvs.length) {\n          transformedUvs = this._transformedUvs = new Float32Array(uvs.length);\n        }\n        this._textureMatrixUpdateId = textureMatrix._updateID;\n        this._uvUpdateId = uvBuffer._updateID;\n        textureMatrix.multiplyUvs(uvs, transformedUvs);\n      }\n    }\n    return transformedUvs;\n  }\n  get positions() {\n    return this.geometry.positions;\n  }\n  get indices() {\n    return this.geometry.indices;\n  }\n  get color() {\n    return this.renderable.groupColorAlpha;\n  }\n  get groupTransform() {\n    return this.renderable.groupTransform;\n  }\n  get attributeSize() {\n    return this.geometry.positions.length / 2;\n  }\n  get indexSize() {\n    return this.geometry.indices.length;\n  }\n}\n\nexport { BatchableMesh };\n//# sourceMappingURL=BatchableMesh.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { BindGroup } from '../../../rendering/renderers/gpu/shader/BindGroup.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { getAdjustedBlendModeBlend } from '../../../rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nimport { color32BitToUniform } from '../../graphics/gpu/colorToUniform.mjs';\nimport { BatchableMesh } from './BatchableMesh.mjs';\n\n\"use strict\";\nclass MeshGpuData {\n  destroy() {\n  }\n}\nclass MeshPipe {\n  constructor(renderer, adaptor) {\n    this.localUniforms = new UniformGroup({\n      uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n      uRound: { value: 0, type: \"f32\" }\n    });\n    this.localUniformsBindGroup = new BindGroup({\n      0: this.localUniforms\n    });\n    this.renderer = renderer;\n    this._adaptor = adaptor;\n    this._adaptor.init();\n  }\n  validateRenderable(mesh) {\n    const meshData = this._getMeshData(mesh);\n    const wasBatched = meshData.batched;\n    const isBatched = mesh.batched;\n    meshData.batched = isBatched;\n    if (wasBatched !== isBatched) {\n      return true;\n    } else if (isBatched) {\n      const geometry = mesh._geometry;\n      if (geometry.indices.length !== meshData.indexSize || geometry.positions.length !== meshData.vertexSize) {\n        meshData.indexSize = geometry.indices.length;\n        meshData.vertexSize = geometry.positions.length;\n        return true;\n      }\n      const batchableMesh = this._getBatchableMesh(mesh);\n      if (batchableMesh.texture.uid !== mesh._texture.uid) {\n        batchableMesh._textureMatrixUpdateId = -1;\n      }\n      return !batchableMesh._batcher.checkAndUpdateTexture(\n        batchableMesh,\n        mesh._texture\n      );\n    }\n    return false;\n  }\n  addRenderable(mesh, instructionSet) {\n    const batcher = this.renderer.renderPipes.batch;\n    const meshData = this._getMeshData(mesh);\n    if (mesh.didViewUpdate) {\n      meshData.indexSize = mesh._geometry.indices?.length;\n      meshData.vertexSize = mesh._geometry.positions?.length;\n    }\n    if (meshData.batched) {\n      const gpuBatchableMesh = this._getBatchableMesh(mesh);\n      gpuBatchableMesh.setTexture(mesh._texture);\n      gpuBatchableMesh.geometry = mesh._geometry;\n      batcher.addToBatch(gpuBatchableMesh, instructionSet);\n    } else {\n      batcher.break(instructionSet);\n      instructionSet.add(mesh);\n    }\n  }\n  updateRenderable(mesh) {\n    if (mesh.batched) {\n      const gpuBatchableMesh = this._getBatchableMesh(mesh);\n      gpuBatchableMesh.setTexture(mesh._texture);\n      gpuBatchableMesh.geometry = mesh._geometry;\n      gpuBatchableMesh._batcher.updateElement(gpuBatchableMesh);\n    }\n  }\n  execute(mesh) {\n    if (!mesh.isRenderable)\n      return;\n    mesh.state.blendMode = getAdjustedBlendModeBlend(mesh.groupBlendMode, mesh.texture._source);\n    const localUniforms = this.localUniforms;\n    localUniforms.uniforms.uTransformMatrix = mesh.groupTransform;\n    localUniforms.uniforms.uRound = this.renderer._roundPixels | mesh._roundPixels;\n    localUniforms.update();\n    color32BitToUniform(\n      mesh.groupColorAlpha,\n      localUniforms.uniforms.uColor,\n      0\n    );\n    this._adaptor.execute(this, mesh);\n  }\n  _getMeshData(mesh) {\n    var _a, _b;\n    (_a = mesh._gpuData)[_b = this.renderer.uid] || (_a[_b] = new MeshGpuData());\n    return mesh._gpuData[this.renderer.uid].meshData || this._initMeshData(mesh);\n  }\n  _initMeshData(mesh) {\n    mesh._gpuData[this.renderer.uid].meshData = {\n      batched: mesh.batched,\n      indexSize: 0,\n      vertexSize: 0\n    };\n    return mesh._gpuData[this.renderer.uid].meshData;\n  }\n  _getBatchableMesh(mesh) {\n    var _a, _b;\n    (_a = mesh._gpuData)[_b = this.renderer.uid] || (_a[_b] = new MeshGpuData());\n    return mesh._gpuData[this.renderer.uid].batchableMesh || this._initBatchableMesh(mesh);\n  }\n  _initBatchableMesh(mesh) {\n    const gpuMesh = new BatchableMesh();\n    gpuMesh.renderable = mesh;\n    gpuMesh.setTexture(mesh._texture);\n    gpuMesh.transform = mesh.groupTransform;\n    gpuMesh.roundPixels = this.renderer._roundPixels | mesh._roundPixels;\n    mesh._gpuData[this.renderer.uid].batchableMesh = gpuMesh;\n    return gpuMesh;\n  }\n  destroy() {\n    this.localUniforms = null;\n    this.localUniformsBindGroup = null;\n    this._adaptor.destroy();\n    this._adaptor = null;\n    this.renderer = null;\n  }\n}\n/** @ignore */\nMeshPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"mesh\"\n};\n\nexport { MeshGpuData, MeshPipe };\n//# sourceMappingURL=MeshPipe.mjs.map\n","\"use strict\";\nclass GlParticleContainerAdaptor {\n  execute(particleContainerPipe, container) {\n    const state = particleContainerPipe.state;\n    const renderer = particleContainerPipe.renderer;\n    const shader = container.shader || particleContainerPipe.defaultShader;\n    shader.resources.uTexture = container.texture._source;\n    shader.resources.uniforms = particleContainerPipe.localUniforms;\n    const gl = renderer.gl;\n    const buffer = particleContainerPipe.getBuffers(container);\n    renderer.shader.bind(shader);\n    renderer.state.set(state);\n    renderer.geometry.bind(buffer.geometry, shader.glProgram);\n    const byteSize = buffer.geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n    const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n    gl.drawElements(gl.TRIANGLES, container.particleChildren.length * 6, glType, 0);\n  }\n}\n\nexport { GlParticleContainerAdaptor };\n//# sourceMappingURL=GlParticleContainerAdaptor.mjs.map\n","\"use strict\";\nclass GpuParticleContainerAdaptor {\n  execute(particleContainerPipe, container) {\n    const renderer = particleContainerPipe.renderer;\n    const shader = container.shader || particleContainerPipe.defaultShader;\n    shader.groups[0] = renderer.renderPipes.uniformBatch.getUniformBindGroup(particleContainerPipe.localUniforms, true);\n    shader.groups[1] = renderer.texture.getTextureBindGroup(container.texture);\n    const state = particleContainerPipe.state;\n    const buffer = particleContainerPipe.getBuffers(container);\n    renderer.encoder.draw({\n      geometry: buffer.geometry,\n      shader: container.shader || particleContainerPipe.defaultShader,\n      state,\n      size: container.particleChildren.length * 6\n    });\n  }\n}\n\nexport { GpuParticleContainerAdaptor };\n//# sourceMappingURL=GpuParticleContainerAdaptor.mjs.map\n","\"use strict\";\nfunction createIndicesForQuads(size, outBuffer = null) {\n  const totalIndices = size * 6;\n  if (totalIndices > 65535) {\n    outBuffer || (outBuffer = new Uint32Array(totalIndices));\n  } else {\n    outBuffer || (outBuffer = new Uint16Array(totalIndices));\n  }\n  if (outBuffer.length !== totalIndices) {\n    throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);\n  }\n  for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4) {\n    outBuffer[i + 0] = j + 0;\n    outBuffer[i + 1] = j + 1;\n    outBuffer[i + 2] = j + 2;\n    outBuffer[i + 3] = j + 0;\n    outBuffer[i + 4] = j + 2;\n    outBuffer[i + 5] = j + 3;\n  }\n  return outBuffer;\n}\n\nexport { createIndicesForQuads };\n//# sourceMappingURL=createIndicesForQuads.mjs.map\n","import { getAttributeInfoFromFormat } from '../../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs';\n\n\"use strict\";\nfunction generateParticleUpdateFunction(properties) {\n  return {\n    dynamicUpdate: generateUpdateFunction(properties, true),\n    staticUpdate: generateUpdateFunction(properties, false)\n  };\n}\nfunction generateUpdateFunction(properties, dynamic) {\n  const funcFragments = [];\n  funcFragments.push(`\n\n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            `);\n  let offset = 0;\n  for (const i in properties) {\n    const property = properties[i];\n    if (dynamic !== property.dynamic)\n      continue;\n    funcFragments.push(`offset = index + ${offset}`);\n    funcFragments.push(property.code);\n    const attributeInfo = getAttributeInfoFromFormat(property.format);\n    offset += attributeInfo.stride / 4;\n  }\n  funcFragments.push(`\n            index += stride * 4;\n        }\n    `);\n  funcFragments.unshift(`\n        var stride = ${offset};\n    `);\n  const functionSource = funcFragments.join(\"\\n\");\n  return new Function(\"ps\", \"f32v\", \"u32v\", functionSource);\n}\n\nexport { generateParticleUpdateFunction };\n//# sourceMappingURL=generateParticleUpdateFunction.mjs.map\n","import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer.mjs';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const.mjs';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry.mjs';\nimport { getAttributeInfoFromFormat } from '../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nimport { ViewableBuffer } from '../../../utils/data/ViewableBuffer.mjs';\nimport { createIndicesForQuads } from './utils/createIndicesForQuads.mjs';\nimport { generateParticleUpdateFunction } from './utils/generateParticleUpdateFunction.mjs';\n\n\"use strict\";\nclass ParticleBuffer {\n  constructor(options) {\n    this._size = 0;\n    this._generateParticleUpdateCache = {};\n    const size = this._size = options.size ?? 1e3;\n    const properties = options.properties;\n    let staticVertexSize = 0;\n    let dynamicVertexSize = 0;\n    for (const i in properties) {\n      const property = properties[i];\n      const attributeInfo = getAttributeInfoFromFormat(property.format);\n      if (property.dynamic) {\n        dynamicVertexSize += attributeInfo.stride;\n      } else {\n        staticVertexSize += attributeInfo.stride;\n      }\n    }\n    this._dynamicStride = dynamicVertexSize / 4;\n    this._staticStride = staticVertexSize / 4;\n    this.staticAttributeBuffer = new ViewableBuffer(size * 4 * staticVertexSize);\n    this.dynamicAttributeBuffer = new ViewableBuffer(size * 4 * dynamicVertexSize);\n    this.indexBuffer = createIndicesForQuads(size);\n    const geometry = new Geometry();\n    let dynamicOffset = 0;\n    let staticOffset = 0;\n    this._staticBuffer = new Buffer({\n      data: new Float32Array(1),\n      label: \"static-particle-buffer\",\n      shrinkToFit: false,\n      usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n    });\n    this._dynamicBuffer = new Buffer({\n      data: new Float32Array(1),\n      label: \"dynamic-particle-buffer\",\n      shrinkToFit: false,\n      usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n    });\n    for (const i in properties) {\n      const property = properties[i];\n      const attributeInfo = getAttributeInfoFromFormat(property.format);\n      if (property.dynamic) {\n        geometry.addAttribute(property.attributeName, {\n          buffer: this._dynamicBuffer,\n          stride: this._dynamicStride * 4,\n          offset: dynamicOffset * 4,\n          format: property.format\n        });\n        dynamicOffset += attributeInfo.size;\n      } else {\n        geometry.addAttribute(property.attributeName, {\n          buffer: this._staticBuffer,\n          stride: this._staticStride * 4,\n          offset: staticOffset * 4,\n          format: property.format\n        });\n        staticOffset += attributeInfo.size;\n      }\n    }\n    geometry.addIndex(this.indexBuffer);\n    const uploadFunction = this.getParticleUpdate(properties);\n    this._dynamicUpload = uploadFunction.dynamicUpdate;\n    this._staticUpload = uploadFunction.staticUpdate;\n    this.geometry = geometry;\n  }\n  getParticleUpdate(properties) {\n    const key = getParticleSyncKey(properties);\n    if (this._generateParticleUpdateCache[key]) {\n      return this._generateParticleUpdateCache[key];\n    }\n    this._generateParticleUpdateCache[key] = this.generateParticleUpdate(properties);\n    return this._generateParticleUpdateCache[key];\n  }\n  generateParticleUpdate(properties) {\n    return generateParticleUpdateFunction(properties);\n  }\n  update(particles, uploadStatic) {\n    if (particles.length > this._size) {\n      uploadStatic = true;\n      this._size = Math.max(particles.length, this._size * 1.5 | 0);\n      this.staticAttributeBuffer = new ViewableBuffer(this._size * this._staticStride * 4 * 4);\n      this.dynamicAttributeBuffer = new ViewableBuffer(this._size * this._dynamicStride * 4 * 4);\n      this.indexBuffer = createIndicesForQuads(this._size);\n      this.geometry.indexBuffer.setDataWithSize(\n        this.indexBuffer,\n        this.indexBuffer.byteLength,\n        true\n      );\n    }\n    const dynamicAttributeBuffer = this.dynamicAttributeBuffer;\n    this._dynamicUpload(particles, dynamicAttributeBuffer.float32View, dynamicAttributeBuffer.uint32View);\n    this._dynamicBuffer.setDataWithSize(\n      this.dynamicAttributeBuffer.float32View,\n      particles.length * this._dynamicStride * 4,\n      true\n    );\n    if (uploadStatic) {\n      const staticAttributeBuffer = this.staticAttributeBuffer;\n      this._staticUpload(particles, staticAttributeBuffer.float32View, staticAttributeBuffer.uint32View);\n      this._staticBuffer.setDataWithSize(\n        staticAttributeBuffer.float32View,\n        particles.length * this._staticStride * 4,\n        true\n      );\n    }\n  }\n  destroy() {\n    this._staticBuffer.destroy();\n    this._dynamicBuffer.destroy();\n    this.geometry.destroy();\n  }\n}\nfunction getParticleSyncKey(properties) {\n  const keyGen = [];\n  for (const key in properties) {\n    const property = properties[key];\n    keyGen.push(key, property.code, property.dynamic ? \"d\" : \"s\");\n  }\n  return keyGen.join(\"_\");\n}\n\nexport { ParticleBuffer };\n//# sourceMappingURL=ParticleBuffer.mjs.map\n","var fragment = \"varying vec2 vUV;\\nvarying vec4 vColor;\\n\\nuniform sampler2D uTexture;\\n\\nvoid main(void){\\n    vec4 color = texture2D(uTexture, vUV) * vColor;\\n    gl_FragColor = color;\\n}\";\n\nexport { fragment as default };\n//# sourceMappingURL=particles.frag.mjs.map\n","var vertex = \"attribute vec2 aVertex;\\nattribute vec2 aUV;\\nattribute vec4 aColor;\\n\\nattribute vec2 aPosition;\\nattribute float aRotation;\\n\\nuniform mat3 uTranslationMatrix;\\nuniform float uRound;\\nuniform vec2 uResolution;\\nuniform vec4 uColor;\\n\\nvarying vec2 vUV;\\nvarying vec4 vColor;\\n\\nvec2 roundPixels(vec2 position, vec2 targetSize)\\n{       \\n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\\n}\\n\\nvoid main(void){\\n    float cosRotation = cos(aRotation);\\n    float sinRotation = sin(aRotation);\\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\\n\\n    vec2 v = vec2(x, y);\\n    v = v + aPosition;\\n\\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\\n\\n    if(uRound == 1.0)\\n    {\\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\\n    }\\n\\n    vUV = aUV;\\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=particles.vert.mjs.map\n","var wgsl = \"\\nstruct ParticleUniforms {\\n  uTranslationMatrix:mat3x3<f32>,\\n  uColor:vec4<f32>,\\n  uRound:f32,\\n  uResolution:vec2<f32>,\\n};\\n\\nfn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\\n{\\n  return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\\n}\\n\\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\\n\\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\\n@group(1) @binding(1) var uSampler : sampler;\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>,\\n    @location(1) color : vec4<f32>,\\n  };\\n@vertex\\nfn mainVertex(\\n  @location(0) aVertex: vec2<f32>,\\n  @location(1) aPosition: vec2<f32>,\\n  @location(2) aUV: vec2<f32>,\\n  @location(3) aColor: vec4<f32>,\\n  @location(4) aRotation: f32,\\n) -> VSOutput {\\n  \\n   let v = vec2(\\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\\n   ) + aPosition;\\n\\n   var position = vec4((uniforms.uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\\n\\n   if(uniforms.uRound == 1.0) {\\n       position = vec4(roundPixels(position.xy, uniforms.uResolution), position.zw);\\n   }\\n\\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\\n\\n  return VSOutput(\\n   position,\\n   aUV,\\n   vColor,\\n  );\\n}\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n  @location(1) color: vec4<f32>,\\n  @builtin(position) position: vec4<f32>,\\n) -> @location(0) vec4<f32> {\\n\\n    var sample = textureSample(uTexture, uSampler, uv) * color;\\n   \\n    return sample;\\n}\";\n\nexport { wgsl as default };\n//# sourceMappingURL=particles.wgsl.mjs.map\n","import { Color } from '../../../../color/Color.mjs';\nimport { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { GlProgram } from '../../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { Shader } from '../../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { TextureStyle } from '../../../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport fragment from './particles.frag.mjs';\nimport vertex from './particles.vert.mjs';\nimport wgsl from './particles.wgsl.mjs';\n\n\"use strict\";\nclass ParticleShader extends Shader {\n  constructor() {\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment\n    });\n    const gpuProgram = GpuProgram.from({\n      fragment: {\n        source: wgsl,\n        entryPoint: \"mainFragment\"\n      },\n      vertex: {\n        source: wgsl,\n        entryPoint: \"mainVertex\"\n      }\n    });\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        // this will be replaced with the texture from the particle container\n        uTexture: Texture.WHITE.source,\n        // this will be replaced with the texture style from the particle container\n        uSampler: new TextureStyle({}),\n        // this will be replaced with the local uniforms from the particle container\n        uniforms: {\n          uTranslationMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n          uColor: { value: new Color(16777215), type: \"vec4<f32>\" },\n          uRound: { value: 1, type: \"f32\" },\n          uResolution: { value: [0, 0], type: \"vec2<f32>\" }\n        }\n      }\n    });\n  }\n}\n\nexport { ParticleShader };\n//# sourceMappingURL=ParticleShader.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { getAdjustedBlendModeBlend } from '../../../rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nimport { State } from '../../../rendering/renderers/shared/state/State.mjs';\nimport { color32BitToUniform } from '../../graphics/gpu/colorToUniform.mjs';\nimport { ParticleBuffer } from './ParticleBuffer.mjs';\nimport { ParticleShader } from './shader/ParticleShader.mjs';\n\n\"use strict\";\nclass ParticleContainerPipe {\n  /**\n   * @param renderer - The renderer this sprite batch works for.\n   * @param adaptor\n   */\n  constructor(renderer, adaptor) {\n    /** @internal */\n    this.state = State.for2d();\n    /** Local uniforms that are used for rendering particles. */\n    this.localUniforms = new UniformGroup({\n      uTranslationMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uColor: { value: new Float32Array(4), type: \"vec4<f32>\" },\n      uRound: { value: 1, type: \"f32\" },\n      uResolution: { value: [0, 0], type: \"vec2<f32>\" }\n    });\n    this.renderer = renderer;\n    this.adaptor = adaptor;\n    this.defaultShader = new ParticleShader();\n    this.state = State.for2d();\n  }\n  validateRenderable(_renderable) {\n    return false;\n  }\n  addRenderable(renderable, instructionSet) {\n    this.renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add(renderable);\n  }\n  getBuffers(renderable) {\n    return renderable._gpuData[this.renderer.uid] || this._initBuffer(renderable);\n  }\n  _initBuffer(renderable) {\n    renderable._gpuData[this.renderer.uid] = new ParticleBuffer({\n      size: renderable.particleChildren.length,\n      properties: renderable._properties\n    });\n    return renderable._gpuData[this.renderer.uid];\n  }\n  updateRenderable(_renderable) {\n  }\n  execute(container) {\n    const children = container.particleChildren;\n    if (children.length === 0) {\n      return;\n    }\n    const renderer = this.renderer;\n    const buffer = this.getBuffers(container);\n    container.texture || (container.texture = children[0].texture);\n    const state = this.state;\n    buffer.update(children, container._childrenDirty);\n    container._childrenDirty = false;\n    state.blendMode = getAdjustedBlendModeBlend(container.blendMode, container.texture._source);\n    const uniforms = this.localUniforms.uniforms;\n    const transformationMatrix = uniforms.uTranslationMatrix;\n    container.worldTransform.copyTo(transformationMatrix);\n    transformationMatrix.prepend(renderer.globalUniforms.globalUniformData.projectionMatrix);\n    uniforms.uResolution = renderer.globalUniforms.globalUniformData.resolution;\n    uniforms.uRound = renderer._roundPixels | container._roundPixels;\n    color32BitToUniform(\n      container.groupColorAlpha,\n      uniforms.uColor,\n      0\n    );\n    this.adaptor.execute(this, container);\n  }\n  /** Destroys the ParticleRenderer. */\n  destroy() {\n    this.renderer = null;\n    if (this.defaultShader) {\n      this.defaultShader.destroy();\n      this.defaultShader = null;\n    }\n  }\n}\n\nexport { ParticleContainerPipe };\n//# sourceMappingURL=ParticleContainerPipe.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GlParticleContainerAdaptor } from '../gl/GlParticleContainerAdaptor.mjs';\nimport { ParticleContainerPipe } from './ParticleContainerPipe.mjs';\n\n\"use strict\";\nclass GlParticleContainerPipe extends ParticleContainerPipe {\n  constructor(renderer) {\n    super(renderer, new GlParticleContainerAdaptor());\n  }\n}\n/** @ignore */\nGlParticleContainerPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes\n  ],\n  name: \"particle\"\n};\n\nexport { GlParticleContainerPipe };\n//# sourceMappingURL=GlParticleContainerPipe.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GpuParticleContainerAdaptor } from '../gpu/GpuParticleContainerAdaptor.mjs';\nimport { ParticleContainerPipe } from './ParticleContainerPipe.mjs';\n\n\"use strict\";\nclass GpuParticleContainerPipe extends ParticleContainerPipe {\n  constructor(renderer) {\n    super(renderer, new GpuParticleContainerAdaptor());\n  }\n}\n/** @ignore */\nGpuParticleContainerPipe.extension = {\n  type: [\n    ExtensionType.WebGPUPipes\n  ],\n  name: \"particle\"\n};\n\nexport { GpuParticleContainerPipe };\n//# sourceMappingURL=GpuParticleContainerPipe.mjs.map\n","import { PlaneGeometry } from '../mesh-plane/PlaneGeometry.mjs';\n\n\"use strict\";\nconst _NineSliceGeometry = class _NineSliceGeometry extends PlaneGeometry {\n  constructor(options = {}) {\n    options = { ..._NineSliceGeometry.defaultOptions, ...options };\n    super({\n      width: options.width,\n      height: options.height,\n      verticesX: 4,\n      verticesY: 4\n    });\n    this.update(options);\n  }\n  /**\n   * Updates the NineSliceGeometry with the options.\n   * @param options - The options of the NineSliceGeometry.\n   */\n  update(options) {\n    this.width = options.width ?? this.width;\n    this.height = options.height ?? this.height;\n    this._originalWidth = options.originalWidth ?? this._originalWidth;\n    this._originalHeight = options.originalHeight ?? this._originalHeight;\n    this._leftWidth = options.leftWidth ?? this._leftWidth;\n    this._rightWidth = options.rightWidth ?? this._rightWidth;\n    this._topHeight = options.topHeight ?? this._topHeight;\n    this._bottomHeight = options.bottomHeight ?? this._bottomHeight;\n    this._anchorX = options.anchor?.x;\n    this._anchorY = options.anchor?.y;\n    this.updateUvs();\n    this.updatePositions();\n  }\n  /** Updates the positions of the vertices. */\n  updatePositions() {\n    const p = this.positions;\n    const {\n      width,\n      height,\n      _leftWidth,\n      _rightWidth,\n      _topHeight,\n      _bottomHeight,\n      _anchorX,\n      _anchorY\n    } = this;\n    const w = _leftWidth + _rightWidth;\n    const scaleW = width > w ? 1 : width / w;\n    const h = _topHeight + _bottomHeight;\n    const scaleH = height > h ? 1 : height / h;\n    const scale = Math.min(scaleW, scaleH);\n    const anchorOffsetX = _anchorX * width;\n    const anchorOffsetY = _anchorY * height;\n    p[0] = p[8] = p[16] = p[24] = -anchorOffsetX;\n    p[2] = p[10] = p[18] = p[26] = _leftWidth * scale - anchorOffsetX;\n    p[4] = p[12] = p[20] = p[28] = width - _rightWidth * scale - anchorOffsetX;\n    p[6] = p[14] = p[22] = p[30] = width - anchorOffsetX;\n    p[1] = p[3] = p[5] = p[7] = -anchorOffsetY;\n    p[9] = p[11] = p[13] = p[15] = _topHeight * scale - anchorOffsetY;\n    p[17] = p[19] = p[21] = p[23] = height - _bottomHeight * scale - anchorOffsetY;\n    p[25] = p[27] = p[29] = p[31] = height - anchorOffsetY;\n    this.getBuffer(\"aPosition\").update();\n  }\n  /** Updates the UVs of the vertices. */\n  updateUvs() {\n    const uvs = this.uvs;\n    uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;\n    uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;\n    uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;\n    uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;\n    const _uvw = 1 / this._originalWidth;\n    const _uvh = 1 / this._originalHeight;\n    uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;\n    uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;\n    uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;\n    uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;\n    this.getBuffer(\"aUV\").update();\n  }\n};\n/** The default options for the NineSliceGeometry. */\n_NineSliceGeometry.defaultOptions = {\n  /** The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n  width: 100,\n  /** The height of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n  height: 100,\n  /** The width of the left column. */\n  leftWidth: 10,\n  /** The height of the top row. */\n  topHeight: 10,\n  /** The width of the right column. */\n  rightWidth: 10,\n  /** The height of the bottom row. */\n  bottomHeight: 10,\n  /** The original width of the texture */\n  originalWidth: 100,\n  /** The original height of the texture */\n  originalHeight: 100\n};\nlet NineSliceGeometry = _NineSliceGeometry;\n\nexport { NineSliceGeometry };\n//# sourceMappingURL=NineSliceGeometry.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { BatchableMesh } from '../mesh/shared/BatchableMesh.mjs';\nimport { NineSliceGeometry } from './NineSliceGeometry.mjs';\n\n\"use strict\";\nclass NineSliceSpriteGpuData extends BatchableMesh {\n  constructor() {\n    super();\n    this.geometry = new NineSliceGeometry();\n  }\n  destroy() {\n    this.geometry.destroy();\n  }\n}\nclass NineSliceSpritePipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  addRenderable(sprite, instructionSet) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    if (sprite.didViewUpdate)\n      this._updateBatchableSprite(sprite, gpuSprite);\n    this._renderer.renderPipes.batch.addToBatch(gpuSprite, instructionSet);\n  }\n  updateRenderable(sprite) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    if (sprite.didViewUpdate)\n      this._updateBatchableSprite(sprite, gpuSprite);\n    gpuSprite._batcher.updateElement(gpuSprite);\n  }\n  validateRenderable(sprite) {\n    const gpuSprite = this._getGpuSprite(sprite);\n    return !gpuSprite._batcher.checkAndUpdateTexture(\n      gpuSprite,\n      sprite._texture\n    );\n  }\n  _updateBatchableSprite(sprite, batchableSprite) {\n    batchableSprite.geometry.update(sprite);\n    batchableSprite.setTexture(sprite._texture);\n  }\n  _getGpuSprite(sprite) {\n    return sprite._gpuData[this._renderer.uid] || this._initGPUSprite(sprite);\n  }\n  _initGPUSprite(sprite) {\n    const gpuData = sprite._gpuData[this._renderer.uid] = new NineSliceSpriteGpuData();\n    const batchableMesh = gpuData;\n    batchableMesh.renderable = sprite;\n    batchableMesh.transform = sprite.groupTransform;\n    batchableMesh.texture = sprite._texture;\n    batchableMesh.roundPixels = this._renderer._roundPixels | sprite._roundPixels;\n    if (!sprite.didViewUpdate) {\n      this._updateBatchableSprite(sprite, batchableMesh);\n    }\n    return gpuData;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nNineSliceSpritePipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"nineSliceSprite\"\n};\n\nexport { NineSliceSpriteGpuData, NineSliceSpritePipe };\n//# sourceMappingURL=NineSliceSpritePipe.mjs.map\n","\"use strict\";\nconst tilingBit = {\n  name: \"tiling-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* wgsl */\n      `\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            }\n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        `\n    )\n  }\n};\nconst tilingBitGl = {\n  name: \"tiling-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* glsl */\n      `\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n\n        `\n    )\n  }\n};\n\nexport { tilingBit, tilingBitGl };\n//# sourceMappingURL=tilingBit.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGpuProgram, compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { localUniformBit, localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { tilingBit, tilingBitGl } from './tilingBit.mjs';\n\n\"use strict\";\nlet gpuProgram;\nlet glProgram;\nclass TilingSpriteShader extends Shader {\n  constructor() {\n    gpuProgram ?? (gpuProgram = compileHighShaderGpuProgram({\n      name: \"tiling-sprite-shader\",\n      bits: [\n        localUniformBit,\n        tilingBit,\n        roundPixelsBit\n      ]\n    }));\n    glProgram ?? (glProgram = compileHighShaderGlProgram({\n      name: \"tiling-sprite-shader\",\n      bits: [\n        localUniformBitGl,\n        tilingBitGl,\n        roundPixelsBitGl\n      ]\n    }));\n    const tilingUniforms = new UniformGroup({\n      uMapCoord: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: \"vec4<f32>\" },\n      uClampOffset: { value: new Float32Array([0, 0]), type: \"vec2<f32>\" },\n      uTextureTransform: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uSizeAnchor: { value: new Float32Array([100, 100, 0.5, 0.5]), type: \"vec4<f32>\" }\n    });\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        localUniforms: new UniformGroup({\n          uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n          uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n          uRound: { value: 0, type: \"f32\" }\n        }),\n        tilingUniforms,\n        uTexture: Texture.EMPTY.source,\n        uSampler: Texture.EMPTY.source.style\n      }\n    });\n  }\n  updateUniforms(width, height, matrix, anchorX, anchorY, texture) {\n    const tilingUniforms = this.resources.tilingUniforms;\n    const textureWidth = texture.width;\n    const textureHeight = texture.height;\n    const textureMatrix = texture.textureMatrix;\n    const uTextureTransform = tilingUniforms.uniforms.uTextureTransform;\n    uTextureTransform.set(\n      matrix.a * textureWidth / width,\n      matrix.b * textureWidth / height,\n      matrix.c * textureHeight / width,\n      matrix.d * textureHeight / height,\n      matrix.tx / width,\n      matrix.ty / height\n    );\n    uTextureTransform.invert();\n    tilingUniforms.uniforms.uMapCoord = textureMatrix.mapCoord;\n    tilingUniforms.uniforms.uClampFrame = textureMatrix.uClampFrame;\n    tilingUniforms.uniforms.uClampOffset = textureMatrix.uClampOffset;\n    tilingUniforms.uniforms.uTextureTransform = uTextureTransform;\n    tilingUniforms.uniforms.uSizeAnchor[0] = width;\n    tilingUniforms.uniforms.uSizeAnchor[1] = height;\n    tilingUniforms.uniforms.uSizeAnchor[2] = anchorX;\n    tilingUniforms.uniforms.uSizeAnchor[3] = anchorY;\n    if (texture) {\n      this.resources.uTexture = texture.source;\n      this.resources.uSampler = texture.source.style;\n    }\n  }\n}\n\nexport { TilingSpriteShader };\n//# sourceMappingURL=TilingSpriteShader.mjs.map\n","import { MeshGeometry } from '../../mesh/shared/MeshGeometry.mjs';\n\n\"use strict\";\nclass QuadGeometry extends MeshGeometry {\n  constructor() {\n    super({\n      positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n      uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n      indices: new Uint32Array([0, 1, 2, 0, 2, 3])\n    });\n  }\n}\n\nexport { QuadGeometry };\n//# sourceMappingURL=QuadGeometry.mjs.map\n","\"use strict\";\nfunction setPositions(tilingSprite, positions) {\n  const anchorX = tilingSprite.anchor.x;\n  const anchorY = tilingSprite.anchor.y;\n  positions[0] = -anchorX * tilingSprite.width;\n  positions[1] = -anchorY * tilingSprite.height;\n  positions[2] = (1 - anchorX) * tilingSprite.width;\n  positions[3] = -anchorY * tilingSprite.height;\n  positions[4] = (1 - anchorX) * tilingSprite.width;\n  positions[5] = (1 - anchorY) * tilingSprite.height;\n  positions[6] = -anchorX * tilingSprite.width;\n  positions[7] = (1 - anchorY) * tilingSprite.height;\n}\n\nexport { setPositions };\n//# sourceMappingURL=setPositions.mjs.map\n","\"use strict\";\nfunction applyMatrix(array, stride, offset, matrix) {\n  let index = 0;\n  const size = array.length / (stride || 2);\n  const a = matrix.a;\n  const b = matrix.b;\n  const c = matrix.c;\n  const d = matrix.d;\n  const tx = matrix.tx;\n  const ty = matrix.ty;\n  offset *= stride;\n  while (index < size) {\n    const x = array[offset];\n    const y = array[offset + 1];\n    array[offset] = a * x + c * y + tx;\n    array[offset + 1] = b * x + d * y + ty;\n    offset += stride;\n    index++;\n  }\n}\n\nexport { applyMatrix };\n//# sourceMappingURL=applyMatrix.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { applyMatrix } from './applyMatrix.mjs';\n\n\"use strict\";\nfunction setUvs(tilingSprite, uvs) {\n  const texture = tilingSprite.texture;\n  const width = texture.frame.width;\n  const height = texture.frame.height;\n  let anchorX = 0;\n  let anchorY = 0;\n  if (tilingSprite.applyAnchorToTexture) {\n    anchorX = tilingSprite.anchor.x;\n    anchorY = tilingSprite.anchor.y;\n  }\n  uvs[0] = uvs[6] = -anchorX;\n  uvs[2] = uvs[4] = 1 - anchorX;\n  uvs[1] = uvs[3] = -anchorY;\n  uvs[5] = uvs[7] = 1 - anchorY;\n  const textureMatrix = Matrix.shared;\n  textureMatrix.copyFrom(tilingSprite._tileTransform.matrix);\n  textureMatrix.tx /= tilingSprite.width;\n  textureMatrix.ty /= tilingSprite.height;\n  textureMatrix.invert();\n  textureMatrix.scale(tilingSprite.width / width, tilingSprite.height / height);\n  applyMatrix(uvs, 2, 0, textureMatrix);\n}\n\nexport { setUvs };\n//# sourceMappingURL=setUvs.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { getAdjustedBlendModeBlend } from '../../rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nimport { State } from '../../rendering/renderers/shared/state/State.mjs';\nimport { RendererType } from '../../rendering/renderers/types.mjs';\nimport { color32BitToUniform } from '../graphics/gpu/colorToUniform.mjs';\nimport { BatchableMesh } from '../mesh/shared/BatchableMesh.mjs';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry.mjs';\nimport { TilingSpriteShader } from './shader/TilingSpriteShader.mjs';\nimport { QuadGeometry } from './utils/QuadGeometry.mjs';\nimport { setPositions } from './utils/setPositions.mjs';\nimport { setUvs } from './utils/setUvs.mjs';\n\n\"use strict\";\nconst sharedQuad = new QuadGeometry();\nclass TilingSpriteGpuData {\n  constructor() {\n    this.canBatch = true;\n    this.geometry = new MeshGeometry({\n      indices: sharedQuad.indices.slice(),\n      positions: sharedQuad.positions.slice(),\n      uvs: sharedQuad.uvs.slice()\n    });\n  }\n  destroy() {\n    this.geometry.destroy();\n    this.shader?.destroy();\n  }\n}\nclass TilingSpritePipe {\n  constructor(renderer) {\n    this._state = State.default2d;\n    this._renderer = renderer;\n  }\n  validateRenderable(renderable) {\n    const tilingSpriteData = this._getTilingSpriteData(renderable);\n    const couldBatch = tilingSpriteData.canBatch;\n    this._updateCanBatch(renderable);\n    const canBatch = tilingSpriteData.canBatch;\n    if (canBatch && canBatch === couldBatch) {\n      const { batchableMesh } = tilingSpriteData;\n      return !batchableMesh._batcher.checkAndUpdateTexture(\n        batchableMesh,\n        renderable.texture\n      );\n    }\n    return couldBatch !== canBatch;\n  }\n  addRenderable(tilingSprite, instructionSet) {\n    const batcher = this._renderer.renderPipes.batch;\n    this._updateCanBatch(tilingSprite);\n    const tilingSpriteData = this._getTilingSpriteData(tilingSprite);\n    const { geometry, canBatch } = tilingSpriteData;\n    if (canBatch) {\n      tilingSpriteData.batchableMesh || (tilingSpriteData.batchableMesh = new BatchableMesh());\n      const batchableMesh = tilingSpriteData.batchableMesh;\n      if (tilingSprite.didViewUpdate) {\n        this._updateBatchableMesh(tilingSprite);\n        batchableMesh.geometry = geometry;\n        batchableMesh.renderable = tilingSprite;\n        batchableMesh.transform = tilingSprite.groupTransform;\n        batchableMesh.setTexture(tilingSprite._texture);\n      }\n      batchableMesh.roundPixels = this._renderer._roundPixels | tilingSprite._roundPixels;\n      batcher.addToBatch(batchableMesh, instructionSet);\n    } else {\n      batcher.break(instructionSet);\n      tilingSpriteData.shader || (tilingSpriteData.shader = new TilingSpriteShader());\n      this.updateRenderable(tilingSprite);\n      instructionSet.add(tilingSprite);\n    }\n  }\n  execute(tilingSprite) {\n    const { shader } = this._getTilingSpriteData(tilingSprite);\n    shader.groups[0] = this._renderer.globalUniforms.bindGroup;\n    const localUniforms = shader.resources.localUniforms.uniforms;\n    localUniforms.uTransformMatrix = tilingSprite.groupTransform;\n    localUniforms.uRound = this._renderer._roundPixels | tilingSprite._roundPixels;\n    color32BitToUniform(\n      tilingSprite.groupColorAlpha,\n      localUniforms.uColor,\n      0\n    );\n    this._state.blendMode = getAdjustedBlendModeBlend(tilingSprite.groupBlendMode, tilingSprite.texture._source);\n    this._renderer.encoder.draw({\n      geometry: sharedQuad,\n      shader,\n      state: this._state\n    });\n  }\n  updateRenderable(tilingSprite) {\n    const tilingSpriteData = this._getTilingSpriteData(tilingSprite);\n    const { canBatch } = tilingSpriteData;\n    if (canBatch) {\n      const { batchableMesh } = tilingSpriteData;\n      if (tilingSprite.didViewUpdate)\n        this._updateBatchableMesh(tilingSprite);\n      batchableMesh._batcher.updateElement(batchableMesh);\n    } else if (tilingSprite.didViewUpdate) {\n      const { shader } = tilingSpriteData;\n      shader.updateUniforms(\n        tilingSprite.width,\n        tilingSprite.height,\n        tilingSprite._tileTransform.matrix,\n        tilingSprite.anchor.x,\n        tilingSprite.anchor.y,\n        tilingSprite.texture\n      );\n    }\n  }\n  _getTilingSpriteData(renderable) {\n    return renderable._gpuData[this._renderer.uid] || this._initTilingSpriteData(renderable);\n  }\n  _initTilingSpriteData(tilingSprite) {\n    const gpuData = new TilingSpriteGpuData();\n    gpuData.renderable = tilingSprite;\n    tilingSprite._gpuData[this._renderer.uid] = gpuData;\n    return gpuData;\n  }\n  _updateBatchableMesh(tilingSprite) {\n    const renderableData = this._getTilingSpriteData(tilingSprite);\n    const { geometry } = renderableData;\n    const style = tilingSprite.texture.source.style;\n    if (style.addressMode !== \"repeat\") {\n      style.addressMode = \"repeat\";\n      style.update();\n    }\n    setUvs(tilingSprite, geometry.uvs);\n    setPositions(tilingSprite, geometry.positions);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n  _updateCanBatch(tilingSprite) {\n    const renderableData = this._getTilingSpriteData(tilingSprite);\n    const texture = tilingSprite.texture;\n    let _nonPowOf2wrapping = true;\n    if (this._renderer.type === RendererType.WEBGL) {\n      _nonPowOf2wrapping = this._renderer.context.supports.nonPowOf2wrapping;\n    }\n    renderableData.canBatch = texture.textureMatrix.isSimple && (_nonPowOf2wrapping || texture.source.isPowerOfTwo);\n    return renderableData.canBatch;\n  }\n}\n/** @ignore */\nTilingSpritePipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"tilingSprite\"\n};\n\nexport { TilingSpriteGpuData, TilingSpritePipe };\n//# sourceMappingURL=TilingSpritePipe.mjs.map\n","\"use strict\";\nconst localUniformMSDFBit = {\n  name: \"local-uniform-msdf-bit\",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `\n    ),\n    end: (\n      /* wgsl */\n      `\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* wgsl */\n      `\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         `\n    ),\n    main: (\n      /* wgsl */\n      `\n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        `\n    )\n  }\n};\nconst localUniformMSDFBitGl = {\n  name: \"local-uniform-msdf-bit\",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        `\n    ),\n    end: (\n      /* glsl */\n      `\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        `\n    )\n  },\n  fragment: {\n    header: (\n      /* glsl */\n      `\n            uniform float uDistance;\n         `\n    ),\n    main: (\n      /* glsl */\n      `\n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        `\n    )\n  }\n};\n\nexport { localUniformMSDFBit, localUniformMSDFBitGl };\n//# sourceMappingURL=localUniformMSDFBit.mjs.map\n","\"use strict\";\nconst mSDFBit = {\n  name: \"msdf-bit\",\n  fragment: {\n    header: (\n      /* wgsl */\n      `\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n\n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n\n            }\n        `\n    )\n  }\n};\nconst mSDFBitGl = {\n  name: \"msdf-bit\",\n  fragment: {\n    header: (\n      /* glsl */\n      `\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n\n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n            }\n        `\n    )\n  }\n};\n\nexport { mSDFBit, mSDFBitGl };\n//# sourceMappingURL=mSDFBit.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGpuProgram, compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { colorBit, colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit.mjs';\nimport { generateTextureBatchBit, generateTextureBatchBitGl } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { getBatchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { localUniformMSDFBit, localUniformMSDFBitGl } from './shader-bits/localUniformMSDFBit.mjs';\nimport { mSDFBit, mSDFBitGl } from './shader-bits/mSDFBit.mjs';\n\n\"use strict\";\nlet gpuProgram;\nlet glProgram;\nclass SdfShader extends Shader {\n  constructor(maxTextures) {\n    const uniforms = new UniformGroup({\n      uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n      uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uDistance: { value: 4, type: \"f32\" },\n      uRound: { value: 0, type: \"f32\" }\n    });\n    gpuProgram ?? (gpuProgram = compileHighShaderGpuProgram({\n      name: \"sdf-shader\",\n      bits: [\n        colorBit,\n        generateTextureBatchBit(maxTextures),\n        localUniformMSDFBit,\n        mSDFBit,\n        roundPixelsBit\n      ]\n    }));\n    glProgram ?? (glProgram = compileHighShaderGlProgram({\n      name: \"sdf-shader\",\n      bits: [\n        colorBitGl,\n        generateTextureBatchBitGl(maxTextures),\n        localUniformMSDFBitGl,\n        mSDFBitGl,\n        roundPixelsBitGl\n      ]\n    }));\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        localUniforms: uniforms,\n        batchSamplers: getBatchSamplersUniformGroup(maxTextures)\n      }\n    });\n  }\n}\n\nexport { SdfShader };\n//# sourceMappingURL=SdfShader.mjs.map\n","import { Cache } from '../../assets/cache/Cache.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { Graphics } from '../graphics/shared/Graphics.mjs';\nimport { CanvasTextMetrics } from '../text/canvas/CanvasTextMetrics.mjs';\nimport { SdfShader } from '../text/sdfShader/SdfShader.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout.mjs';\n\n\"use strict\";\nclass BitmapTextGraphics extends Graphics {\n  destroy() {\n    if (this.context.customShader) {\n      this.context.customShader.destroy();\n    }\n    super.destroy();\n  }\n}\nclass BitmapTextPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  validateRenderable(bitmapText) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    return this._renderer.renderPipes.graphics.validateRenderable(graphicsRenderable);\n  }\n  addRenderable(bitmapText, instructionSet) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    syncWithProxy(bitmapText, graphicsRenderable);\n    if (bitmapText._didTextUpdate) {\n      bitmapText._didTextUpdate = false;\n      this._updateContext(bitmapText, graphicsRenderable);\n    }\n    this._renderer.renderPipes.graphics.addRenderable(graphicsRenderable, instructionSet);\n    if (graphicsRenderable.context.customShader) {\n      this._updateDistanceField(bitmapText);\n    }\n  }\n  updateRenderable(bitmapText) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    syncWithProxy(bitmapText, graphicsRenderable);\n    this._renderer.renderPipes.graphics.updateRenderable(graphicsRenderable);\n    if (graphicsRenderable.context.customShader) {\n      this._updateDistanceField(bitmapText);\n    }\n  }\n  _updateContext(bitmapText, proxyGraphics) {\n    const { context } = proxyGraphics;\n    const bitmapFont = BitmapFontManager.getFont(bitmapText.text, bitmapText._style);\n    context.clear();\n    if (bitmapFont.distanceField.type !== \"none\") {\n      if (!context.customShader) {\n        context.customShader = new SdfShader(this._renderer.limits.maxBatchableTextures);\n      }\n    }\n    const chars = CanvasTextMetrics.graphemeSegmenter(bitmapText.text);\n    const style = bitmapText._style;\n    let currentY = bitmapFont.baseLineOffset;\n    const bitmapTextLayout = getBitmapTextLayout(chars, style, bitmapFont, true);\n    const padding = style.padding;\n    const scale = bitmapTextLayout.scale;\n    let tx = bitmapTextLayout.width;\n    let ty = bitmapTextLayout.height + bitmapTextLayout.offsetY;\n    if (style._stroke) {\n      tx += style._stroke.width / scale;\n      ty += style._stroke.width / scale;\n    }\n    context.translate(-bitmapText._anchor._x * tx - padding, -bitmapText._anchor._y * ty - padding).scale(scale, scale);\n    const tint = bitmapFont.applyFillAsTint ? style._fill.color : 16777215;\n    let fontSize = bitmapFont.fontMetrics.fontSize;\n    let lineHeight = bitmapFont.lineHeight;\n    if (style.lineHeight) {\n      fontSize = style.fontSize / scale;\n      lineHeight = style.lineHeight / scale;\n    }\n    let linePositionYShift = (lineHeight - fontSize) / 2;\n    if (linePositionYShift - bitmapFont.baseLineOffset < 0) {\n      linePositionYShift = 0;\n    }\n    for (let i = 0; i < bitmapTextLayout.lines.length; i++) {\n      const line = bitmapTextLayout.lines[i];\n      for (let j = 0; j < line.charPositions.length; j++) {\n        const char = line.chars[j];\n        const charData = bitmapFont.chars[char];\n        if (charData?.texture) {\n          const texture = charData.texture;\n          context.texture(\n            texture,\n            tint ? tint : \"black\",\n            Math.round(line.charPositions[j] + charData.xOffset),\n            Math.round(currentY + charData.yOffset + linePositionYShift),\n            texture.orig.width,\n            texture.orig.height\n          );\n        }\n      }\n      currentY += lineHeight;\n    }\n  }\n  _getGpuBitmapText(bitmapText) {\n    return bitmapText._gpuData[this._renderer.uid] || this.initGpuText(bitmapText);\n  }\n  initGpuText(bitmapText) {\n    const proxyRenderable = new BitmapTextGraphics();\n    bitmapText._gpuData[this._renderer.uid] = proxyRenderable;\n    this._updateContext(bitmapText, proxyRenderable);\n    return proxyRenderable;\n  }\n  _updateDistanceField(bitmapText) {\n    const context = this._getGpuBitmapText(bitmapText).context;\n    const fontFamily = bitmapText._style.fontFamily;\n    const dynamicFont = Cache.get(`${fontFamily}-bitmap`);\n    const { a, b, c, d } = bitmapText.groupTransform;\n    const dx = Math.sqrt(a * a + b * b);\n    const dy = Math.sqrt(c * c + d * d);\n    const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n    const fontScale = dynamicFont.baseRenderedFontSize / bitmapText._style.fontSize;\n    const distance = worldScale * dynamicFont.distanceField.range * (1 / fontScale);\n    context.customShader.resources.localUniforms.uniforms.uDistance = distance;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nBitmapTextPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"bitmapText\"\n};\nfunction syncWithProxy(container, proxy) {\n  proxy.groupTransform = container.groupTransform;\n  proxy.groupColorAlpha = container.groupColorAlpha;\n  proxy.groupColor = container.groupColor;\n  proxy.groupBlendMode = container.groupBlendMode;\n  proxy.globalDisplayStatus = container.globalDisplayStatus;\n  proxy.groupTransform = container.groupTransform;\n  proxy.localDisplayStatus = container.localDisplayStatus;\n  proxy.groupAlpha = container.groupAlpha;\n  proxy._roundPixels = container._roundPixels;\n}\n\nexport { BitmapTextGraphics, BitmapTextPipe };\n//# sourceMappingURL=BitmapTextPipe.mjs.map\n","import { BatchableSprite } from '../sprite/BatchableSprite.mjs';\n\n\"use strict\";\nclass BatchableHTMLText extends BatchableSprite {\n  /**\n   * Creates an instance of BatchableHTMLText.\n   * @param renderer - The renderer instance to be used.\n   */\n  constructor(renderer) {\n    super();\n    this.generatingTexture = false;\n    this.currentKey = \"--\";\n    this._renderer = renderer;\n    renderer.runners.resolutionChange.add(this);\n  }\n  /** Handles resolution changes for the HTML text. If the text has auto resolution enabled, it triggers a view update. */\n  resolutionChange() {\n    const text = this.renderable;\n    if (text._autoResolution) {\n      text.onViewUpdate();\n    }\n  }\n  /** Destroys the BatchableHTMLText instance. Returns the texture promise to the renderer and cleans up references. */\n  destroy() {\n    const { htmlText } = this._renderer;\n    htmlText.getReferenceCount(this.currentKey) === null ? htmlText.returnTexturePromise(this.texturePromise) : htmlText.decreaseReferenceCount(this.currentKey);\n    this._renderer.runners.resolutionChange.remove(this);\n    this.texturePromise = null;\n    this._renderer = null;\n  }\n}\n\nexport { BatchableHTMLText };\n//# sourceMappingURL=BatchableHTMLText.mjs.map\n","import { updateQuadBounds } from '../../../utils/data/updateQuadBounds.mjs';\n\n\"use strict\";\nfunction updateTextBounds(batchableSprite, text) {\n  const { texture, bounds } = batchableSprite;\n  const padding = text._style._getFinalPadding();\n  updateQuadBounds(bounds, text._anchor, texture);\n  const paddingOffset = text._anchor._x * padding * 2;\n  const paddingOffsetY = text._anchor._y * padding * 2;\n  bounds.minX -= padding - paddingOffset;\n  bounds.minY -= padding - paddingOffsetY;\n  bounds.maxX -= padding - paddingOffset;\n  bounds.maxY -= padding - paddingOffsetY;\n}\n\nexport { updateTextBounds };\n//# sourceMappingURL=updateTextBounds.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { updateTextBounds } from '../text/utils/updateTextBounds.mjs';\nimport { BatchableHTMLText } from './BatchableHTMLText.mjs';\n\n\"use strict\";\nclass HTMLTextPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  validateRenderable(htmlText) {\n    const gpuText = this._getGpuText(htmlText);\n    const newKey = htmlText.styleKey;\n    if (gpuText.currentKey !== newKey) {\n      return true;\n    }\n    return false;\n  }\n  addRenderable(htmlText, instructionSet) {\n    const batchableHTMLText = this._getGpuText(htmlText);\n    if (htmlText._didTextUpdate) {\n      const resolution = htmlText._autoResolution ? this._renderer.resolution : htmlText.resolution;\n      if (batchableHTMLText.currentKey !== htmlText.styleKey || htmlText.resolution !== resolution) {\n        this._updateGpuText(htmlText).catch((e) => {\n          console.error(e);\n        });\n      }\n      htmlText._didTextUpdate = false;\n      updateTextBounds(batchableHTMLText, htmlText);\n    }\n    this._renderer.renderPipes.batch.addToBatch(batchableHTMLText, instructionSet);\n  }\n  updateRenderable(htmlText) {\n    const batchableHTMLText = this._getGpuText(htmlText);\n    batchableHTMLText._batcher.updateElement(batchableHTMLText);\n  }\n  async _updateGpuText(htmlText) {\n    htmlText._didTextUpdate = false;\n    const batchableHTMLText = this._getGpuText(htmlText);\n    if (batchableHTMLText.generatingTexture)\n      return;\n    const oldTexturePromise = batchableHTMLText.texturePromise;\n    batchableHTMLText.texturePromise = null;\n    batchableHTMLText.generatingTexture = true;\n    htmlText._resolution = htmlText._autoResolution ? this._renderer.resolution : htmlText.resolution;\n    let texturePromise = this._renderer.htmlText.getTexturePromise(htmlText);\n    if (oldTexturePromise) {\n      texturePromise = texturePromise.finally(() => {\n        this._renderer.htmlText.decreaseReferenceCount(batchableHTMLText.currentKey);\n        this._renderer.htmlText.returnTexturePromise(oldTexturePromise);\n      });\n    }\n    batchableHTMLText.texturePromise = texturePromise;\n    batchableHTMLText.currentKey = htmlText.styleKey;\n    batchableHTMLText.texture = await texturePromise;\n    const renderGroup = htmlText.renderGroup || htmlText.parentRenderGroup;\n    if (renderGroup) {\n      renderGroup.structureDidChange = true;\n    }\n    batchableHTMLText.generatingTexture = false;\n    updateTextBounds(batchableHTMLText, htmlText);\n  }\n  _getGpuText(htmlText) {\n    return htmlText._gpuData[this._renderer.uid] || this.initGpuText(htmlText);\n  }\n  initGpuText(htmlText) {\n    const batchableHTMLText = new BatchableHTMLText(this._renderer);\n    batchableHTMLText.renderable = htmlText;\n    batchableHTMLText.transform = htmlText.groupTransform;\n    batchableHTMLText.texture = Texture.EMPTY;\n    batchableHTMLText.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n    batchableHTMLText.roundPixels = this._renderer._roundPixels | htmlText._roundPixels;\n    htmlText._resolution = htmlText._autoResolution ? this._renderer.resolution : htmlText.resolution;\n    htmlText._gpuData[this._renderer.uid] = batchableHTMLText;\n    return batchableHTMLText;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nHTMLTextPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"htmlText\"\n};\n\nexport { HTMLTextPipe };\n//# sourceMappingURL=HTMLTextPipe.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\n\n\"use strict\";\nfunction isSafari() {\n  const { userAgent } = DOMAdapter.get().getNavigator();\n  return /^((?!chrome|android).)*safari/i.test(userAgent);\n}\n\nexport { isSafari };\n//# sourceMappingURL=isSafari.mjs.map\n","import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { Bounds } from '../../container/bounds/Bounds.mjs';\n\n\"use strict\";\nconst tempBounds = new Bounds();\nfunction getPo2TextureFromSource(image, width, height, resolution) {\n  const bounds = tempBounds;\n  bounds.minX = 0;\n  bounds.minY = 0;\n  bounds.maxX = image.width / resolution | 0;\n  bounds.maxY = image.height / resolution | 0;\n  const texture = TexturePool.getOptimalTexture(\n    bounds.width,\n    bounds.height,\n    resolution,\n    false\n  );\n  texture.source.uploadMethodId = \"image\";\n  texture.source.resource = image;\n  texture.source.alphaMode = \"premultiply-alpha-on-upload\";\n  texture.frame.width = width / resolution;\n  texture.frame.height = height / resolution;\n  texture.source.emit(\"update\", texture.source);\n  texture.updateUvs();\n  return texture;\n}\n\nexport { getPo2TextureFromSource };\n//# sourceMappingURL=getPo2TextureFromSource.mjs.map\n","\"use strict\";\nfunction extractFontFamilies(text, style) {\n  const fontFamily = style.fontFamily;\n  const fontFamilies = [];\n  const dedupe = {};\n  const regex = /font-family:([^;\"\\s]+)/g;\n  const matches = text.match(regex);\n  function addFontFamily(fontFamily2) {\n    if (!dedupe[fontFamily2]) {\n      fontFamilies.push(fontFamily2);\n      dedupe[fontFamily2] = true;\n    }\n  }\n  if (Array.isArray(fontFamily)) {\n    for (let i = 0; i < fontFamily.length; i++) {\n      addFontFamily(fontFamily[i]);\n    }\n  } else {\n    addFontFamily(fontFamily);\n  }\n  if (matches) {\n    matches.forEach((match) => {\n      const fontFamily2 = match.split(\":\")[1].trim();\n      addFontFamily(fontFamily2);\n    });\n  }\n  for (const i in style.tagStyles) {\n    const fontFamily2 = style.tagStyles[i].fontFamily;\n    addFontFamily(fontFamily2);\n  }\n  return fontFamilies;\n}\n\nexport { extractFontFamilies };\n//# sourceMappingURL=extractFontFamilies.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\n\n\"use strict\";\nasync function loadFontAsBase64(url) {\n  const response = await DOMAdapter.get().fetch(url);\n  const blob = await response.blob();\n  const reader = new FileReader();\n  const dataSrc = await new Promise((resolve, reject) => {\n    reader.onloadend = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n  return dataSrc;\n}\n\nexport { loadFontAsBase64 };\n//# sourceMappingURL=loadFontAsBase64.mjs.map\n","import { loadFontAsBase64 } from './loadFontAsBase64.mjs';\n\n\"use strict\";\nasync function loadFontCSS(style, url) {\n  const dataSrc = await loadFontAsBase64(url);\n  return `@font-face {\n        font-family: \"${style.fontFamily}\";\n        font-weight: ${style.fontWeight};\n        font-style: ${style.fontStyle};\n        src: url('${dataSrc}');\n    }`;\n}\n\nexport { loadFontCSS };\n//# sourceMappingURL=loadFontCSS.mjs.map\n","import { Cache } from '../../../assets/cache/Cache.mjs';\nimport { loadFontCSS } from './loadFontCSS.mjs';\n\n\"use strict\";\nconst FontStylePromiseCache = /* @__PURE__ */ new Map();\nasync function getFontCss(fontFamilies) {\n  const fontPromises = fontFamilies.filter((fontFamily) => Cache.has(`${fontFamily}-and-url`)).map((fontFamily) => {\n    if (!FontStylePromiseCache.has(fontFamily)) {\n      const { entries } = Cache.get(`${fontFamily}-and-url`);\n      const promises = [];\n      entries.forEach((entry) => {\n        const url = entry.url;\n        const faces = entry.faces;\n        const out = faces.map((face) => ({ weight: face.weight, style: face.style }));\n        promises.push(\n          ...out.map(\n            (style) => loadFontCSS(\n              {\n                fontWeight: style.weight,\n                fontStyle: style.style,\n                fontFamily\n              },\n              url\n            )\n          )\n        );\n      });\n      FontStylePromiseCache.set(\n        fontFamily,\n        Promise.all(promises).then((css) => css.join(\"\\n\"))\n      );\n    }\n    return FontStylePromiseCache.get(fontFamily);\n  });\n  return (await Promise.all(fontPromises)).join(\"\\n\");\n}\n\nexport { FontStylePromiseCache, getFontCss };\n//# sourceMappingURL=getFontCss.mjs.map\n","\"use strict\";\nfunction getSVGUrl(text, style, resolution, fontCSS, htmlTextData) {\n  const { domElement, styleElement, svgRoot } = htmlTextData;\n  domElement.innerHTML = `<style>${style.cssStyle}</style><div style='padding:0;'>${text}</div>`;\n  domElement.setAttribute(\"style\", `transform: scale(${resolution});transform-origin: top left; display: inline-block`);\n  styleElement.textContent = fontCSS;\n  const { width, height } = htmlTextData.image;\n  svgRoot.setAttribute(\"width\", width.toString());\n  svgRoot.setAttribute(\"height\", height.toString());\n  return new XMLSerializer().serializeToString(svgRoot);\n}\n\nexport { getSVGUrl };\n//# sourceMappingURL=getSVGUrl.mjs.map\n","import { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool.mjs';\n\n\"use strict\";\nfunction getTemporaryCanvasFromImage(image, resolution) {\n  const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n    image.width,\n    image.height,\n    resolution\n  );\n  const { context } = canvasAndContext;\n  context.clearRect(0, 0, image.width, image.height);\n  context.drawImage(image, 0, 0);\n  return canvasAndContext;\n}\n\nexport { getTemporaryCanvasFromImage };\n//# sourceMappingURL=getTemporaryCanvasFromImage.mjs.map\n","\"use strict\";\nfunction loadSVGImage(image, url, delay) {\n  return new Promise(async (resolve) => {\n    if (delay) {\n      await new Promise((resolve2) => setTimeout(resolve2, 100));\n    }\n    image.onload = () => {\n      resolve();\n    };\n    image.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(url)}`;\n    image.crossOrigin = \"anonymous\";\n  });\n}\n\nexport { loadSVGImage };\n//# sourceMappingURL=loadSVGImage.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { CanvasPool } from '../../rendering/renderers/shared/texture/CanvasPool.mjs';\nimport { TexturePool } from '../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { RendererType } from '../../rendering/renderers/types.mjs';\nimport { isSafari } from '../../utils/browser/isSafari.mjs';\nimport { warn } from '../../utils/logging/warn.mjs';\nimport { BigPool } from '../../utils/pool/PoolGroup.mjs';\nimport { getPo2TextureFromSource } from '../text/utils/getPo2TextureFromSource.mjs';\nimport { HTMLTextRenderData } from './HTMLTextRenderData.mjs';\nimport { extractFontFamilies } from './utils/extractFontFamilies.mjs';\nimport { getFontCss } from './utils/getFontCss.mjs';\nimport { getSVGUrl } from './utils/getSVGUrl.mjs';\nimport { getTemporaryCanvasFromImage } from './utils/getTemporaryCanvasFromImage.mjs';\nimport { loadSVGImage } from './utils/loadSVGImage.mjs';\nimport { measureHtmlText } from './utils/measureHtmlText.mjs';\n\n\"use strict\";\nclass HTMLTextSystem {\n  constructor(renderer) {\n    this._activeTextures = {};\n    this._renderer = renderer;\n    this._createCanvas = renderer.type === RendererType.WEBGPU;\n  }\n  /**\n   * @param options\n   * @deprecated Use getTexturePromise instead\n   */\n  getTexture(options) {\n    return this.getTexturePromise(options);\n  }\n  /**\n   * Increases the reference count for a texture.\n   * @param text - The HTMLText instance associated with the texture.\n   */\n  getManagedTexture(text) {\n    const textKey = text.styleKey;\n    if (this._activeTextures[textKey]) {\n      this._increaseReferenceCount(textKey);\n      return this._activeTextures[textKey].promise;\n    }\n    const promise = this._buildTexturePromise(text).then((texture) => {\n      this._activeTextures[textKey].texture = texture;\n      return texture;\n    });\n    this._activeTextures[textKey] = {\n      texture: null,\n      promise,\n      usageCount: 1\n    };\n    return promise;\n  }\n  /**\n   * Gets the current reference count for a texture associated with a text key.\n   * @param textKey - The unique key identifying the text style configuration\n   * @returns The number of Text instances currently using this texture\n   */\n  getReferenceCount(textKey) {\n    return this._activeTextures[textKey]?.usageCount ?? null;\n  }\n  _increaseReferenceCount(textKey) {\n    this._activeTextures[textKey].usageCount++;\n  }\n  /**\n   * Decreases the reference count for a texture.\n   * If the count reaches zero, the texture is cleaned up.\n   * @param textKey - The key associated with the HTMLText instance.\n   */\n  decreaseReferenceCount(textKey) {\n    const activeTexture = this._activeTextures[textKey];\n    if (!activeTexture)\n      return;\n    activeTexture.usageCount--;\n    if (activeTexture.usageCount === 0) {\n      if (activeTexture.texture) {\n        this._cleanUp(activeTexture.texture);\n      } else {\n        activeTexture.promise.then((texture) => {\n          activeTexture.texture = texture;\n          this._cleanUp(activeTexture.texture);\n        }).catch(() => {\n          warn(\"HTMLTextSystem: Failed to clean texture\");\n        });\n      }\n      this._activeTextures[textKey] = null;\n    }\n  }\n  /**\n   * Returns a promise that resolves to a texture for the given HTMLText options.\n   * @param options - The options for the HTMLText.\n   * @returns A promise that resolves to a Texture.\n   */\n  getTexturePromise(options) {\n    return this._buildTexturePromise(options);\n  }\n  async _buildTexturePromise(options) {\n    const { text, style, resolution, textureStyle } = options;\n    const htmlTextData = BigPool.get(HTMLTextRenderData);\n    const fontFamilies = extractFontFamilies(text, style);\n    const fontCSS = await getFontCss(fontFamilies);\n    const measured = measureHtmlText(text, style, fontCSS, htmlTextData);\n    const width = Math.ceil(Math.ceil(Math.max(1, measured.width) + style.padding * 2) * resolution);\n    const height = Math.ceil(Math.ceil(Math.max(1, measured.height) + style.padding * 2) * resolution);\n    const image = htmlTextData.image;\n    const uvSafeOffset = 2;\n    image.width = (width | 0) + uvSafeOffset;\n    image.height = (height | 0) + uvSafeOffset;\n    const svgURL = getSVGUrl(text, style, resolution, fontCSS, htmlTextData);\n    await loadSVGImage(image, svgURL, isSafari() && fontFamilies.length > 0);\n    const resource = image;\n    let canvasAndContext;\n    if (this._createCanvas) {\n      canvasAndContext = getTemporaryCanvasFromImage(image, resolution);\n    }\n    const texture = getPo2TextureFromSource(\n      canvasAndContext ? canvasAndContext.canvas : resource,\n      image.width - uvSafeOffset,\n      image.height - uvSafeOffset,\n      resolution\n    );\n    if (textureStyle)\n      texture.source.style = textureStyle;\n    if (this._createCanvas) {\n      this._renderer.texture.initSource(texture.source);\n      CanvasPool.returnCanvasAndContext(canvasAndContext);\n    }\n    BigPool.return(htmlTextData);\n    return texture;\n  }\n  returnTexturePromise(texturePromise) {\n    texturePromise.then((texture) => {\n      this._cleanUp(texture);\n    }).catch(() => {\n      warn(\"HTMLTextSystem: Failed to clean texture\");\n    });\n  }\n  _cleanUp(texture) {\n    TexturePool.returnTexture(texture, true);\n    texture.source.resource = null;\n    texture.source.uploadMethodId = \"unknown\";\n  }\n  destroy() {\n    this._renderer = null;\n    for (const key in this._activeTextures) {\n      if (this._activeTextures[key])\n        this.returnTexturePromise(this._activeTextures[key].promise);\n    }\n    this._activeTextures = null;\n  }\n}\n/** @ignore */\nHTMLTextSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"htmlText\"\n};\n\nexport { HTMLTextSystem };\n//# sourceMappingURL=HTMLTextSystem.mjs.map\n","import { BatchableSprite } from '../../sprite/BatchableSprite.mjs';\n\n\"use strict\";\nclass BatchableText extends BatchableSprite {\n  constructor(renderer) {\n    super();\n    this._renderer = renderer;\n    renderer.runners.resolutionChange.add(this);\n  }\n  resolutionChange() {\n    const text = this.renderable;\n    if (text._autoResolution) {\n      text.onViewUpdate();\n    }\n  }\n  destroy() {\n    const { canvasText } = this._renderer;\n    const refCount = canvasText.getReferenceCount(this.currentKey);\n    if (refCount > 0) {\n      canvasText.decreaseReferenceCount(this.currentKey);\n    } else if (this.texture) {\n      canvasText.returnTexture(this.texture);\n    }\n    this._renderer.runners.resolutionChange.remove(this);\n    this._renderer = null;\n  }\n}\n\nexport { BatchableText };\n//# sourceMappingURL=BatchableText.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { updateTextBounds } from '../utils/updateTextBounds.mjs';\nimport { BatchableText } from './BatchableText.mjs';\n\n\"use strict\";\nclass CanvasTextPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  validateRenderable(text) {\n    const gpuText = this._getGpuText(text);\n    const newKey = text.styleKey;\n    if (gpuText.currentKey !== newKey)\n      return true;\n    return text._didTextUpdate;\n  }\n  addRenderable(text, instructionSet) {\n    const batchableText = this._getGpuText(text);\n    if (text._didTextUpdate) {\n      const resolution = text._autoResolution ? this._renderer.resolution : text.resolution;\n      if (batchableText.currentKey !== text.styleKey || text.resolution !== resolution) {\n        this._updateGpuText(text);\n      }\n      text._didTextUpdate = false;\n    }\n    this._renderer.renderPipes.batch.addToBatch(batchableText, instructionSet);\n  }\n  updateRenderable(text) {\n    const batchableText = this._getGpuText(text);\n    batchableText._batcher.updateElement(batchableText);\n  }\n  _updateGpuText(text) {\n    const batchableText = this._getGpuText(text);\n    if (batchableText.texture) {\n      this._renderer.canvasText.decreaseReferenceCount(batchableText.currentKey);\n    }\n    text._resolution = text._autoResolution ? this._renderer.resolution : text.resolution;\n    batchableText.texture = this._renderer.canvasText.getManagedTexture(text);\n    batchableText.currentKey = text.styleKey;\n    updateTextBounds(batchableText, text);\n  }\n  _getGpuText(text) {\n    return text._gpuData[this._renderer.uid] || this.initGpuText(text);\n  }\n  initGpuText(text) {\n    const batchableText = new BatchableText(this._renderer);\n    batchableText.currentKey = \"--\";\n    batchableText.renderable = text;\n    batchableText.transform = text.groupTransform;\n    batchableText.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n    batchableText.roundPixels = this._renderer._roundPixels | text._roundPixels;\n    text._gpuData[this._renderer.uid] = batchableText;\n    return batchableText;\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nCanvasTextPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"text\"\n};\n\nexport { CanvasTextPipe };\n//# sourceMappingURL=CanvasTextPipe.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { TextureStyle } from '../../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { deprecation } from '../../../utils/logging/deprecation.mjs';\nimport { TextStyle } from '../TextStyle.mjs';\nimport { getPo2TextureFromSource } from '../utils/getPo2TextureFromSource.mjs';\nimport { CanvasTextGenerator } from './CanvasTextGenerator.mjs';\n\n\"use strict\";\nclass CanvasTextSystem {\n  constructor(_renderer) {\n    this._activeTextures = {};\n    this._renderer = _renderer;\n  }\n  getTexture(options, _resolution, _style, _textKey) {\n    if (typeof options === \"string\") {\n      deprecation(\"8.0.0\", \"CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments\");\n      options = {\n        text: options,\n        style: _style,\n        resolution: _resolution\n      };\n    }\n    if (!(options.style instanceof TextStyle)) {\n      options.style = new TextStyle(options.style);\n    }\n    if (!(options.textureStyle instanceof TextureStyle)) {\n      options.textureStyle = new TextureStyle(options.textureStyle);\n    }\n    if (typeof options.text !== \"string\") {\n      options.text = options.text.toString();\n    }\n    const { text, style, textureStyle } = options;\n    const resolution = options.resolution ?? this._renderer.resolution;\n    const { frame, canvasAndContext } = CanvasTextGenerator.getCanvasAndContext({\n      text,\n      style,\n      resolution\n    });\n    const texture = getPo2TextureFromSource(canvasAndContext.canvas, frame.width, frame.height, resolution);\n    if (textureStyle)\n      texture.source.style = textureStyle;\n    if (style.trim) {\n      frame.pad(style.padding);\n      texture.frame.copyFrom(frame);\n      texture.frame.scale(1 / resolution);\n      texture.updateUvs();\n    }\n    if (style.filters) {\n      const filteredTexture = this._applyFilters(texture, style.filters);\n      this.returnTexture(texture);\n      CanvasTextGenerator.returnCanvasAndContext(canvasAndContext);\n      return filteredTexture;\n    }\n    this._renderer.texture.initSource(texture._source);\n    CanvasTextGenerator.returnCanvasAndContext(canvasAndContext);\n    return texture;\n  }\n  /**\n   * Returns a texture that was created wit the above `getTexture` function.\n   * Handy if you are done with a texture and want to return it to the pool.\n   * @param texture - The texture to be returned.\n   */\n  returnTexture(texture) {\n    const source = texture.source;\n    source.resource = null;\n    source.uploadMethodId = \"unknown\";\n    source.alphaMode = \"no-premultiply-alpha\";\n    TexturePool.returnTexture(texture, true);\n  }\n  /**\n   * Renders text to its canvas, and updates its texture.\n   * @deprecated since 8.10.0\n   */\n  renderTextToCanvas() {\n    deprecation(\n      \"8.10.0\",\n      \"CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead\"\n    );\n  }\n  /**\n   * Gets or creates a managed texture for a Text object. This method handles texture reuse and reference counting.\n   * @param text - The Text object that needs a texture\n   * @returns A Texture instance that represents the rendered text\n   * @remarks\n   * This method performs the following:\n   * 1. Sets the appropriate resolution based on auto-resolution settings\n   * 2. Checks if a texture already exists for the text's style\n   * 3. Creates a new texture if needed or returns an existing one\n   * 4. Manages reference counting for texture reuse\n   */\n  getManagedTexture(text) {\n    text._resolution = text._autoResolution ? this._renderer.resolution : text.resolution;\n    const textKey = text.styleKey;\n    if (this._activeTextures[textKey]) {\n      this._increaseReferenceCount(textKey);\n      return this._activeTextures[textKey].texture;\n    }\n    const texture = this.getTexture({\n      text: text.text,\n      style: text.style,\n      resolution: text._resolution,\n      textureStyle: text.textureStyle\n    });\n    this._activeTextures[textKey] = {\n      texture,\n      usageCount: 1\n    };\n    return texture;\n  }\n  /**\n   * Decreases the reference count for a texture associated with a text key.\n   * When the reference count reaches zero, the texture is returned to the pool.\n   * @param textKey - The unique key identifying the text style configuration\n   * @remarks\n   * This method is crucial for memory management, ensuring textures are properly\n   * cleaned up when they are no longer needed by any Text instances.\n   */\n  decreaseReferenceCount(textKey) {\n    const activeTexture = this._activeTextures[textKey];\n    activeTexture.usageCount--;\n    if (activeTexture.usageCount === 0) {\n      this.returnTexture(activeTexture.texture);\n      this._activeTextures[textKey] = null;\n    }\n  }\n  /**\n   * Gets the current reference count for a texture associated with a text key.\n   * @param textKey - The unique key identifying the text style configuration\n   * @returns The number of Text instances currently using this texture\n   */\n  getReferenceCount(textKey) {\n    return this._activeTextures[textKey]?.usageCount ?? 0;\n  }\n  _increaseReferenceCount(textKey) {\n    this._activeTextures[textKey].usageCount++;\n  }\n  /**\n   * Applies the specified filters to the given texture.\n   *\n   * This method takes a texture and a list of filters, applies the filters to the texture,\n   * and returns the resulting texture. It also ensures that the alpha mode of the resulting\n   * texture is set to 'premultiplied-alpha'.\n   * @param {Texture} texture - The texture to which the filters will be applied.\n   * @param {Filter[]} filters - The filters to apply to the texture.\n   * @returns {Texture} The resulting texture after all filters have been applied.\n   */\n  _applyFilters(texture, filters) {\n    const currentRenderTarget = this._renderer.renderTarget.renderTarget;\n    const resultTexture = this._renderer.filter.generateFilteredTexture({\n      texture,\n      filters\n    });\n    this._renderer.renderTarget.bind(currentRenderTarget, false);\n    return resultTexture;\n  }\n  destroy() {\n    this._renderer = null;\n    for (const key in this._activeTextures) {\n      if (this._activeTextures[key])\n        this.returnTexture(this._activeTextures[key].texture);\n    }\n    this._activeTextures = null;\n  }\n}\n/** @ignore */\nCanvasTextSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem,\n    ExtensionType.CanvasSystem\n  ],\n  name: \"canvasText\"\n};\n\nexport { CanvasTextSystem };\n//# sourceMappingURL=CanvasTextSystem.mjs.map\n","import { browserExt } from './environment-browser/browserExt.mjs';\nimport { webworkerExt } from './environment-webworker/webworkerExt.mjs';\nimport { extensions } from './extensions/Extensions.mjs';\nexport { ExtensionType, normalizeExtensionPriority } from './extensions/Extensions.mjs';\nimport './rendering/init.mjs';\nimport './spritesheet/init.mjs';\nimport './accessibility/index.mjs';\nimport './advanced-blend-modes/index.mjs';\nimport './app/index.mjs';\nimport './assets/index.mjs';\nimport './color/index.mjs';\nimport './compressed-textures/index.mjs';\nimport './culling/index.mjs';\nimport './dom/index.mjs';\nimport './environment/index.mjs';\nimport './environment-browser/index.mjs';\nimport './environment-webworker/index.mjs';\nimport './events/index.mjs';\nimport './extensions/index.mjs';\nimport './filters/index.mjs';\nimport './maths/index.mjs';\nimport './prepare/index.mjs';\nimport './rendering/index.mjs';\nimport './scene/index.mjs';\nimport './spritesheet/index.mjs';\nimport './ticker/index.mjs';\nimport './utils/index.mjs';\nexport { AccessibilitySystem } from './accessibility/AccessibilitySystem.mjs';\nexport { accessibilityTarget } from './accessibility/accessibilityTarget.mjs';\nexport { ColorBlend } from './advanced-blend-modes/ColorBlend.mjs';\nexport { ColorBurnBlend } from './advanced-blend-modes/ColorBurnBlend.mjs';\nexport { ColorDodgeBlend } from './advanced-blend-modes/ColorDodgeBlend.mjs';\nexport { DarkenBlend } from './advanced-blend-modes/DarkenBlend.mjs';\nexport { DifferenceBlend } from './advanced-blend-modes/DifferenceBlend.mjs';\nexport { DivideBlend } from './advanced-blend-modes/DivideBlend.mjs';\nexport { ExclusionBlend } from './advanced-blend-modes/ExclusionBlend.mjs';\nexport { HardLightBlend } from './advanced-blend-modes/HardLightBlend.mjs';\nexport { HardMixBlend } from './advanced-blend-modes/HardMixBlend.mjs';\nexport { LightenBlend } from './advanced-blend-modes/LightenBlend.mjs';\nexport { LinearBurnBlend } from './advanced-blend-modes/LinearBurnBlend.mjs';\nexport { LinearDodgeBlend } from './advanced-blend-modes/LinearDodgeBlend.mjs';\nexport { LinearLightBlend } from './advanced-blend-modes/LinearLightBlend.mjs';\nexport { LuminosityBlend } from './advanced-blend-modes/LuminosityBlend.mjs';\nexport { NegationBlend } from './advanced-blend-modes/NegationBlend.mjs';\nexport { OverlayBlend } from './advanced-blend-modes/OverlayBlend.mjs';\nexport { PinLightBlend } from './advanced-blend-modes/PinLightBlend.mjs';\nexport { SaturationBlend } from './advanced-blend-modes/SaturationBlend.mjs';\nexport { SoftLightBlend } from './advanced-blend-modes/SoftLightBlend.mjs';\nexport { SubtractBlend } from './advanced-blend-modes/SubtractBlend.mjs';\nexport { VividLightBlend } from './advanced-blend-modes/VividLightBlend.mjs';\nexport { Application } from './app/Application.mjs';\nexport { ResizePlugin } from './app/ResizePlugin.mjs';\nexport { TickerPlugin } from './app/TickerPlugin.mjs';\nexport { Assets, AssetsClass } from './assets/Assets.mjs';\nexport { BackgroundLoader } from './assets/BackgroundLoader.mjs';\nexport { Cache } from './assets/cache/Cache.mjs';\nexport { cacheTextureArray } from './assets/cache/parsers/cacheTextureArray.mjs';\nexport { detectAvif } from './assets/detections/parsers/detectAvif.mjs';\nexport { detectDefaults } from './assets/detections/parsers/detectDefaults.mjs';\nexport { detectMp4 } from './assets/detections/parsers/detectMp4.mjs';\nexport { detectOgv } from './assets/detections/parsers/detectOgv.mjs';\nexport { detectWebm } from './assets/detections/parsers/detectWebm.mjs';\nexport { detectWebp } from './assets/detections/parsers/detectWebp.mjs';\nexport { testImageFormat } from './assets/detections/utils/testImageFormat.mjs';\nexport { testVideoFormat } from './assets/detections/utils/testVideoFormat.mjs';\nexport { Loader } from './assets/loader/Loader.mjs';\nexport { LoaderParserPriority } from './assets/loader/parsers/LoaderParser.mjs';\nexport { loadJson } from './assets/loader/parsers/loadJson.mjs';\nexport { loadTxt } from './assets/loader/parsers/loadTxt.mjs';\nexport { getFontFamilyName, loadWebFont } from './assets/loader/parsers/loadWebFont.mjs';\nexport { loadSvg } from './assets/loader/parsers/textures/loadSVG.mjs';\nexport { loadImageBitmap, loadTextures } from './assets/loader/parsers/textures/loadTextures.mjs';\nexport { crossOrigin, determineCrossOrigin, loadVideoTextures, preloadVideo } from './assets/loader/parsers/textures/loadVideoTextures.mjs';\nexport { createTexture } from './assets/loader/parsers/textures/utils/createTexture.mjs';\nexport { WorkerManager } from './assets/loader/workers/WorkerManager.mjs';\nexport { resolveJsonUrl } from './assets/resolver/parsers/resolveJsonUrl.mjs';\nexport { resolveTextureUrl } from './assets/resolver/parsers/resolveTextureUrl.mjs';\nexport { Resolver, getUrlExtension } from './assets/resolver/Resolver.mjs';\nexport { checkDataUrl } from './assets/utils/checkDataUrl.mjs';\nexport { checkExtension } from './assets/utils/checkExtension.mjs';\nexport { convertToList } from './assets/utils/convertToList.mjs';\nexport { copySearchParams } from './assets/utils/copySearchParams.mjs';\nexport { createStringVariations } from './assets/utils/createStringVariations.mjs';\nexport { isSingleItem } from './assets/utils/isSingleItem.mjs';\nexport { Color } from './color/Color.mjs';\nexport { detectBasis } from './compressed-textures/basis/detectBasis.mjs';\nexport { loadBasis } from './compressed-textures/basis/loadBasis.mjs';\nexport { createLevelBuffers } from './compressed-textures/basis/utils/createLevelBuffers.mjs';\nexport { gpuFormatToBasisTranscoderFormat } from './compressed-textures/basis/utils/gpuFormatToBasisTranscoderFormat.mjs';\nexport { basisTranscoderUrls, setBasisTranscoderPath } from './compressed-textures/basis/utils/setBasisTranscoderPath.mjs';\nexport { loadBasisOnWorker } from './compressed-textures/basis/worker/loadBasisOnWorker.mjs';\nexport { D3D10_RESOURCE_DIMENSION, D3DFMT, DDS, DXGI_FORMAT, DXGI_TO_TEXTURE_FORMAT, FOURCC_TO_TEXTURE_FORMAT, TEXTURE_FORMAT_BLOCK_SIZE } from './compressed-textures/dds/const.mjs';\nexport { loadDDS } from './compressed-textures/dds/loadDDS.mjs';\nexport { parseDDS } from './compressed-textures/dds/parseDDS.mjs';\nexport { loadKTX } from './compressed-textures/ktx/loadKTX.mjs';\nexport { parseKTX } from './compressed-textures/ktx/parseKTX.mjs';\nexport { GL_INTERNAL_FORMAT, KTX } from './compressed-textures/ktx2/const.mjs';\nexport { loadKTX2 } from './compressed-textures/ktx2/loadKTX2.mjs';\nexport { convertFormatIfRequired } from './compressed-textures/ktx2/utils/convertFormatIfRequired.mjs';\nexport { createLevelBuffersFromKTX } from './compressed-textures/ktx2/utils/createLevelBuffersFromKTX.mjs';\nexport { getTextureFormatFromKTXTexture } from './compressed-textures/ktx2/utils/getTextureFormatFromKTXTexture.mjs';\nexport { glFormatToGPUFormat } from './compressed-textures/ktx2/utils/glFormatToGPUFormat.mjs';\nexport { gpuFormatToKTXBasisTranscoderFormat } from './compressed-textures/ktx2/utils/gpuFormatToKTXBasisTranscoderFormat.mjs';\nexport { ktxTranscoderUrls, setKTXTranscoderPath } from './compressed-textures/ktx2/utils/setKTXTranscoderPath.mjs';\nexport { vkFormatToGPUFormat } from './compressed-textures/ktx2/utils/vkFormatToGPUFormat.mjs';\nexport { loadKTX2onWorker } from './compressed-textures/ktx2/worker/loadKTX2onWorker.mjs';\nexport { detectCompressed } from './compressed-textures/shared/detectCompressed.mjs';\nexport { resolveCompressedTextureUrl, validFormats } from './compressed-textures/shared/resolveCompressedTextureUrl.mjs';\nexport { Culler } from './culling/Culler.mjs';\nexport { CullerPlugin } from './culling/CullerPlugin.mjs';\nexport { cullingMixin } from './culling/cullingMixin.mjs';\nexport { CanvasObserver } from './dom/CanvasObserver.mjs';\nexport { DOMContainer } from './dom/DOMContainer.mjs';\nexport { DOMPipe } from './dom/DOMPipe.mjs';\nexport { DOMAdapter } from './environment/adapter.mjs';\nexport { autoDetectEnvironment, loadEnvironmentExtensions } from './environment/autoDetectEnvironment.mjs';\nexport { BrowserAdapter } from './environment-browser/BrowserAdapter.mjs';\nexport { WebWorkerAdapter } from './environment-webworker/WebWorkerAdapter.mjs';\nexport { EventBoundary } from './events/EventBoundary.mjs';\nexport { EventSystem } from './events/EventSystem.mjs';\nexport { EventsTicker } from './events/EventTicker.mjs';\nexport { FederatedEvent } from './events/FederatedEvent.mjs';\nexport { FederatedContainer } from './events/FederatedEventTarget.mjs';\nexport { FederatedMouseEvent } from './events/FederatedMouseEvent.mjs';\nexport { FederatedPointerEvent } from './events/FederatedPointerEvent.mjs';\nexport { FederatedWheelEvent } from './events/FederatedWheelEvent.mjs';\nexport { default as blendTemplateFrag } from './filters/blend-modes/blend-template.frag.mjs';\nexport { default as blendTemplateVert } from './filters/blend-modes/blend-template.vert.mjs';\nexport { default as blendTemplateWgsl } from './filters/blend-modes/blend-template.wgsl.mjs';\nexport { default as hslWgsl } from './filters/blend-modes/hsl.wgsl.mjs';\nexport { default as alphaFrag } from './filters/defaults/alpha/alpha.frag.mjs';\nexport { default as alphaWgsl } from './filters/defaults/alpha/alpha.wgsl.mjs';\nexport { default as blurTemplateWgsl } from './filters/defaults/blur/gpu/blur-template.wgsl.mjs';\nexport { default as colorMatrixFilterFrag } from './filters/defaults/color-matrix/colorMatrixFilter.frag.mjs';\nexport { default as colorMatrixFilterWgsl } from './filters/defaults/color-matrix/colorMatrixFilter.wgsl.mjs';\nexport { default as defaultFilterVert } from './filters/defaults/defaultFilter.vert.mjs';\nexport { default as displacementFrag } from './filters/defaults/displacement/displacement.frag.mjs';\nexport { default as displacementVert } from './filters/defaults/displacement/displacement.vert.mjs';\nexport { default as displacementWgsl } from './filters/defaults/displacement/displacement.wgsl.mjs';\nexport { default as noiseFrag } from './filters/defaults/noise/noise.frag.mjs';\nexport { default as noiseWgsl } from './filters/defaults/noise/noise.wgsl.mjs';\nexport { default as maskFrag } from './filters/mask/mask.frag.mjs';\nexport { default as maskVert } from './filters/mask/mask.vert.mjs';\nexport { default as maskWgsl } from './filters/mask/mask.wgsl.mjs';\nexport { BlendModeFilter } from './filters/blend-modes/BlendModeFilter.mjs';\nexport { hslgl } from './filters/blend-modes/hls/GLhls.mjs';\nexport { hslgpu } from './filters/blend-modes/hls/GPUhls.mjs';\nexport { AlphaFilter } from './filters/defaults/alpha/AlphaFilter.mjs';\nexport { BlurFilter } from './filters/defaults/blur/BlurFilter.mjs';\nexport { BlurFilterPass } from './filters/defaults/blur/BlurFilterPass.mjs';\nexport { GAUSSIAN_VALUES } from './filters/defaults/blur/const.mjs';\nexport { generateBlurFragSource } from './filters/defaults/blur/gl/generateBlurFragSource.mjs';\nexport { generateBlurGlProgram } from './filters/defaults/blur/gl/generateBlurGlProgram.mjs';\nexport { generateBlurVertSource } from './filters/defaults/blur/gl/generateBlurVertSource.mjs';\nexport { generateBlurProgram } from './filters/defaults/blur/gpu/generateBlurProgram.mjs';\nexport { ColorMatrixFilter } from './filters/defaults/color-matrix/ColorMatrixFilter.mjs';\nexport { DisplacementFilter } from './filters/defaults/displacement/DisplacementFilter.mjs';\nexport { NoiseFilter } from './filters/defaults/noise/NoiseFilter.mjs';\nexport { Filter } from './filters/Filter.mjs';\nexport { FilterEffect } from './filters/FilterEffect.mjs';\nexport { FilterPipe } from './filters/FilterPipe.mjs';\nexport { FilterSystem } from './filters/FilterSystem.mjs';\nexport { MaskFilter } from './filters/mask/MaskFilter.mjs';\nexport { groupD8 } from './maths/matrix/groupD8.mjs';\nexport { Matrix } from './maths/matrix/Matrix.mjs';\nexport { DEG_TO_RAD, PI_2, RAD_TO_DEG } from './maths/misc/const.mjs';\nexport { isPow2, log2, nextPow2 } from './maths/misc/pow2.mjs';\nexport { squaredDistanceToLineSegment } from './maths/misc/squaredDistanceToLineSegment.mjs';\nexport { ObservablePoint } from './maths/point/ObservablePoint.mjs';\nexport { Point } from './maths/point/Point.mjs';\nexport { pointInTriangle } from './maths/point/pointInTriangle.mjs';\nexport { Circle } from './maths/shapes/Circle.mjs';\nexport { Ellipse } from './maths/shapes/Ellipse.mjs';\nexport { Polygon } from './maths/shapes/Polygon.mjs';\nexport { Rectangle } from './maths/shapes/Rectangle.mjs';\nexport { RoundedRectangle } from './maths/shapes/RoundedRectangle.mjs';\nexport { Triangle } from './maths/shapes/Triangle.mjs';\nexport { PrepareBase } from './prepare/PrepareBase.mjs';\nexport { PrepareQueue } from './prepare/PrepareQueue.mjs';\nexport { PrepareSystem } from './prepare/PrepareSystem.mjs';\nexport { PrepareUpload } from './prepare/PrepareUpload.mjs';\nexport { GlBatchAdaptor } from './rendering/batcher/gl/GlBatchAdaptor.mjs';\nexport { checkMaxIfStatementsInShader } from './rendering/batcher/gl/utils/checkMaxIfStatementsInShader.mjs';\nexport { getMaxTexturesPerBatch } from './rendering/batcher/gl/utils/maxRecommendedTextures.mjs';\nexport { generateGPULayout } from './rendering/batcher/gpu/generateGPULayout.mjs';\nexport { generateLayout } from './rendering/batcher/gpu/generateLayout.mjs';\nexport { getTextureBatchBindGroup } from './rendering/batcher/gpu/getTextureBatchBindGroup.mjs';\nexport { GpuBatchAdaptor } from './rendering/batcher/gpu/GpuBatchAdaptor.mjs';\nexport { Batch, Batcher } from './rendering/batcher/shared/Batcher.mjs';\nexport { BatcherPipe } from './rendering/batcher/shared/BatcherPipe.mjs';\nexport { BatchGeometry } from './rendering/batcher/shared/BatchGeometry.mjs';\nexport { BatchTextureArray } from './rendering/batcher/shared/BatchTextureArray.mjs';\nexport { DefaultBatcher } from './rendering/batcher/shared/DefaultBatcher.mjs';\nexport { DefaultShader } from './rendering/batcher/shared/DefaultShader.mjs';\nexport { compileHighShaderGlProgram, compileHighShaderGpuProgram } from './rendering/high-shader/compileHighShaderToProgram.mjs';\nexport { compileHighShader, compileHighShaderGl } from './rendering/high-shader/compiler/compileHighShader.mjs';\nexport { addBits } from './rendering/high-shader/compiler/utils/addBits.mjs';\nexport { compileHooks } from './rendering/high-shader/compiler/utils/compileHooks.mjs';\nexport { compileInputs } from './rendering/high-shader/compiler/utils/compileInputs.mjs';\nexport { compileOutputs } from './rendering/high-shader/compiler/utils/compileOutputs.mjs';\nexport { formatShader } from './rendering/high-shader/compiler/utils/formatShader.mjs';\nexport { injectBits } from './rendering/high-shader/compiler/utils/injectBits.mjs';\nexport { fragmentGPUTemplate, fragmentGlTemplate, vertexGPUTemplate, vertexGlTemplate } from './rendering/high-shader/defaultProgramTemplate.mjs';\nexport { colorBit, colorBitGl } from './rendering/high-shader/shader-bits/colorBit.mjs';\nexport { generateTextureBatchBit, generateTextureBatchBitGl } from './rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nexport { globalUniformsBit, globalUniformsBitGl, globalUniformsUBOBitGl } from './rendering/high-shader/shader-bits/globalUniformsBit.mjs';\nexport { localUniformBit, localUniformBitGl, localUniformBitGroup2 } from './rendering/high-shader/shader-bits/localUniformBit.mjs';\nexport { roundPixelsBit, roundPixelsBitGl } from './rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nexport { textureBit, textureBitGl } from './rendering/high-shader/shader-bits/textureBit.mjs';\nexport { AlphaMask } from './rendering/mask/alpha/AlphaMask.mjs';\nexport { AlphaMaskPipe } from './rendering/mask/alpha/AlphaMaskPipe.mjs';\nexport { ColorMask } from './rendering/mask/color/ColorMask.mjs';\nexport { ColorMaskPipe } from './rendering/mask/color/ColorMaskPipe.mjs';\nexport { MaskEffectManager, MaskEffectManagerClass } from './rendering/mask/MaskEffectManager.mjs';\nexport { ScissorMask } from './rendering/mask/scissor/ScissorMask.mjs';\nexport { StencilMask } from './rendering/mask/stencil/StencilMask.mjs';\nexport { StencilMaskPipe } from './rendering/mask/stencil/StencilMaskPipe.mjs';\nexport { addMaskBounds } from './rendering/mask/utils/addMaskBounds.mjs';\nexport { addMaskLocalBounds } from './rendering/mask/utils/addMaskLocalBounds.mjs';\nexport { autoDetectRenderer } from './rendering/renderers/autoDetectRenderer.mjs';\nexport { BUFFER_TYPE } from './rendering/renderers/gl/buffer/const.mjs';\nexport { GlBuffer } from './rendering/renderers/gl/buffer/GlBuffer.mjs';\nexport { GlBufferSystem } from './rendering/renderers/gl/buffer/GlBufferSystem.mjs';\nexport { CLEAR } from './rendering/renderers/gl/const.mjs';\nexport { GlContextSystem } from './rendering/renderers/gl/context/GlContextSystem.mjs';\nexport { GlGeometrySystem } from './rendering/renderers/gl/geometry/GlGeometrySystem.mjs';\nexport { getGlTypeFromFormat } from './rendering/renderers/gl/geometry/utils/getGlTypeFromFormat.mjs';\nexport { GlBackBufferSystem } from './rendering/renderers/gl/GlBackBufferSystem.mjs';\nexport { GlColorMaskSystem } from './rendering/renderers/gl/GlColorMaskSystem.mjs';\nexport { GlEncoderSystem } from './rendering/renderers/gl/GlEncoderSystem.mjs';\nexport { GlLimitsSystem } from './rendering/renderers/gl/GlLimitsSystem.mjs';\nexport { GlRenderTarget } from './rendering/renderers/gl/GlRenderTarget.mjs';\nexport { GlStencilSystem } from './rendering/renderers/gl/GlStencilSystem.mjs';\nexport { GlUboSystem } from './rendering/renderers/gl/GlUboSystem.mjs';\nexport { GlRenderTargetAdaptor } from './rendering/renderers/gl/renderTarget/GlRenderTargetAdaptor.mjs';\nexport { GlRenderTargetSystem } from './rendering/renderers/gl/renderTarget/GlRenderTargetSystem.mjs';\nexport { generateShaderSyncCode } from './rendering/renderers/gl/shader/GenerateShaderSyncCode.mjs';\nexport { getBatchSamplersUniformGroup } from './rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nexport { GlProgram } from './rendering/renderers/gl/shader/GlProgram.mjs';\nexport { GlProgramData, IGLUniformData } from './rendering/renderers/gl/shader/GlProgramData.mjs';\nexport { GlShaderSystem } from './rendering/renderers/gl/shader/GlShaderSystem.mjs';\nexport { GlUniformGroupSystem } from './rendering/renderers/gl/shader/GlUniformGroupSystem.mjs';\nexport { migrateFragmentFromV7toV8 } from './rendering/renderers/gl/shader/migrateFragmentFromV7toV8.mjs';\nexport { compileShader } from './rendering/renderers/gl/shader/program/compileShader.mjs';\nexport { defaultValue } from './rendering/renderers/gl/shader/program/defaultValue.mjs';\nexport { ensureAttributes } from './rendering/renderers/gl/shader/program/ensureAttributes.mjs';\nexport { extractAttributesFromGlProgram } from './rendering/renderers/gl/shader/program/extractAttributesFromGlProgram.mjs';\nexport { generateProgram } from './rendering/renderers/gl/shader/program/generateProgram.mjs';\nexport { getMaxFragmentPrecision } from './rendering/renderers/gl/shader/program/getMaxFragmentPrecision.mjs';\nexport { getTestContext } from './rendering/renderers/gl/shader/program/getTestContext.mjs';\nexport { getUboData } from './rendering/renderers/gl/shader/program/getUboData.mjs';\nexport { getUniformData } from './rendering/renderers/gl/shader/program/getUniformData.mjs';\nexport { logProgramError } from './rendering/renderers/gl/shader/program/logProgramError.mjs';\nexport { mapSize } from './rendering/renderers/gl/shader/program/mapSize.mjs';\nexport { mapGlToVertexFormat, mapType } from './rendering/renderers/gl/shader/program/mapType.mjs';\nexport { addProgramDefines } from './rendering/renderers/gl/shader/program/preprocessors/addProgramDefines.mjs';\nexport { ensurePrecision } from './rendering/renderers/gl/shader/program/preprocessors/ensurePrecision.mjs';\nexport { insertVersion } from './rendering/renderers/gl/shader/program/preprocessors/insertVersion.mjs';\nexport { setProgramName } from './rendering/renderers/gl/shader/program/preprocessors/setProgramName.mjs';\nexport { stripVersion } from './rendering/renderers/gl/shader/program/preprocessors/stripVersion.mjs';\nexport { WGSL_TO_STD40_SIZE, createUboElementsSTD40 } from './rendering/renderers/gl/shader/utils/createUboElementsSTD40.mjs';\nexport { createUboSyncFunctionSTD40 } from './rendering/renderers/gl/shader/utils/createUboSyncSTD40.mjs';\nexport { generateArraySyncSTD40 } from './rendering/renderers/gl/shader/utils/generateArraySyncSTD40.mjs';\nexport { generateUniformsSync } from './rendering/renderers/gl/shader/utils/generateUniformsSync.mjs';\nexport { UNIFORM_TO_ARRAY_SETTERS, UNIFORM_TO_SINGLE_SETTERS } from './rendering/renderers/gl/shader/utils/generateUniformsSyncTypes.mjs';\nexport { GlStateSystem } from './rendering/renderers/gl/state/GlStateSystem.mjs';\nexport { mapWebGLBlendModesToPixi } from './rendering/renderers/gl/state/mapWebGLBlendModesToPixi.mjs';\nexport { GL_FORMATS, GL_TARGETS, GL_TYPES, GL_WRAP_MODES } from './rendering/renderers/gl/texture/const.mjs';\nexport { GlTexture } from './rendering/renderers/gl/texture/GlTexture.mjs';\nexport { GlTextureSystem } from './rendering/renderers/gl/texture/GlTextureSystem.mjs';\nexport { glUploadBufferImageResource } from './rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.mjs';\nexport { glUploadCompressedTextureResource } from './rendering/renderers/gl/texture/uploaders/glUploadCompressedTextureResource.mjs';\nexport { glUploadImageResource } from './rendering/renderers/gl/texture/uploaders/glUploadImageResource.mjs';\nexport { glUploadVideoResource } from './rendering/renderers/gl/texture/uploaders/glUploadVideoResource.mjs';\nexport { applyStyleParams } from './rendering/renderers/gl/texture/utils/applyStyleParams.mjs';\nexport { getSupportedGlCompressedTextureFormats } from './rendering/renderers/gl/texture/utils/getSupportedGlCompressedTextureFormats.mjs';\nexport { mapFormatToGlFormat } from './rendering/renderers/gl/texture/utils/mapFormatToGlFormat.mjs';\nexport { mapFormatToGlInternalFormat } from './rendering/renderers/gl/texture/utils/mapFormatToGlInternalFormat.mjs';\nexport { mapFormatToGlType } from './rendering/renderers/gl/texture/utils/mapFormatToGlType.mjs';\nexport { compareModeToGlCompare, mipmapScaleModeToGlFilter, scaleModeToGlFilter, wrapModeToGlAddress } from './rendering/renderers/gl/texture/utils/pixiToGlMaps.mjs';\nexport { unpremultiplyAlpha } from './rendering/renderers/gl/texture/utils/unpremultiplyAlpha.mjs';\nexport { WebGLRenderer } from './rendering/renderers/gl/WebGLRenderer.mjs';\nexport { BindGroupSystem } from './rendering/renderers/gpu/BindGroupSystem.mjs';\nexport { GpuBufferSystem } from './rendering/renderers/gpu/buffer/GpuBufferSystem.mjs';\nexport { UboBatch } from './rendering/renderers/gpu/buffer/UboBatch.mjs';\nexport { GpuColorMaskSystem } from './rendering/renderers/gpu/GpuColorMaskSystem.mjs';\nexport { GpuDeviceSystem } from './rendering/renderers/gpu/GpuDeviceSystem.mjs';\nexport { GpuEncoderSystem } from './rendering/renderers/gpu/GpuEncoderSystem.mjs';\nexport { GpuLimitsSystem } from './rendering/renderers/gpu/GpuLimitsSystem.mjs';\nexport { GpuStencilSystem } from './rendering/renderers/gpu/GpuStencilSystem.mjs';\nexport { GpuUboSystem } from './rendering/renderers/gpu/GpuUboSystem.mjs';\nexport { GpuUniformBatchPipe } from './rendering/renderers/gpu/GpuUniformBatchPipe.mjs';\nexport { PipelineSystem } from './rendering/renderers/gpu/pipeline/PipelineSystem.mjs';\nexport { calculateProjection } from './rendering/renderers/gpu/renderTarget/calculateProjection.mjs';\nexport { GpuRenderTarget } from './rendering/renderers/gpu/renderTarget/GpuRenderTarget.mjs';\nexport { GpuRenderTargetAdaptor } from './rendering/renderers/gpu/renderTarget/GpuRenderTargetAdaptor.mjs';\nexport { GpuRenderTargetSystem } from './rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem.mjs';\nexport { BindGroup } from './rendering/renderers/gpu/shader/BindGroup.mjs';\nexport { GpuProgram } from './rendering/renderers/gpu/shader/GpuProgram.mjs';\nexport { GpuShaderSystem } from './rendering/renderers/gpu/shader/GpuShaderSystem.mjs';\nexport { WGSL_ALIGN_SIZE_DATA, createUboElementsWGSL } from './rendering/renderers/gpu/shader/utils/createUboElementsWGSL.mjs';\nexport { createUboSyncFunctionWGSL } from './rendering/renderers/gpu/shader/utils/createUboSyncFunctionWGSL.mjs';\nexport { extractAttributesFromGpuProgram } from './rendering/renderers/gpu/shader/utils/extractAttributesFromGpuProgram.mjs';\nexport { extractStructAndGroups } from './rendering/renderers/gpu/shader/utils/extractStructAndGroups.mjs';\nexport { generateArraySyncWGSL } from './rendering/renderers/gpu/shader/utils/generateArraySyncWGSL.mjs';\nexport { generateGpuLayoutGroups } from './rendering/renderers/gpu/shader/utils/generateGpuLayoutGroups.mjs';\nexport { generateLayoutHash } from './rendering/renderers/gpu/shader/utils/generateLayoutHash.mjs';\nexport { removeStructAndGroupDuplicates } from './rendering/renderers/gpu/shader/utils/removeStructAndGroupDuplicates.mjs';\nexport { GpuBlendModesToPixi } from './rendering/renderers/gpu/state/GpuBlendModesToPixi.mjs';\nexport { GpuStateSystem } from './rendering/renderers/gpu/state/GpuStateSystem.mjs';\nexport { GpuStencilModesToPixi } from './rendering/renderers/gpu/state/GpuStencilModesToPixi.mjs';\nexport { GpuTextureSystem } from './rendering/renderers/gpu/texture/GpuTextureSystem.mjs';\nexport { gpuUploadBufferImageResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadBufferImageResource.mjs';\nexport { blockDataMap, gpuUploadCompressedTextureResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadCompressedTextureResource.mjs';\nexport { gpuUploadImageResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.mjs';\nexport { gpuUploadVideoResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadVideoSource.mjs';\nexport { getSupportedGPUCompressedTextureFormats } from './rendering/renderers/gpu/texture/utils/getSupportedGPUCompressedTextureFormats.mjs';\nexport { GpuMipmapGenerator } from './rendering/renderers/gpu/texture/utils/GpuMipmapGenerator.mjs';\nexport { WebGPURenderer } from './rendering/renderers/gpu/WebGPURenderer.mjs';\nexport { BackgroundSystem } from './rendering/renderers/shared/background/BackgroundSystem.mjs';\nexport { BlendModePipe } from './rendering/renderers/shared/blendModes/BlendModePipe.mjs';\nexport { Buffer } from './rendering/renderers/shared/buffer/Buffer.mjs';\nexport { BufferResource } from './rendering/renderers/shared/buffer/BufferResource.mjs';\nexport { BufferUsage } from './rendering/renderers/shared/buffer/const.mjs';\nexport { fastCopy } from './rendering/renderers/shared/buffer/utils/fastCopy.mjs';\nexport { ExtractSystem } from './rendering/renderers/shared/extract/ExtractSystem.mjs';\nexport { GenerateTextureSystem } from './rendering/renderers/shared/extract/GenerateTextureSystem.mjs';\nexport { DRAW_MODES } from './rendering/renderers/shared/geometry/const.mjs';\nexport { Geometry } from './rendering/renderers/shared/geometry/Geometry.mjs';\nexport { buildSimpleUvs, buildUvs } from './rendering/renderers/shared/geometry/utils/buildUvs.mjs';\nexport { ensureIsBuffer } from './rendering/renderers/shared/geometry/utils/ensureIsBuffer.mjs';\nexport { getAttributeInfoFromFormat } from './rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nexport { getGeometryBounds } from './rendering/renderers/shared/geometry/utils/getGeometryBounds.mjs';\nexport { transformVertices } from './rendering/renderers/shared/geometry/utils/transformVertices.mjs';\nexport { InstructionSet } from './rendering/renderers/shared/instructions/InstructionSet.mjs';\nexport { GlobalUniformSystem } from './rendering/renderers/shared/renderTarget/GlobalUniformSystem.mjs';\nexport { isRenderingToScreen } from './rendering/renderers/shared/renderTarget/isRenderingToScreen.mjs';\nexport { RenderTarget } from './rendering/renderers/shared/renderTarget/RenderTarget.mjs';\nexport { RenderTargetSystem } from './rendering/renderers/shared/renderTarget/RenderTargetSystem.mjs';\nexport { SchedulerSystem } from './rendering/renderers/shared/SchedulerSystem.mjs';\nexport { ShaderStage } from './rendering/renderers/shared/shader/const.mjs';\nexport { Shader } from './rendering/renderers/shared/shader/Shader.mjs';\nexport { UNIFORM_TYPES_MAP, UNIFORM_TYPES_VALUES } from './rendering/renderers/shared/shader/types.mjs';\nexport { UboSystem } from './rendering/renderers/shared/shader/UboSystem.mjs';\nexport { UniformGroup } from './rendering/renderers/shared/shader/UniformGroup.mjs';\nexport { createUboSyncFunction } from './rendering/renderers/shared/shader/utils/createUboSyncFunction.mjs';\nexport { getDefaultUniformValue } from './rendering/renderers/shared/shader/utils/getDefaultUniformValue.mjs';\nexport { uboSyncFunctionsSTD40, uboSyncFunctionsWGSL } from './rendering/renderers/shared/shader/utils/uboSyncFunctions.mjs';\nexport { uniformParsers } from './rendering/renderers/shared/shader/utils/uniformParsers.mjs';\nexport { HelloSystem } from './rendering/renderers/shared/startup/HelloSystem.mjs';\nexport { BLEND_TO_NPM, STENCIL_MODES } from './rendering/renderers/shared/state/const.mjs';\nexport { getAdjustedBlendModeBlend } from './rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nexport { State } from './rendering/renderers/shared/state/State.mjs';\nexport { AbstractRenderer } from './rendering/renderers/shared/system/AbstractRenderer.mjs';\nexport { SharedRenderPipes, SharedSystems } from './rendering/renderers/shared/system/SharedSystems.mjs';\nexport { SystemRunner } from './rendering/renderers/shared/system/SystemRunner.mjs';\nexport { CanvasPool, CanvasPoolClass } from './rendering/renderers/shared/texture/CanvasPool.mjs';\nexport { DEPRECATED_SCALE_MODES, DEPRECATED_WRAP_MODES, SCALE_MODES, WRAP_MODES } from './rendering/renderers/shared/texture/const.mjs';\nexport { RenderableGCSystem } from './rendering/renderers/shared/texture/RenderableGCSystem.mjs';\nexport { RenderTexture } from './rendering/renderers/shared/texture/RenderTexture.mjs';\nexport { BufferImageSource } from './rendering/renderers/shared/texture/sources/BufferImageSource.mjs';\nexport { CanvasSource } from './rendering/renderers/shared/texture/sources/CanvasSource.mjs';\nexport { CompressedSource } from './rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nexport { ImageSource } from './rendering/renderers/shared/texture/sources/ImageSource.mjs';\nexport { TextureSource } from './rendering/renderers/shared/texture/sources/TextureSource.mjs';\nexport { VideoSource } from './rendering/renderers/shared/texture/sources/VideoSource.mjs';\nexport { Texture } from './rendering/renderers/shared/texture/Texture.mjs';\nexport { TextureGCSystem } from './rendering/renderers/shared/texture/TextureGCSystem.mjs';\nexport { TextureMatrix } from './rendering/renderers/shared/texture/TextureMatrix.mjs';\nexport { TexturePool, TexturePoolClass } from './rendering/renderers/shared/texture/TexturePool.mjs';\nexport { TextureStyle } from './rendering/renderers/shared/texture/TextureStyle.mjs';\nexport { TextureUvs } from './rendering/renderers/shared/texture/TextureUvs.mjs';\nexport { getCanvasTexture, hasCachedCanvasTexture } from './rendering/renderers/shared/texture/utils/getCanvasTexture.mjs';\nexport { getSupportedCompressedTextureFormats } from './rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs';\nexport { getSupportedTextureFormats, nonCompressedFormats } from './rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nexport { autoDetectSource, resourceToTexture, textureFrom } from './rendering/renderers/shared/texture/utils/textureFrom.mjs';\nexport { createIdFromString } from './rendering/renderers/shared/utils/createIdFromString.mjs';\nexport { parseFunctionBody } from './rendering/renderers/shared/utils/parseFunctionBody.mjs';\nexport { ViewSystem } from './rendering/renderers/shared/view/ViewSystem.mjs';\nexport { RendererType } from './rendering/renderers/types.mjs';\nexport { default as particlesFrag } from './scene/particle-container/shared/shader/particles.frag.mjs';\nexport { default as particlesVert } from './scene/particle-container/shared/shader/particles.vert.mjs';\nexport { default as particlesWgsl } from './scene/particle-container/shared/shader/particles.wgsl.mjs';\nexport { Bounds } from './scene/container/bounds/Bounds.mjs';\nexport { getFastGlobalBounds } from './scene/container/bounds/getFastGlobalBounds.mjs';\nexport { getGlobalBounds, updateTransformBackwards } from './scene/container/bounds/getGlobalBounds.mjs';\nexport { getLocalBounds } from './scene/container/bounds/getLocalBounds.mjs';\nexport { getGlobalRenderableBounds } from './scene/container/bounds/getRenderableBounds.mjs';\nexport { boundsPool, matrixPool } from './scene/container/bounds/utils/matrixAndBoundsPool.mjs';\nexport { cacheAsTextureMixin } from './scene/container/container-mixins/cacheAsTextureMixin.mjs';\nexport { childrenHelperMixin } from './scene/container/container-mixins/childrenHelperMixin.mjs';\nexport { collectRenderablesMixin } from './scene/container/container-mixins/collectRenderablesMixin.mjs';\nexport { effectsMixin } from './scene/container/container-mixins/effectsMixin.mjs';\nexport { findMixin } from './scene/container/container-mixins/findMixin.mjs';\nexport { getFastGlobalBoundsMixin } from './scene/container/container-mixins/getFastGlobalBoundsMixin.mjs';\nexport { bgr2rgb, getGlobalMixin } from './scene/container/container-mixins/getGlobalMixin.mjs';\nexport { measureMixin } from './scene/container/container-mixins/measureMixin.mjs';\nexport { onRenderMixin } from './scene/container/container-mixins/onRenderMixin.mjs';\nexport { sortMixin } from './scene/container/container-mixins/sortMixin.mjs';\nexport { toLocalGlobalMixin } from './scene/container/container-mixins/toLocalGlobalMixin.mjs';\nexport { Container, UPDATE_BLEND, UPDATE_COLOR, UPDATE_TRANSFORM, UPDATE_VISIBLE } from './scene/container/Container.mjs';\nexport { CustomRenderPipe } from './scene/container/CustomRenderPipe.mjs';\nexport { RenderContainer } from './scene/container/RenderContainer.mjs';\nexport { RenderGroup } from './scene/container/RenderGroup.mjs';\nexport { RenderGroupPipe } from './scene/container/RenderGroupPipe.mjs';\nexport { RenderGroupSystem } from './scene/container/RenderGroupSystem.mjs';\nexport { assignWithIgnore } from './scene/container/utils/assignWithIgnore.mjs';\nexport { checkChildrenDidChange } from './scene/container/utils/checkChildrenDidChange.mjs';\nexport { clearList } from './scene/container/utils/clearList.mjs';\nexport { collectAllRenderables } from './scene/container/utils/collectAllRenderables.mjs';\nexport { definedProps } from './scene/container/utils/definedProps.mjs';\nexport { executeInstructions } from './scene/container/utils/executeInstructions.mjs';\nexport { multiplyColors } from './scene/container/utils/multiplyColors.mjs';\nexport { multiplyHexColors } from './scene/container/utils/multiplyHexColors.mjs';\nexport { updateLocalTransform } from './scene/container/utils/updateLocalTransform.mjs';\nexport { updateRenderGroupTransform, updateRenderGroupTransforms, updateTransformAndChildren } from './scene/container/utils/updateRenderGroupTransforms.mjs';\nexport { updateWorldTransform } from './scene/container/utils/updateWorldTransform.mjs';\nexport { validateRenderables } from './scene/container/utils/validateRenderables.mjs';\nexport { GlGraphicsAdaptor } from './scene/graphics/gl/GlGraphicsAdaptor.mjs';\nexport { color32BitToUniform, colorToUniform } from './scene/graphics/gpu/colorToUniform.mjs';\nexport { GpuGraphicsAdaptor } from './scene/graphics/gpu/GpuGraphicsAdaptor.mjs';\nexport { BatchableGraphics } from './scene/graphics/shared/BatchableGraphics.mjs';\nexport { buildAdaptiveBezier } from './scene/graphics/shared/buildCommands/buildAdaptiveBezier.mjs';\nexport { buildAdaptiveQuadratic } from './scene/graphics/shared/buildCommands/buildAdaptiveQuadratic.mjs';\nexport { buildArc } from './scene/graphics/shared/buildCommands/buildArc.mjs';\nexport { buildArcTo } from './scene/graphics/shared/buildCommands/buildArcTo.mjs';\nexport { buildArcToSvg } from './scene/graphics/shared/buildCommands/buildArcToSvg.mjs';\nexport { buildCircle, buildEllipse, buildRoundedRectangle } from './scene/graphics/shared/buildCommands/buildCircle.mjs';\nexport { buildLine } from './scene/graphics/shared/buildCommands/buildLine.mjs';\nexport { buildPixelLine } from './scene/graphics/shared/buildCommands/buildPixelLine.mjs';\nexport { buildPolygon } from './scene/graphics/shared/buildCommands/buildPolygon.mjs';\nexport { buildRectangle } from './scene/graphics/shared/buildCommands/buildRectangle.mjs';\nexport { buildTriangle } from './scene/graphics/shared/buildCommands/buildTriangle.mjs';\nexport { closePointEps, curveEps } from './scene/graphics/shared/const.mjs';\nexport { FillGradient } from './scene/graphics/shared/fill/FillGradient.mjs';\nexport { FillPattern } from './scene/graphics/shared/fill/FillPattern.mjs';\nexport { Graphics } from './scene/graphics/shared/Graphics.mjs';\nexport { GraphicsContext } from './scene/graphics/shared/GraphicsContext.mjs';\nexport { GpuGraphicsContext, GraphicsContextRenderData, GraphicsContextSystem } from './scene/graphics/shared/GraphicsContextSystem.mjs';\nexport { GraphicsGpuData, GraphicsPipe } from './scene/graphics/shared/GraphicsPipe.mjs';\nexport { GraphicsPath } from './scene/graphics/shared/path/GraphicsPath.mjs';\nexport { roundedShapeArc, roundedShapeQuadraticCurve } from './scene/graphics/shared/path/roundShape.mjs';\nexport { ShapePath } from './scene/graphics/shared/path/ShapePath.mjs';\nexport { parseSVGDefinitions } from './scene/graphics/shared/svg/parseSVGDefinitions.mjs';\nexport { parseSVGFloatAttribute } from './scene/graphics/shared/svg/parseSVGFloatAttribute.mjs';\nexport { parseSVGPath } from './scene/graphics/shared/svg/parseSVGPath.mjs';\nexport { parseSVGStyle, styleAttributes } from './scene/graphics/shared/svg/parseSVGStyle.mjs';\nexport { SVGParser } from './scene/graphics/shared/svg/SVGParser.mjs';\nexport { extractSvgUrlId } from './scene/graphics/shared/svg/utils/extractSvgUrlId.mjs';\nexport { checkForNestedPattern, getFillInstructionData } from './scene/graphics/shared/svg/utils/fillOperations.mjs';\nexport { appendSVGPath, calculatePathArea, extractSubpaths } from './scene/graphics/shared/svg/utils/pathOperations.mjs';\nexport { buildContextBatches, shapeBuilders } from './scene/graphics/shared/utils/buildContextBatches.mjs';\nexport { buildGeometryFromPath } from './scene/graphics/shared/utils/buildGeometryFromPath.mjs';\nexport { toFillStyle, toStrokeStyle } from './scene/graphics/shared/utils/convertFillInputToFillStyle.mjs';\nexport { generateTextureMatrix } from './scene/graphics/shared/utils/generateTextureFillMatrix.mjs';\nexport { getOrientationOfPoints } from './scene/graphics/shared/utils/getOrientationOfPoints.mjs';\nexport { triangulateWithHoles } from './scene/graphics/shared/utils/triangulateWithHoles.mjs';\nexport { RenderLayer } from './scene/layers/RenderLayer.mjs';\nexport { PerspectiveMesh } from './scene/mesh-perspective/PerspectiveMesh.mjs';\nexport { PerspectivePlaneGeometry } from './scene/mesh-perspective/PerspectivePlaneGeometry.mjs';\nexport { applyProjectiveTransformationToPlane } from './scene/mesh-perspective/utils/applyProjectiveTransformationToPlane.mjs';\nexport { compute2DProjection } from './scene/mesh-perspective/utils/compute2DProjections.mjs';\nexport { MeshPlane } from './scene/mesh-plane/MeshPlane.mjs';\nexport { PlaneGeometry } from './scene/mesh-plane/PlaneGeometry.mjs';\nexport { MeshRope } from './scene/mesh-simple/MeshRope.mjs';\nexport { MeshSimple } from './scene/mesh-simple/MeshSimple.mjs';\nexport { RopeGeometry } from './scene/mesh-simple/RopeGeometry.mjs';\nexport { GlMeshAdaptor } from './scene/mesh/gl/GlMeshAdaptor.mjs';\nexport { GpuMeshAdapter } from './scene/mesh/gpu/GpuMeshAdapter.mjs';\nexport { BatchableMesh } from './scene/mesh/shared/BatchableMesh.mjs';\nexport { getTextureDefaultMatrix } from './scene/mesh/shared/getTextureDefaultMatrix.mjs';\nexport { Mesh } from './scene/mesh/shared/Mesh.mjs';\nexport { MeshGeometry } from './scene/mesh/shared/MeshGeometry.mjs';\nexport { MeshGpuData, MeshPipe } from './scene/mesh/shared/MeshPipe.mjs';\nexport { GlParticleContainerAdaptor } from './scene/particle-container/gl/GlParticleContainerAdaptor.mjs';\nexport { GpuParticleContainerAdaptor } from './scene/particle-container/gpu/GpuParticleContainerAdaptor.mjs';\nexport { GlParticleContainerPipe } from './scene/particle-container/shared/GlParticleContainerPipe.mjs';\nexport { GpuParticleContainerPipe } from './scene/particle-container/shared/GpuParticleContainerPipe.mjs';\nexport { Particle } from './scene/particle-container/shared/Particle.mjs';\nexport { ParticleBuffer } from './scene/particle-container/shared/ParticleBuffer.mjs';\nexport { ParticleContainer } from './scene/particle-container/shared/ParticleContainer.mjs';\nexport { ParticleContainerPipe } from './scene/particle-container/shared/ParticleContainerPipe.mjs';\nexport { particleData } from './scene/particle-container/shared/particleData.mjs';\nexport { ParticleShader } from './scene/particle-container/shared/shader/ParticleShader.mjs';\nexport { createIndicesForQuads } from './scene/particle-container/shared/utils/createIndicesForQuads.mjs';\nexport { generateParticleUpdateFunction } from './scene/particle-container/shared/utils/generateParticleUpdateFunction.mjs';\nexport { AnimatedSprite } from './scene/sprite-animated/AnimatedSprite.mjs';\nexport { NineSliceGeometry } from './scene/sprite-nine-slice/NineSliceGeometry.mjs';\nexport { NineSlicePlane, NineSliceSprite } from './scene/sprite-nine-slice/NineSliceSprite.mjs';\nexport { NineSliceSpriteGpuData, NineSliceSpritePipe } from './scene/sprite-nine-slice/NineSliceSpritePipe.mjs';\nexport { tilingBit, tilingBitGl } from './scene/sprite-tiling/shader/tilingBit.mjs';\nexport { TilingSpriteShader } from './scene/sprite-tiling/shader/TilingSpriteShader.mjs';\nexport { TilingSprite } from './scene/sprite-tiling/TilingSprite.mjs';\nexport { TilingSpriteGpuData, TilingSpritePipe } from './scene/sprite-tiling/TilingSpritePipe.mjs';\nexport { applyMatrix } from './scene/sprite-tiling/utils/applyMatrix.mjs';\nexport { QuadGeometry } from './scene/sprite-tiling/utils/QuadGeometry.mjs';\nexport { setPositions } from './scene/sprite-tiling/utils/setPositions.mjs';\nexport { setUvs } from './scene/sprite-tiling/utils/setUvs.mjs';\nexport { BatchableSprite } from './scene/sprite/BatchableSprite.mjs';\nexport { Sprite } from './scene/sprite/Sprite.mjs';\nexport { SpritePipe } from './scene/sprite/SpritePipe.mjs';\nexport { AbstractBitmapFont } from './scene/text-bitmap/AbstractBitmapFont.mjs';\nexport { bitmapFontTextParser } from './scene/text-bitmap/asset/bitmapFontTextParser.mjs';\nexport { bitmapFontXMLParser } from './scene/text-bitmap/asset/bitmapFontXMLParser.mjs';\nexport { bitmapFontXMLStringParser } from './scene/text-bitmap/asset/bitmapFontXMLStringParser.mjs';\nexport { bitmapFontCachePlugin, loadBitmapFont } from './scene/text-bitmap/asset/loadBitmapFont.mjs';\nexport { BitmapFont } from './scene/text-bitmap/BitmapFont.mjs';\nexport { BitmapFontManager } from './scene/text-bitmap/BitmapFontManager.mjs';\nexport { BitmapText } from './scene/text-bitmap/BitmapText.mjs';\nexport { BitmapTextGraphics, BitmapTextPipe } from './scene/text-bitmap/BitmapTextPipe.mjs';\nexport { DynamicBitmapFont } from './scene/text-bitmap/DynamicBitmapFont.mjs';\nexport { bitmapTextSplit } from './scene/text-bitmap/utils/bitmapTextSplit.mjs';\nexport { getBitmapTextLayout } from './scene/text-bitmap/utils/getBitmapTextLayout.mjs';\nexport { resolveCharacters } from './scene/text-bitmap/utils/resolveCharacters.mjs';\nexport { BatchableHTMLText } from './scene/text-html/BatchableHTMLText.mjs';\nexport { HTMLText } from './scene/text-html/HTMLText.mjs';\nexport { HTMLTextPipe } from './scene/text-html/HTMLTextPipe.mjs';\nexport { HTMLTextRenderData } from './scene/text-html/HTMLTextRenderData.mjs';\nexport { HTMLTextStyle } from './scene/text-html/HTMLTextStyle.mjs';\nexport { HTMLTextSystem } from './scene/text-html/HTMLTextSystem.mjs';\nexport { extractFontFamilies } from './scene/text-html/utils/extractFontFamilies.mjs';\nexport { FontStylePromiseCache, getFontCss } from './scene/text-html/utils/getFontCss.mjs';\nexport { getSVGUrl } from './scene/text-html/utils/getSVGUrl.mjs';\nexport { getTemporaryCanvasFromImage } from './scene/text-html/utils/getTemporaryCanvasFromImage.mjs';\nexport { loadFontAsBase64 } from './scene/text-html/utils/loadFontAsBase64.mjs';\nexport { loadFontCSS } from './scene/text-html/utils/loadFontCSS.mjs';\nexport { loadSVGImage } from './scene/text-html/utils/loadSVGImage.mjs';\nexport { measureHtmlText } from './scene/text-html/utils/measureHtmlText.mjs';\nexport { textStyleToCSS } from './scene/text-html/utils/textStyleToCSS.mjs';\nexport { AbstractSplitText } from './scene/text-split/AbstractSplitText.mjs';\nexport { SplitBitmapText } from './scene/text-split/SplitBitmapText.mjs';\nexport { SplitText } from './scene/text-split/SplitText.mjs';\nexport { AbstractText, ensureTextOptions } from './scene/text/AbstractText.mjs';\nexport { BatchableText } from './scene/text/canvas/BatchableText.mjs';\nexport { CanvasTextGenerator } from './scene/text/canvas/CanvasTextGenerator.mjs';\nexport { CanvasTextMetrics } from './scene/text/canvas/CanvasTextMetrics.mjs';\nexport { CanvasTextPipe } from './scene/text/canvas/CanvasTextPipe.mjs';\nexport { CanvasTextSystem } from './scene/text/canvas/CanvasTextSystem.mjs';\nexport { fontStringFromTextStyle } from './scene/text/canvas/utils/fontStringFromTextStyle.mjs';\nexport { getCanvasFillStyle } from './scene/text/canvas/utils/getCanvasFillStyle.mjs';\nexport { SdfShader } from './scene/text/sdfShader/SdfShader.mjs';\nexport { localUniformMSDFBit, localUniformMSDFBitGl } from './scene/text/sdfShader/shader-bits/localUniformMSDFBit.mjs';\nexport { mSDFBit, mSDFBitGl } from './scene/text/sdfShader/shader-bits/mSDFBit.mjs';\nexport { Text } from './scene/text/Text.mjs';\nexport { TextStyle } from './scene/text/TextStyle.mjs';\nexport { canvasTextSplit } from './scene/text/utils/canvasTextSplit.mjs';\nexport { generateTextStyleKey } from './scene/text/utils/generateTextStyleKey.mjs';\nexport { getPo2TextureFromSource } from './scene/text/utils/getPo2TextureFromSource.mjs';\nexport { updateTextBounds } from './scene/text/utils/updateTextBounds.mjs';\nexport { ViewContainer } from './scene/view/ViewContainer.mjs';\nexport { Spritesheet } from './spritesheet/Spritesheet.mjs';\nexport { spritesheetAsset } from './spritesheet/spritesheetAsset.mjs';\nexport { UPDATE_PRIORITY } from './ticker/const.mjs';\nexport { Ticker } from './ticker/Ticker.mjs';\nexport { TickerListener } from './ticker/TickerListener.mjs';\nexport { detectVideoAlphaMode } from './utils/browser/detectVideoAlphaMode.mjs';\nexport { isMobile } from './utils/browser/isMobile.mjs';\nexport { isSafari } from './utils/browser/isSafari.mjs';\nexport { isWebGLSupported } from './utils/browser/isWebGLSupported.mjs';\nexport { isWebGPUSupported } from './utils/browser/isWebGPUSupported.mjs';\nexport { unsafeEvalSupported } from './utils/browser/unsafeEvalSupported.mjs';\nexport { getCanvasBoundingBox } from './utils/canvas/getCanvasBoundingBox.mjs';\nexport { DATA_URI, VERSION } from './utils/const.mjs';\nexport { default as EventEmitter } from 'eventemitter3';\nexport { cleanArray, cleanHash } from './utils/data/clean.mjs';\nexport { removeItems } from './utils/data/removeItems.mjs';\nexport { resetUids, uid } from './utils/data/uid.mjs';\nexport { updateQuadBounds } from './utils/data/updateQuadBounds.mjs';\nexport { ViewableBuffer } from './utils/data/ViewableBuffer.mjs';\nexport { ApplicationInitHook, RendererInitHook } from './utils/global/globalHooks.mjs';\nexport { deprecation, v8_0_0, v8_3_4 } from './utils/logging/deprecation.mjs';\nexport { logDebugTexture } from './utils/logging/logDebugTexture.mjs';\nexport { logRenderGroupScene, logScene } from './utils/logging/logScene.mjs';\nexport { warn } from './utils/logging/warn.mjs';\nexport { NOOP } from './utils/misc/NOOP.mjs';\nexport { Transform } from './utils/misc/Transform.mjs';\nexport { getResolutionOfUrl } from './utils/network/getResolutionOfUrl.mjs';\nexport { path } from './utils/path.mjs';\nexport { GlobalResourceRegistry } from './utils/pool/GlobalResourceRegistry.mjs';\nexport { Pool } from './utils/pool/Pool.mjs';\nexport { BigPool, PoolGroupClass } from './utils/pool/PoolGroup.mjs';\nexport { sayHello } from './utils/sayHello.mjs';\nexport { earcut } from './utils/utils.mjs';\n\n\"use strict\";\nextensions.add(browserExt, webworkerExt);\n\nexport { browserExt, extensions, webworkerExt };\n//# sourceMappingURL=index.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { AccessibilitySystem } from './AccessibilitySystem.mjs';\nimport { accessibilityTarget } from './accessibilityTarget.mjs';\n\n\"use strict\";\nextensions.add(AccessibilitySystem);\nextensions.mixin(Container, accessibilityTarget);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { ResizePlugin } from './ResizePlugin.mjs';\nimport { TickerPlugin } from './TickerPlugin.mjs';\n\n\"use strict\";\nextensions.add(ResizePlugin);\nextensions.add(TickerPlugin);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { EventSystem } from './EventSystem.mjs';\nimport { FederatedContainer } from './FederatedEventTarget.mjs';\n\n\"use strict\";\nextensions.add(EventSystem);\nextensions.mixin(Container, FederatedContainer);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { DOMPipe } from './DOMPipe.mjs';\nimport './index.mjs';\nexport { CanvasObserver } from './CanvasObserver.mjs';\nexport { DOMContainer } from './DOMContainer.mjs';\n\n\"use strict\";\nextensions.add(DOMPipe);\n\nexport { DOMPipe };\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { GraphicsContextSystem } from './shared/GraphicsContextSystem.mjs';\nimport { GraphicsPipe } from './shared/GraphicsPipe.mjs';\n\n\"use strict\";\nextensions.add(GraphicsPipe);\nextensions.add(GraphicsContextSystem);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { MeshPipe } from './shared/MeshPipe.mjs';\n\n\"use strict\";\nextensions.add(MeshPipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { GlParticleContainerPipe } from './shared/GlParticleContainerPipe.mjs';\nimport { GpuParticleContainerPipe } from './shared/GpuParticleContainerPipe.mjs';\n\n\"use strict\";\nextensions.add(GlParticleContainerPipe);\nextensions.add(GpuParticleContainerPipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { CanvasTextPipe } from './canvas/CanvasTextPipe.mjs';\nimport { CanvasTextSystem } from './canvas/CanvasTextSystem.mjs';\n\n\"use strict\";\nextensions.add(CanvasTextSystem);\nextensions.add(CanvasTextPipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { BitmapTextPipe } from './BitmapTextPipe.mjs';\n\n\"use strict\";\nextensions.add(BitmapTextPipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { HTMLTextPipe } from './HTMLTextPipe.mjs';\nimport { HTMLTextSystem } from './HTMLTextSystem.mjs';\n\n\"use strict\";\nextensions.add(HTMLTextSystem);\nextensions.add(HTMLTextPipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { TilingSpritePipe } from './TilingSpritePipe.mjs';\n\n\"use strict\";\nextensions.add(TilingSpritePipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../../extensions/Extensions.mjs';\nimport { NineSliceSpritePipe } from './NineSliceSpritePipe.mjs';\n\n\"use strict\";\nextensions.add(NineSliceSpritePipe);\n//# sourceMappingURL=init.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { FilterPipe } from './FilterPipe.mjs';\nimport { FilterSystem } from './FilterSystem.mjs';\n\n\"use strict\";\nextensions.add(FilterSystem);\nextensions.add(FilterPipe);\n//# sourceMappingURL=init.mjs.map\n"],"names":["ExtensionType","ExtensionType2","normalizeExtension","ext","extension","Error","metadata","type","_objectSpread","ref","normalizeExtensionPriority","defaultPriority","_normalizeExtension$p","priority","extensions","_addHandlers","_removeHandlers","_queue","remove","extensions2","map","forEach","_this$_removeHandlers","_this$_removeHandlers2","call","add","handlers","queue","_queue$type","push","_handlers$type","handle","onAdd","onRemove","addHandlers","removeHandlers","_queue$type2","handleByMap","name","handleByNamedList","index","findIndex","item","value","sort","a","b","splice","handleByList","list","includes","indexOf","mixin","Target","sources","source","Object","defineProperties","prototype","getOwnPropertyDescriptors","browserExt","Environment","test","load","Promise","resolve","then","browserAll","__VITE_IS_MODERN__","__VITE_PRELOAD__","module","webworkerExt","self","WorkerGlobalScope","webworkerAll","ObservablePoint","constructor","observer","x","y","_x","_y","_observer","clone","set","_onUpdate","copyFrom","p","copyTo","equals","toString","has","hasOwnProperty","prefix","Events","create","__proto__","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","names","events","slice","getOwnPropertySymbols","concat","listeners","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","len","arguments","args","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","PI_2","Math","PI","RAD_TO_DEG","DEG_TO_RAD","Point","shared","tempPoint","exports","Matrix","c","d","tx","ty","array","fromArray","toArray","transpose","out","Float32Array","pos","newPos","applyInverse","id","translate","scale","rotate","angle","cos","sin","c1","tx1","append","matrix","b1","d1","appendFrom","b2","c2","d2","setTransform","pivotX","pivotY","scaleX","scaleY","rotation","skewX","skewY","prepend","decompose","transform","pivot","atan2","delta","abs","skew","sqrt","position","invert","n","isIdentity","identity","IDENTITY","identityMatrix","tempMatrix","ux","uy","vx","vy","rotationCayley","rotationMatrices","signum","sign","init","row","_ux","_uy","_vx","_vy","k","mat","groupD8","E","SE","S","SW","W","NW","N","NE","MIRROR_VERTICAL","MAIN_DIAGONAL","MIRROR_HORIZONTAL","REVERSE_DIAGONAL","uX","ind","uY","vX","vY","inv","rotationSecond","rotationFirst","sub","rotate180","isVertical","byDirection","dx","dy","matrixAppendRotationInv","transformRectCoords","rect","sourceFrame","width","height","frameX","frameY","frameWidth","frameHeight","tempPoints","Rectangle","Number","left","right","top","bottom","isEmpty","EMPTY","copyFromBounds","bounds","minX","minY","maxX","maxY","rectangle","contains","strokeContains","strokeWidth","alignment","strokeWidthOuter","strokeWidthInner","outerLeft","outerRight","outerTop","outerBottom","innerLeft","innerRight","innerTop","innerBottom","intersects","other","x02","x12","y02","y12","x0","x1","y0","y1","lt","lb","rt","rb","s","max","min","nx","ny","n00","n10","n01","n11","mx","my","m00","m10","m01","m11","pad","paddingX","paddingY","fit","x2","y2","ceil","resolution","eps","floor","enlarge","getBounds","containsRect","uidCache","default","uid","uid$1","warnings","Set","v8_0_0","v8_3_4","deprecationState","quiet","noColor","deprecation","version","message","ignoreDepth","stack","deprecationMessage","useGroup","console","groupCollapsed","warn","split","join","groupEnd","get","enumerable","configurable","NOOP","nextPow2","v","isPow2","definedProps","obj","result","key","idHash","createResourceIdFromString","_TextureStyle","options","_options$addressModeU","_options$addressModeV","_options$addressModeW","_options$magFilter","_options$minFilter","_options$mipmapFilter","_options$maxAnisotrop","_resourceType","_touched","_maxAnisotropy","destroyed","defaultOptions","addressMode","addressModeU","addressModeV","addressModeW","scaleMode","magFilter","minFilter","mipmapFilter","lodMinClamp","lodMaxClamp","compare","maxAnisotropy","wrapMode","_resourceId","_sharedResourceId","_generateResourceId","update","bigKey","destroy","TextureStyle","_TextureSource","_options$label","uploadMethodId","_resolution","pixelWidth","pixelHeight","sampleCount","mipLevelCount","autoGenerateMipmaps","format","dimension","antialias","_batchTick","_textureBindLocation","label","resource","autoGarbageCollect","_this$resourceWidth","resourceWidth","_this$resourceHeight","resourceHeight","dimensions","alphaMode","style","_refreshPOT","_style","_this$_style","_this$_style2","_onStyleChange","repeatMode","didResize","resize","unload","naturalWidth","videoWidth","displayWidth","naturalHeight","videoHeight","displayHeight","newPixelWidth","round","newPixelHeight","updateMipmaps","isPowerOfTwo","_resource","TextureSource","BufferImageSource","buffer","Int32Array","Uint32Array","Int16Array","Uint16Array","Int8Array","Uint8Array","Uint8ClampedArray","tempMat","TextureMatrix","texture","clampMargin","mapCoord","uClampFrame","uClampOffset","_textureID","_updateID","clampOffset","isSimple","_texture","_this$_texture","multiplyUvs","uvs","tex","x3","y3","orig","trim","texBase","frame","margin","offset","Texture","defaultAnchor","defaultBorders","dynamic","_source$source","noFrame","isTexture","_source","updateUvs","textureMatrix","_textureMatrix","nX","nY","nW","nH","w2","h2","cX","cY","destroySource","baseTexture","WHITE","updateQuadBounds","anchor","sourceWidth","sourceHeight","defaultMatrix","Bounds","Infinity","_rectangle","clear","addFrame","addRect","addBounds","addBoundsMask","mask","applyMatrix","fitBounds","isPositive","isValid","addVertexData","vertexData","beginOffset","endOffset","localX","localY","containsPoint","r","grad","turn","rad","t","pow","e","u","isFinite","g","o","h","f","m","string","exec","parseInt","substr","object","M","H","$","parsed","rgba","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","w","saturate","desaturate","grayscale","lighten","darken","hue","alpha","isEqual","namesPlugin","white","bisque","blue","cadetblue","chartreuse","chocolate","coral","antiquewhite","aqua","azure","whitesmoke","papayawhip","plum","blanchedalmond","black","gold","goldenrod","gainsboro","cornsilk","cornflowerblue","burlywood","aquamarine","beige","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkkhaki","darkgray","darkgreen","darkgrey","peachpuff","darkmagenta","darkred","darkorchid","darkorange","darkslateblue","gray","darkslategray","darkslategrey","deeppink","deepskyblue","wheat","firebrick","floralwhite","ghostwhite","darkviolet","magenta","green","dodgerblue","grey","honeydew","hotpink","blueviolet","forestgreen","lawngreen","indianred","indigo","fuchsia","brown","maroon","mediumblue","lightcoral","darkturquoise","lightcyan","ivory","lightyellow","lightsalmon","lightseagreen","linen","mediumaquamarine","lemonchiffon","lime","khaki","mediumseagreen","limegreen","mediumspringgreen","lightskyblue","lightblue","midnightblue","lightpink","mistyrose","moccasin","mintcream","lightslategray","lightslategrey","navajowhite","navy","mediumvioletred","powderblue","palegoldenrod","oldlace","paleturquoise","mediumturquoise","mediumorchid","rebeccapurple","lightsteelblue","mediumslateblue","thistle","tan","orchid","mediumpurple","purple","pink","skyblue","springgreen","palegreen","red","yellow","slateblue","lavenderblush","peru","palevioletred","violet","teal","slategray","slategrey","aliceblue","darkseagreen","darkolivegreen","greenyellow","seagreen","seashell","tomato","silver","sienna","lavender","lightgreen","orange","orangered","steelblue","royalblue","turquoise","yellowgreen","salmon","saddlebrown","sandybrown","rosybrown","darksalmon","lightgoldenrodyellow","snow","lightgrey","lightgray","dimgray","dimgrey","olivedrab","olive","toName","closest","toLowerCase","extend","_Color","_value","_components","fill","_int","setValue","_cloneSource","_isSourceEqual","_normalize","isArray","ArrayBuffer","isView","value1","value2","type1","type2","every","keys1","keys","keys2","toRgba","toRgbaString","toUint8RgbArray","_arrayRgb","_arrayRgba","toRgbArray","toNumber","toBgrNumber","toLittleEndianNumber","multiply","_temp","_refreshInt","premultiply","applyToRGB","toPremultiplied","hexString","substring","toHexa","alphaValue","alphaString","setAlpha","_clamp","int","match","HEX_PATTERN","color","colord","isColorLike","Color","cullingMixin","cullArea","cullable","cullableChildren","warnCount","maxWarnings","GlobalResourceRegistry","_registeredResources","register","pool","unregister","delete","release","registeredCount","size","isRegistered","reset","Pool","ClassType","initialSize","_pool","_count","_index","_classType","prepopulate","total","data","_item$init","_item","return","_item$reset","totalSize","totalFree","totalUsed","PoolGroupClass","_poolsByClass","Map","Class","classPool","getPool","stats","ID","free","used","BigPool","cacheAsTextureMixin","isCachedAsTexture","_this$renderGroup","renderGroup","cacheAsTexture","val","disableRenderGroup","enableRenderGroup","enableCacheAsTexture","updateCacheTexture","_this$renderGroup2","cacheAsBitmap","removeItems","arr","startIdx","removeCount","childrenHelperMixin","allowChildren","removeChildren","beginIndex","endIndex","end","children","range","removed","child","parent","parentRenderGroup","_child$parentRenderLa","parentRenderLayer","detach","_didViewChangeTick","RangeError","removeChildAt","getChildAt","removeChild","setChildIndex","getChildIndex","addChildAt","currentIndex","didChange","_updateFlags","addChild","sortableChildren","sortDirty","swapChildren","child2","index1","index2","structureDidChange","_didContainerChangeTick","removeFromParent","_this$parent","reparentChild","reparentChildAt","childMat","worldTransform","newMatrix","setFromMatrix","replaceChild","oldChild","newChild","updateLocalTransform","localTransform","collectRenderablesMixin","collectRenderables","instructionSet","renderer","currentLayer","globalDisplayStatus","includeInBuild","sortChildren","collectRenderablesSimple","renderPipes","addRenderGroup","collectRenderablesWithEffects","effects","effect","pipe","pop","FilterEffect","filters","filterArea","MaskEffectManagerClass","_effectClasses","_tests","_initialized","maskClass","getMaskEffect","returnMaskEffect","MaskEffectManager","MaskEffect","effectsMixin","_maskEffect","_maskOptions","inverse","_filterEffect","_markStructureAsChanged","addEffect","_updateIsSimple","removeEffect","_this$_maskEffect","setMask","_effect$filters","hasFilters","hadFilters","freeze","_this$_filterEffect","_this$_filterEffect2","findMixin","getChildByName","deep","getChildByLabel","RegExp","found","getChildrenByLabel","matrixPool","boundsPool","getFastGlobalBoundsMixin","getFastGlobalBounds","factorRenderLayers","_getGlobalBoundsRecursive","localBounds","localDisplayStatus","measurable","manageEffects","boundsArea","renderPipeId","viewBounds","groupTransform","advanced","relativeGroupTransform","getGlobalBounds","target","skipUpdateTransform","parentTransform","pooledMatrix","updateTransformBackwards","_getGlobalBounds","visible","parentBounds","preserveBounds","renderableBounds","_target$effects$i$add","_target$effects$i","multiplyHexColors","color1","color2","r1","g1","r2","g2","WHITE_BGR","multiplyColors","localBGRColor","parentBGRColor","bgr2rgb","getGlobalMixin","getGlobalAlpha","skipUpdate","worldAlpha","current","getGlobalTransform","getGlobalTint","worldColor","localColor","tint","getLocalBounds","relativeMatrix","_getLocalBounds","rootContainer","isRoot","relativeTransform","_target$effects$i$add2","_target$effects$i2","addLocalBounds","checkChildrenDidChange","container","previousData","measureMixin","_localBoundsCacheId","_localBoundsCacheData","_setWidth","localWidth","_setHeight","localHeight","localBoundsCacheData","onRenderMixin","_onRender","onRender","func","removeOnRender","addOnRender","sortMixin","_zIndex","zIndex","depthOfChildModified","toLocalGlobalMixin","getGlobalPosition","point","toGlobal","_position","globalMatrix","toLocal","from","InstructionSet","instructions","instructionSize","renderables","gcTick","instruction","log","table","count","TexturePoolClass","textureOptions","_poolKeyHash","_texturePool","enableFullScreen","textureStyle","createTexture","textureSource","getOptimalTexture","po2Width","po2Height","getSameSizeTexture","returnTexture","renderTexture","resetStyle","destroyTextures","textures","TexturePool","RenderGroup","root","canBundle","renderGroupParent","renderGroupChildren","worldColorAlpha","childrenToUpdate","updateTick","childrenRenderablesToUpdate","_onRenderContainers","textureNeedsUpdate","_matrixDirty","disableCacheAsTexture","cachedParent","_parentCacheAsTextureRenderGroup","childrenAtDepth","addRenderGroupChild","renderGroupChild","_removeRenderGroupChild","relativeRenderGroupDepth","onChildUpdate","updateRenderable","renderable","didViewUpdate","onChildViewUpdate","isRenderable","runOnRender","getChildren","_getChildren","invalidateMatrices","inverseWorldTransform","_inverseWorldTransform","textureOffsetInverseTransform","_textureOffsetInverseTransform","_textureBounds","inverseParentTextureTransform","_inverseParentTextureTransform","parentCacheAsTexture","cacheToLocalTransform","assignWithIgnore","ignore","defaultSkew","defaultPivot","defaultScale","defaultOrigin","UPDATE_COLOR","UPDATE_BLEND","UPDATE_VISIBLE","Container","_options$children","_options$parent","parentRenderGroupIndex","_scale","_pivot","_origin","_skew","_cx","_sx","_cy","_sy","_rotation","localAlpha","groupAlpha","groupColor","groupColorAlpha","localBlendMode","groupBlendMode","_didLocalTransformChangeId","_didChangeId","_updateSkew","isRenderGroup","_worldTransform","parseFloat","origin","getSize","setSize","_value$height","updateTransform","opts","originX","originY","localTransformChangeId","sx","sy","px","py","ox","oy","tempColor","bgr","blendMode","valueNumber","culled","_this$renderGroup3","oldChildren","destroyChildren","ViewContainer","_roundPixels","_lastUsed","_gpuData","_bounds","_boundsDirty","updateBounds","roundPixels","onViewUpdate","_this$_gpuData$key$de","_this$_gpuData$key","pushBlendMode","rp","addRenderable","popBlendMode","Sprite","rest","_objectWithoutProperties","_excluded","batched","_visualBounds","_anchor","skipCache","currentTexture","_width","_height","visualBounds","sourceBounds","destroyTexture","destroyTextureSource","_value$height2","tempBounds","addMaskBounds","boundsToMask","addMaskLocalBounds","localRoot","relativeMask","getMatrixRelativeToParent","AlphaMask","renderMaskToTexture","hitTestFn","ColorMask","StencilMask","BrowserAdapter","createCanvas","canvas","document","createElement","createImage","Image","getCanvasRenderingContext2D","CanvasRenderingContext2D","getWebGLRenderingContext","WebGLRenderingContext","getNavigator","navigator","getBaseUrl","_document$baseURI","baseURI","window","location","href","getFontFaceSet","fonts","fetch","url","parseXML","xml","parser","DOMParser","parseFromString","currentAdapter","DOMAdapter","adapter","CanvasSource","autoDensity","resizeCanvas","transparent","globalThis","HTMLCanvasElement","OffscreenCanvas","context2D","_context2D","getContext","ImageSource","HTMLImageElement","ImageBitmap","VideoFrame","UPDATE_PRIORITY","UPDATE_PRIORITY2","TickerListener","next","previous","_destroyed","_fn","_context","_once","ticker","redirect","connect","hard","_Ticker","autoStart","deltaTime","lastTime","speed","started","_requestId","_maxElapsedMS","_minElapsedMS","_protected","_lastFrame","_head","deltaMS","targetFPMS","elapsedMS","_tick","time","requestAnimationFrame","_requestIfNeeded","performance","now","_cancelIfNeeded","cancelAnimationFrame","_startIfPossible","start","NORMAL","_addListener","addOnce","stop","currentTime","head","FPS","minFPS","fps","maxFPS","minFPMS","_shared","system","_system","Ticker","promise","detectVideoAlphaMode","_gl$getExtension","gl","video","video2","onloadeddata","onerror","autoplay","crossOrigin","preload","src","bindTexture","TEXTURE_2D","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","texImage2D","RGBA","UNSIGNED_BYTE","pixel","readPixels","deleteFramebuffer","deleteTexture","getExtension","loseContext","_VideoSource","_options$alphaMode","isReady","_autoUpdate","_isConnectedToTicker","_updateFPS","updateFPS","_msToNextUpdate","autoPlay","_videoFrameRequestCallback","bind","_videoFrameRequestCallbackHandle","_load","_resolve","_reject","_onCanPlay","_onCanPlayThrough","_onError","_onPlayStart","_onPlayStop","_onSeeked","autoLoad","updateFrame","playbackRate","requestVideoFrameCallback","readyState","HAVE_ENOUGH_DATA","HAVE_FUTURE_DATA","complete","addEventListener","_isSourceReady","_mediaReady","reject","preloadTimeoutMs","_preloadTimeout","setTimeout","ErrorEvent","removeEventListener","_isSourcePlaying","paused","ended","_configureAutoUpdate","clearTimeout","play","pause","autoUpdate","cancelVideoFrameCallback","HTMLVideoElement","crossorigin","loop","muted","playsinline","MIME_TYPES","ogv","mov","m4v","VideoSource","convertToList","input","forceTransform","CacheClass","_parsers","_cache","_cacheMap","cacheableAssets","parsers","getCacheableAssets","cacheableMap","entries","key2","cacheKeys","cachedAssets","cacheMap","Cache","textureSourceFrom","hasResource","res","Source","resourceToTexture","textureFrom","LoaderParserPriority","LoaderParserPriority2","assertPath","path2","JSON","stringify","removeUrlParams","re","escapeRegExp","replace","replaceAll","str","find","normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","dots","code","charCodeAt","lastSlashIndex","lastIndexOf","path","toPosix","isUrl","isDataUrl","isBlobUrl","startsWith","hasProtocol","getProtocol","matchFile","matchProtocol","toAbsolute","customBaseUrl","customRootUrl","baseUrl","rootUrl","rootname","absolutePath","isAbsolute","normalize","protocol","trailingSeparator","endsWith","segments","joined","arg","_segments","prevArg","joinExtensions","extname","dirname","hasRoot","matchedSlash","proto","origpath","basename","extIdx","firstNonSlashEnd","startDot","startPart","preDotState","parse","ret","dir","base","sep","delimiter","processX","ids","depth","tags","createStringVariations","regex","vars","isSingleItem","Resolver","_defaultBundleIdentifierOptions","connector","createBundleAssetId","bundleId","assetId","_bundleIdConnector","extractAssetIdFromBundle","assetBundleId","_createBundleAssetId","_extractAssetIdFromBundle","_assetMap","_preferredOrder","_resolverHash","_bundles","setBundleIdentifier","bundleIdentifier","_bundleIdentifier$con","_bundleIdentifier$cre","_bundleIdentifier$ext","prefer","preferOrders","params","basePath","_basePath","rootPath","_rootPath","_manifest","_defaultSearchParams","setDefaultSearchParams","searchParams","queryValues","encodeURIComponent","getAlias","asset","alias","aliasesToUse","_v$src","addManifest","manifest","bundles","bundle","addBundle","assets","assetNames","convertedAssets","srcs","aliases","bundleAssetId","bundleIds","keyCheck","hasKey","assetArray","loadParser","userDefinedLoadParser","userDefinedParser","srcsToUse","src2","resolvedAssets","formattedAsset","_src2$data","_src2$format","_src2$loadParser","_src2$parser","_buildResolvedAsset","resolveBundle","singleAsset","results","resolveUrl","preferredOrder","_getPreferredOrder","priorityKey","filteredAssets","filter","hasBundle","preferred","preference","_appendDefaultSearchParams","paramConnector","_ref","_ref2","assetData","getUrlExtension","RETINA_PREFIX","shift","copySearchParams","targetUrl","sourceUrl","_Spritesheet","optionsOrTexture","arg1","linkedSheets","cachePrefix","animations","metaResolution","meta","_frames","frames","_frameKeys","_batchIndex","_callback","BATCH_SIZE","_processFrames","_processAnimations","_parseComplete","_nextBatch","initialFrameIndex","frameIndex","maxFrames","sourceSize","trimmed","rotated","spriteSourceSize","borders","animName","frameName","callback","destroyBase","_this$_texture2","Spritesheet","validImages","ignoreMultiPack","out2","related_multi_packs","assign","spritesheetAsset","Asset","cache","resolver","ResolveParser","tempURL","_Resolver$RETINA_PREF","_Resolver$RETINA_PREF2","loader","LoadParser","Normal","testParse","_options$data","_asset$meta","imageTexture","imageFilename","imagePath","image","spritesheet","multiPacks","promises","_options$data2","itemUrl","all","sp","_resolvedAsset","_sourceOrigin","CanvasObserver","_lastTransform","_tickerAttached","updateTranslation","_canvas","getBoundingClientRect","contentWidth","contentHeight","_renderer","newTransform","_domElement","domElement","_attachObserver","ensureAttached","parentNode","appendChild","disconnect","ResizeObserver","entry","contentRect","needsUpdate","_lastScaleX","_lastScaleY","observe","HIGH","FederatedEvent","manager","bubbles","cancelBubble","cancelable","composed","defaultPrevented","eventPhase","propagationStopped","propagationImmediatelyStopped","layer","page","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","layerX","layerY","pageX","pageY","composedPath","propagationPath","initEvent","_type","_bubbles","_cancelable","initUIEvent","_typeArg","_bubblesArg","_cancelableArg","_viewArg","_detailArg","preventDefault","nativeEvent","Event","stopImmediatePropagation","stopPropagation","appleIphone","appleIpod","appleTablet","appleUniversal","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackBerry","otherBlackBerry10","otherOpera","otherChrome","otherFirefox","isAppleTabletOnIos13","platform","maxTouchPoints","MSStream","createMatch","userAgent","isMobile","isMobile$1","param","nav","tmp","apple","phone","ipod","tablet","universal","device","amazon","android","windows","blackberry","blackberry10","opera","firefox","chrome","any","isMobileCall","_isMobile$1$default","isMobileJs","KEY_CODE_TAB","DIV_TOUCH_SIZE","DIV_TOUCH_POS_X","DIV_TOUCH_POS_Y","DIV_TOUCH_ZINDEX","DIV_HOOK_SIZE","DIV_HOOK_POS_X","DIV_HOOK_POS_Y","DIV_HOOK_ZINDEX","_AccessibilitySystem","_mobileInfo","debug","_activateOnTab","_deactivateOnMouseMove","_isActive","_isMobileAccessibility","_div","_renderId","_children","_androidUpdateCount","_androidUpdateFrequency","_hookDiv","_createTouchHook","isActive","isMobileAccessibility","hookDiv","backgroundColor","title","_activate","_destroyTouchHook","body","pointerEvents","_canvasObserver","_onKeyDown","_onMouseMove","view","MutationObserver","_initAccessibilitySetup","childList","subtree","runners","postrender","lastObjectRendered","_updateAccessibleObjects","_deactivate","_accessibleDiv","_accessibleActive","div","accessibleChildren","accessible","_addChild","defaultOpts","mergedOptions","accessibilityOptions","activateOnTab","deactivateOnMouseMove","enabledByDefault","renderingToScreen","activeIds","hitArea","wt","_capHitArea","_updateDebugHTML","innerHTML","tabIndex","viewWidth","viewHeight","accessibleType","cssText","accessibleText","innerText","borderStyle","setAttribute","_onClick","_onFocus","_onFocusOut","accessiblePointerEvents","accessibleTitle","accessibleHint","interactive","_dispatchEvent","boundary","rootBoundary","rootTarget","dispatchEvent","getAttribute","keyCode","movementX","movementY","_this$_canvasObserver","setAccessibilityEnabled","enabled","WebGLSystem","WebGPUSystem","AccessibilitySystem","accessibilityTarget","idCounts","createIdFromString","groupId","getTestContext","isContextLost","maxFragmentPrecision","getMaxFragmentPrecision","getShaderPrecisionFormat","shaderFragment","FRAGMENT_SHADER","HIGH_FLOAT","precision","addProgramDefines","isES300","isFragment","ensurePrecision","maxSupportedPrecision","maxSupportedFragmentPrecision","maxSupportedVertexPrecision","requestedFragmentPrecision","requestedVertexPrecision","insertVersion","fragmentNameCache","VertexNameCache","setProgramName","nameCache","shaderName","stripVersion","processes","programCache","_GlProgram","fragment","preprocessorOptions","preferredFragmentPrecision","preferredVertexPrecision","vertex","processKey","processOptions","transformFeedbackVaryings","_key","_attributeData","_uniformData","_uniformBlockData","_cacheKey","GlProgram","attributeFormatData","uint8x2","stride","normalised","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","getAttributeInfoFromFormat","_attributeFormatData$","WGSL_TO_VERTEX_TYPES","f32","vec2f","vec3f","vec4f","i32","u32","bool","extractAttributesFromGpuProgram","entryPoint","mainVertStart","arrowFunctionStart","functionArgsSubstring","inputsRegex","_WGSL_TO_VERTEX_TYPES","instance","extractStructAndGroups","wgsl","_wgsl$match","_wgsl$match$map$filte","_wgsl$match2","linePattern","groupPattern","bindingPattern","namePattern","typePattern","structPattern","structMemberPattern","structName","groups","group","binding","isUniform","structs","struct","members","reduce","acc","member","name2","some","ShaderStage","ShaderStage2","generateGpuLayoutGroups","layout","visibility","VERTEX","FRAGMENT","sampler","sampleType","viewDimension","multisampled","generateLayoutHash","removeStructAndGroupDuplicates","vertexStructsAndGroups","fragmentStructsAndGroups","structNameSet","dupeGroupKeySet","GpuProgram","_this$layout$","_this$layout$2","_layoutKey","_attributeLocationsKey","gpuLayout","structsAndGroups","autoAssignGlobalUniforms","globalUniforms","autoAssignLocalUniforms","localUniforms","_generateProgramKey","attributeData","_this$_attributeData","UNIFORM_TYPES_VALUES","UNIFORM_TYPES_MAP","getDefaultUniformValue","_UniformGroup","uniformStructures","isUniformGroup","_dirtyId","uniforms","_uniformData$size","_uniformData$value","uniformData","arrayMatch","innerType","ubo","isStatic","_signature","UniformGroup","BindGroup","resources","_dirty","setResource","_updateKey","keyParts","_resource$on","currentResource","_resource$off","onResourceChange","getResource","_touch","tick","_resource$off2","RendererType","RendererType2","Shader","_uniformBindMap","_ownedBindGroups","gpuProgram","glProgram","compatibleRenderers","groupMap","WEBGPU","WEBGL","nameHash","uniformName","groupData","bindTick","_buildResourceAccessor","addResource","groupIndex","bindIndex","_a","_b","uniformsOut","defineProperty","destroyPrograms","_this$gpuProgram","_this$glProgram","bindGroup","gpu","_excluded2","blendModeIds","normal","screen","overlay","erase","BLEND","OFFSET","CULLING","DEPTH_TEST","WINDING","DEPTH_MASK","_State","polygonOffset","blend","depthMask","offsets","cullMode","culling","clockwiseFrontFace","depthTest","_blendMode","_blendModeId","_polygonOffset","for2d","state","default2d","State","_Filter","_state","padding","blendRequired","clipToViewport","filterManager","output","clearMode","applyFilter","_excluded3","Filter","environments","loadEnvironmentExtensions","skip","env","unsafeEval","unsafeEvalSupported","Function","_e","earcut","earcut$1","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","triangles","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","ax","bx","cx","ay","by","cy","pointInTriangleExceptFirst","minZ","zOrder","maxZ","prevZ","nextZ","z","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareXYSlope","eliminateHole","aSlope","bSlope","hole","bridge","findHoleBridge","bridgeReverse","hx","hy","qx","tanMin","pointInTriangle","sectorContainsSector","sortLinked","numMerges","inSize","tail","q","pSize","qSize","leftmost","intersectsPolygon","middleInside","p1","p2","q1","q2","o1","o2","o3","o4","onSegment","num","inside","createNode","an","bp","sum","earcutModule","CLEAR","CLEAR2","SystemRunner","items","_name","a0","a6","a7","removeAll","empty","defaultRunners","_AbstractRenderer","config","_this$config$runners","_initOptions","_systemsHash","combinedRunners","_addRunners","_unsafeEvalCheck","skipExtensionImports","manageImports","_addSystems","systems","_addPipes","renderPipeAdaptors","systemName","defaultSystemOptions","render","deprecated","renderTarget","_options$clearColor","_options$clear","_lastObjectRendered","clearColor","background","colorRgba","clearBeforeRender","isRGBAArray","prerender","renderStart","renderEnd","desiredScreenWidth","desiredScreenHeight","previousResolution","resolutionChange","_options$clear2","ALL","runnerIds","runnerId","_addSystem","ClassRef","pipes","pipeAdaptors","adaptors","adaptor","PipeClass","Adaptor","reverse","values","runner","releaseGlobalResources","generateTexture","textureGenerator","resetState","failIfMajorPerformanceCaveat","AbstractRenderer","_isWebGLSupported","isWebGLSupported","contextOptions","stencil","_gl","success","getContextAttributes","_isWebGPUSupported","isWebGPUSupported","requestAdapter","requestDevice","renderPriority","autoDetectRenderer","RendererClass","finalOptions","_options$failIfMajorP","rendererType","WebGPURenderer","__vitePreload","WebGPURenderer$1","webgpu","WebGLRenderer","WebGLRenderer$1","webgl","VERSION","ApplicationInitHook","_globalThis$__PIXI_AP","__PIXI_APP_INIT__","Application","RendererInitHook","_globalThis$__PIXI_RE","__PIXI_RENDERER_INIT__","_Application","stage","_plugins","plugin","rendererDestroyOptions","plugins","ResizePlugin","dom","queueResize","_resizeTo","_cancelResize","_resizeId","innerWidth","innerHeight","clientWidth","clientHeight","resizeTo","TickerPlugin","sharedTicker","_ticker","LOW","oldTicker","AbstractBitmapFont","chars","lineHeight","fontFamily","fontMetrics","fontSize","ascent","descent","baseLineOffset","distanceField","pages","applyFillAsTint","baseMeasurementFontSize","baseRenderedFontSize","font","pageTextures","distanceFieldRange","distanceFieldType","_this$chars$i$texture","LRU","ttl","resetTtl","first","evict","bypass","expiresAt","expiry","Date","moveToEnd","setWithEvicted","evicted","lru","isNaN","genericFontFamilies","fontStringFromTextStyle","fontSizeString","fontFamilies","fontStyle","fontVariant","fontWeight","contextSettings","willReadFrequently","_CanvasTextMetrics","experimentalLetterSpacingSupported","_experimentalLetterSpacingSupported","text","lines","lineWidths","maxLineWidth","fontProperties","measureText","wordWrap","_style$_stroke","textKey","styleKey","_measurementCache","measureFont","__context","outputText","_wordWrap","lineWidth","_measureText","letterSpacing","_stroke","dropShadow","distance","leading","measurements","useExperimentalLetterSpacing","experimentalLetterSpacing","textLetterSpacing","metrics","metricWidth","actualBoundingBoxLeft","actualBoundingBoxRight","boundsWidth","graphemeSegmenter","line","whiteSpace","collapseSpaces","_collapseSpaces","collapseNewlines","_collapseNewlines","canPrependSpaces","wordWrapWidth","tokens","_tokenize","token","_isNewline","_addLine","currIsBreakingSpace","isBreakingSpace","lastIsBreakingSpace","tokenWidth","_getFromCache","canBreakWords","breakWords","characters","wordWrapSplit","char","lastChar","nextChar","canBreakChars","characterWidth","isLastToken","newLine","_trimRight","_newlines","_nextChar","_breakingSpaces","_token","_char","_breakWords","_fonts","METRICS_STRING","BASELINE_SYMBOL","properties","actualBoundingBoxAscent","actualBoundingBoxDescent","clearMetrics","__canvas","BASELINE_MULTIPLIER","HEIGHT_MULTIPLIER","Intl","Segmenter","segmenter","segment","CanvasTextMetrics","emptyColorStops","_FillGradient","colorStops","ensureGradientOptions","defaults","defaultRadialOptions","defaultLinearOptions","_textureSize","textureSize","_wrapMode","_options$outerCenter","center","outerCenter","innerRadius","outerRadius","textureSpace","addColorStop","buildLinearGradient","flip","temp","defaultSize","getCanvas","gradient","createLinearGradient","addColorStops","fillStyle","fillRect","dist","buildGradient","buildRadialGradient","r0","createRadialGradient","_this$texture","FillGradient","_args$","_args$2","repetitionMap","repeat","FillPattern","repetition","parseSvgPath","_","command","parseValues","unshift","number","numbers","parseSVGPath","svgPath","commands","subpaths","currentSubPath","lastX","lastY","moveTo","lineTo","bezierCurveTo","bezierCurveToShort","quadraticCurveTo","quadraticCurveToShort","arcToSvg","closePath","startX","startY","Circle","radius","outerWidth","circle","Ellipse","halfWidth","halfHeight","normx","normy","strokeOuterWidth","strokeInnerWidth","innerHorizontal","innerVertical","outerHorizontal","outerVertical","normalizedX","normalizedY","innerEllipse","outerEllipse","ellipse","squaredDistanceToLineSegment","dot","lenSq","xx","yy","tempRect","tempRect2","Polygon","points","flat","il","isClockwise","containsPolygon","polygon","thisBounds","otherBounds","xi","yi","xj","yj","intersect","strokeWidthSquared","rightWidthSquared","leftWidthSquared","iterationLength","distanceSquared","pointsDesc","currentPoint","isCornerWithinStroke","pX","pY","cornerX","cornerY","RoundedRectangle","radius2","innerX","innerY","rightBound","bottomBound","cachedGroups","getTextureBatchBindGroup","maxTextures","imul","generateTextureBatchBindGroup","bindGroupResources","ViewableBuffer","sizeOrBuffer","rawBinaryData","uint32View","float32View","byteLength","int8View","_int8View","uint8View","_uint8View","int16View","_int16View","int32View","_int32View","float64View","_float64Array","Float64Array","bigUint64View","_bigUint64Array","BigUint64Array","uint16View","sizeOf","fastCopy","sourceBuffer","destinationBuffer","lengthDouble","sourceFloat64View","destinationFloat64View","remainingBytes","sourceUint8View","destinationUint8View","BLEND_TO_NPM","STENCIL_MODES","STENCIL_MODES2","getAdjustedBlendModeBlend","fragTemplate","generateIfTestSrc","maxIfs","checkMaxIfStatementsInShader","shader","createShader","fragmentSrc","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","deleteShader","maxTexturesPerBatchCache","getMaxTexturesPerBatch","_gl$getExtension2","getParameter","MAX_TEXTURE_IMAGE_UNITS","BatchTextureArray","Batch","action","topology","gpuBindGroup","batcher","batchPool","batchPoolIndex","getBatchFromPool","returnBatchToPool","batch","BATCH_TICK","_Batcher","dirty","batchIndex","batches","_elements","attributesInitialSize","indicesInitialSize","attributeBuffer","indexBuffer","begin","elementSize","elementStart","indexSize","attributeSize","_batchIndexStart","_batchIndexSize","batchableObject","_indexStart","_attributeStart","_batcher","vertexSize","checkAndUpdateTexture","textureId","_batch","_textureId","updateElement","packAsQuad","packQuadAttributes","packAttributes","break","elements","textureBatch","firstElement","_resizeAttributeBuffer","_resizeIndexBuffer","element","adjustedBlendMode","breakRequired","packQuadIndex","packIndex","_finishBatch","indexStart","finish","ensureAttributeBuffer","ensureIndexBuffer","newSize","newArrayBuffer","newIndexBuffer","BYTES_PER_ELEMENT","indicesOffset","indices","indexOffset","attributeOffset","Batcher","BufferUsage","BufferUsage2","Buffer","_data","usage","shrinkToFit","_dataInt32","mappedAtCreation","descriptor","setDataWithSize","dataInt32","static","STATIC","syncGPU","_updateSize","oldData","sizeInBytes","ensureIsBuffer","INDEX","COPY_DST","getGeometryBounds","geometry","attributeId","attribute","byteSize","ensureIsAttribute","Geometry","_options$instanceCoun","instanceCount","attributes","buffers","addAttribute","addIndex","onBufferUpdate","getIndex","getBuffer","attributeOption","bufferIndex","destroyBuffers","placeHolderBufferData","placeHolderIndexData","BatchGeometry","aPosition","aUV","aColor","aTextureIdAndRound","addBits","srcParts","parts","toLocaleLowerCase","part","sanitisedPart","findHooksRx","compileHooks","programSrc","_programSrc$match$map","_programSrc$match","partMatches","hook","extractInputs","fragmentSource","compileInputs","fragments","template","header","mainInput","finalString","inValue","cleanedString","extractOutputs","extractVariableName","stripVariable","compileOutputs","mainStruct","mainStart","mainEnd","compiledCode","injectBits","templateSrc","fragmentParts","toInject","bitCacheMap","CACHE_UID","compileHighShader","bits","cacheId","generateCacheId","compileInputsAndOutputs","compileBits","compileHighShaderGl","vertexFragments","shaderBit","fragmentFragments","compiledVertex","compiledFragment","highFragment","vertexParts","vertexGPUTemplate","fragmentGPUTemplate","vertexGlTemplate","fragmentGlTemplate","globalUniformsBit","globalUniformsBitGl","compileHighShaderGpuProgram","compileHighShaderGlProgram","colorBit","main","colorBitGl","textureBatchBitGpuCache","generateBindingSrc","bindingIndex","generateSampleSrc","generateTextureBatchBit","textureBatchBitGlCache","generateSampleGlSrc","generateTextureBatchBitGl","roundPixelsBit","roundPixelsBitGl","batchSamplersUniformGroupHash","getBatchSamplersUniformGroup","batchSamplersUniformGroup","sampleValues","uTextures","DefaultShader","batchSamplers","defaultShader","_DefaultBatcher","textureIdAndRound","positions","argb","i2","w0","w1","h0","h1","DefaultBatcher","buildUvs","vertices","verticesStride","verticesOffset","uvsOffset","uvsStride","buildSimpleUvs","transformVertices","BatchableGraphics","batcherName","applyTransform","geometryData","rgb","baseColor","_this$renderable","gpuBuffer","buildCircle","ShapeBuilder","build","shape","rx","ry","roundedRect","j1","j2","j3","j4","y22","x22","triangulate","centerX","centerY","centerIndex","buildEllipse","buildRoundedRectangle","closePointEps","curveEps","getOrientationOfPoints","square","innerWeight","outerWeight","verts","ix","iy","exx","eyy","eix","eiy","eox","eoy","ex","ey","cx2p0x","cy2p0y","angle0","angle1","startAngle","angleDiff","absAngleDiff","segCount","angleInc","buildLine","lineStyle","flipAlignment","closed","orientation","firstPoint","lastPoint","closedShape","closedPath","midPointX","midPointY","indexCount","widthSquared","miterLimitSquared","miterLimit","perpX","perpY","perp1x","perp1y","ratio","cap","dx0","dy0","dx1","dy1","cross","pDist","imx","imy","omx","omy","smallerInsideSegmentSq","insideWeight","smallerInsideDiagonalSq","insideMiterOk","eps2","buildPixelLine","fx","fy","lx","ly","triangulateWithHoles","holes","emptyArray","buildPolygon","buildRectangle","rectData","verticesIndex","buildTriangle","tempTextureMatrix","generateTextureMatrix","mTx","mTy","sourceStyle","shapeBuilders","buildContextBatches","gpuContext","addTextureToGeometryData","isStroke","shapePath","addShapePathToGeometryData","shapePrimitives","dw","dh","vertOffset","textureUvs","graphicsBatch","otherPoints","holeArrays","getHoleArrays","holePoints","_shape$closePath","close","pixelLine","holePrimitives","holePrimitive","holeBuilder","GpuGraphicsContext","GraphicsContextRenderData","_GraphicsContextSystem","_gpuContextHash","_graphicsDataContextHash","renderableGC","addManagedHash","_options$bezierSmooth","bezierSmoothness","getContextRenderData","_initContextRenderData","updateGpuContext","_initContext","_cleanGraphicsContextData","batchMode","customShader","isBatchable","getGpuContext","graphicsData","limits","maxBatchableTextures","drawBatches","onGraphicsContextDestroy","CanvasSystem","GraphicsContextSystem","RECURSION_LIMIT","FLT_EPSILON","PATH_DISTANCE_EPSILON","buildAdaptiveBezier","sX","sY","cp1x","cp1y","cp2x","cp2y","eX","eY","smoothness","smoothing","distanceTolerance","begin$1","recursive","recursive$1","x4","y4","level","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","d3","buildAdaptiveQuadratic","buildArc","steps","cs","sn","buildArcTo","fromX","fromY","mm","dd","cc","tt","k1","k2","qy","endAngle","TAU","ang1","ang2","mapToEllipse","cosPhi","sinPhi","xp","yp","approxUnitArc","vectorAngle","acos","getArcCenter","largeArcFlag","sweepFlag","pxp","pyp","rxSq","rySq","pxpSq","pypSq","radicant","centerXp","centerYp","vx1","vy1","vx2","vy2","buildArcToSvg","xAxisRotation","lambda","outCurvePoint","curve","roundedShapeArc","vecFrom","pp","sharpCorner","_p2$radius","pRadius","p3","v1","v2","asin","radDirection","drawDirection","halfAngle","cRadius","lenOut","arc","roundedShapeQuadraticCurve","pointLerp","numPoints","_thisPoint$radius","thisPoint","nextPoint","lastEdgeLength","lastOffsetDistance","nextEdgeLength","nextOffsetDistance","tempRectangle","ShapePath","graphicsPath2D","_currentPoly","_graphicsPath2D","signed","checkForHoles","startPoly","_ensurePoly","counterclockwise","arcTo","currentPoly","endPoly","addPath","mainShape","shapePrimitive","_mainShape","mainPolygon","copyWithin","drawShape","poly","regularPoly","sides","roundPoly","corner","sideLength","internalAngle","roundShape","useQuadratic","filletRect","fillet","maxFillet","inset","chamferRect","chamfer","radiusX","radiusY","roundRect","lastShape","tempX","buildPath","boundsRect","GraphicsPath","_instructions$slice","_shapePath","getLastPoint","currentX","currentY","cpx1","cpy1","star","newGraphicsPath2D","cpx2","cpy2","adjustTransform","lastInstruction","currentMatrix","parseSVGFloatAttribute","svg","defaultValue","parseSVGDefinitions","session","definitions","querySelectorAll","definition","nodeName","defs","parseLinearGradient","parseRadialGradient","gradientUnit","_child","extractSvgUrlId","styleAttributes","stroke","opacity","parseSVGStyle","strokeStyle","useFill","useStroke","parseAttribute","styleParts","stylePart","id2","checkForNestedPattern","subpathsWithArea","areas","largestArea","secondArea","smallestArea","largestToSecondRatio","secondToSmallestRatio","extractSubpaths","pathData","calculatePathArea","coords","xs","ys","appendSVGPath","graphicsPath","tempPath","SVGParser","graphicsContext","querySelector","renderChildren","f1","s1","noStyle","pointsString","fillRule","hasExplicitEvenodd","hasMultipleSubpaths","shouldProcessHoles","subpath","useMultipleHolesApproach","isMainShape","beginPath","newPath","cut","isHole","useEvenoddForGraphicsPath","isFillPattern","isFillGradient","handleColorLike","defaultStyle","handleTexture","handleFillPattern","handleFillGradient","handleFillObject","toFillStyle","objectStyle","toStrokeStyle","_excluded4","tmpPoint","_GraphicsContext","_activePath","_transform","_fillStyle","defaultFillStyle","_strokeStyle","defaultStrokeStyle","_stateStack","setFillStyle","setStrokeStyle","onUpdate","_initNextPathLocation","holePath","_this$_activePath","transformedX","transformedY","cpx","cpy","restore","save","getTransform","resetTransform","outerPadding","hasHit","shapes","transformedPoint","_holes$shapePath","holeShapes","GraphicsContext","_TextStyle","convertV7Tov8Style","fullStyle","defaultTextStyle","thisKey","align","_align","_dropShadow","_createProxy","defaultDropShadow","_fontFamily","_fontSize","_fontStyle","_fontVariant","_fontWeight","_leading","_letterSpacing","_lineHeight","_padding","_filters","_trim","textBaseline","_textBaseline","_whiteSpace","_wordWrapWidth","_originalFill","_isFillStyle","_fill","_originalStroke","_getFinalPadding","filterPadding","_this$_fill","_this$_originalFill","_this$_stroke","_this$_originalStroke","cb","Proxy","property","newValue","blur","TextStyle","oldStyle","_oldStyle$dropShadowA","_oldStyle$dropShadowA2","_oldStyle$dropShadowB","_oldStyle$dropShadowC","_oldStyle$dropShadowD","dropShadowAlpha","dropShadowAngle","dropShadowBlur","dropShadowColor","dropShadowDistance","strokeThickness","fillGradientStops","gradientFill","fills","CanvasPoolClass","canvasOptions","_canvasPool","_createCanvasAndContext","getOptimalCanvasAndContext","minWidth","minHeight","canvasAndContext","returnCanvasAndContext","clearRect","CanvasPool","PRECISION","getCanvasFillStyle","textMetrics","_fillStyle$alpha","pattern","createPattern","fillPattern","fillGradient","isLinear","isLocal","isNearlyVertical","globalStop","_DynamicBitmapFont","_dynamicOptions$skipK","_dynamicOptions$resol","_dynamicOptions$paddi","_measureCache","_currentChars","_currentX","_currentY","_currentMaxCharHeight","_currentPageIndex","_skipKerning","dynamicOptions","_mipmap","mipmap","overrideFill","requestedFontSize","overrideSize","skipKerning","_textureStyle","ensureCharacters","charList","pageData","_nextPage","currentMaxCharHeight","fontScale","skipTexture","maxTextureWidth","maxTextureHeight","_style$dropShadow$dis","_style$dropShadow","_style$_stroke$width","_style$_stroke2","textureGlyphWidth","paddedWidth","paddedHeight","pageData2","xAdvance","codePointAt","xOffset","yOffset","kerning","_drawGlyph","_applyKerning","newChars","measureCache","second","amount","textureResolution","_setupContext","_stroke$width","lineJoin","shadowOptions","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","_stroke$width2","removeShadow","strokeText","fillText","DynamicBitmapFont","getBitmapTextLayout","trimEnd","layoutData","offsetY","charPositions","spaceWidth","spacesIndex","currentLine","previousChar","firstWord","currentWord","adjustedLetterSpacing","adjustedWordWrapWidth","adjustedLineHeight","nextWord","word","nextLine","checkIsOverflow","isEnd","charData","isSpace","isWordBreak","addWordToNextLine","nextCharWidth","alignCenter","alignRight","alignJustify","measurementData","indy","spaceIndex","totalSpaces","newSpaceWidth","resolveCharacters","startCode","endCode","String","fromCharCode","fontCount","BitmapFontManagerClass","ALPHA","NUMERIC","ALPHANUMERIC","ASCII","getFont","_dynamicFont$ensureCh","fontFamilyKey","styleCopy","fnt","dynamicFont","getLayout","bitmapFont","install","_options2","_options$dynamicFill","_args$3","_args$4","_args$5","_args$6","textStyle","dynamicFill","_canUseTintForStyle","flatChars","uninstall","cacheKey","BitmapFontManager","BitmapFont","_data$distanceField","_charData$kerning","textureFrame","textureRotate","bitmapFontTextParser","txt","_rawData$distanceFiel","rawData","info","common","kernings","attributeList","itemData","strValue","floatValue","distanceRange","fieldType","face","file","_ref3","_charNode$letter","charNode","letter","xoffset","yoffset","xadvance","bitmapFontXMLParser","getElementsByTagName","_ref4","_charNode$getAttribut","bitmapFontXMLStringParser","validExtensions","bitmapFontCachePlugin","CacheParser","loadBitmapFont","bitmapFontData","textureUrls","pageFile","loadedTextures","_options","response","BackgroundLoader","verbose","_loader","_assetList","_isLoading","_maxConcurrent","assetUrls","_next","toLoad","toLoadAmount","active","cacheTextureArray","testImageFormat","imageData","onload","blob","createImageBitmap","detectAvif","DetectionParser","formats","imageFormats","detectDefaults","inWorker","testVideoFormat","mimeType","canPlayType","detectMp4","detectOgv","detectWebm","detectWebp","Loader","_parsersValidated","promiseCache","_getLoadPromiseAndParser","_parserHash","_parserX$test","parserX","parser2","_parser2$testParse","assetsToLoadIn","onProgress","_validateParsers","assetsToLoad","assetsToUnloadIn","assetsToUnload","loadPromise","_loadPromise$parser","_loadPromise$parser$u","loadedAsset","hash","checkDataUrl","mimes","mime","checkExtension","validJSONExtension","validJSONMIME","loadJson","Low","json","validTXTExtension","validTXTMIME","loadTxt","validWeights","validFontExtensions","validFontMIMEs","CSS_IDENT_TOKEN_REGEX","getFontFamilyName","nameWithSpaces","nameTokens","charAt","toUpperCase","valid","fontFamilyName","validURICharactersRegex","encodeURIWhenNeeded","uri","encodeURI","loadWebFont","_options$data$family","_options$data3","_options$data$weights","_options$data4","_options$data5","fontFaces","family","weights","weight","FontFace","cached","faces","getResolutionOfUrl","_Resolver$RETINA_PREF3","validSVGExtension","validSVGMIME","loadSvg","parseAsGraphicsContext","_asset$data$parseAsGr","_asset$data","loadAsGraphics","loadAsTexture","_asset$data$width","_asset$data2","_asset$data$height","_asset$data3","_asset$data4","_asset$data5","decode","canvasWidth","canvasHeight","imageSmoothingEnabled","imageSmoothingQuality","drawImage","_ref5","_p","_excluded5","svgSource","WORKER_CODE","WORKER_URL","WorkerInstance","URL","createObjectURL","Blob","worker","Worker","revokeObjectURL","UUID","MAX_WORKERS","WorkerManagerClass","_createdWorkers","_workerPool","_resolveHash","isImageBitmapSupported","_isImageBitmapSupported","terminate","loadImageBitmap","_asset$data6","_run","_initWorkers","_getWorker","hardwareConcurrency","WorkerInstance$1","_complete","_returnWorker","error","uuid","toDo","postMessage","WorkerManager","validImageExtensions","validImageMIMEs","_asset$data7","ok","status","statusText","imageBlob","premultiplyAlpha","loadTextures","High","preferWorkers","preferCreateImageBitmap","_asset$data8","potentialVideoExtensions","validVideoExtensions","validVideoMIMEs","determineCrossOrigin","preloadVideo","loaded","cleanup","err","loc","parsedUrl","hostname","port","getBrowserSupportedVideoExtensions","supportedExtensions","supportedMimes","validVideoMime","loadVideoTextures","ve","vm","isValidDataUrl","isValidExtension","_asset$data9","_asset$data0","videoElement","attributeMap","sourceElement","onCanPlay","resolveTextureUrl","_Resolver$RETINA_PREF4","_Resolver$RETINA_PREF5","resolveJsonUrl","AssetsClass","_detections","_backgroundLoader","_options$texturePrefe","_options$texturePrefe2","_options$texturePrefe3","defaultSearchParams","resolutionPref","texturePreference","_detectFormats","preferredFormats","skipDetections","detections","preferences","setPreferences","urls","urlArray","resolveResults","_mapLoadToResolve","loadBundle","_onProgress","resolveResult","totalAssetsToLoad","resolveResult2","backgroundLoad","backgroundLoadBundle","resolveArray","loadedAssets","_unloadFromResolved","unloadBundle","detection","Assets","assetKeyMap","_ref$key$extension","DOMPipe","_attachedDomElements","domContainer","_instructionSet","_domContainer","validateRenderable","attachedDomElements","transformOrigin","_domContainer$element","WebGLPipes","WebGPUPipes","CanvasPipes","EventsTickerClass","interactionFrequency","_deltaTime","_didMove","_tickerAdded","_pauseUpdate","removeTickerListener","pauseUpdate","addTickerListener","_tickerUpdate","INTERACTION","pointerMoved","_update","rootPointerEvent","supportsTouchEvents","pointerType","supportsPointerEvents","PointerEvent","clientX","clientY","pointerId","MouseEvent","EventsTicker","FederatedMouseEvent","client","movement","global","offsetX","globalX","globalY","screenX","screenY","getLocalPosition","globalPos","getModifierState","initMouseEvent","_canBubbleArg","_screenXArg","_screenYArg","_clientXArg","_clientYArg","_ctrlKeyArg","_altKeyArg","_shiftKeyArg","_metaKeyArg","_buttonArg","_relatedTargetArg","FederatedPointerEvent","isPrimary","getCoalescedEvents","getPredictedEvents","FederatedWheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","PROPAGATION_LIMIT","tempHitLocation","tempLocalMapping","EventBoundary","dispatch","moveOnAll","enableGlobalMoveEvents","mappingState","trackingData","eventPool","_allInteractiveElements","_hitElements","_isPointerMoveEvent","hitPruneFn","mapPointerDown","mapPointerMove","mapPointerOut","mapPointerOver","mapPointerUp","mapPointerUpOutside","mapWheel","mappingTable","addEventMapping","propagate","mapEvent","mappers","hitTest","useMove","invertedPath","eventMode","currentTarget","notifyTarget","targets","hitTestMoveRecursive","testFn","pruneFn","shouldReturn","_interactivePrune","interactiveChildren","nestedHit","_isInteractive","isInteractive","isInteractiveMode","isInteractiveTarget","hitTestRecursive","relativeLocation","effectContainsPoint","_e$currentTarget$hand","_e$currentTarget","handlerKey","_notifyListeners","createPointerEvent","isRightButton","button","pressTargetsByButton","freeEvent","_trackingData$overTar","_this$enableGlobalMov","isMouse","outTarget","findMountedTarget","overTargets","outType","outEvent","leaveEvent","overType","overEvent","clonePointerEvent","overTargetAncestor","didPointerEnter","enterEvent","allMethods","allowGlobalPointerEvents","_e$target","cursor","_e$target2","pressTarget","clickTarget","clickEvent","clicksByButton","clickCount","timeStamp","clickHistory","detail","wheelEvent","createWheelEvent","_ref6","allocateEvent","copyPointerData","copyMouseData","copyData","originalEvent","copyWheelData","to","deltaMode","deltaX","deltaY","deltaZ","pressure","tangentialPressure","tiltX","tiltY","twist","altKey","buttons","ctrlKey","metaKey","shiftKey","isTrusted","srcElement","which","overTarget","MOUSE_POINTER_ID","TOUCH_TO_POINTER","touchstart","touchend","touchendoutside","touchmove","touchcancel","_EventSystem","autoPreventDefault","_eventsAdded","_rootPointerEvent","_rootWheelEvent","cursorStyles","pointer","features","defaultEventFeatures","_onPointerDown","_onPointerMove","_onPointerUp","_onPointerOverOut","onWheel","defaultEventMode","_defaultEventMode","_options$eventMode","_options$eventFeature","setTargetElement","eventFeatures","globalMove","_currentCursor","setCursor","mode","applyStyles","click","_normalizeToPointerData","isNormalized","nativeEvent2","federatedEvent","_bootstrapEvent","move","normalizedEvents","outside","wheel","normalizeWheelEvent","_removeEvents","_addEvents","msPointerEnabled","msContentZooming","msTouchAction","touchAction","passive","capture","mapPositionToPoint","isConnected","resolutionMultiplier","TouchEvent","li","changedTouches","touch","touches","identifier","force","tempEvent","_transferMouseData","relatedTarget","EventSystem","FederatedContainer","onclick","onmousedown","onmouseenter","onmouseleave","onmousemove","onglobalmousemove","onmouseout","onmouseover","onmouseup","onmouseupoutside","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onglobalpointermove","onpointerout","onpointerover","onpointertap","onpointerup","onpointerupoutside","onrightclick","onrightdown","onrightup","onrightupoutside","ontap","ontouchcancel","ontouchend","ontouchendoutside","ontouchmove","onglobaltouchmove","ontouchstart","onwheel","_internalEventMode","_this$_internalEventM","signal","listenerFn","handleEvent","FilterPipe","filterEffect","_container","execute","tempProjectionMatrix","getGlobalRenderableBounds","actualMatrix","_renderable$renderGro","quadGeometry","FilterData","inputTexture","backTexture","outputRenderSurface","globalFrame","FilterSystem","_filterStackIndex","_filterStack","_filterGlobalUniforms","uInputSize","uInputPixel","uInputClamp","uOutputFrame","uGlobalFrame","uOutputTexture","_globalFilterBindGroup","activeBackTexture","_this$_activeFilterDa","_activeFilterData","filterData","_pushFilterData","renderSurface","colorTextureSource","colorTexture","rootResolution","rootAntialias","_calculateFilterArea","_calculateFilterBounds","rootViewPort","previousFilterData","_getPreviousFilterData","globalResolution","_findFilterResolution","_calculateGlobalFrame","_setupFilterTextures","generateFilteredTexture","finishRenderPass","_applyFiltersToTexture","outputTexture","_popFilterData","getBackTexture","lastRenderSurface","previousBounds","backgroundResolution","copyToTexture","isFinalTarget","rootRenderTarget","_findPreviousFilterOffset","_updateFilterUniforms","_setupBindGroupsAndRender","calculateSpriteMatrix","outputMatrix","sprite","mappedMatrix","uniformBatch","batchUniforms","getUboResource","encoder","draw","getRenderTarget","outputFrame","inputSize","inputPixel","inputClamp","rootTexture","lastIndex","prevFilterData","filterFrameTransform","tempTexture","flop","viewPort","paddingMultiplier","_renderer$backBuffer$","_renderer$backBuffer","isCompatible","backBuffer","useBackBuffer","MaskFilter","_excluded6","filterUniforms","uFilterMatrix","uMaskClamp","uAlpha","uInverse","uMaskTexture","Graphics","_ref7","_excluded7","_ownedContext","_callContextMethod","method","rotateTransform","scaleTransform","translateTransform","beginFill","endFill","drawCircle","drawEllipse","drawPolygon","drawRect","drawRoundedRect","drawStar","_MeshGeometry","_args$7","shrinkBuffersToFit","positionBuffer","uvBuffer","MeshGeometry","AnimatedSprite","animationSpeed","onComplete","onFrameChange","onLoop","updateAnchor","_excluded8","firstFrame","_textures","_durations","_currentTime","_playing","_previousFrame","gotoAndStop","frameNumber","currentFrame","gotoAndPlay","elapsed","previousFrame","lag","_updateTexture","fromFrames","fromImages","images","totalFrames","playing","AbstractText","styleClass","_excluded9","_autoResolution","_didTextUpdate","_styleClass","_text","_this$_style3","_value$height3","owner","ensureTextOptions","_args$8","_internalCanvas","_internalContext","ensureInternalCanvas","globalCompositeOperation","globalAlpha","checkRow","checkColumn","getCanvasBoundingBox","_options$resolution","_options$width","_options$height","getImageData","strokeRect","CanvasTextGeneratorClass","getCanvasAndContext","measured","_renderTextToCanvas","_style$_stroke3","lineCap","linePositionX","linePositionY","passesCount","_style$_stroke$width2","_style$_stroke5","isShadowPass","dsOffsetText","dsOffsetShadow","_style$_stroke4","strokePadding","linePositionYShift","_style$_stroke6","_drawLetterSpacing","currentPosition","stringArray","previousWidth","currentWidth","currentChar","textStr","CanvasTextGenerator","Text","canvasMeasurement","nssvg","nsxhtml","HTMLTextRenderData","svgRoot","createElementNS","foreignObject","styleElement","overflow","tempHTMLTextRenderData","measureHtmlText","fontStyleCSS","htmlTextRenderData","cssStyle","textContent","contentBounds","doublePadding","GlBatchAdaptor","_tempState","_didUploadHash","batcherPipe","contextChange","batchPipe","didUpload","updateUniformGroup","uniformGroup","WebGLPipesAdaptor","tempState","GpuBatchAdaptor","program","_shader","_geometry","setGeometry","pipeline","getPipeline","globalUniformsBindGroup","resetBindGroup","setBindGroup","getBindGroup","textureGC","setPipeline","renderPassEncoder","drawIndexed","WebGPUPipesAdaptor","_BatcherPipe","_this$_adaptor$init","_this$_adaptor","_batchersByInstructionSet","_activeBatches","_adaptor","getBatcher","_availableBatchers","buildStart","batchers","_activeBatch","addToBatch","buildEnd","upload","BatcherPipe","localUniformBit","localUniformBitGroup2","localUniformBitGl","textureBit","textureBitGl","AlphaMaskEffect","AlphaMaskPipe","_activeMaskStage","maskedContainer","maskContainer","_maskedContainer","renderMask","filterTexture","maskData","ColorMaskPipe","_colorStack","_colorStackIndex","_currentColor","colorStack","currentColor","colorMask","_mask","StencilMaskPipe","_maskStackHash","_maskHash","WeakMap","_a$renderTargetUid","setBlendMode","instructionsStart","instructionsLength","renderTargetUid","_a$renderTargetUid2","maskStackIndex","ensureDepthStencil","setStencilMode","RENDERING_MASK_ADD","INVERSE_MASK_ACTIVE","MASK_ACTIVE","RENDERING_MASK_REMOVE","STENCIL","DISABLED","BUFFER_TYPE","BUFFER_TYPE2","GlBuffer","_lastBindBaseLocation","_lastBindCallId","updateID","GlBufferSystem","_gpuBuffers","_boundBufferBases","_minBaseLocation","_nextBindBaseIndex","_bindCallId","_maxBindings","maxUniformBindings","getGlBuffer","createGLBuffer","glBuffer","bindBuffer","bindBufferBase","UNIFORM_BUFFER","nextBindBase","hasTransformFeedback","freeLocationForBufferBase","freeIndex","getLastBindBaseLocation","nextIndex","curBuf","bindBufferRange","updateBuffer","drawType","STATIC_DRAW","DYNAMIC_DRAW","bufferSubData","bufferData","destroyAll","deleteBuffer","onBufferDestroy","contextLost","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","UNIFORM","createBuffer","_GlContextSystem","supports","uint32Indices","uniformBufferObject","vertexArrayObject","srgbTextures","nonPowOf2wrapping","msaa","nonPowOf2mipmaps","handleContextLost","handleContextRestored","isLost","multiView","initFromContext","_options$premultiplie","_options$powerPrefere","premultipliedAlpha","createContext","preferWebGLVersion","preserveDrawingBuffer","powerPreference","ensureCanvasSize","targetCanvas","webGLVersion","getExtensions","validateContext","anisotropicFiltering","floatTextureLinear","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc","rgtc","drawBuffers","depthTexture","uint32ElementIndex","floatTexture","textureHalfFloat","textureHalfFloatLinear","vertexAttribDivisorANGLE","srgb","colorBufferFloat","provokeExt","provokingVertexWEBGL","FIRST_VERTEX_CONVENTION_WEBGL","_contextLossForced","_this$extensions$lose","restoreContext","_this$extensions$lose2","useProgram","forceContextLoss","_this$extensions$lose3","isWebGl2","GlContextSystem","ensureAttributes","extractedData","_attribute$format","_attribute$offset","_attribute$instance","ensureStartAndStride","tempStride","tempStart","_attribute$stride","_attribute$start","GL_FORMATS","GL_FORMATS2","GL_TARGETS","GL_TARGETS2","GL_TYPES","GL_TYPES2","infoMap","BYTE","UNSIGNED_SHORT","SHORT","HALF_FLOAT","FLOAT","UNSIGNED_INT","INT","getGlTypeFromFormat","_infoMap$format","topologyToGlMap","GlGeometrySystem","_geometryVaoHash","_activeGeometry","_activeVao","hasVao","hasInstance","nativeVaoExtension","createVertexArray","createVertexArrayOES","bindVertexArray","vao","bindVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","nativeInstancedExtension","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","vertexAttribDivisor","getVao","updateBuffers","unbind","bufferSystem","checkCompatibility","geometryAttributes","shaderAttributes","getSignature","attribs","strings","_this$_geometryVaoHas","initGeometryVao","_incRefCount","_getProgramData","signature","onGeometryDestroy","vaoObjectHash","activateVao","lastBuffer","programAttrib","_programAttrib$format","enableVertexAttribArray","attributeInfo","vertexAttribIPointer","vertexAttribPointer","_attribute$divisor","divisor","glTopology","glType","drawElements","drawArrays","bigTriangleGeometry","_GlBackBufferSystem","_useBackBufferThisRender","_antialias","bigTriangleProgram","_bigTriangleShader","uTexture","renderTarget2","_targetTexture","_getBackBufferTexture","_presentBackBuffer","_backBufferTexture","targetSourceTexture","GlBackBufferSystem","GlColorMaskSystem","_colorMaskCache","GlEncoderSystem","commandFinished","skipSync","_activeProgram","GlLimitsSystem","MAX_UNIFORM_BUFFER_BINDINGS","GlRenderTarget","msaaRenderBuffer","GpuStencilModesToPixi","stencilWriteMask","stencilReadMask","stencilFront","passOp","stencilBack","GlStencilSystem","_stencilCache","stencilReference","stencilMode","_renderTargetStencilState","onRenderTargetChange","_comparisonFuncMapping","always","ALWAYS","never","NEVER","equal","EQUAL","NOTEQUAL","less","LESS","LEQUAL","greater","GREATER","GEQUAL","_stencilOpsMapping","keep","KEEP","zero","ZERO","REPLACE","INVERT","INCR","DECR","INCR_WRAP","DECR_WRAP","_activeRenderTarget","stencilState","disable","STENCIL_TEST","enable","stencilFunc","stencilOp","UboSystem","_syncFunctionHash","_systemCheck","ensureUniformGroup","getUniformGroupData","_initUniformGroup","uniformGroupSignature","createUboElements","syncFunction","_generateUboSync","uboElements","generateUboSync","syncUniformGroup","uniformGroupData","synced","WGSL_TO_STD40_SIZE","createUboElementsSTD40","chunkSize","uboElement","curOffset","uniformParsers","uniform","createUboSyncFunction","parserCode","arrayGenerationFunction","singleSettersMap","funcFragments","uniformParser","loopMatrix","col","uboSyncFunctionsSTD40","uboSyncFunctionsWGSL","generateArraySyncSTD40","offsetToAdd","rowSize","remainder","createUboSyncFunctionSTD40","GlUboSystem","GlRenderTargetAdaptor","_clearColorCache","_viewPortCache","renderTargetSystem","_renderTargetSystem","sourceRenderSurfaceTexture","destinationTexture","originSrc","originDest","glRenderTarget","getGpuRenderTarget","resolveTargetFramebuffer","copyTexSubImage2D","startRenderPass","viewport","gpuRenderTarget","viewPortY","colorTextures","viewPortCache","depthStencilRenderBuffer","_initStencil","READ_FRAMEBUFFER","blitFramebuffer","COLOR_BUFFER_BIT","NEAREST","initGpuRenderTarget","_initColor","destroyGpuRenderTarget","deleteRenderbuffer","renderBuffer","_renderTarget","COLOR","defaultClearColor","clearColorCache","clearColorArray","resizeGpuRenderTarget","_resizeColor","_resizeStencil","bindSource","glSource","getGlSource","glTexture","viewFramebuffer","createRenderbuffer","source2","glInternalFormat","internalFormat","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","DEPTH24_STENCIL8","renderbufferStorage","DEPTH_STENCIL","contextCanvas","canvasSource","calculateProjection","pm","flipY","canvasCache","getCanvasTexture","onDestroy","isRenderingToScreen","_RenderTarget","dirtyId","_size","_managedColorTextures","colorSource","onSourceResize","depthStencilTexture","ensureDepthStencilTexture","skipColorTexture","RenderTarget","RenderTargetSystem","projectionMatrix","_renderSurfaceToRenderTargetHash","_gpuRenderTargetHash","_renderTargetStack","_this$adaptor$prerend","_this$adaptor","_this$adaptor$postren","_this$adaptor2","currentRenderTargetData","_this$_renderSurfaceT","_initRenderTarget","GlRenderTargetSystem","BufferResource","_bufferResource","onBufferChange","destroyBuffer","generateShaderSyncCode","shaderSystem","headerFragments","addedTextreSystem","textureCount","programData","resName","uniform1i","functionSource","GlProgramData","uniformGroups","uniformDirtyGroups","uniformBlockBindings","booleanArray","GL_TABLE","GL_TO_GLSL_TYPES","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_2D","SAMPLER_CUBE","INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_CUBE","SAMPLER_2D_ARRAY","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D_ARRAY","GLSL_TO_VERTEX_TYPES","float","vec2","vec3","vec4","ivec2","ivec3","ivec4","uint","uvec2","uvec3","uvec4","bvec2","bvec3","bvec4","mapType","typeNames","tn","mapGlToVertexFormat","typeValue","extractAttributesFromGlProgram","sortAttributes","totalAttributes","getProgramParameter","ACTIVE_ATTRIBUTES","attribData","getActiveAttrib","bindAttribLocation","linkProgram","getAttribLocation","getUboData","ACTIVE_UNIFORM_BLOCKS","uniformBlocks","totalUniformsBlocks","getActiveUniformBlockName","uniformBlockIndex","getUniformBlockIndex","getActiveUniformBlockParameter","UNIFORM_BLOCK_DATA_SIZE","getUniformData","totalUniforms","ACTIVE_UNIFORMS","getActiveUniform","logPrettyShaderError","shaderSrc","getShaderSource","shaderLog","getShaderInfoLog","splitShader","dedupe","lineNumbers","logArgs","fragmentSourceToLog","logProgramError","vertexShader","fragmentShader","LINK_STATUS","getProgramInfoLog","generateProgram","glVertShader","VERTEX_SHADER","glFragShader","webGLProgram","createProgram","attachShader","bufferMode","SEPARATE_ATTRIBS","INTERLEAVED_ATTRIBS","getUniformLocation","defaultSyncData","blockIndex","GlShaderSystem","_programDataHash","_shaderSyncFunctions","_setProgram","_generateShaderSync","bindUniformBlock","isBufferResource","boundLocation","uniformBlockBinding","_createProgramData","UNIFORM_TO_SINGLE_SETTERS","UNIFORM_TO_ARRAY_SETTERS","generateUniformsSync","templateType","GlUniformGroupSystem","_uniformGroupSyncHash","syncData","syncFunc","_getUniformSyncFunction","_this$_uniformGroupSy","_createUniformSyncFunction","uniformGroupSyncHash","_getSignature","_generateUniformsSync","preFix","mapWebGLBlendModesToPixi","blendMap","ONE","ONE_MINUS_SRC_ALPHA","DST_COLOR","ONE_MINUS_SRC_COLOR","none","SRC_ALPHA","MIN","MAX","MIN_EXT","MAX_EXT","_GlStateSystem","_invertFrontFace","stateId","_blendEq","setBlend","setOffset","setCullFace","setDepthTest","setFrontFace","setDepthMask","checks","defaultState","_cullFace","_frontFace","_frontFaceDirty","blendModesMap","diff","forceState","_updateCheck","_checkBlendMode","_checkPolygonOffset","POLYGON_OFFSET_FILL","CULL_FACE","faceMode","_glFrontFace","frontFace","blendFunc","blendFuncSeparate","blendEquationSeparate","FUNC_ADD","setPolygonOffset","CCW","UNPACK_FLIP_Y_WEBGL","GlStateSystem","GlTexture","samplerType","glUploadBufferImageResource","texSubImage2D","compressedFormatMap","glUploadCompressedTextureResource","UNPACK_ALIGNMENT","mipWidth","mipHeight","compressed","levelBuffer","compressedTexImage2D","glUploadImageResource","glWidth","glHeight","textureWidth","textureHeight","glUploadVideoResource","scaleModeToGlFilter","linear","nearest","mipmapScaleModeToGlFilter","wrapModeToGlAddress","compareModeToGlCompare","applyStyleParams","mipmaps","anisotropicExt","glFunctionName","firstParam","forceClamp","firstCreation","castParam","wrapModeS","wrapModeT","wrapModeR","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_WRAP_R","TEXTURE_MAG_FILTER","glFilterMode","TEXTURE_MIN_FILTER","MAX_TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_COMPARE_FUNC","mapFormatToGlFormat","r8unorm","RED","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","RG","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","rgb9e5ufloat","RGB","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","STENCIL_INDEX8","depth16unorm","DEPTH_COMPONENT","depth24plus","depth32float","mapFormatToGlInternalFormat","SRGB8_ALPHA8","RGBA8","SRGB8_ALPHA8_EXT","R8","R8_SNORM","R8UI","R8I","R16UI","R16I","R16F","RG8","RG8_SNORM","RG8UI","RG8I","R32UI","R32I","R32F","RG16UI","RG16I","RG16F","RGBA8_SNORM","RGBA8UI","RGBA8I","RGB9_E5","RGB10_A2","R11F_G11F_B10F","RG32UI","RG32I","RG32F","RGBA16UI","RGBA16I","RGBA16F","RGBA32UI","RGBA32I","RGBA32F","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH32F_STENCIL8","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RED_RGTC1_EXT","COMPRESSED_SIGNED_RED_RGTC1_EXT","COMPRESSED_RED_GREEN_RGTC2_EXT","COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT","COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT","COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_R11_EAC","COMPRESSED_SIGNED_RG11_EAC","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","mapFormatToGlType","UNSIGNED_INT_5_9_9_9_REV","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_24_8","FLOAT_32_UNSIGNED_INT_24_8_REV","BYTES_PER_PIXEL","GlTextureSystem","managedTextures","_glTextures","_glSamplers","_boundTextures","_activeTextureLocation","_boundSamplers","_uploads","_premultiplyAlpha","_useSeparateSamplers","_mapFormatToInternalFormat","_mapFormatToType","_mapFormatToFormat","initSource","_bindSampler","_activateLocation","bindSampler","_getGlSampler","boundTextures","activeTexture","TEXTURE0","_initSource","biggestDimension","log2","onSourceUpdate","onStyleChange","onSourceDestroy","onSourceUnload","onUpdateMipmaps","updateStyle","generateMipmap","_initSampler","glSampler","createSampler","generateCanvas","pixels","getPixels","ctx","createImageData","putImageData","glRenterTarget","GlGraphicsAdaptor","uColor","uTransformMatrix","uRound","graphicsPipe","contextSystem","GlMeshAdaptor","textureUniforms","uTextureMatrix","meshPipe","mesh","uSampler","localUniformsBindGroup","CustomRenderPipe","destroyRenderable","BatchableSprite","executeInstructions","RenderGroupPipe","_addRenderableCacheAsTexture","_addRenderableDirect","_executeCacheAsTexture","_executeDirect","_batchableRenderGroup","_renderGroup$_batchab","batchableRenderGroup","worldTransformMatrix","clearList","tempContainer","UPDATE_BLEND_COLOR_VISIBLE","updateRenderGroupTransforms","updateChildRenderGroups","updateRenderGroupTransform","renderGroupDepth","updateTransformAndChildren","updateFlags","updateColorBlendVisibility","validateRenderables","rebuildRequired","RenderGroupSystem","originalLocalTransform","_updateCachedRenderGroups","_updateRenderGroups","closestCacheAsTexture","_renderGroup$textureO","_renderGroup$textureO2","lastTexture","_buildInstructions","_updateRenderables","rendererOrPipes","SpritePipe","gpuSprite","_getGpuSprite","_updateBatchableSprite","batchableSprite","_initGPUSprite","_BackgroundSystem","_backgroundColor","backgroundAlpha","incoming","BackgroundSystem","BLEND_MODE_FILTERS","BlendMode","BlendModePipe","_blendModeStack","_isAdvanced","_filterHash","_activeBlendMode","_this$_blendModeStack","_this$_renderableList","_renderableList","_endAdvancedBlendMode","_beginAdvancedBlendMode","_ensureFilterEffect","imageTypes","png","jpg","webp","_ExtractSystem","_normalizeOptions","base64","defaultImageOptions","quality","toBlob","reader","FileReader","readAsDataURL","toDataURL","convertToBlob","pixelInfo","download","_options$filename","link","filename","_options$width2","ExtractSystem","RenderTexture","GenerateTextureSystem","_options$frame","textureSourceOptions","region","color32BitToUniform","abgr","GlobalUniformSystem","_stackIndex","_globalUniformDataStack","_uniformsPool","_activeUniforms","_bindGroupPool","_activeBindGroups","currentGlobalUniformData","globalUniformData","_createUniforms","uProjectionMatrix","uResolution","uWorldTransformMatrix","uWorldColorAlpha","getUniformBindGroup","_currentGlobalUniformData","SchedulerSystem","_tasks","_offset","duration","useOffset","cancel","task","saidHello","sayHello","HelloSystem","hello","cleanHash","clean","cleanHash2","cleanArray","renderableGCTick","_RenderableGCSystem","_managedRenderables","_managedHashes","_managedArrays","maxUnusedTime","renderableGCMaxUnusedTime","_frequency","renderableGCFrequency","renderableGCActive","_handler","scheduler","run","_hashHandler","_arrayHandler","addManagedArray","_now","_updateInstructionGCTick","_removeRenderable","managedRenderables","_renderable$renderGro2","_renderGroup$instruct","_renderGroup$instruct2","_renderGroup$gcTick","currentTick","RenderableGCSystem","_TextureGCSystem","checkCount","_options$textureGCAMa","checkCountMax","textureGCCheckCountMax","maxIdle","textureGCAMaxIdle","textureGCMaxIdle","textureGCActive","TextureGCSystem","_ViewSystem","removeView","ViewSystem","SharedSystems","SharedRenderPipes","DefaultWebGLSystems","DefaultWebGLPipes","DefaultWebGLAdapters","systemConfig","BindGroupSystem","_hash","_gpu","_createBindGroup","groupLayout","_group$resources$j","gpuResource","getGPUBuffer","bufferResource","getGpuSampler","getGpuSource","createView","getProgramData","bindGroups","createBindGroup","GpuBufferSystem","_managedBuffers","createGPUBuffer","writeBuffer","getMappedRange","unmap","_destroyBuffer","UboBatch","minUniformOffsetAlignment","_minUniformOffsetAlignment","byteIndex","addEmptyGroup","addGroup","GpuColorMaskSystem","setColorMask","GpuDeviceSystem","_initPromise","_createDeviceAndAdaptor","forceFallbackAdapter","requiredFeatures","feature","GpuEncoderSystem","_boundBindGroup","_boundVertexBuffer","_resolveCommandFinished","commandEncoder","createCommandEncoder","beginRenderPass","endRenderPass","_clearCache","setViewport","setPipelineFromGeometryProgramAndState","_boundPipeline","_setVertexBuffer","setVertexBuffer","_setIndexBuffer","_boundIndexBuffer","indexFormat","setIndexBuffer","buffersToBind","getBufferNamesToBind","_setShaderBindGroups","_syncBindGroup","submit","restoreRenderPass","getDescriptor","boundPipeline","boundVertexBuffer","boundIndexBuffer","boundBindGroup","GpuLimitsSystem","maxSampledTexturesPerShaderStage","GpuStencilSystem","setStencilReference","WGSL_ALIGN_SIZE_DATA","f16","createUboElementsWGSL","generateArraySyncWGSL","createUboSyncFunctionWGSL","GpuUboSystem","GpuUniformBatchPipe","_bindGroupHash","_buffers","_bindGroups","_bufferResources","_batchBuffer","totalBuffers","COPY_SRC","_uploadBindGroups","_resetBindGroups","duplicate","_getBindGroup","_getBufferResource","getArrayBindGroup","getArrayBufferResource","firstBuffer","copyBufferToBuffer","_this$_bindGroups$i","topologyStringToId","getGraphicsStateKey","geometryLayout","shaderKey","getGlobalStateKey","stencilStateId","multiSampleCount","PipelineSystem","_moduleCache","_bufferLayoutsCache","_bindingNamesCache","_pipeCache","_pipeStateCaches","_colorMask","_multisampleCount","_updatePipeHash","setMultisampleCount","multisampleCount","setRenderTarget","msaaSamples","_depthStencilAttachment","depthStencilAttachment","_stencilMode","_stencilState","passEncoder","_generateBufferKey","_createPipeline","_createVertexBufferLayouts","blendModes","getColorTargets","writeMask","_getModule","primitive","multisample","depthStencil","depthWriteEnabled","depthCompare","createRenderPipeline","_createModule","createShaderModule","keyGen","attributeKeys","stringKey","_generateAttributeLocationsKey","bufferNamesToBind","shaderLocation","vertexBuffersLayout","bufferEntry","arrayStride","stepMode","bufferEntryAttributes","_attribute$divisor2","GpuRenderTarget","contexts","msaaTextures","GpuRenderTargetAdaptor","baseGpuTexture","_getGpuColorTexture","backGpuTexture","copyTextureToTexture","getCurrentTexture","clearValue","colorAttachments","resolveTarget","canvasTextureView","getTextureView","loadOp","storeOp","stencilLoadOp","depthLoadOp","DEPTH","stencilStoreOp","depthClearValue","depthStoreOp","standAlone","renderPassDescriptor","gpuCommands","configure","GPUTextureUsage","TEXTURE_BINDING","RENDER_ATTACHMENT","msaaTexture","unconfigure","GpuRenderTargetSystem","GpuShaderSystem","_gpuProgramData","_createGPUProgramData","createBindGroupLayout","pipelineLayoutDesc","bindGroupLayouts","createPipelineLayout","GpuBlendModesToPixi","srcFactor","dstFactor","operation","GpuStateSystem","gpuUploadBufferImageResource","gpuTexture","bytesPerPixel","writeTexture","rowsPerImage","bytesPerRow","depthOrArrayLayers","blockDataMap","blockBytes","blockWidth","blockHeight","defaultBlockData","gpuUploadCompressedTextureResource","blockData","mipLevel","gpuUploadImageResource","copyExternalImageToTexture","gpuUploadVideoResource","GpuMipmapGenerator","pipelines","_getMipmapPipeline","mipmapShaderModule","mipTexture","arrayLayerCount","renderToSource","mipTextureDescriptor","bindGroupLayout","getBindGroupLayout","arrayLayer","srcView","baseMipLevel","baseArrayLayer","dstMipLevel","dstView","mipLevelSize","GpuTextureSystem","_gpuSources","_gpuSamplers","_textureViewHash","textureDescriptor","_mipmapGenerator","getTextureBindGroup","_this$_bindGroupHash$","_createTextureBindGroup","_this$_textureViewHas","_createTextureView","getPreferredCanvasFormat","webGPUCanvas","GpuGraphicsAdaptor","_maxTextures","localBindGroup","GpuMeshAdapter","DefaultWebGPUSystems","DefaultWebGPUPipes","DefaultWebGPUAdapters","GraphicsGpuData","GraphicsPipe","graphics","wasBatched","_rebuild","_addToBatcher","gpuData","_getGpuDataForRenderable","_updateBatchesForRenderable","_initGpuDataForRenderable","batchClone","_PlaneGeometry","_args$9","verticesX","verticesY","_this$verticesX","_this$verticesY","_this$width","_this$height","sizeX","sizeY","totalSub","xpos","ypos","value3","value4","PlaneGeometry","BatchableMesh","_textureMatrixUpdateId","_uvUpdateId","_topology","setTexture","transformedUvs","_transformedUvs","MeshGpuData","MeshPipe","meshData","_getMeshData","isBatched","batchableMesh","_getBatchableMesh","_mesh$_geometry$indic","_mesh$_geometry$posit","gpuBatchableMesh","_initMeshData","_initBatchableMesh","gpuMesh","GlParticleContainerAdaptor","particleContainerPipe","getBuffers","TRIANGLES","particleChildren","GpuParticleContainerAdaptor","createIndicesForQuads","outBuffer","totalIndices","generateParticleUpdateFunction","dynamicUpdate","generateUpdateFunction","staticUpdate","ParticleBuffer","_options$size","_generateParticleUpdateCache","staticVertexSize","dynamicVertexSize","_dynamicStride","_staticStride","staticAttributeBuffer","dynamicAttributeBuffer","dynamicOffset","staticOffset","_staticBuffer","_dynamicBuffer","attributeName","uploadFunction","getParticleUpdate","_dynamicUpload","_staticUpload","getParticleSyncKey","generateParticleUpdate","particles","uploadStatic","ParticleShader","uTranslationMatrix","ParticleContainerPipe","_renderable","_initBuffer","_properties","_childrenDirty","transformationMatrix","GlParticleContainerPipe","GpuParticleContainerPipe","_NineSliceGeometry","_options$width3","_options$height2","_options$originalWidt","_options$originalHeig","_options$leftWidth","_options$rightWidth","_options$topHeight","_options$bottomHeight","_options$anchor","_options$anchor2","_originalWidth","originalWidth","_originalHeight","originalHeight","_leftWidth","leftWidth","_rightWidth","rightWidth","_topHeight","topHeight","_bottomHeight","bottomHeight","_anchorX","_anchorY","updatePositions","scaleW","scaleH","anchorOffsetX","anchorOffsetY","_uvw","_uvh","NineSliceGeometry","NineSliceSpriteGpuData","NineSliceSpritePipe","tilingBit","tilingBitGl","TilingSpriteShader","tilingUniforms","uMapCoord","uTextureTransform","uSizeAnchor","updateUniforms","anchorX","anchorY","QuadGeometry","setPositions","tilingSprite","setUvs","applyAnchorToTexture","_tileTransform","sharedQuad","TilingSpriteGpuData","canBatch","_this$shader","TilingSpritePipe","tilingSpriteData","_getTilingSpriteData","couldBatch","_updateCanBatch","_updateBatchableMesh","_initTilingSpriteData","renderableData","_nonPowOf2wrapping","localUniformMSDFBit","localUniformMSDFBitGl","mSDFBit","mSDFBitGl","SdfShader","uDistance","BitmapTextGraphics","BitmapTextPipe","bitmapText","graphicsRenderable","_getGpuBitmapText","syncWithProxy","_updateContext","_updateDistanceField","proxyGraphics","bitmapTextLayout","initGpuText","proxyRenderable","worldScale","proxy","BatchableHTMLText","generatingTexture","currentKey","htmlText","getReferenceCount","returnTexturePromise","texturePromise","decreaseReferenceCount","updateTextBounds","paddingOffset","paddingOffsetY","HTMLTextPipe","gpuText","_getGpuText","newKey","batchableHTMLText","_updateGpuText","catch","oldTexturePromise","getTexturePromise","finally","isSafari","getPo2TextureFromSource","extractFontFamilies","matches","addFontFamily","fontFamily2","tagStyles","loadFontAsBase64","dataSrc","onloadend","loadFontCSS","FontStylePromiseCache","getFontCss","fontPromises","css","getSVGUrl","fontCSS","htmlTextData","XMLSerializer","serializeToString","getTemporaryCanvasFromImage","loadSVGImage","delay","resolve2","HTMLTextSystem","_activeTextures","_createCanvas","getTexture","getManagedTexture","_increaseReferenceCount","_buildTexturePromise","usageCount","_this$_activeTextures","_this$_activeTextures2","_cleanUp","uvSafeOffset","svgURL","BatchableText","canvasText","refCount","CanvasTextPipe","batchableText","CanvasTextSystem","_textKey","_options$resolution2","filteredTexture","_applyFilters","renderTextToCanvas","_this$_activeTextures3","_this$_activeTextures4","currentRenderTarget","resultTexture"],"mappings":"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,OAAO,IAAIF,eAAe,CAACE,QAAQ,aAARA,QAAQ,cAARA,QAAQ,GAAI,IAAI,CAACK,SAAS,EAAE,IAAI,CAACF,EAAE,EAAE,IAAI,CAACC,EAAE,CAAC;UAC1E;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEG,GAAGA,CAACN,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGD,CAAC,EAAE;YAChB,IAAI,IAAI,CAACE,EAAE,KAAKF,CAAC,IAAI,IAAI,CAACG,EAAE,KAAKF,CAAC,EAAE;cAClC,IAAI,CAACC,EAAE,GAAGF,CAAC;cACX,IAAI,CAACG,EAAE,GAAGF,CAAC;cACX,IAAI,CAACG,SAAS,CAACG,SAAS,CAAC,IAAI,CAAC;YAChC;YACA,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,QAAQA,CAACC,CAAC,EAAE;YACV,IAAI,IAAI,CAACP,EAAE,KAAKO,CAAC,CAACT,CAAC,IAAI,IAAI,CAACG,EAAE,KAAKM,CAAC,CAACR,CAAC,EAAE;cACtC,IAAI,CAACC,EAAE,GAAGO,CAAC,CAACT,CAAC;cACb,IAAI,CAACG,EAAE,GAAGM,CAAC,CAACR,CAAC;cACb,IAAI,CAACG,SAAS,CAACG,SAAS,CAAC,IAAI,CAAC;YAChC;YACA,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEG,MAAMA,CAACD,CAAC,EAAE;YACRA,CAAC,CAACH,GAAG,CAAC,IAAI,CAACJ,EAAE,EAAE,IAAI,CAACC,EAAE,CAAC;YACvB,OAAOM,CAAC;UACV;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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CA;AACA;AACA;AACA;YACI,IAAI,CAACD,CAAC,GAAG,CAAC;YACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,CAAC,GAAG,CAAC;YACV,IAAI,CAACD,CAAC,GAAGA,CAAC;YACV,IAAI,CAACC,CAAC,GAAGA,CAAC;UACZ;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEI,KAAKA,CAAA,EAAG;YACN,OAAO,IAAI+D,KAAK,CAAC,IAAI,CAACpE,CAAC,EAAE,IAAI,CAACC,CAAC,CAAC;UAClC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEO,QAAQA,CAACC,CAAC,EAAE;YACV,IAAI,CAACH,GAAG,CAACG,CAAC,CAACT,CAAC,EAAES,CAAC,CAACR,CAAC,CAAC;YAClB,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACES,MAAMA,CAACD,CAAC,EAAE;YACRA,CAAC,CAACH,GAAG,CAAC,IAAI,CAACN,CAAC,EAAE,IAAI,CAACC,CAAC,CAAC;YACrB,OAAOQ,CAAC;UACV;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEE,MAAMA,CAACF,CAAC,EAAE;YACR,OAAOA,CAAC,CAACT,CAAC,KAAK,IAAI,CAACA,CAAC,IAAIS,CAAC,CAACR,CAAC,KAAK,IAAI,CAACA,CAAC;UACzC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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C3BwB,MAAM,CAACjI,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBiI,MAAM,CAAChI,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBgI,MAAM,CAACvB,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBuB,MAAM,CAACtB,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBsB,MAAM,CAACrB,EAAE,GAAG,IAAI,CAACA,EAAE;YACnBqB,MAAM,CAACpB,EAAE,GAAG,IAAI,CAACA,EAAE;YACnB,OAAOoB,MAAM;UACf;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEtF,MAAMA,CAACsF,MAAM,EAAE;YACbA,MAAM,CAACjI,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBiI,MAAM,CAAChI,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBgI,MAAM,CAACvB,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBuB,MAAM,CAACtB,CAAC,GAAG,IAAI,CAACA,CAAC;YACjBsB,MAAM,CAACrB,EAAE,GAAG,IAAI,CAACA,EAAE;YACnBqB,MAAM,CAACpB,EAAE,GAAG,IAAI,CAACA,EAAE;YACnB,OAAOoB,MAAM;UACf;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACExF,QAAQA,CAACwF,MAAM,EAAE;YACf,IAAI,CAACjI,CAAC,GAAGiI,MAAM,CAACjI,CAAC;YACjB,IAAI,CAACC,CAAC,GAAGgI,MAAM,CAAChI,CAAC;YACjB,IAAI,CAACyG,CAAC,GAAGuB,MAAM,CAACvB,CAAC;YACjB,IAAI,CAACC,CAAC,GAAGsB,MAAM,CAACtB,CAAC;YACjB,IAAI,CAACC,EAAE,GAAGqB,MAAM,CAACrB,EAAE;YACnB,IAAI,CAACC,EAAE,GAAGoB,MAAM,CAACpB,EAAE;YACnB,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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AE,CAAC;UACP;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,CAAC,EAAE,CAAC;UACN;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,EAAE,EAAE,CAAC;UACP;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,CAAC,EAAE,CAAC;UACN;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,EAAE,EAAE,CAAC;UACP;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,CAAC,EAAE,CAAC;UACN;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,EAAE,EAAE,CAAC;UACP;AACA;AACA;AACA;AACA;UACEC,eAAe,EAAE,CAAC;UACpB;AACA;AACA;AACA;AACA;UACEC,aAAa,EAAE,EAAE;UACnB;AACA;AACA;AACA;AACA;UACEC,iBAAiB,EAAE,EAAE;UACvB;AACA;AACA;AACA;AACA;UACEC,gBAAgB,EAAE,EAAE;UACtB;AACA;AACA;AACA;AACA;AACA;UACEC,EAAE,EAAGC,GAAG,IAAK9B,EAAE,CAAC8B,GAAG,CAAC;UACtB;AACA;AACA;AACA;AACA;AACA;UACEC,EAAE,EAAGD,GAAG,IAAK7B,EAAE,CAAC6B,GAAG,CAAC;UACtB;AACA;AACA;AACA;AACA;AACA;UACEE,EAAE,EAAGF,GAAG,IAAK5B,EAAE,CAAC4B,GAAG,CAAC;UACtB;AACA;AACA;AACA;AACA;AACA;UACEG,EAAE,EAAGH,GAAG,IAAK3B,EAAE,CAAC2B,GAAG,CAAC;UACtB;AACA;AACA;AACA;AACA;AACA;AACA;UACEI,GAAG,EAAGtD,QAAQ,IAAK;YACjB,IAAIA,QAAQ,GAAG,CAAC,EAAE;cAChB,OAAOA,QAAQ,GAAG,EAAE;YACtB;YACA,OAAO,CAACA,QAAQ,GAAG,CAAC;UACtB,CAAC;UACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEjK,GAAG,EAAEA,CAACwN,cAAc,EAAEC,aAAa,KAAKh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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIW,GAAGA,CAAA,EAAG;YACR,OAAO,IAAI,CAACzL,CAAC;UACf;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI0L,MAAMA,CAAA,EAAG;YACX,OAAO,IAAI,CAAC1L,CAAC,GAAG,IAAI,CAAC+K,MAAM;UAC7B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEY,OAAOA,CAAA,EAAG;YACR,OAAO,IAAI,CAACJ,IAAI,KAAK,IAAI,CAACC,KAAK,IAAI,IAAI,CAACC,GAAG,KAAK,IAAI,CAACC,MAAM;UAC7D;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,WAAWE,KAAKA,CAAA,EAAG;YACjB,OAAO,IAAIP,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAClC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEjL,KAAKA,CAAA,EAAG;YACN,OAAO,IAAIiL,SAAS,CAAC,IAAI,CAACtL,CAAC,EAAE,IAAI,CAACC,CAAC,EAAE,IAAI,CAAC8K,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;UAC/D;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEc,cAAcA,CAACC,MAAM,EAAE;YACrB,IAAI,CAAC/L,CAAC,GAAG+L,MAAM,CAACC,IAAI;YACpB,IAAI,CAAC/L,CAAC,GAAG8L,MAAM,CAACE,IAAI;YACpB,IAAI,CAAClB,KAAK,GAAGgB,MAAM,CAACG,IAAI,GAAGH,MAAM,CAACC,IAAI;YACtC,IAAI,CAAChB,MAAM,GAAGe,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACE,IAAI;YACvC,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEzL,QAAQA,CAAC4L,SAAS,EAAE;YAClB,IAAI,CAACpM,CAAC,GAAGoM,SAAS,CAACpM,CAAC;YACpB,IAAI,CAACC,CAAC,GAAGmM,SAAS,CAACnM,CAAC;YACpB,IAAI,CAAC8K,KAAK,GAAGqB,SAAS,CAACrB,KAAK;YAC5B,IAAI,CAACC,MAAM,GAAGoB,SAAS,CAACpB,MAAM;YAC9B,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEtK,MAAMA,CAAC0L,SAAS,EAAE;YAChBA,SAAS,CAAC5L,QAAQ,CAAC,IAAI,CAAC;YACxB,OAAO4L,SAAS;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,QAAQA,CAACrM,CAAC,EAAEC,CAAC,EAAE;YACb,IAAI,IAAI,CAAC8K,KAAK,IAAI,CAAC,IAAI,IAAI,CAACC,MAAM,IAAI,CAAC,EAAE;cACvC,OAAO,KAAK;YACd;YACA,IAAIhL,CAAC,IAAI,IAAI,CAACA,CAAC,IAAIA,CAAC,GAAG,IAAI,CAACA,CAAC,GAAG,IAAI,CAAC+K,KAAK,EAAE;cAC1C,IAAI9K,CAAC,IAAI,IAAI,CAACA,CAAC,IAAIA,CAAC,GAAG,IAAI,CAACA,CAAC,GAAG,IAAI,CAAC+K,MAAM,EAAE;gBAC3C,OAAO,IAAI;cACb;YACF;YACA,OAAO,KAAK;UACd;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEsB,cAAcA,CAACtM,CAAC,EAAEC,CAAC,EAAEsM,WAAW,EAAEC,SAAS,G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A;YACI,IAAI,CAAC9O,IAAI,GAAG8O,QAAQ;YACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC7O,IAAI,GAAG,CAAC6O,QAAQ;YACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC5O,IAAI,GAAG,CAAC4O,QAAQ;YACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC/U,MAAM,GAAG6U,aAAa;YAC3B,IAAI,CAAC7O,IAAI,GAAGA,IAAI;YAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;YAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;YAChB,IAAI,CAACC,IAAI,GAAGA,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEP,OAAOA,CAAA,EAAG;YACR,OAAO,IAAI,CAACI,IAAI,GAAG,IAAI,CAACE,IAAI,IAAI,IAAI,CAACD,IAAI,GAAG,IAAI,CAACE,IAAI;UACvD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIC,SAASA,CAAA,EAAG;YACd,IAAI,CAAC,IAAI,CAAC4O,UAAU,EAAE;cACpB,IAAI,CAACA,UAAU,GAAG,IAAI1P,SAAS,CAAA,CAAE;YACnC;YACA,MAAMc,SAAS,GAAG,IAAI,CAAC4O,UAAU;YACjC,IAAI,IAAI,CAAChP,IAAI,GAAG,IAAI,CAACE,IAAI,IAAI,IAAI,CAACD,IAAI,GAAG,IAAI,CAACE,IAAI,EAAE;cAClDC,SAAS,CAACpM,CAAC,GAAG,CAAC;cACfoM,SAAS,CAACnM,CAAC,GAAG,CAAC;cACfmM,SAAS,CAACrB,KAA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AAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEqD,GAAGA,CAACC,QAAQ,EAAEC,QAAQ,GAAGD,QAAQ,EAAE;YACjC,IAAI,CAACjD,IAAI,IAAIiD,QAAQ;YACrB,IAAI,CAAC/C,IAAI,IAAI+C,QAAQ;YACrB,IAAI,CAAChD,IAAI,IAAIiD,QAAQ;YACrB,IAAI,CAAC/C,IAAI,IAAI+C,QAAQ;YACrB,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEI,IAAIA,CAAA,EAAG;YACL,IAAI,CAACtD,IAAI,GAAGhI,IAAI,CAACyL,KAAK,CAAC,IAAI,CAACzD,IAAI,CAAC;YACjC,IAAI,CAACC,IAAI,GAAGjI,IAAI,CAACyL,KAAK,CAAC,IAAI,CAACxD,IAAI,CAAC;YACjC,IAAI,CAACC,IAAI,GAAGlI,IAAI,CAACsL,IAAI,CAAC,IAAI,CAACpD,IAAI,CAAC;YAChC,IAAI,CAACC,IAAI,GAAGnI,IAAI,CAACsL,IAAI,CAAC,IAAI,CAACnD,IAAI,CAAC;YAChC,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE9L,KAAKA,CAAA,EAAG;YACN,OAAO,IAAIya,MAAM,CAAC,IAAI,CAAC9O,IAAI,EAAE,IAAI,CAACC,IAAI,EAAE,IAAI,CAACC,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC;UAC/D;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE3G,KAAKA,CAACxF,CAAC,EAAEC,CAAC,GAAGD,CAAC,EAAE;YACd,IAAI,CAACgM,IAAI,IAAIhM,CAAC;YACd,IAAI,CAACiM,IAAI,IAAIhM,CAAC;YACd,IAAI,CAACiM,IAAI,IAAIlM,CAAC;YACd,IAAI,CAACmM,IAAI,IAAIlM,CAAC;YACd,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAID,CAACA,CAAA,EAAG;YACN,OAAO,IAAI,CAACgM,IAAI;UAClB;UACA,IAAIhM,CAACA,CAACnC,KAAK,EAAE;YACX,MAAMkN,KAAK,GAAG,IAAI,CAACmB,IAAI,GAAG,IAAI,CAACF,IAAI;YACnC,IAAI,CAACA,IAAI,GAAGnO,KAAK;YACjB,IAAI,CAACqO,IAAI,GAAGrO,KAAK,GAAGkN,KAAK;UAC3B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI9K,CAACA,CAAA,EAAG;YACN,OAAO,IAAI,CAACgM,IAAI;UAClB;UACA,IAAIhM,CAACA,CAACpC,KAAK,EAAE;YACX,MAAMmN,MAAM,GAAG,IAAI,CAACmB,IAAI,GAAG,IAAI,CAACF,IAAI;YACpC,IAAI,CAACA,IAAI,GAAGpO,KAAK;YACjB,IAAI,CAACsO,IAAI,GAAGtO,KAAK,GAAGmN,MAAM;UAC5B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAID,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAACmB,IAAI,GAAG,IAAI,CAACF,IAAI;UAC9B;UACA,IAAIjB,KAAKA,CAAClN,KAAK,EAAE;YACf,IAAI,CAACqO,IAAI,GAAG,IAAI,CAACF,IAAI,GAAGnO,KAAK;UAC/B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAImN,MAAMA,CAAA,EAAG;YACX,OAAO,IAAI,CAACmB,IAAI,GAAG,IAAI,CAACF,IAAI;UAC9B;UACA,IAAIjB,MAAMA,CAACnN,KAAK,EAAE;YAChB,IAAI,CAACsO,IAAI,GAAG,IAAI,CAACF,IAAI,GAAGpO,KAAK;UAC/B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI2N,IAAIA,CAAA,EAAG;YACT,OAAO,IAAI,CAACQ,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIP,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAACS,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIR,GAAGA,CAAA,EAAG;YACR,OAAO,IAAI,CAACO,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIN,MAAMA,CAAA,EAAG;YACX,OAAO,IAAI,CAACQ,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIsP,UAAUA,CAAA,EAAG;YACf,OAAO,IAAI,CAACvP,IAAI,GAAG,IAAI,CAACF,IAAI,GAAG,CAAC,IAAI,IAAI,CAACG,IAAI,GAAG,IAAI,CAACF,IAAI,GAAG,CAAC;UAC/D;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIyP,OAAOA,CAAA,EAAG;YACZ,OAAO,IAAI,CAAC1P,IAAI,GAAG,IAAI,CAACC,IAAI,KAAK8O,QAAQ;UAC3C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEY,aAAaA,CAACC,UAAU,EAAEC,WAAW,EAAEC,SAAS,EAAE9V,MAAM,EAAE;YACxD,IAAIgG,IAAI,GAAG,IAAI,CAACA,IAAI;YACpB,IAAIC,IAAI,GAAG,IAAI,CAACA,IAAI;YACpB,IAAIC,IAAI,GAAG,IAAI,CAACA,IA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MAAM,CAAC;UAC5B;AACA;AACA;UACEvoB,WAAWA,CAACjC,KAAK,GAAG,QAAQ,EAAE;YAC5B,IAAI,CAACyqB,MAAM,GAAG,IAAI;YAClB,IAAI,CAACC,WAAW,GAAG,IAAIrjB,YAAY,CAAC,CAAC,CAAC;YACtC,IAAI,CAACqjB,WAAW,CAACC,IAAI,CAAC,CAAC,CAAC;YACxB,IAAI,CAACC,IAAI,GAAG,QAAQ;YACpB,IAAI,CAAC5qB,KAAK,GAAGA,KAAK;UACpB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI4nB,GAAGA,CAAA,EAAG;YACR,OAAO,IAAI,CAAC8C,WAAW,CAAC,CAAC,CAAC;UAC5B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIzG,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAACyG,WAAW,CAAC,CAAC,CAAC;UAC5B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIxJ,IAAIA,CAAA,EAAG;YACT,OAAO,IAAI,CAACwJ,WAAW,CAAC,CAAC,CAAC;UAC5B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI7J,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAAC6J,WAAW,CAAC,CAAC,CAAC;UAC5B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEG,QAAQA,CAAC7qB,KAAK,EAAE;YACd,IAAI,CAACA,KAAK,GAAGA,KAAK;YAClB,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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AI,CAAC1d,QAAQ,GAAG,IAAI;YACxB;YACA;YACA;YACA;YACI,IAAI,CAAC6kB,UAAU,GAAG,CAAA,CAAE;YACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAChL,cAAc,GAAG,IAAI1tB,MAAM,CAAA,CAAE;YACtC;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC8xB,sBAAsB,GAAG,IAAI9xB,MAAM,CAAA,CAAE;YAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC4xB,cAAc,GAAG,IAAI,CAACE,sBAAsB;YACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACxjB,SAAS,GAAG,KAAK;YAC1B;YACA;AACA;AACA;AACA;YACI,IAAI,CAAC8nB,SAAS,GAAG,IAAI/6B,eAAe,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;YACpD;AACA;AACA;AACA;YACI,IAAI,CAACkgC,MAAM,GAAGT,YAAY;YAC9B;AACA;AACA;AACA;YACI,IAAI,CAACU,MAAM,GAAGX,YAAY;YAC9B;AACA;AACA;AACA;AACA;YACI,IAAI,CAACY,OAAO,GAAGV,aAAa;YAChC;AACA;AACA;AACA;YACI,IAAI,CAACW,KAAK,GAAGd,WAAW;YAC5B;AACA;AACA;AACA;AACA;YACI,IAAI,CAACe,GAAG,GAAG,CAAC;YAChB;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,GAAG,GAAG,CAAC;YAChB;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,GAAG,GAAG,CAAC;YAChB;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,GAAG,GAAG,CAAC;YAChB;AACA;AACA;AACA;YACI,IAAI,CAACC,SAAS,GAAG,CAAC;YACtB;YACA;YACA;YACI,IAAI,CAAC/H,UAAU,GAAG,QAAQ;YAC9B;YACI,IAAI,CAACgI,UAAU,GAAG,CAAC;YACvB;YACI,IAAI,CAACC,UAAU,GAAG,CAAC;YACvB;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YACrG;YACA,OAAO,IAAI,CAACuP,eAAe;UAC7B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIlhC,CAACA,CAAA,EAAG;YACN,OAAO,IAAI,CAAC46B,SAAS,CAAC56B,CAAC;UACzB;UACA,IAAIA,CAACA,CAACnC,KAAK,EAAE;YACX,IAAI,CAAC+8B,SAAS,CAAC56B,CAAC,GAAGnC,KAAK;UAC1B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIoC,CAACA,CAAA,EAAG;YACN,OAAO,IAAI,CAAC26B,SAAS,CAAC36B,CAAC;UACzB;UACA,IAAIA,CAACA,CAACpC,KAAK,EAAE;YACX,IAAI,CAAC+8B,SAAS,CAAC36B,CAAC,GAAGpC,KAAK;UAC1B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI2J,QAAQA,CAAA,EAAG;YACb,OAAO,IAAI,CAACozB,SAAS;UACvB;UACA,IAAIpzB,QAAQA,CAAC3J,KAAK,EAAE;YAClB,IAAI,CAAC+8B,SAAS,CAACp6B,QAAQ,CAAC3C,KAAK,CAAC;UAChC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI+I,QAAQA,CAAA,EAAG;YACb,OAAO,IAAI,CAAC25B,SAAS;UACvB;UACA,IAAI35B,QAAQA,CAAC/I,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC0iC,SAAS,KAAK1iC,KAAK,EAAE;cAC5B,IAAI,CAAC0iC,SAAS,GAAG1iC,KAAK;cACtB,IAAI,CAAC0C,SAAS,CAAC,IAAI,CAAC2/B,KAAK,CAAC;YAC5B;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIx6B,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,SAAS,GAAG,CAAC;YACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,QAAQ,GAAG,CAAA,CAAE;YACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,KAAK,GAAG,CAAC;YAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACC,OAAO,GAAG,KAAK;YACxB;YACI,IAAI,CAACC,UAAU,GAAG,IAAI;YAC1B;AACA;AACA;AACA;YACI,IAAI,CAACC,aAAa,GAAG,GAAG;YAC5B;AACA;AACA;AACA;YACI,IAAI,CAACC,aAAa,GAAG,CAAC;YAC1B;YACI,IAAI,CAACC,UAAU,GAAG,KAAK;YAC3B;YACI,IAAI,CAACC,UAAU,GAAG,CAAA,CAAE;YACpB,IAAI,CAACC,KAAK,GAAG,IAAItB,cAAc,CAAC,IAAI,EAAE,IAAI,EAAEttB,QAAQ,CAAC;YACrD,IAAI,CAAC6uB,OAAO,GAAG,CAAC,GAAGZ,OAAO,CAACa,UAAU;YACrC,IAAI,CAACC,SAAS,GAAG,CAAC,GAAGd,OAAO,CAACa,UAAU;YACvC,IAAI,CAACE,KAAK,GAAIC,IAAI,IAAK;cACrB,IAAI,CAACV,UAAU,GAAG,IAAI;cACtB,IAAI,IAAI,CAACD,OAAO,EAAE;gBAChB,IAAI,CAACr1B,MAAM,CAACg2B,IAAI,CAAC;gBACjB,IAAI,IAAI,CAACX,OAAO,IAAI,IAAI,CAACC,UAAU,KAAK,IAAI,IAAI,IAAI,CAACK,KAAK,CAACrB,IAAI,EAAE;kBAC/D,IAAI,CAACgB,UAAU,GAAGW,qBAAqB,CAAC,IAAI,CAACF,KAAK,CAAC;gBACrD;cACF;YACF,CAAC;UACH;UACF;AACA;AACA;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ACpB,IAAI,CAAC+B,eAAe,CAAA,CAAE;YACxB;YACA,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI7O,KAAKA,CAAA,EAAG;YACV,IAAI,CAAC,IAAI,CAACmO,KAAK,EAAE;cACf,OAAO,CAAC;YACV;YACA,IAAInO,KAAK,GAAG,CAAC;YACb,IAAIpD,OAAO,GAAG,IAAI,CAACuR,KAAK;YACxB,OAAOvR,OAAO,GAAGA,OAAO,CAACkQ,IAAI,EAAE;cAC7B9M,KAAK,EAAE;YACT;YACA,OAAOA,KAAK;UACd;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEgP,KAAKA,CAAA,EAAG;YACN,IAAI,CAAC,IAAI,CAACnB,OAAO,EAAE;cACjB,IAAI,CAACA,OAAO,GAAG,IAAI;cACnB,IAAI,CAACa,gBAAgB,CAAA,CAAE;YACzB;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEU,IAAIA,CAAA,EAAG;YACL,IAAI,IAAI,CAACvB,OAAO,EAAE;cAChB,IAAI,CAACA,OAAO,GAAG,KAAK;cACpB,IAAI,CAACgB,eAAe,CAAA,CAAE;YACxB;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEn2B,OAAOA,CAAA,EAAG;YACR,IAAI,CAAC,IAAI,CAACu1B,UAAU,EAAE;cACpB,IAAI,CAACmB,IAAI,CAAA,CAAE;cACX,IAAIjpC,QAAQ,GAAG,IAAI,CAACgoC,KAAK,CAACrB,IAAI;cAC9B,OAAO3mC,QAAQ,EAAE;gBACfA,QAAQ,GAAGA,QAAQ,CAACuS,OAAO,CAAC,IAAI,CAAC;cACnC;cACA,IAAI,CAACy1B,KAAK,CAACz1B,OAAO,CAAA,CAAE;cACpB,IAAI,CAACy1B,KAAK,GAAG,IAAI;YACnB;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE31B,MAAMA,CAAC62B,WAAW,GAAGV,WAAW,CAACC,GAAG,EAAE,EAAE;YACtC,IAAIN,SAAS;YACb,IAAIe,WAAW,GAAG,IAAI,CAAC1B,QAAQ,EAAE;cAC/BW,SAAS,GAAG,IAAI,CAACA,SAAS,GAAGe,WAAW,GAAG,IAAI,CAAC1B,QAAQ;cACxD,IAAIW,SAAS,GAAG,IAAI,CAACP,aAAa,EAAE;gBAClCO,SAAS,GAAG,IAAI,CAACP,aAAa;cAChC;cACAO,SAAS,IAAI,IAAI,CAACV,KAAK;cACvB,IAAI,IAAI,CAACI,aAAa,EAAE;gBACtB,MAAMpiC,KAAK,GAAGyjC,WAAW,GAAG,IAAI,CAACnB,UAAU,GAAG,CAAC;gBAC/C,IAAItiC,KAAK,GAAG,IAAI,CAACoiC,aAAa,EAAE;kBAC9B;gBACF;gBACA,IAAI,CAACE,UAAU,GAAGmB,WAAW,GAAGzjC,KAAK,GAAG,IAAI,CAACoiC,aAAa;cAC5D;cACA,IAAI,CAACI,OAAO,GAAGE,SAAS;cACxB,IAAI,CAACZ,SAAS,GAAG,IAAI,CAACU,OAAO,GAAGZ,OAAO,CAACa,UAAU;cAClD,MAAMiB,IAAI,GAAG,IAAI,CAACnB,KAAK;cACvB,IAAIhoC,QAAQ,GAAGmpC,IAAI,CAACxC,IAAI;cACxB,OAAO3mC,QAAQ,EAAE;gBACfA,QAAQ,GAAGA,QAAQ,CAACmB,IAAI,CAAC,IAAI,CAAC;cAChC;cACA,IAAI,CAACgoC,IAAI,CAACxC,IAAI,EAAE;gBACd,IAAI,CAAC+B,eAAe,CAAA,CAAE;cACxB;YACF,CAAC,MAAM;cACL,IAAI,CAACnB,SAAS,GAAG,IAAI,CAACU,OAAO,GAAG,IAAI,CAACE,SAAS,GAAG,CAAC;YACpD;YACA,IAAI,CAACX,QAAQ,GAAG0B,WAAW;UAC7B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIE,GAAGA,CAAA,EAAG;YACR,OAAO,GAAG,GAAG,IAAI,CAACjB,SAAS;UAC7B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIkB,MAAMA,CAAA,EAAG;YACX,OAAO,GAAG,GAAG,IAAI,CAACzB,aAAa;UACjC;UACA,IAAIyB,MAAMA,CAACC,GAAG,EAAE;YACd,MAAMD,MAAM,GAAGhnC,IAAI,CAACmK,GAAG,CAAC,IAAI,CAAC+8B,MAAM,EAAED,GAAG,CAAC;YACzC,MAAME,OAAO,GAAGnnC,IAAI,CAACmK,GAAG,CAACnK,IAAI,CAACkK,GAAG,CAAC,CAAC,EAAE88B,MAAM,CAAC,GAAG,GAAG,EAAEhC,OAAO,CAACa,UAAU,CAAC;YACvE,IAAI,CAACN,aAAa,GAAG,CAAC,GAAG4B,OAAO;UAClC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAID,MAAMA,CAAA,EAAG;YACX,IAAI,IAAI,CAAC1B,aAAa,EAAE;cACtB,OAAOxlC,IAAI,CAAC4S,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC4yB,aAAa,CAAC;YAC7C;YACA,OAAO,CAAC;UACV;UACA,IAAI0B,MAAMA,CAACD,GAAG,EAAE;YACd,IAAIA,GAAG,KAAK,CAAC,EAAE;cACb,IAAI,CAACzB,aAAa,GAAG,CAAC;YACxB,CAAC,MAAM;cACL,MAAM0B,MAAM,GAAGlnC,IAAI,CAACkK,GAAG,CAAC,IAAI,CAAC88B,MAAM,EAAEC,GAAG,CAAC;cACzC,IAAI,CAACzB,aAAa,GAAG,CAAC,IAAI0B,MAAM,GAAG,GAAG,CAAC;YACzC;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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M,CAAC,EAAE;cACnF,IAAI,CAACud,IAAI,GAAG,IAAI,CAACvd,MAAM,GAAG,IAAI,CAAC+rB,OAAO,CAACmB,eAAe,CAAC,IAAI,CAACltB,MAAM,CAAC,GAAG,EAAE;YAC1E;YACA,OAAO,IAAI,CAACud,IAAI;UAClB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE4P,SAASA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,EAAE;YACtC,MAAM,IAAIvoD,KAAK,CAAC,qFAAqF,CAAC;UACxG;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEwoD,WAAWA,CAACC,QAAQ,EAAEC,WAAW,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,UAAU,EAAE;YACvE,MAAM,IAAI7oD,KAAK,CAAC,uFAAuF,CAAC;UAC1G;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE8oD,cAAcA,CAAA,EAAG;YACf,IAAI,IAAI,CAACC,WAAW,YAAYC,KAAK,IAAI,IAAI,CAACD,WAAW,CAAC5B,UAAU,EAAE;cACpE,IAAI,CAAC4B,WAAW,CAACD,cAAc,CAAA,CAAE;YACnC;YACA,IAAI,CAACzB,gBAAgB,GAAG,IAAI;UAC9B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE4B,wBAAwBA,CAAA,EAAG;YACzB,IAAI,CAACzB,6BAA6B,GAAG,IAAI;UAC3C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE0B,eAAeA,CAAA,EAAG;YAChB,IAAI,CAAC3B,kBAAkB,GAAG,IAAI;UAChC;QACF;QClMA,IAAI4B,WAAW,GAAG,SAAS;QAC3B,IAAIC,SAAS,GAAG,OAAO;QACvB,IAAIC,WAAW,GAAG,OAAO;QACzB,IAAIC,cAAc,GAAG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A,YAAY,CAAC;UACtClpE,WAAWA,CAAC,GAAGwD,IAAI,EAAE;YACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAAC2lE,KAAK,GAAG,IAAItpC,SAAS,CAAA,CAAE;YAC5B,IAAIr8B,IAAI,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE;cACtBkN,WAAW,CAACL,MAAM,EAAE,wFAAwF,CAAC;YAC/G;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,MAAM3H,IAAIA,CAAC2J,OAAO,EAAE;YAClBA,OAAO,GAAAzW,aAAA,KAAQyW,OAAO,CAAE;YACxB,IAAI,CAACmgB,QAAQ,GAAG,MAAMs1C,kBAAkB,CAACz1D,OAAO,CAAC;YACjD62D,YAAY,CAACE,QAAQ,CAAC3sE,OAAO,CAAE4sE,MAAM,IAAK;cACxCA,MAAM,CAAC3gE,IAAI,CAAC9L,IAAI,CAAC,IAAI,EAAEyV,OAAO,CAAC;YACjC,CAAC,CAAC;UACJ;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEsyD,MAAMA,CAAA,EAAG;YACP,IAAI,CAACnyC,QAAQ,CAACmyC,MAAM,CAAC;cAAErrC,SAAS,EAAE,IAAI,CAAC6vC;aAAO,CAAC;UACjD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIzjC,MAAMA,CAAA,EAAG;YACX,OAAO,IAAI,CAAClT,QAAQ,CAACkT,MAAM;UAC7B;UACF;AACA;AACA;AACA;AACA;AACA;UACE,IAAIikB,IAAIA,CAAA,EAAG;YACTj5C,WAAW,CAACL,MAAM,EAAE,wEAAwE,CAAC;YAC7F,OAAO,IAAI,CAACmiB,QAAQ,CAACkT,MAAM;UAC7B;U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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI,IAAI,CAACn7E,IAAI,GAAG,SAAS;YACrB,IAAI,CAACuE,CAAC,GAAGA,CAAC;YACV,IAAI,CAACC,CAAC,GAAGA,CAAC;YACV,IAAI,CAAC02E,SAAS,GAAGA,SAAS;YAC1B,IAAI,CAACC,UAAU,GAAGA,UAAU;UAC9B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEv2E,KAAKA,CAAA,EAAG;YACN,OAAO,IAAIq2E,OAAO,CAAC,IAAI,CAAC12E,CAAC,EAAE,IAAI,CAACC,CAAC,EAAE,IAAI,CAAC02E,SAAS,EAAE,IAAI,CAACC,UAAU,CAAC;UACrE;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEvqE,QAAQA,CAACrM,CAAC,EAAEC,CAAC,EAAE;YACb,IAAI,IAAI,CAAC02E,SAAS,IAAI,CAAC,IAAI,IAAI,CAACC,UAAU,IAAI,CAAC,EAAE;cAC/C,OAAO,KAAK;YACd;YACA,IAAIC,KAAK,GAAG,CAAC72E,CAAC,GAAG,IAAI,CAACA,CAAC,IAAI,IAAI,CAAC22E,SAAS;YACzC,IAAIG,KAAK,GAAG,CAAC72E,CAAC,GAAG,IAAI,CAACA,CAAC,IAAI,IAAI,CAAC22E,UAAU;YAC1CC,KAAK,IAAIA,KAAK;YACdC,KAAK,IAAIA,KAAK;YACd,OAAOD,KAAK,GAAGC,KAAK,IAAI,CAAC;UAC3B;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACExqE,cAAcA,CAACtM,CAAC,EAAEC,CAAC,EAAEsM,WAAW,EAAEC,SAAS,GAAG,GAAG,EAAE;YACjD,MAAM;cAAEmqE,SAAS;cAAEC;YAAU,CAAE,G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AM,GAAGA,MAAM;YACpB,IAAI,CAACurE,MAAM,GAAGA,MAAM;UACtB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE5mE,SAASA,CAAC1K,GAAG,EAAE;YACbA,GAAG,KAAKA,GAAG,GAAG,IAAIqG,SAAS,EAAE,CAAC;YAC9BrG,GAAG,CAACjF,CAAC,GAAG,IAAI,CAACA,CAAC;YACdiF,GAAG,CAAChF,CAAC,GAAG,IAAI,CAACA,CAAC;YACdgF,GAAG,CAAC8F,KAAK,GAAG,IAAI,CAACA,KAAK;YACtB9F,GAAG,CAAC+F,MAAM,GAAG,IAAI,CAACA,MAAM;YACxB,OAAO/F,GAAG;UACZ;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE5E,KAAKA,CAAA,EAAG;YACN,OAAO,IAAIs5E,gBAAgB,CAAC,IAAI,CAAC35E,CAAC,EAAE,IAAI,CAACC,CAAC,EAAE,IAAI,CAAC8K,KAAK,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACurE,MAAM,CAAC;UACnF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE/1E,QAAQA,CAAC4L,SAAS,EAAE;YAClB,IAAI,CAACpM,CAAC,GAAGoM,SAAS,CAACpM,CAAC;YACpB,IAAI,CAACC,CAAC,GAAGmM,SAAS,CAACnM,CAAC;YACpB,IAAI,CAAC8K,KAAK,GAAGqB,SAAS,CAACrB,KAAK;YAC5B,IAAI,CAACC,MAAM,GAAGoB,SAAS,CAACpB,MAAM;YAC9B,OAAO,IAAI;UACb;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEtK,MAAMA,CAAC0L,SAAS,EAAE;YAChBA,SAAS,CAAC5L,QAAQ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AC;cACrDprD,KAAK,IAAIk1F,iBAAiB,CAACv/G,MAAM;cACjC,OAAO,IAAI,CAACm/G,iBAAiB,CAACG,aAAa,EAAED,WAAW,CAAC,CAAC3iH,IAAI,CAAE8iH,cAAc,IAAK;gBACjFj9G,GAAG,CAACwyC,QAAQ,CAAC,GAAGyqE,cAAc;cAChC,CAAC,CAAC;YACJ,CAAC,CAAC;YACF,MAAMhjH,OAAO,CAACuhD,GAAG,CAACH,QAAQ,CAAC;YAC3B,OAAO/E,WAAW,GAAGt2C,GAAG,CAACq1C,SAAS,CAAC,CAAC,CAAC,CAAC,GAAGr1C,GAAG;UAC9C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,MAAMk9G,cAAcA,CAACT,IAAI,EAAE;YACzB,IAAI,CAAC,IAAI,CAACjuF,YAAY,EAAE;cACtB,MAAM,IAAI,CAACjrB,IAAI,CAAA,CAAE;YACnB;YACA,IAAI,OAAOk5G,IAAI,KAAK,QAAQ,EAAE;cAC5BA,IAAI,GAAG,CAACA,IAAI,CAAC;YACf;YACA,MAAME,cAAc,GAAG,IAAI,CAACviE,QAAQ,CAAClgD,OAAO,CAACuiH,IAAI,CAAC;YAClD,IAAI,CAACb,iBAAiB,CAAClkH,GAAG,CAAC+B,MAAM,CAAC8nE,MAAM,CAACo7C,cAAc,CAAC,CAAC;UAC3D;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,MAAMQ,oB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CzB,IAAI,CAAC9O,aAAa,GAAG,KAAK;YAC1B,IAAI,CAAC8T,WAAW,GAAGA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI,KAAK;UACzC;UACA,IAAI7hC,OAAOA,CAACA,OAAO,EAAE;YACnB,IAAIA,OAAO,KAAK,IAAI,CAACqnC,QAAQ,EAC3B;YACF,IAAI,CAACA,QAAQ,CAAC7kC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACs/B,YAAY,EAAE,IAAI,CAAC;YACpD,IAAI,CAACuF,QAAQ,GAAGrnC,OAAO;YACvB,IAAI,CAACqnC,QAAQ,CAAC/kC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAACw/B,YAAY,EAAE,IAAI,CAAC;YACnD,IAAI,CAACA,YAAY,CAAA,CAAE;UACrB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI9hC,OAAOA,CAAA,EAAG;YACZ,OAAO,IAAI,CAACqnC,QAAQ;UACtB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI38B,MAAMA,CAAA,EAAG;YACX,OAAO,IAAI,CAAC28B,QAAQ,CAAC38B,MAAM;UAC7B;UACF;AACA;AACA;AACA;UACEk3B,YAAYA,CAAA,EAAG,CACf;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEhnB,aAAaA,CAACye,KAAK,EAAE;YACnB,OAAO,IAAI,CAACgO,QAAQ,CAACzsB,aAAa,CAACye,KAAK,CAAC;UAC3C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACExmB,OAAOA,CAAC/B,OAAO,EAAE;YACf,IAAI,IAAI,CAACsoH,aAAa,IAAI,CAACtoH,OAAO,EAAE;cAClC,IAAI,CAACsoH,aAAa,CAACvmH,OAAO,CAAC/B,OAAO,CAAC;YACrC,CAAC,MAAM,IAAIA,OAAO,KAAK,IAAI,IAAI,CAAAA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE9Q,OAAO,MAAK,IAAI,EAAE;cACxD,IAAI,CAACqnC,QAAQ,CAACx0B,OAAO,CAAC/B,OAAO,CAAC;YAChC;YACA,IAAI,CAACsoH,aAAa,GAAG,IAAI;YACzB,IAAI,CAAC/xF,QAAQ,GAAG,IAAI;YACpB,KAAK,CAACx0B,OAAO,CAAC/B,OAAO,CAAC;UACxB;UACAuoH,kBAAkBA,CAACC,MAAM,EAAEr3H,IAAI,EAAE;YAC/B,IAAI,CAACjC,OAAO,CAACs5H,MAAM,CAAC,CAAC,GAAGr3H,IAAI,CAAC;YAC7B,OAAO,IAAI;UACb;UACF;UACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEygG,YAAYA,CAAC,GAAGzgG,IAAI,EAAE;YACpB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,cAAc,EAAEp3H,IAAI,CAAC;UACtD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE0gG,cAAcA,CAAC,GAAG1gG,IAAI,EAAE;YACtB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,gBAAgB,EAAEp3H,IAAI,CAAC;UACxD;UACAklB,IAAIA,CAAC,GAAGllB,IAAI,EAAE;YACZ,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,MAAM,EAAEp3H,IAAI,CAAC;UAC9C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEq8F,MAAMA,CAAC,GAAGr8F,IAAI,EAAE;YACd,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,QAAQ,EAAEp3H,IAAI,CAAC;UAChD;UACAuU,OAAOA,CAAC,GAAGvU,IAAI,EAAE;YACf,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,SAAS,EAAEp3H,IAAI,CAAC;UACjD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE++F,SAASA,CAAA,EAAG;YACV,OAAO,IAAI,CAACq4B,kBAAkB,CAAC,WAAW,EAAE,EAAE,CAAC;UACjD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEn4B,GAAGA,CAAA,EAAG;YACJ,OAAO,IAAI,CAACm4B,kBAAkB,CAAC,KAAK,EAAE,EAAE,CAAC;UAC3C;UACAngC,GAAGA,CAAC,GAAGj3F,IAAI,EAAE;YACX,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,KAAK,EAAEp3H,IAAI,CAAC;UAC7C;UACAs4F,KAAKA,CAAC,GAAGt4F,IAAI,EAAE;YACb,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,OAAO,EAAEp3H,IAAI,CAAC;UAC/C;UACA4yE,QAAQA,CAAC,GAAG5yE,IAAI,EAAE;YAChB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,UAAU,EAAEp3H,IAAI,CAAC;UAClD;UACAwyE,aAAaA,CAAC,GAAGxyE,IAAI,E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AAI,CAACtjG,OAAO,CAACsjG,YAAY,CAAA,CAAE;UACpC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEC,cAAcA,CAAA,EAAG;YACf,OAAO,IAAI,CAAC81B,kBAAkB,CAAC,gBAAgB,EAAE,EAAE,CAAC;UACtD;UACAE,eAAeA,CAAC,GAAGt3H,IAAI,EAAE;YACvB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,QAAQ,EAAEp3H,IAAI,CAAC;UAChD;UACAu3H,cAAcA,CAAC,GAAGv3H,IAAI,EAAE;YACtB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,OAAO,EAAEp3H,IAAI,CAAC;UAC/C;UACAiD,YAAYA,CAAC,GAAGjD,IAAI,EAAE;YACpB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,cAAc,EAAEp3H,IAAI,CAAC;UACtD;UACA2D,SAASA,CAAC,GAAG3D,IAAI,EAAE;YACjB,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,WAAW,EAAEp3H,IAAI,CAAC;UACnD;UACAw3H,kBAAkBA,CAAC,GAAGx3H,IAAI,EAAE;YAC1B,OAAO,IAAI,CAACo3H,kBAAkB,CAAC,WAAW,EAAEp3H,IAAI,CAAC;UACnD;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE2X,KAAKA,CAAA,EAAG;YACN,OAAO,IAAI,CAACy/G,kBAAkB,CAAC,OAAO,EAAE,EAAE,CAAC;UAC7C;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAI3mD,SAASA,CAAA,EAAG;YACd,OAAO,IAAI,CAACrrC,QAAQ,CAACqrC,SAAS;UAChC;UACA,IAAIA,SAASA,CAACl2E,KAAK,EAAE;YACnB,IAAI,CAAC6qC,QAAQ,CAACqrC,SAAS,GAAGl2E,KAAK;UACjC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIiiG,WAAWA,CAAA,EAAG;YAChB,OAAO,IAAI,CAACp3D,QAAQ,CAACo3D,WAAW;UAClC;UACA,IAAIA,WAAWA,CAACjiG,KAAK,EAAE;YACrB,IAAI,CAAC6qC,QAAQ,CAACo3D,WAAW,GAAGjiG,KAAK;UACnC;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEwC,KAAKA,CAAC60B,IAAI,GAAG,KAAK,EAAE;YAClB,IAAIA,IAAI,EAAE;cACR,OAAO,IAAIolG,QAAQ,CAAC,IAAI,CAAC5xF,QAAQ,CAACroC,KAAK,CAAA,CAAE,CAAC;YAC5C;YACA,IAAI,CAACo6H,aAAa,GAAG,IAAI;YACzB,MAAMp6H,KAAK,GAAG,IAAIi6H,QAAQ,CAAC,IAAI,CAAC5xF,QAAQ,CAAC;YACzC,OAAOroC,KAAK;UACd;UACF;UACA;AACA;AACA;AACA;AACA;AACA;UACE8tF,SAASA,CAACpjF,KAAK,EAAEmgB,KAAK,EAAExM,KAAK,EAAE;YAC7BlO,WAAW,CAACL,MAAM,EAAE,8FAA8F,CAAC;YACnH,MAAM2vF,WAAW,GAAG,CAAA,CAAE;YACtB/0F,KAAK,KAAK+0F,WAAW,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ClC,IAAI,CAACC,MAAM,GAAGA,MAAM;YACpB,IAAI,CAACM,YAAY,GAAG,CAAC;YACrB,IAAI,CAACC,QAAQ,GAAG,KAAK;YACrB,IAAI,CAACC,cAAc,GAAG,IAAI;YAC1B,IAAI,CAAChgG,QAAQ,GAAGA,QAAQ;YACxB,IAAIwR,QAAQ,EAAE;cACZ,IAAI,CAACmC,IAAI,CAAA,CAAE;YACb;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACExF,IAAIA,CAAA,EAAG;YACL,IAAI,CAAC,IAAI,CAAC4xF,QAAQ,EAAE;cAClB;YACF;YACA,IAAI,CAACA,QAAQ,GAAG,KAAK;YACrB,IAAI,IAAI,CAAC5uF,WAAW,IAAI,IAAI,CAACC,oBAAoB,EAAE;cACjDtC,MAAM,CAAClnC,MAAM,CAACjI,MAAM,CAAC,IAAI,CAAC4X,MAAM,EAAE,IAAI,CAAC;cACvC,IAAI,CAAC65B,oBAAoB,GAAG,KAAK;YACnC;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEuC,IAAIA,CAAA,EAAG;YACL,IAAI,IAAI,CAACosF,QAAQ,EAAE;cACjB;YACF;YACA,IAAI,CAACA,QAAQ,GAAG,IAAI;YACpB,IAAI,IAAI,CAAC5uF,WAAW,IAAI,CAAC,IAAI,CAACC,oBAAoB,EAAE;cAClDtC,MAAM,CAAClnC,MAAM,CAAC1H,GAAG,CAAC,IAAI,CAACqX,MAAM,EAAE,IAAI,EAAEm0B,eAAe,CAACka,IAAI,CAAC;cAC1D,IAAI,CAACxU,oBAAoB,GAAG,IAAI;YAClC;UACF;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIsvE,IAAIA,CAACtvE,KAAK,EAAE;YACdA,KAAK,GAAGA,KAAK,CAAC+C,QAAQ,CAAA,CAAE;YACxB,IAAI,IAAI,CAACi9H,KAAK,KAAKhgI,KAAK,EACtB;YACF,IAAI,CAACggI,KAAK,GAAGhgI,KAAK;YAClB,IAAI,CAACslC,YAAY,CAAA,CAAE;UACrB;UACA,IAAIgqC,IAAIA,CAAA,EAAG;YACT,OAAO,IAAI,CAAC0wD,KAAK;UACnB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAItuH,UAAUA,CAAC1R,KAAK,EAAE;YACpB,IAAI,CAAC6/H,eAAe,GAAG7/H,KAAK,KAAK,IAAI;YACrC,IAAI,CAAC0W,WAAW,GAAG1W,KAAK;YACxB,IAAI,CAACslC,YAAY,CAAA,CAAE;UACrB;UACA,IAAI5zB,UAAUA,CAAA,EAAG;YACf,OAAO,IAAI,CAACgF,WAAW;UACzB;UACA,IAAIoB,KAAKA,CAAA,EAAG;YACV,OAAO,IAAI,CAACE,MAAM;UACpB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACE,IAAIF,KAAKA,CAACA,KAAK,EAAE;YAAA,IAAAmoH,aAAA;YACfnoH,KAAK,KAAKA,KAAK,GAAG,EAAE,CAAC;YACrB,CAAAmoH,aAAA,OAAI,CAACjoH,MAAM,cAAAioH,aAAA,eAAXA,aAAA,CAAaj6H,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACs/B,YAAY,EAAE,IAAI,CAAC;YACnD,IAAIxtB,KAAK,YAAY,IAAI,CAACioH,WAAW,EAAE;cACrC,IAAI,C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,WAAW,CAACzqI,OAAO,CAAA,CAAE;cACrB,IAAI,CAACqxI,gBAAgB,CAACxzI,GAAG,CAAC,GAAG,IAAI;YACnC;YACA,IAAI,CAACwzI,gBAAgB,GAAG,IAAI;YAC5B,IAAI,CAACC,oBAAoB,GAAG,IAAI;YAChC,IAAI,CAACpS,cAAc,GAAG,IAAI;YAC1B,IAAI,CAAC/xF,SAAS,GAAG,IAAI;YACrB,IAAI,CAAC+lB,GAAG,GAAG,IAAI;UACjB;UACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEs+E,mBAAmBA,CAAC5oE,MAAM,EAAEyhE,YAAY,EAAE;YACxC,OAAOD,sBAAsB,CAACxhE,MAAM,EAAEyhE,YAAY,CAAC;UACrD;UACA13E,UAAUA,CAAA,EAAG;YACX,IAAI,CAACusE,cAAc,GAAG,IAAI;UAC5B;QACF;QACA;QACAkS,cAAc,CAAChqJ,SAAS,GAAG;UACzBG,IAAI,EAAE,CACJP,aAAa,CAACgyD,WAAA,CACf;UACD1vD,IAAI,EAAE;QACR,CAAC;QCrID,MAAMwoJ,yBAAyB,GAAG;UAChCzzF,GAAG,EAAE;AACP;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,UAAU;UACRI,GAAG,EAAE;AACP;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,UAAU;UACRC,GAAG,EAAE;AACP;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA,UAAU;UACR,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,UAAU;UACRC,IAAI,EAAE;AACR;AACA;AACA,UAAU;UACR,YAAY,EAAE;AAChB;AACA;AACA;AACA,U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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448]}